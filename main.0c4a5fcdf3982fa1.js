"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[179],{7128:(en,Ke,j)=>{j.d(Ke,{nm:()=>ur});var _=j(5813),fe=(j(4650),j(3692),j(5867),j(5861)),Ae=j(9681),Re=j(4859),ke=j(2090),Ue=j(1877);const le=new Map,te={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function _t(Oe){return le.get(Oe)||te}function Ye(Oe,Me){le.set(Oe,Me)}function et(){return ve}class ct{constructor(Me,He,mt,xt,tn){if(this.operation=Me,this.retryPolicy=He,this.getWaitDuration=mt,this.lowerBound=xt,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=xt,xt>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Me){var He=this;return(0,fe.Z)(function*(){He.stop();try{He.pending=new ke.BH,yield function ot(Oe){return new Promise(Me=>{setTimeout(Me,Oe)})}(He.getNextRun(Me)),He.pending.resolve(),yield He.pending.promise,He.pending=new ke.BH,yield He.operation(),He.pending.resolve(),yield He.pending.promise,He.process(!0).catch(()=>{})}catch(mt){He.retryPolicy(mt)?He.process(!1).catch(()=>{}):He.stop()}})()}getNextRun(Me){if(Me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const He=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),He}}}const ae=new ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(Oe){if(!_t(Oe).activated)throw ae.create("use-before-activation",{appName:Oe.name})}function Te(Oe,Me){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,fe.Z)(function*({url:Oe,body:Me},He){var mt,xt;const tn={"Content-Type":"application/json"},Jn=He.getImmediate({optional:!0});if(Jn){const ns=yield Jn.getHeartbeatsHeader();ns&&(tn["X-Firebase-Client"]=ns)}const Pr={method:"POST",body:JSON.stringify(Me),headers:tn};let Pn,Ci;try{Pn=yield fetch(Oe,Pr)}catch(ns){throw ae.create("fetch-network-error",{originalErrorMessage:null===(mt=ns)||void 0===mt?void 0:mt.message})}if(200!==Pn.status)throw ae.create("fetch-status-error",{httpStatus:Pn.status});try{Ci=yield Pn.json()}catch(ns){throw ae.create("fetch-parse-error",{originalErrorMessage:null===(xt=ns)||void 0===xt?void 0:xt.message})}const gs=Ci.ttl.match(/^([\d.]+)(s)$/);if(!gs||!gs[2]||isNaN(Number(gs[1])))throw ae.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ci.ttl}`});const As=1e3*Number(gs[1]),Zs=Date.now();return{token:Ci.token,expireTimeMillis:Zs+As,issuedAtTimeMillis:Zs}})).apply(this,arguments)}function on(Oe,Me){const{projectId:He,appId:mt,apiKey:xt}=Oe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${He}/apps/${mt}:exchangeDebugToken?key=${xt}`,body:{debug_token:Me}}}const Bt="firebase-app-check-store";let Sn=null;function tr(){return Sn||(Sn=new Promise((Oe,Me)=>{var He;try{const mt=indexedDB.open("firebase-app-check-database",1);mt.onsuccess=xt=>{Oe(xt.target.result)},mt.onerror=xt=>{var tn;Me(ae.create("storage-open",{originalErrorMessage:null===(tn=xt.target.error)||void 0===tn?void 0:tn.message}))},mt.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(Bt,{keyPath:"compositeKey"})}}catch(mt){Me(ae.create("storage-open",{originalErrorMessage:null===(He=mt)||void 0===He?void 0:He.message}))}}),Sn)}function gr(){return(gr=(0,fe.Z)(function*(Oe,Me){const mt=(yield tr()).transaction(Bt,"readwrite"),tn=mt.objectStore(Bt).put({compositeKey:Oe,value:Me});return new Promise((Jn,Pr)=>{tn.onsuccess=Pn=>{Jn()},mt.onerror=Pn=>{var Ci;Pr(ae.create("storage-set",{originalErrorMessage:null===(Ci=Pn.target.error)||void 0===Ci?void 0:Ci.message}))}})})).apply(this,arguments)}const yr=new Ue.Yd("@firebase/app-check");function rn(Oe,Me){return(0,ke.hl)()?function mn(Oe,Me){return function ar(Oe,Me){return gr.apply(this,arguments)}(function Mr(Oe){return`${Oe.options.appId}-${Oe.name}`}(Oe),Me)}(Oe,Me).catch(He=>{yr.warn(`Failed to write token to IndexedDB. Error: ${He}`)}):Promise.resolve()}function Tn(){return et().enabled}function kr(){return jr.apply(this,arguments)}function jr(){return(jr=(0,fe.Z)(function*(){const Oe=et();if(Oe.enabled&&Oe.token)return Oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dt={error:"UNKNOWN_ERROR"};function De(Oe){return ke.US.encodeString(JSON.stringify(Oe),!1)}function Pe(Oe){return ft.apply(this,arguments)}function ft(){return(ft=(0,fe.Z)(function*(Oe,Me=!1){const He=Oe.app;at(He);const mt=_t(He);let tn,xt=mt.token;if(!xt){const Pn=yield mt.cachedTokenPromise;Pn&&Qn(Pn)&&(xt=Pn)}if(!Me&&xt&&Qn(xt))return{token:xt.token};let Pr,Jn=!1;if(Tn()){mt.exchangeTokenPromise||(mt.exchangeTokenPromise=Te(on(He,yield kr()),Oe.heartbeatServiceProvider).then(Ci=>(mt.exchangeTokenPromise=void 0,Ci)),Jn=!0);const Pn=yield mt.exchangeTokenPromise;return yield rn(He,Pn),Ye(He,Object.assign(Object.assign({},mt),{token:Pn})),{token:Pn.token}}try{mt.exchangeTokenPromise||(mt.exchangeTokenPromise=mt.provider.getToken().then(Pn=>(mt.exchangeTokenPromise=void 0,Pn)),Jn=!0),xt=yield mt.exchangeTokenPromise}catch(Pn){"appCheck/throttled"===Pn.code?yr.warn(Pn.message):yr.error(Pn),tn=Pn}return xt?(Pr={token:xt.token},Ye(He,Object.assign(Object.assign({},mt),{token:xt})),yield rn(He,xt)):Pr=nr(tn),Jn&&Vt(He,Pr),Pr})).apply(this,arguments)}function vt(Oe,Me){const He=_t(Oe),mt=He.tokenObservers.filter(xt=>xt.next!==Me);0===mt.length&&He.tokenRefresher&&He.tokenRefresher.isRunning()&&He.tokenRefresher.stop(),Ye(Oe,Object.assign(Object.assign({},He),{tokenObservers:mt}))}function Kt(Oe){const{app:Me}=Oe,He=_t(Me);let mt=He.tokenRefresher;mt||(mt=function jn(Oe){const{app:Me}=Oe;return new ct((0,fe.Z)(function*(){let mt;if(mt=_t(Me).token?yield Pe(Oe,!0):yield Pe(Oe),mt.error)throw mt.error}),()=>!0,()=>{const He=_t(Me);if(He.token){let mt=He.token.issuedAtTimeMillis+.5*(He.token.expireTimeMillis-He.token.issuedAtTimeMillis)+3e5;return mt=Math.min(mt,He.token.expireTimeMillis-3e5),Math.max(0,mt-Date.now())}return 0},3e4,96e4)}(Oe),Ye(Me,Object.assign(Object.assign({},He),{tokenRefresher:mt}))),!mt.isRunning()&&He.isTokenAutoRefreshEnabled&&mt.start()}function Vt(Oe,Me){const He=_t(Oe).tokenObservers;for(const mt of He)try{"EXTERNAL"===mt.type&&null!=Me.error?mt.error(Me.error):mt.next(Me)}catch{}}function Qn(Oe){return Oe.expireTimeMillis-Date.now()>0}function nr(Oe){return{token:De(dt),error:Oe}}class Zn{constructor(Me,He){this.app=Me,this.heartbeatServiceProvider=He}_delete(){const{tokenObservers:Me}=_t(this.app);for(const He of Me)vt(this.app,He.next);return Promise.resolve()}}const Vn="app-check-internal";!function or(){(0,Ae._registerComponent)(new Re.wA("app-check",Oe=>function Mn(Oe,Me){return new Zn(Oe,Me)}(Oe.getProvider("app").getImmediate(),Oe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Oe,Me,He)=>{Oe.getProvider(Vn).initialize()})),(0,Ae._registerComponent)(new Re.wA(Vn,Oe=>function ye(Oe){return{getToken:Me=>Pe(Oe,Me),addTokenListener:Me=>function je(Oe,Me,He,mt){const{app:xt}=Oe,tn=_t(xt),Jn={next:He,error:mt,type:Me};if(Ye(xt,Object.assign(Object.assign({},tn),{tokenObservers:[...tn.tokenObservers,Jn]})),tn.token&&Qn(tn.token)){const Pr=tn.token;Promise.resolve().then(()=>{He({token:Pr.token}),Kt(Oe)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>Kt(Oe))}(Oe,"INTERNAL",Me),removeTokenListener:Me=>vt(Oe.app,Me)}}(Oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.5.10")}();class ur{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},3692:(en,Ke,j)=>{j.d(Ke,{Ot:()=>_e,ZF:()=>Je,hX:()=>_t,z6:()=>fe});var _=j(5867),f=j(4650),$=j(5813);class _e{constructor(ct){return ct}}class fe{constructor(){return(0,_.C6)()}}const ke=new f.OlP("angularfire2._apps"),Ue={provide:_e,useFactory:function Re(de){return de&&1===de.length?de[0]:new _e((0,_.Mq)())},deps:[[new f.FiY,ke]]},le={provide:fe,deps:[[new f.FiY,ke]]};function te(de){return(ct,ot)=>{const wt=ct.runOutsideAngular(()=>de(ot));return new _e(wt)}}let ve=(()=>{class de{constructor(ot){(0,_.KN)("angularfire",$.q4.full,"core"),(0,_.KN)("angularfire",$.q4.full,"app"),(0,_.KN)("angular",f.q4F.full,ot.toString())}}return de.\u0275fac=function(ot){return new(ot||de)(f.LFG(f.Lbi))},de.\u0275mod=f.oAB({type:de}),de.\u0275inj=f.cJS({providers:[Ue,le]}),de})();function _t(de,...ct){return{ngModule:ve,providers:[{provide:ke,useFactory:te(de),multi:!0,deps:[f.R0b,f.zs3,$.HU,...ct]}]}}const Je=(0,$.u3)(_.ZF,!0)},9541:(en,Ke,j)=>{j.d(Ke,{ST:()=>ug,yb:()=>Fy});var _=j(4650),f=j(4986),$=j(9751),_e=j(8996),fe=j(9646),Ae=j(5813),Re=j(4482),ke=j(5403);function Ue(){return(0,Re.e)((i,e)=>{let t,o=!1;i.subscribe((0,ke.x)(e,u=>{const c=t;t=u,o&&e.next([c,u]),o=!0}))})}var le=j(4671);function ve(i,e){return i===e}var oe,_t=j(8675),Ye=j(4004),et=j(5026),$t=j(9300),Je=j(2011),Qe=j(6895),Gt=(j(5881),j(3942)),de=j(5861),ct=j(9681),ot=j(4859),wt=j(1877),ae=j(2090),$e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},at={},Be=Be||{},Te=$e||self;function Xe(){}function Ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Mt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var sn="closure_uid_"+(1e9*Math.random()>>>0),Rn=0;function Bt(i,e,t){return i.call.apply(i.bind,arguments)}function Wn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Sn(i,e,t){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bt:Wn).apply(null,arguments)}function tr(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function En(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,c){for(var y=Array(arguments.length-2),T=2;T<arguments.length;T++)y[T-2]=arguments[T];return e.prototype[u].apply(o,y)}}function mn(){this.s=this.s,this.o=this.o}var Bn={};mn.prototype.s=!1,mn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function on(i){return Object.prototype.hasOwnProperty.call(i,sn)&&i[sn]||(i[sn]=++Rn)}(this);delete Bn[i]}},mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ar=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},gr=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let c=0;c<o;c++)c in u&&e.call(t,u[c],c,i)};function br(i){return Array.prototype.concat.apply([],arguments)}function Mr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function yr(i){return/^[\s\xa0]*$/.test(i)}var sr,_r=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ir(i,e){return-1!=i.indexOf(e)}function rn(i,e){return i<e?-1:i>e?1:0}e:{var xn=Te.navigator;if(xn){var Tn=xn.userAgent;if(Tn){sr=Tn;break e}}sr=""}function kr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function jr(i){const e={};for(const t in i)e[t]=i[t];return e}var li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let c=0;c<li.length;c++)t=li[c],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function De(i){return De[" "](i),i}De[" "]=Xe;var nr,i,ft=ir(sr,"Opera"),je=ir(sr,"Trident")||ir(sr,"MSIE"),vt=ir(sr,"Edge"),Kt=vt||je,jn=ir(sr,"Gecko")&&!(ir(sr.toLowerCase(),"webkit")&&!ir(sr,"Edge"))&&!(ir(sr,"Trident")||ir(sr,"MSIE"))&&!ir(sr,"Edge"),Vt=ir(sr.toLowerCase(),"webkit")&&!ir(sr,"Edge");function Qn(){var i=Te.document;return i?i.documentMode:void 0}e:{var Zn="",Mn=(i=sr,jn?/rv:([^\);]+)(\)|;)/.exec(i):vt?/Edge\/([\d\.]+)/.exec(i):je?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Vt?/WebKit\/(\S+)/.exec(i):ft?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Mn&&(Zn=Mn?Mn[1]:""),je){var ye=Qn();if(null!=ye&&ye>parseFloat(Zn)){nr=String(ye);break e}}nr=Zn}var ie={};var ht=Te.document&&je&&(Qn()||parseInt(nr,10))||void 0,bt=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Te.addEventListener("test",Xe,e),Te.removeEventListener("test",Xe,e)}catch{}return i}();function Ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function wn(i,e){if(Ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(jn){e:{try{De(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:$n[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&wn.Z.h.call(this)}}Ot.prototype.h=function(){this.defaultPrevented=!0},En(wn,Ot);var $n={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Gn="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function ze(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++Ln,this.ca=this.fa=!1}function he(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function pe(i){this.src=i,this.g={},this.h=0}function lt(i,e){var t=e.type;if(t in i.g){var c,o=i.g[t],u=ar(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(he(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ft(i,e,t,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==o)return u}return-1}pe.prototype.add=function(i,e,t,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var y=Ft(i,e,o,u);return-1<y?(e=i[y],t||(e.fa=!1)):((e=new ze(e,this.src,c,!!o,u)).fa=t,i.push(e)),e};var Xt="closure_lm_"+(1e6*Math.random()|0),pt={};function Dt(i,e,t,o,u){if(o&&o.once)return ue(i,e,t,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Dt(i,e[c],t,o,u);return null}return t=fr(t),i&&i[Gn]?i.N(e,t,Mt(o)?!!o.capture:!!o,u):Se(i,e,t,!1,o,u)}function Se(i,e,t,o,u,c){if(!e)throw Error("Invalid event type");var y=Mt(u)?!!u.capture:!!u,T=or(i);if(T||(i[Xt]=T=new pe(i)),(t=T.add(e,t,o,y,c)).proxy)return t;if(o=function ge(){var e=Vn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)bt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Zt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function ue(i,e,t,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)ue(i,e[c],t,o,u);return null}return t=fr(t),i&&i[Gn]?i.O(e,t,Mt(o)?!!o.capture:!!o,u):Se(i,e,t,!0,o,u)}function Ne(i,e,t,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)Ne(i,e[c],t,o,u);else o=Mt(o)?!!o.capture:!!o,t=fr(t),i&&i[Gn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ft(c=i.g[e],t,o,u))&&(he(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=or(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ft(e,t,o,u)),(t=-1<i?e[i]:null)&&gt(t))}function gt(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Gn])lt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Zt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=or(e))?(lt(t,i),0==t.h&&(t.src=null,e[Xt]=null)):he(i)}}}function Zt(i){return i in pt?pt[i]:pt[i]="on"+i}function Vn(i,e){if(i.ca)i=!0;else{e=new wn(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&gt(i),i=t.call(o,e)}return i}function or(i){return(i=i[Xt])instanceof pe?i:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(i){return"function"==typeof i?i:(i[cn]||(i[cn]=function(e){return i.handleEvent(e)}),i[cn])}function ur(){mn.call(this),this.i=new pe(this),this.P=this,this.I=null}function $r(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ot(e,i);else if(e instanceof Ot)e.target=e.target||i;else{var u=e;dt(e=new Ot(o,i),u)}if(u=!0,t)for(var c=t.length-1;0<=c;c--){var y=e.g=t[c];u=gi(y,o,!0,e)&&u}if(u=gi(y=e.g=i,o,!0,e)&&u,u=gi(y,o,!1,e)&&u,t)for(c=0;c<t.length;c++)u=gi(y=e.g=t[c],o,!1,e)&&u}function gi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var y=e[c];if(y&&!y.ca&&y.capture==t){var T=y.listener,V=y.ia||y.src;y.fa&&lt(i.i,y),u=!1!==T.call(V,o)&&u}}return u&&!o.defaultPrevented}En(ur,mn),ur.prototype[Gn]=!0,ur.prototype.removeEventListener=function(i,e,t,o){Ne(this,i,e,t,o)},ur.prototype.M=function(){if(ur.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)he(t[o]);delete i.g[e],i.h--}}this.I=null},ur.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},ur.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var xr=Te.JSON.stringify;function ps(){var i=Ks;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ao,Hr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ts,i=>i.reset());class Ts{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ci(i){Te.setTimeout(()=>{throw i},0)}function lr(i,e){ao||function uo(){var i=Te.Promise.resolve(void 0);ao=function(){i.then(ki)}}(),Bi||(ao(),Bi=!0),Ks.add(i,e)}var Bi=!1,Ks=new class ts{constructor(){this.h=this.g=null}add(e,t){const o=Hr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function ki(){for(var i;i=ps();){try{i.h.call(i.g)}catch(t){ci(t)}var e=Hr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Bi=!1}function Ki(i,e){ur.call(this),this.h=i||1,this.g=e||Te,this.j=Sn(this.kb,this),this.l=Date.now()}function Oe(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Me(i,e,t){if("function"==typeof i)t&&(i=Sn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Sn(i.handleEvent,i)}return 2147483647<Number(e)?-1:Te.setTimeout(i,e||0)}function He(i){i.g=Me(()=>{i.g=null,i.i&&(i.i=!1,He(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}En(Ki,ur),(oe=Ki.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$r(this,"tick"),this.da&&(Oe(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){Ki.Z.M.call(this),Oe(this),delete this.g};class mt extends mn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:He(this)}M(){super.M(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(i){mn.call(this),this.h=i,this.g={}}En(xt,mn);var tn=[];function Jn(i,e,t,o){Array.isArray(t)||(t&&(tn[0]=t.toString()),t=tn);for(var u=0;u<t.length;u++){var c=Dt(e,t[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Pr(i){kr(i.g,function(e,t){this.g.hasOwnProperty(t)&&gt(e)},i),i.g={}}function Pn(){this.g=!0}function As(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ns(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var y=1;y<u.length;y++)u[y]=""}}}return xr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}xt.prototype.M=function(){xt.Z.M.call(this),Pr(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pn.prototype.Aa=function(){this.g=!1},Pn.prototype.info=function(){};var Ti={},Di=null;function na(){return Di=Di||new ur}function Ai(i){Ot.call(this,Ti.Ma,i)}function lo(i){const e=na();$r(e,new Ai(e,i))}function jo(i,e){Ot.call(this,Ti.STAT_EVENT,i),this.stat=e}function Si(i){const e=na();$r(e,new jo(e,i))}function ms(i,e){Ot.call(this,Ti.Na,i),this.size=e}function Fi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){i()},e)}Ti.Ma="serverreachability",En(Ai,Ot),Ti.STAT_EVENT="statevent",En(jo,Ot),Ti.Na="timingevent",En(ms,Ot);var co={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ra={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ia(){}function ji(){}ia.prototype.h=null;var oa,ks={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sa(){Ot.call(this,"d")}function Fs(){Ot.call(this,"c")}function mi(){}function yi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new xt(this),this.P=Ss,this.W=new Ki(i=Kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rs}function rs(){this.i=null,this.g="",this.h=!1}En(sa,Ot),En(Fs,Ot),En(mi,ia),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},oa=new mi;var Ss=45e3,Po={},_s={};function Mi(i,e,t){i.K=1,i.v=Ct(R(e)),i.s=t,i.U=!0,ho(i,null)}function ho(i,e){i.F=Date.now(),Tr(i),i.A=R(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),go(t.h,"t",o),i.C=0,t=i.l.H,i.h=new rs,i.g=uu(i.l,t?e:null,!i.s),0<i.O&&(i.L=new mt(Sn(i.Ia,i,i.g),i.O)),Jn(i.V,i.g,"readystatechange",i.gb),e=i.H?jr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),lo(1),function Ci(i,e,t,o,u,c){i.info(function(){if(i.g)if(c)for(var y="",T=c.split("&"),V=0;V<T.length;V++){var G=T[V].split("=");if(1<G.length){var ee=G[0];G=G[1];var we=ee.split("_");y=2<=we.length&&"type"==we[1]?y+(ee+"=")+G+"&":y+(ee+"=redacted&")}}else y=null;else y=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ms(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ba(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Zi(i,t),u==_s){4==e&&(i.o=4,Si(14),o=!1),As(i.j,i.m,null,"[Incomplete Response]");break}if(u==Po){i.o=4,Si(15),As(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}As(i.j,i.m,u,null),qa(i,u)}Ms(i)&&u!=_s&&u!=Po&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Si(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ri(e),e.L=!0,Si(11))):(As(i.j,i.m,t,"[Invalid Chunked Response]"),Vs(i),xi(i))}function Zi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?_s:(t=Number(e.substring(t,o)),isNaN(t)?Po:(o+=1)+t>e.length?_s:(e=e.substr(o,t),i.C=o+t,e))}function Tr(i){i.Y=Date.now()+i.P,Ls(i,i.P)}function Ls(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Fi(Sn(i.eb,i),e)}function Ys(i){i.B&&(Te.clearTimeout(i.B),i.B=null)}function xi(i){0==i.l.G||i.I||Eo(i.l,i)}function Vs(i){Ys(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Oe(i.W),Pr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function qa(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||L(t.i,i)))if(t.I=i.N,!i.J&&L(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;os(t),Za(t)}vo(t),Si(18)}}else t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Fi(Sn(t.ab,t),6e3));if(1>=$o(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Bs(t,11)}else if((i.J||t.g==i)&&os(t),!yr(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let G=u[e];if(t.U=G[0],G=G[1],2==t.G)if("c"==G[0]){t.J=G[1],t.la=G[2];const ee=G[3];null!=ee&&(t.ma=ee,t.h.info("VER="+t.ma));const we=G[4];null!=we&&(t.za=we,t.h.info("SVER="+t.za));const it=G[5];null!=it&&"number"==typeof it&&0<it&&(t.K=o=1.5*it,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Et=i.g;if(Et){const Lt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lt){var c=o.i;!c.g&&(ir(Lt,"spdy")||ir(Lt,"quic")||ir(Lt,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(O(c,c.h),c.h=null))}if(o.D){const un=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;un&&(o.sa=un,We(o.F,o.D,un))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var y=i;if((o=t).oa=zo(o,o.H?o.la:null,o.W),y.J){P(o.i,y);var T=y,V=o.K;V&&T.setTimeout(V),T.B&&(Ys(T),Tr(T)),o.g=y}else ss(o);0<t.l.length&&Ra(t)}else"stop"!=G[0]&&"close"!=G[0]||Bs(t,7);else 3==t.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Bs(t,7):Yr(t):"noop"!=G[0]&&t.j&&t.j.wa(G),t.A=0)}lo(4)}catch{}}function po(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ge(i)||"string"==typeof i)gr(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ge(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function fo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ge(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var c=0;c<u;c++)e.call(void 0,o[c],t&&t[c],i)}}function xs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof xs)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function No(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Hn(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Hn(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Hn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=yi.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==_o(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const ee=_o(this.g);var e=this.g.Da();const we=this.g.ba();if(!(3>ee)&&(3!=ee||Kt||this.g&&(this.h.h||this.g.ga()||Go(this.g)))){this.I||4!=ee||7==e||lo(8==e||0>=we?3:2),Ys(this);var t=this.g.ba();this.N=t;t:if(Ms(this)){var o=Go(this.g);i="";var u=o.length,c=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),xi(this);var y="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==t,function gs(i,e,t,o,u,c,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+c+" "+y})}(this.j,this.u,this.A,this.m,this.X,ee,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,V=this.g;if((T=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(T)){var G=T;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,Si(12),Vs(this),xi(this);break e}As(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qa(this,t)}this.U?(ba(this,ee,y),Kt&&this.i&&3==ee&&(Jn(this.V,this.W,"tick",this.fb),this.W.start())):(As(this.j,this.m,y,null),qa(this,y)),4==ee&&Vs(this),this.i&&!this.I&&(4==ee?Eo(this.l,this):(this.i=!1,Tr(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),Vs(this),xi(this)}}}catch{}},oe.fb=function(){if(this.g){var i=_o(this.g),e=this.g.ga();this.C<e.length&&(Ys(this),ba(this,i,e),this.i&&4!=i&&Tr(this))}},oe.cancel=function(){this.I=!0,Vs(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Zs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lo(3),Si(17)),Vs(this),this.o=2,xi(this)):Ls(this,this.Y-i)},(oe=xs.prototype).R=function(){No(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return No(this),this.g.concat()},oe.get=function(i,e){return Hn(this.h,i)?this.h[i]:e},oe.set=function(i,e){Hn(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],c=this.get(u);i.call(e,c,u,this)}};var Nr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vr(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof vr){this.g=void 0!==e?e:i.g,K(this,i.j),this.s=i.s,k(this,i.i),Q(this,i.m),this.l=i.l,e=i.h;var t=new Yi;t.i=e.i,e.g&&(t.g=new xs(e.g),t.h=e.h),Ce(this,t),this.o=i.o}else i&&(t=String(i).match(Nr))?(this.g=!!e,K(this,t[1]||"",!0),this.s=qn(t[2]||""),k(this,t[3]||"",!0),Q(this,t[4]),this.l=qn(t[5]||"",!0),Ce(this,t[6]||"",!0),this.o=qn(t[7]||"")):(this.g=!!e,this.h=new Yi(null,this.g))}function R(i){return new vr(i)}function K(i,e,t){i.j=t?qn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function k(i,e,t){i.i=t?qn(e,!0):e}function Q(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ce(i,e,t){e instanceof Yi?(i.h=e,function Tt(i,e){e&&!i.j&&(ti(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Oo(this,o),go(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=cr(e,Ps)),i.h=new Yi(e,i.g))}function We(i,e,t){i.h.set(e,t)}function Ct(i){return We(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function cr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Nn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Nn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}vr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(cr(e,Gr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(cr(e,Gr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(cr(t,"/"==t.charAt(0)?fn:dr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",cr(t,vs)),i.join("")};var Gr=/[#\/\?@]/g,dr=/[#\?:]/g,fn=/[#\?]/g,Ps=/[#\?@]/g,vs=/#/g;function Yi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ti(i){i.g||(i.g=new xs,i.h=0,i.i&&function Qs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var c=i[t].substring(0,o);u=i[t].substring(o+1)}else c=i[t];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Oo(i,e){ti(i),e=Us(i,e),Hn(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Hn((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&No(i)))}function is(i,e){return ti(i),e=Us(i,e),Hn(i.g.h,e)}function go(i,e,t){Oo(i,e),0<t.length&&(i.i=null,i.g.set(Us(i,e),Mr(t)),i.h+=t.length)}function Us(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function aa(i){this.l=i||ua,i=Te.PerformanceNavigationTiming?0<(i=Te.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Te.g&&Te.g.Ea&&Te.g.Ea()&&Te.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Yi.prototype).add=function(i,e){ti(this),this.i=null,i=Us(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(i,e){ti(this),this.g.forEach(function(t,o){gr(t,function(u){i.call(e,u,o,this)},this)},this)},oe.T=function(){ti(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],c=0;c<u.length;c++)t.push(e[o]);return t},oe.R=function(i){ti(this);var e=[];if("string"==typeof i)is(this,i)&&(e=br(e,this.g.get(Us(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=br(e,i[t])}return e},oe.set=function(i,e){return ti(this),this.i=null,is(this,i=Us(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var y=u;""!==o[c]&&(y+="="+encodeURIComponent(String(o[c]))),i.push(y)}}return this.i=i.join("&")};var ua=10;function _i(i){return!!i.h||!!i.g&&i.g.size>=i.j}function $o(i){return i.h?1:i.g?i.g.size:0}function L(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function O(i,e){i.g?i.g.add(e):i.h=e}function P(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Z(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Mr(i.i)}function st(){}function an(){this.g=new st}function Or(i,e,t){const o=t||"";try{po(i,function(u,c){let y=u;Mt(u)&&(y=xr(u)),e.push(o+c+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Dr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Zr(i){this.l=i.$b||null,this.j=i.ib||!1}function Li(i,e){ur.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=vi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aa.prototype.cancel=function(){if(this.i=Z(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},st.prototype.stringify=function(i){return Te.JSON.stringify(i,void 0)},st.prototype.parse=function(i){return Te.JSON.parse(i,void 0)},En(Zr,ia),Zr.prototype.g=function(){return new Li(this.l,this.j)},Zr.prototype.i=function(i){return function(){return i}}({}),En(Li,ur);var vi=0;function Es(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Js(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ho(i)}function Ho(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=Li.prototype).open=function(i,e){if(this.readyState!=vi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ho(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Te).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Js(this)),this.readyState=vi},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Es(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Js(this):Ho(this),3==this.readyState&&Es(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,Js(this))},oe.Ta=function(i){this.g&&(this.response=i,Js(this))},oe.ha=function(){this.g&&Js(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $i=Te.JSON.parse;function di(i){ur.call(this),this.headers=new xs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mo,this.K=this.L=!1}En(di,ur);var mo="",Ka=/^https?$/i,la=["POST","PUT"];function ll(i){return"content-type"==i.toLowerCase()}function ca(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ws(i),yo(i)}function ws(i){i.D||(i.D=!0,$r(i,"complete"),$r(i,"error"))}function Na(i){if(i.h&&typeof Be<"u"&&(!i.C[1]||4!=_o(i)||2!=i.ba()))if(i.v&&4==_o(i))Me(i.Fa,0,i);else if($r(i,"readystatechange"),4==_o(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var u=String(i.H).match(Nr)[1]||null;if(!u&&Te.self&&Te.self.location){var c=Te.self.location.protocol;u=c.substr(0,c.length-1)}o=!Ka.test(u?u.toLowerCase():"")}t=o}if(t)$r(i,"complete"),$r(i,"success");else{i.m=6;try{var y=2<_o(i)?i.g.statusText:""}catch{y=""}i.j=y+" ["+i.ba()+"]",ws(i)}}finally{yo(i)}}}function yo(i,e){if(i.g){iu(i);const t=i.g,o=i.C[0]?Xe:null;i.g=null,i.C=null,e||$r(i,"ready");try{t.onreadystatechange=o}catch{}}}function iu(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Te.clearTimeout(i.A),i.A=null)}function _o(i){return i.g?i.g.readyState:0}function Go(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case mo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ou(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function su(i){let e="";return kr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):We(i,e,t))}function ni(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Xs(i){this.za=0,this.l=[],this.h=new Pn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ni("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ni("baseRetryDelayMs",5e3,i),this.$a=ni("retryDelaySeedMs",1e4,i),this.Ya=ni("forwardChannelMaxRetries",2,i),this.ra=ni("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new aa(i&&i.concurrentRequestLimit),this.Ca=new an,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Yr(i){if(Ya(i),3==i.G){var e=i.V++,t=R(i.F);We(t,"SID",i.J),We(t,"RID",e),We(t,"TYPE","terminate"),eo(i,t),(e=new yi(i,i.h,e,void 0)).K=2,e.v=Ct(R(t)),t=!1,Te.navigator&&Te.navigator.sendBeacon&&(t=Te.navigator.sendBeacon(e.v.toString(),"")),!t&&Te.Image&&((new Image).src=e.v,t=!0),t||(e.g=uu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Tr(e)}Qi(i)}function Za(i){i.g&&(ri(i),i.g.cancel(),i.g=null)}function Ya(i){Za(i),i.u&&(Te.clearTimeout(i.u),i.u=null),os(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Te.clearTimeout(i.m),i.m=null)}function Oa(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ra(i)}function Ra(i){_i(i.i)||i.m||(i.m=!0,lr(i.Ha,i),i.C=0)}function Qa(i,e){var t;t=e?e.m:i.V++;const o=R(i.F);We(o,"SID",i.J),We(o,"RID",t),We(o,"AID",i.U),eo(i,o),i.o&&i.s&&ou(o,i.o,i.s),t=new yi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ns(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),O(i.i,t),Mi(t,o,e)}function eo(i,e){i.j&&po({},function(t,o){We(e,o,t)})}function Ns(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Sn(i.j.Oa,i.j,i):null;e:{var u=i.l;let c=-1;for(;;){const y=["count="+t];-1==c?0<t?(c=u[0].h,y.push("ofs="+c)):c=0:y.push("ofs="+c);let T=!0;for(let V=0;V<t;V++){let G=u[V].h;const ee=u[V].g;if(G-=c,0>G)c=Math.max(0,u[V].h-100),T=!1;else try{Or(ee,y,"req"+G+"_")}catch{o&&o(ee)}}if(T){o=y.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function ss(i){i.g||i.u||(i.Y=1,lr(i.Ga,i),i.A=0)}function vo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Fi(Sn(i.Ga,i),Ca(i,i.A)),i.A++,0))}function ri(i){null!=i.B&&(Te.clearTimeout(i.B),i.B=null)}function au(i){i.g=new yi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=R(i.oa);We(e,"RID","rpc"),We(e,"SID",i.J),We(e,"CI",i.N?"0":"1"),We(e,"AID",i.U),eo(i,e),We(e,"TYPE","xmlhttp"),i.o&&i.s&&ou(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Ct(R(e)),t.s=null,t.U=!0,ho(t,i)}function os(i){null!=i.v&&(Te.clearTimeout(i.v),i.v=null)}function Eo(i,e){var t=null;if(i.g==e){os(i),ri(i),i.g=null;var o=2}else{if(!L(i.i,e))return;t=e.D,P(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;$r(o=na(),new ms(o,t,e,u)),Ra(i)}else ss(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ia(i,e){return!($o(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Fi(Sn(i.Ha,i,e),Ca(i,i.C)),i.C++,0)))}(i,e)||2==o&&vo(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:Bs(i,5);break;case 4:Bs(i,10);break;case 3:Bs(i,6);break;default:Bs(i,2)}}function Ca(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Bs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Sn(i.jb,i);t||(t=new vr("//www.google.com/images/cleardot.gif"),Te.location&&"http"==Te.location.protocol||K(t,"https"),Ct(t)),function Kr(i,e){const t=new Pn;if(Te.Image){const o=new Image;o.onload=tr(Dr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=tr(Dr,t,o,"TestLoadImage: error",!1,e),o.onabort=tr(Dr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=tr(Dr,t,o,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Si(2);i.G=0,i.j&&i.j.va(e),Qi(i),Ya(i)}function Qi(i){i.G=0,i.I=-1,i.j&&((0!=Z(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Mr(i.l),i.l.length=0),i.j.ua())}function zo(i,e,t){let o=function Ht(i){return i instanceof vr?R(i):new vr(i,void 0)}(t);if(""!=o.i)e&&k(o,e+"."+o.i),Q(o,o.m);else{const u=Te.location;o=function Ar(i,e,t,o){var u=new vr(null,void 0);return i&&K(u,i),e&&k(u,e),t&&Q(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&kr(i.aa,function(u,c){We(o,c,u)}),t=i.sa,(e=i.D)&&t&&We(o,e,t),We(o,"VER",i.ma),eo(i,o),o}function uu(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&i.Ba&&!i.qa?new Zr({ib:!0}):i.qa)).L=i.H,e}function to(){}function Ro(){if(je&&!(10<=Number(ht)))throw Error("Environmental error: no available transport.")}function as(i,e){ur.call(this),this.g=new Xs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!yr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new no(this)}function Vi(i){sa.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Hi(){Fs.call(this),this.status=1}function no(i){this.g=i}(oe=di.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():oa.g(),this.C=function ys(i){return i.h||(i.h=i.i())}(this.u?this.u:oa),this.g.onreadystatechange=Sn(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void ca(this,c)}i=t||"";const u=new xs(this.headers);o&&po(o,function(c,y){u.set(y,c)}),o=function mr(i){e:{var e=ll;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=Te.FormData&&i instanceof Te.FormData,!(0<=ar(la,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(c,y){this.g.setRequestHeader(y,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iu(this),0<this.B&&((this.K=function Da(i){return je&&function Fe(){return function Pe(i){var e=ie;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=_r(String(nr)).split("."),t=_r("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",c=t[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=rn(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||rn(0==u[2].length,0==c[2].length)||rn(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.pa,this)):this.A=Me(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ca(this,c)}},oe.pa=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,$r(this,"complete"),$r(this,"abort"),yo(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yo(this,!0)),di.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?Na(this):this.cb())},oe.cb=function(){Na(this)},oe.ba=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$i(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Xs.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new yi(this,this.h,i,void 0);let c=this.s;if(this.P&&(c?(c=jr(c),dt(c,this.P)):c=this.P),null===this.o&&(u.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ns(this,u,e),We(t=R(this.F),"RID",i),We(t,"CVER",22),this.D&&We(t,"X-HTTP-Session-Id",this.D),eo(this,t),this.o&&c&&ou(t,this.o,c),O(this.i,u),this.Ra&&We(t,"TYPE","init"),this.ja?(We(t,"$req",e),We(t,"SID","null"),u.$=!0,Mi(u,t,null)):Mi(u,t,e),this.G=2}}else 3==this.G&&(i?Qa(this,i):0==this.l.length||_i(this.i)||Qa(this))},oe.Ga=function(){if(this.u=null,au(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Fi(Sn(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Si(10),Za(this),au(this))},oe.ab=function(){null!=this.v&&(this.v=null,Za(this),vo(this),Si(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Si(2)):(this.h.info("Failed to ping google.com"),Si(1))},(oe=to.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},Ro.prototype.g=function(i,e){return new as(i,e)},En(as,ur),as.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),lr(Sn(i.hb,i,e))),Si(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=zo(i,null,i.W),Ra(i)},as.prototype.close=function(){Yr(this.g)},as.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Oa(this.g,e)}else this.v?((e={}).__data__=xr(i),Oa(this.g,e)):Oa(this.g,i)},as.prototype.M=function(){this.g.j=null,delete this.j,Yr(this.g),delete this.g,as.Z.M.call(this)},En(Vi,sa),En(Hi,Fs),En(no,to),no.prototype.xa=function(){$r(this.g,"a")},no.prototype.wa=function(i){$r(this.g,new Vi(i))},no.prototype.va=function(i){$r(this.g,new Hi(i))},no.prototype.ua=function(){$r(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,ra.COMPLETE="complete",ji.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",ur.prototype.listen=ur.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.La,di.prototype.getLastErrorCode=di.prototype.Da,di.prototype.getStatus=di.prototype.ba,di.prototype.getResponseJson=di.prototype.Qa,di.prototype.getResponseText=di.prototype.ga,di.prototype.send=di.prototype.ea;var Wo=at.createWebChannelTransport=function(){return new Ro},ko=at.getStatEventTarget=function(){return na()},ro=at.ErrorCode=co,qo=at.EventType=ra,Ei=at.Event=Ti,Ko=at.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},da=at.FetchXmlHttpFactory=Zr,wi=at.WebChannel=ji,ka=at.XhrIo=di;const ha="@firebase/firestore";class ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");let Fo="9.8.4";const Ji=new wt.Yd("@firebase/firestore");function bs(){return Ji.logLevel}function kt(i,...e){if(Ji.logLevel<=wt.in.DEBUG){const t=e.map(Lo);Ji.debug(`Firestore (${Fo}): ${i}`,...t)}}function Qr(i,...e){if(Ji.logLevel<=wt.in.ERROR){const t=e.map(Lo);Ji.error(`Firestore (${Fo}): ${i}`,...t)}}function Pi(i,...e){if(Ji.logLevel<=wt.in.WARN){const t=e.map(Lo);Ji.warn(`Firestore (${Fo}): ${i}`,...t)}}function Lo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function dn(i="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+i;throw Qr(e),new Error(e)}function In(i,e){i||dn()}function Jt(i,e){return i}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ii.UNAUTHENTICATED))}shutdown(){}}class cu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ja{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const c=G=>this.i!==u?(u=this.i,t(G)):Promise.resolve();let y=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new hi,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const G=y;e.enqueueRetryable((0,de.Z)(function*(){yield G.promise,yield c(o.currentUser)}))},V=G=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(G=>V(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?V(G):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new hi)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new pa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new ii(e)}}class Fa{constructor(e,t,o){this.type="FirstParty",this.user=ii.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class I{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Fa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=c=>{null!=c.error&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const y=c.token!==this.p;return this.p=c.token,kt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?u(c):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.p=t.token,new w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function U(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Y{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=U(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<t&&(o+=e.charAt(u[c]%e.length))}return o}}function X(i,e){return i<e?-1:i>e?1:0}function Ee(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function yt(i){return i+"\0"}class Rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Rt(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jt(e)}static min(){return new jt(new Rt(0,0))}static max(){return new jt(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nn{constructor(e,t,o){void 0===t?t=0:t>e.length&&dn(),void 0===o?o=e.length-t:o>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===nn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nn?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const c=e.get(u),y=t.get(u);if(c<y)return-1;if(c>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends nn{construct(e,t,o){return new yn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Nt(ut.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends nn{construct(e,t,o){return new _n(e,t,o)}static isValidIdentifier(e){return bi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const c=()=>{if(0===o.length)throw new Nt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new Nt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Nt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===T?(y=!y,u++):"."!==T||y?(o+=T,u++):(c(),u++)}if(c(),y)throw new Nt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt(yn.fromString(e))}static fromName(e){return new qt(yn.fromString(e).popFirst(5))}static empty(){return new qt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new yn(e.slice()))}}class wo{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Xa(i){return i.fields.find(e=>2===e.kind)}function io(i){return i.fields.filter(e=>2!==e.kind)}wo.UNKNOWN_ID=-1;class du{constructor(e,t){this.fieldPath=e,this.kind=t}}class hu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hu(0,bo.min())}}function zu(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=jt.fromTimestamp(1e9===o?new Rt(t+1,0):new Rt(t,o));return new bo(u,qt.empty(),e)}function La(i){return new bo(i.readTime,i.key,-1)}class bo{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new bo(jt.min(),qt.empty(),-1)}static max(){return new bo(jt.max(),qt.empty(),-1)}}function Wu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=qt.comparator(i.documentKey,e.documentKey),0!==t?t:X(i.largestBatchId,e.largestBatchId))}const Ni="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ga{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ds(i){return fu.apply(this,arguments)}function fu(){return fu=(0,de.Z)(function*(i){if(i.code!==ut.FAILED_PRECONDITION||i.message!==Ni)throw i;kt("LocalStore","Unexpectedly lost primary lease")}),fu.apply(this,arguments)}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(t,c).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.reject(t)}static resolve(e){return new nt((t,o)=>{t(e)})}static reject(e){return new nt((t,o)=>{o(e)})}static waitFor(e){return new nt((t,o)=>{let u=0,c=0,y=!1;e.forEach(T=>{++u,T.next(()=>{++c,y&&c===u&&t()},V=>o(V))}),y=!0,c===u&&t()})}static or(e){let t=nt.resolve(!1);for(const o of e)t=t.next(u=>u?nt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,c)=>{o.push(t.call(this,u,c))}),this.waitFor(o)}static mapArray(e,t){return new nt((o,u)=>{const c=e.length,y=new Array(c);let T=0;for(let V=0;V<c;V++){const G=V;t(e[G]).next(ee=>{y[G]=ee,++T,T===c&&o(y)},ee=>u(ee))}})}static doWhile(e,t){return new nt((o,u)=>{const c=()=>{!0===e()?t().next(()=>{c()},u):o()};c()})}}class Xi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new hi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Do(e,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const u=cl(o.target.error);this.T.reject(new Do(e,u))}}static open(e,t,o,u){try{return new Xi(t,e.transaction(u,o))}catch(c){throw new Do(t,c)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pu(t)}}class Oi{constructor(e,t,o){this.name=e,this.version=t,this.P=o,12.2===Oi.v((0,ae.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return kt("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,ae.hl)())return!1;if(Oi.S())return!0;const e=(0,ae.z$)(),t=Oi.v(e),o=0<t&&t<10,u=Oi.D(e),c=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var t=this;return(0,de.Z)(function*(){return t.db||(kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=y=>{o(y.target.result)},c.onblocked=()=>{u(new Do(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=y=>{const T=y.target.error;u("VersionError"===T.name?new Nt(ut.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new Nt(ut.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Do(e,T))},c.onupgradeneeded=y=>{kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.P.O(y.target.result,c.transaction,y.oldVersion,t.version).next(()=>{kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=o=>t.M(o)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var c=this;return(0,de.Z)(function*(){const y="readonly"===t;let T=0;for(;;){++T;try{c.db=yield c.k(e);const V=Xi.open(c.db,e,y?"readonly":"readwrite",o),G=u(V).next(ee=>(V.R(),ee)).catch(ee=>(V.abort(ee),nt.reject(ee))).toPromise();return G.catch(()=>{}),yield V.A,G}catch(V){const G=V,ee="FirebaseError"!==G.name&&T<3;if(kt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ee),c.close(),!ee)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zo{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ma(this.$.delete())}}class Do extends Nt{constructor(e,t){super(ut.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Os(i){return"IndexedDbTransactionError"===i.name}class Pu{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(kt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ma(o)}add(e){return kt("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(t=>(void 0===t&&(t=null),kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return kt("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return kt("SimpleDb","COUNT",this.store.name),ma(this.store.count())}K(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),c=[];return this.G(u,(y,T)=>{c.push(T)}).next(()=>c)}{const u=this.store.getAll(o.range);return new nt((c,y)=>{u.onerror=T=>{y(T.target.error)},u.onsuccess=T=>{c(T.target.result)}})}}j(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new nt((u,c)=>{o.onerror=y=>{c(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}W(e,t){kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.H=!1;const u=this.cursor(o);return this.G(u,(c,y,T)=>T.delete())}J(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.G(u,t)}Y(e){const t=this.cursor({});return new nt((o,u)=>{t.onerror=c=>{const y=cl(c.target.error);u(y)},t.onsuccess=c=>{const y=c.target.result;y?e(y.primaryKey,y.value).next(T=>{T?y.continue():o()}):o()}})}G(e,t){const o=[];return new nt((u,c)=>{e.onerror=y=>{c(y.target.error)},e.onsuccess=y=>{const T=y.target.result;if(!T)return void u();const V=new Zo(T),G=t(T.primaryKey,T.value,V);if(G instanceof nt){const ee=G.catch(we=>(V.done(),nt.reject(we)));o.push(ee)}V.isDone?u():null===V.U?T.continue():T.continue(V.U)}}).next(()=>nt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(i){return new nt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=cl(o.target.error);t(u)}})}let Va=!1;function cl(i){const e=Oi.v((0,ae.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Va||(Va=!0,setTimeout(()=>{throw o},0)),o}}return i}class xl{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,de.Z)(function*(){t.task=null;try{kt("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){Os(o)?kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ds(o)}yield t.Z(1)}))}}class Pl{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,de.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,e))})()}et(e,t){const o=new Set;let u=t,c=!0;return nt.doWhile(()=>!0===c&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!o.has(y))return kt("IndexBackiller",`Processing collection: ${y}`),this.nt(e,y,u).next(T=>{u-=T,o.add(y)});c=!1})).next(()=>t-u)}nt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(c=>{const y=c.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.st(u,c)).next(T=>(kt("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>y.size)}))}st(e,t){let o=e;return t.changes.forEach((u,c)=>{const y=La(c);Wu(y,o)>0&&(o=y)}),new bo(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class zr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Nu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Gi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function qu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}zr.ot=-1;class si{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new us(this.root,e,this.comparator,!1)}getReverseIterator(){return new us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new us(this.root,e,this.comparator,!0)}}class us{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?o(e.key,t):1,t&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,o,u,c){this.key=e,this.value=t,this.color=o??oi.RED,this.left=u??oi.EMPTY,this.right=c??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,c){return new oi(e??this.key,t??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===c?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return oi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new oi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yo(this.data.getIterator())}getIteratorFrom(e){return new Yo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class Yo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(i){return i.hasNext()?i.getNext():void 0}class js{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new js([])}unionWith(e){let t=new Er(_n.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ee(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fi(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const rc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(i){if(In(!!i),"string"==typeof i){let e=0;const t=rc.exec(i);if(In(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:x(i.seconds),nanos:x(i.nanos)}}function x(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function F(i){return"string"==typeof i?fi.fromBase64String(i):fi.fromUint8Array(i)}function W(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ce(i){const e=i.mapValue.fields.__previous_value__;return W(e)?ce(e):e}function Le(i){const e=Is(i.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}class rt{constructor(e,t,o,u,c,y,T,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=y,this.autoDetectLongPolling=T,this.useFetchStreams=V}}class At{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new At("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof At&&e.projectId===this.projectId&&e.database===this.database}}function Qt(i){return null==i}function An(i){return 0===i&&1/i==-1/0}function gn(i){return"number"==typeof i&&Number.isInteger(i)&&!An(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const kn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dn={nullValue:"NULL_VALUE"};function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?W(i)?4:ic(i)?9007199254740991:10:dn()}function Wr(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Le(i).isEqual(Le(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Is(o.timestampValue),y=Is(u.timestampValue);return c.seconds===y.seconds&&c.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,F(i.bytesValue).isEqual(F(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return x(o.geoPointValue.latitude)===x(u.geoPointValue.latitude)&&x(o.geoPointValue.longitude)===x(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return x(o.integerValue)===x(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=x(o.doubleValue),y=x(u.doubleValue);return c===y?An(c)===An(y):isNaN(c)&&isNaN(y)}return!1}(i,e);case 9:return Ee(i.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(o,u){const c=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Nu(c)!==Nu(y))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===y[T]||!Wr(c[T],y[T])))return!1;return!0}(i,e);default:return dn()}var u}function Io(i,e){return void 0!==(i.values||[]).find(t=>Wr(t,e))}function so(i,e){if(i===e)return 0;const t=Jr(i),o=Jr(e);if(t!==o)return X(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return X(i.booleanValue,e.booleanValue);case 2:return function(u,c){const y=x(u.integerValue||u.doubleValue),T=x(c.integerValue||c.doubleValue);return y<T?-1:y>T?1:y===T?0:isNaN(y)?isNaN(T)?0:-1:1}(i,e);case 3:return Qo(i.timestampValue,e.timestampValue);case 4:return Qo(Le(i),Le(e));case 5:return X(i.stringValue,e.stringValue);case 6:return function(u,c){const y=F(u),T=F(c);return y.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const y=u.split("/"),T=c.split("/");for(let V=0;V<y.length&&V<T.length;V++){const G=X(y[V],T[V]);if(0!==G)return G}return X(y.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const y=X(x(u.latitude),x(c.latitude));return 0!==y?y:X(x(u.longitude),x(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const y=u.values||[],T=c.values||[];for(let V=0;V<y.length&&V<T.length;++V){const G=so(y[V],T[V]);if(G)return G}return X(y.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===kn.mapValue&&c===kn.mapValue)return 0;if(u===kn.mapValue)return 1;if(c===kn.mapValue)return-1;const y=u.fields||{},T=Object.keys(y),V=c.fields||{},G=Object.keys(V);T.sort(),G.sort();for(let ee=0;ee<T.length&&ee<G.length;++ee){const we=X(T[ee],G[ee]);if(0!==we)return we;const it=so(y[T[ee]],V[G[ee]]);if(0!==it)return it}return X(T.length,G.length)}(i.mapValue,e.mapValue);default:throw dn()}}function Qo(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return X(i,e);const t=Is(i),o=Is(e),u=X(t.seconds,o.seconds);return 0!==u?u:X(t.nanos,o.nanos)}function ya(i){return Jo(i)}function Jo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Is(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?F(i.bytesValue).toBase64():"referenceValue"in i?qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const y of o.values||[])c?c=!1:u+=",",u+=Jo(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",y=!0;for(const T of u)y?y=!1:c+=",",c+=`${T}:${Jo(o.fields[T])}`;return c+"}"}(i.mapValue):dn();var e}function oo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $s(i){return!!i&&"integerValue"in i}function Vo(i){return!!i&&"arrayValue"in i}function Sa(i){return!!i&&"nullValue"in i}function Ua(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function gu(i){return!!i&&"mapValue"in i}function mu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Gi(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=mu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ic(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Nl(i){return"nullValue"in i?Dn:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?oo(At.empty(),qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:dn()}function Ou(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?oo(At.empty(),qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?kn:dn()}function Ru(i,e){const t=so(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ol(i,e){const t=so(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Hs{constructor(e){this.value=e}static empty(){return new Hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=_n.emptyPath(),o={},u=[];e.forEach((y,T)=>{if(!t.isImmediateParentOf(T)){const V=this.getFieldsMap(t);this.applyChanges(V,o,u),o={},u=[],t=T.popLast()}y?o[T.lastSegment()]=mu(y):u.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,o,u)}delete(e){const t=this.field(e.popLast());gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];gu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Gi(t,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new Hs(mu(this.value))}}function yu(i){const e=[];return Gi(i.fields,(t,o)=>{const u=new _n([t]);if(gu(o)){const c=yu(o.mapValue).fields;if(0===c.length)e.push(u);else for(const y of c)e.push(u.child(y))}else e.push(u)}),new js(e)}class ai{constructor(e,t,o,u,c,y){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=c,this.documentState=y}static newInvalidDocument(e){return new ai(e,0,jt.min(),jt.min(),Hs.empty(),0)}static newFoundDocument(e,t,o){return new ai(e,1,t,jt.min(),o,0)}static newNoDocument(e,t){return new ai(e,2,t,jt.min(),Hs.empty(),0)}static newUnknownDocument(e,t){return new ai(e,3,t,jt.min(),Hs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ld{constructor(e,t=null,o=[],u=[],c=null,y=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=y,this.endAt=T,this.ut=null}}function sc(i,e=null,t=[],o=[],u=null,c=null,y=null){return new Ld(i,e,t,o,u,c,y)}function ku(i){const e=Jt(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ya(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Qt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ya(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ya(o)).join(",")),e.ut=t}return e.ut}function eu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!On(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Wr(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fr(i.startAt,e.startAt)&&Fr(i.endAt,e.endAt)}function Ku(i){return qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function M(i,e){return i.filters.filter(t=>t instanceof D&&t.field.isEqual(e))}function p(i,e,t){let o=Dn,u=!0;for(const c of M(i,e)){let y=Dn,T=!0;switch(c.op){case"<":case"<=":y=Nl(c.value);break;case"==":case"in":case">=":y=c.value;break;case">":y=c.value,T=!1;break;case"!=":case"not-in":y=Dn}Ru({value:o,inclusive:u},{value:y,inclusive:T})<0&&(o=y,u=T)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const y=t.position[c];Ru({value:o,inclusive:u},{value:y,inclusive:t.inclusive})<0&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}function g(i,e,t){let o=kn,u=!0;for(const c of M(i,e)){let y=kn,T=!0;switch(c.op){case">=":case">":y=Ou(c.value),T=!1;break;case"==":case"in":case"<=":y=c.value;break;case"<":y=c.value,T=!1;break;case"!=":case"not-in":y=kn}Ol({value:o,inclusive:u},{value:y,inclusive:T})>0&&(o=y,u=T)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const y=t.position[c];Ol({value:o,inclusive:u},{value:y,inclusive:t.inclusive})>0&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}class D extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,o):new H(e,t,o):"array-contains"===t?new tt(e,o):"in"===t?new St(e,o):"not-in"===t?new hn(e,o):"array-contains-any"===t?new pn(e,o):new D(e,t,o)}static ct(e,t,o){return"in"===t?new J(e,o):new me(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(so(t,this.value)):null!==t&&Jr(this.value)===Jr(t)&&this.at(so(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class H extends D{constructor(e,t,o){super(e,t,o),this.key=qt.fromName(o.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.at(t)}}class J extends D{constructor(e,t){super(e,"in",t),this.keys=Ie(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class me extends D{constructor(e,t){super(e,"not-in",t),this.keys=Ie(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ie(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>qt.fromName(o.referenceValue))}class tt extends D{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vo(t)&&Io(t.arrayValue,this.value)}}class St extends D{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Io(this.value.arrayValue,t)}}class hn extends D{constructor(e,t){super(e,"not-in",t)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Io(this.value.arrayValue,t)}}class pn extends D{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Io(this.value.arrayValue,o))}}class Kn{constructor(e,t){this.position=e,this.inclusive=t}}class Xn{constructor(e,t="asc"){this.field=e,this.dir=t}}function On(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Yn(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],y=i.position[u];if(o=c.field.isKeyField()?qt.comparator(qt.fromName(y.referenceValue),t.key):so(y,t.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function Fr(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wr(i.position[t],e.position[t]))return!1;return!0}class Sr{constructor(e,t=null,o=[],u=[],c=null,y="F",T=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=y,this.startAt=T,this.endAt=V,this.lt=null,this.ft=null}}function zi(i,e,t,o,u,c,y,T){return new Sr(i,e,t,o,u,c,y,T)}function es(i){return new Sr(i)}function Ba(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ls(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Wi(i){return null!==i.collectionGroup}function Co(i){const e=Jt(i);if(null===e.lt){e.lt=[];const t=ls(e),o=Ba(e);if(null!==t&&null===o)t.isKeyField()||e.lt.push(new Xn(t)),e.lt.push(new Xn(_n.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e.lt.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Xn(_n.keyField(),c))}}}return e.lt}function cs(i){const e=Jt(i);if(!e.ft)if("F"===e.limitType)e.ft=sc(e.path,e.collectionGroup,Co(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Co(e))t.push(new Xn(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new Kn(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Kn(e.startAt.position,e.startAt.inclusive):null;e.ft=sc(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.ft}function b(i,e,t){return new Sr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function h(i,e){return eu(cs(i),cs(e))&&i.limitType===e.limitType}function m(i){return`${ku(cs(i))}|lt:${i.limitType}`}function A(i){return`Query(target=${function Rl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ya(o.value)}`;var o}).join(", ")}]`),Qt(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ya(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ya(t)).join(",")),`Target(${e})`}(cs(i))}; limitType=${i.limitType})`}function z(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):qt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,c,y){const T=Yn(u,c,y);return u.inclusive?T<=0:T<0}(t.startAt,Co(t),o)||t.endAt&&!function(u,c,y){const T=Yn(u,c,y);return u.inclusive?T>=0:T>0}(t.endAt,Co(t),o)));var t,o}function ne(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function be(i){return(e,t)=>{let o=!1;for(const u of Co(i)){const c=qe(u,e,t);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function qe(i,e,t){const o=i.field.isKeyField()?qt.comparator(e.key,t.key):function(u,c,y){const T=c.data.field(u),V=y.data.field(u);return null!==T&&null!==V?so(T,V):dn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return dn()}}function It(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:An(e)?"-0":e}}function Yt(i){return{integerValue:""+i}}function Cn(i,e){return gn(e)?Yt(e):It(i,e)}class pr{constructor(){this._=void 0}}function Ri(i,e,t){return i instanceof ja?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(t,e):i instanceof Ma?ds(i,e):i instanceof Uo?To(i,e):function(o,u){const c=Lr(o,u),y=_u(c)+_u(o._t);return $s(c)&&$s(o._t)?Yt(y):It(o.wt,y)}(i,e)}function Ii(i,e,t){return i instanceof Ma?ds(i,e):i instanceof Uo?To(i,e):t}function Lr(i,e){return i instanceof $a?$s(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ja extends pr{}class Ma extends pr{constructor(e){super(),this.elements=e}}function ds(i,e){const t=dl(e);for(const o of i.elements)t.some(u=>Wr(u,o))||t.push(o);return{arrayValue:{values:t}}}class Uo extends pr{constructor(e){super(),this.elements=e}}function To(i,e){let t=dl(e);for(const o of i.elements)t=t.filter(u=>!Wr(u,o));return{arrayValue:{values:t}}}class $a extends pr{constructor(e,t){super(),this.wt=e,this._t=t}}function _u(i){return x(i.integerValue||i.doubleValue)}function dl(i){return Vo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fu{constructor(e,t){this.field=e,this.transform=t}}class Vd{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bd{}function yg(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new fl(i.key,Ui.none()):new hl(i.key,i.data,Ui.none());{const t=i.data,o=Hs.empty();let u=new Er(_n.comparator);for(let c of e.fields)if(!u.has(c)){let y=t.field(c);null===y&&c.length>1&&(c=c.popLast(),y=t.field(c)),null===y?o.delete(c):o.set(c,y),u=u.add(c)}return new Zu(i.key,o,new js(u.toArray()),Ui.none())}}function Ky(i,e,t){i instanceof hl?function(o,u,c){const y=o.value.clone(),T=vg(o.fieldTransforms,u,c.transformResults);y.setAll(T),u.convertToFoundDocument(c.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Zu?function(o,u,c){if(!Ud(o.precondition,u))return void u.convertToUnknownDocument(c.version);const y=vg(o.fieldTransforms,u,c.transformResults),T=u.data;T.setAll(Rs(o)),T.setAll(y),u.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function oc(i,e,t,o){return i instanceof hl?function(u,c,y,T){if(!Ud(u.precondition,c))return y;const V=u.value.clone(),G=Eg(u.fieldTransforms,T,c);return V.setAll(G),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Zu?function(u,c,y,T){if(!Ud(u.precondition,c))return y;const V=Eg(u.fieldTransforms,T,c),G=c.data;return G.setAll(Rs(u)),G.setAll(V),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===y?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ee=>ee.field))}(i,e,t,o):(y=t,Ud(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):y);var c,y}function jd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=Lr(o.transform,u||null);null!=c&&(null===t&&(t=Hs.empty()),t.set(o.field,c))}return t||null}function _g(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ee(t,o,(u,c)=>function mg(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Ma&&o instanceof Ma||t instanceof Uo&&o instanceof Uo?Ee(t.elements,o.elements,Wr):t instanceof $a&&o instanceof $a?Wr(t._t,o._t):t instanceof ja&&o instanceof ja);var t,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class hl extends Bd{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Zu extends Bd{constructor(e,t,o,u,c=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Rs(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function vg(i,e,t){const o=new Map;In(i.length===t.length);for(let u=0;u<t.length;u++){const c=i[u],y=c.transform,T=e.data.field(c.field);o.set(c.field,Ii(y,T,t[u]))}return o}function Eg(i,e,t){const o=new Map;for(const u of i){const c=u.transform,y=t.data.field(u.field);o.set(u.field,Ri(c,y,e))}return o}class fl extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $d extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zy{constructor(e){this.count=e}}var Gs,qr;function wg(i){switch(i){default:return dn();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function bg(i){if(void 0===i)return Qr("GRPC error has no .code"),ut.UNKNOWN;switch(i){case Gs.OK:return ut.OK;case Gs.CANCELLED:return ut.CANCELLED;case Gs.UNKNOWN:return ut.UNKNOWN;case Gs.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Gs.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Gs.INTERNAL:return ut.INTERNAL;case Gs.UNAVAILABLE:return ut.UNAVAILABLE;case Gs.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Gs.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Gs.NOT_FOUND:return ut.NOT_FOUND;case Gs.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Gs.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Gs.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Gs.ABORTED:return ut.ABORTED;case Gs.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Gs.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Gs.DATA_LOSS:return ut.DATA_LOSS;default:return dn()}}(qr=Gs||(Gs={}))[qr.OK=0]="OK",qr[qr.CANCELLED=1]="CANCELLED",qr[qr.UNKNOWN=2]="UNKNOWN",qr[qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qr[qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qr[qr.NOT_FOUND=5]="NOT_FOUND",qr[qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",qr[qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",qr[qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",qr[qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qr[qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qr[qr.ABORTED=10]="ABORTED",qr[qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",qr[qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",qr[qr.INTERNAL=13]="INTERNAL",qr[qr.UNAVAILABLE=14]="UNAVAILABLE",qr[qr.DATA_LOSS=15]="DATA_LOSS";class kl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(t,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return qu(this.inner)}size(){return this.innerSize}}const v0=new si(qt.comparator);function Ao(){return v0}const Hd=new si(qt.comparator);function Bc(...i){let e=Hd;for(const t of i)e=e.insert(t.key,t);return e}function Gd(i){let e=Hd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function xa(){return jc()}function Dg(){return jc()}function jc(){return new kl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Yy=new si(qt.comparator),Ig=new Er(qt.comparator);function wr(...i){let e=Ig;for(const t of i)e=e.add(t);return e}const Qy=new Er(X);function zd(){return Qy}class $c{constructor(e,t,o,u,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t)),new $c(jt.min(),o,zd(),Ao(),wr())}}class Fl{constructor(e,t,o,u,c){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Fl(fi.EMPTY_BYTE_STRING,t,wr(),wr(),wr())}}class Wd{constructor(e,t,o,u){this.gt=e,this.removedTargetIds=t,this.key=o,this.yt=u}}class Cg{constructor(e,t){this.targetId=e,this.It=t}}class Tg{constructor(e,t,o=fi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class cf{constructor(){this.Tt=0,this.Et=Xo(),this.At=fi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=wr(),t=wr(),o=wr();return this.Et.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:dn()}}),new Fl(this.At,this.Rt,e,t,o)}Dt(){this.bt=!1,this.Et=Xo()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Jy{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Ao(),this.Bt=Ag(),this.Lt=new Er(X)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const o=this.Qt(t);switch(e.state){case 0:this.jt(t)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((o,u)=>{this.jt(u)&&t(u)})}zt(e){const t=e.targetId,o=e.It.count,u=this.Ht(t);if(u){const c=u.target;if(Ku(c))if(0===o){const y=new qt(c.path);this.Kt(t,y,ai.newNoDocument(y,jt.min()))}else In(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((c,y)=>{const T=this.Ht(y);if(T){if(c.current&&Ku(T.target)){const V=new qt(T.target.path);null!==this.$t.get(V)||this.Xt(y,V)||this.Kt(y,V,ai.newNoDocument(V,e))}c.vt&&(t.set(y,c.St()),c.Dt())}});let o=wr();this.Bt.forEach((c,y)=>{let T=!0;y.forEachWhile(V=>{const G=this.Ht(V);return!G||2===G.purpose||(T=!1,!1)}),T&&(o=o.add(c))}),this.$t.forEach((c,y)=>y.setReadTime(e));const u=new $c(e,t,this.Lt,this.$t,o);return this.$t=Ao(),this.Bt=Ag(),this.Lt=new Er(X),u}qt(e,t){if(!this.jt(e))return;const o=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,o){if(!this.jt(e))return;const u=this.Qt(e);this.Xt(e,t)?u.Ct(t,1):u.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new cf,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Er(X),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||kt("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new cf),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new si(qt.comparator)}function Xo(){return new si(qt.comparator)}const df={asc:"ASCENDING",desc:"DESCENDING"},Sg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hf{constructor(e,t){this.databaseId=e,this.dt=t}}function zs(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ac(i,e){return i.dt?e.toBase64():e.toUint8Array()}function ff(i,e){return zs(i,e.toTimestamp())}function So(i){return In(!!i),jt.fromTimestamp(function(e){const t=Is(e);return new Rt(t.seconds,t.nanos)}(i))}function pf(i,e){return(t=i,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gf(i){const e=yn.fromString(i);return In(qd(e)),e}function Hc(i,e){return pf(i.databaseId,e.path)}function vu(i,e){const t=gf(e);if(t.get(1)!==i.databaseId.projectId)throw new Nt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Nt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new qt(Mg(t))}function mf(i,e){return pf(i.databaseId,e)}function yf(i){const e=gf(i);return 4===e.length?yn.emptyPath():Mg(e)}function Gc(i){return new yn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mg(i){return In(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function xg(i,e,t){return{name:Hc(i,e),fields:t.value.mapValue.fields}}function Pg(i,e,t){const o=vu(i,e.name),u=So(e.updateTime),c=new Hs({mapValue:{fields:e.fields}}),y=ai.newFoundDocument(o,u,c);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function Lu(i,e){let t;if(e instanceof hl)t={update:xg(i,e.key,e.value)};else if(e instanceof fl)t={delete:Hc(i,e.key)};else if(e instanceof Zu)t={update:xg(i,e.key,e.data),updateMask:Og(e.fieldMask)};else{if(!(e instanceof $d))return dn();t={verify:Hc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const y=c.transform;if(y instanceof ja)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ma)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Uo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof $a)return{fieldPath:c.field.canonicalString(),increment:y._t};throw dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:ff(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:dn()),t;var u}function Eu(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ui.updateTime(So(u.updateTime)):void 0!==u.exists?Ui.exists(u.exists):Ui.none():Ui.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(c,y){let T=null;"setToServerValue"in y?(In("REQUEST_TIME"===y.setToServerValue),T=new ja):"appendMissingElements"in y?T=new Ma(y.appendMissingElements.values||[]):"removeAllFromArray"in y?T=new Uo(y.removeAllFromArray.values||[]):"increment"in y?T=new $a(c,y.increment):dn();const V=_n.fromServerFormat(y.fieldPath);return new Fu(V,T)}(i,u)):[];var u;if(e.update){const u=vu(i,e.update.name),c=new Hs({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new js((e.updateMask.fieldPaths||[]).map(G=>_n.fromServerFormat(G)));return new Zu(u,c,y,t,o)}return new hl(u,c,t,o)}if(e.delete){const u=vu(i,e.delete);return new fl(u,t)}if(e.verify){const u=vu(i,e.verify);return new $d(u,t)}return dn()}function n_(i,e){return{documents:[mf(i,e.path)]}}function r_(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=mf(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mf(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const G=V.map(ee=>function(we){if("=="===we.op){if(Ua(we.value))return{unaryFilter:{field:uc(we.field),op:"IS_NAN"}};if(Sa(we.value))return{unaryFilter:{field:uc(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(Ua(we.value))return{unaryFilter:{field:uc(we.field),op:"IS_NOT_NAN"}};if(Sa(we.value))return{unaryFilter:{field:uc(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(we.field),op:Ef(we.op),value:we.value}}}(ee));return 1===G.length?G[0]:{compositeFilter:{op:"AND",filters:G}}}(e.filters);u&&(t.structuredQuery.where=u);const c=function(V){if(0!==V.length)return V.map(G=>{return{field:uc((ee=G).field),direction:vf(ee.dir)};var ee})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const y=(G=e.limit,i.dt||Qt(G)?G:{value:G});var G,T,V;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function _f(i){let e=yf(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){In(1===o);const ee=t.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let c=[];t.where&&(c=wu(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(ee=>{return new Xn(Ll((we=ee).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let T=null;t.limit&&(T=function(ee){let we;return we="object"==typeof ee?ee.value:ee,Qt(we)?null:we}(t.limit));let V=null;var ee;t.startAt&&(V=new Kn((ee=t.startAt).values||[],!!ee.before));let G=null;return t.endAt&&(G=function(ee){return new Kn(ee.values||[],!ee.before)}(t.endAt)),zi(e,u,y,c,T,"F",V,G)}function wu(i){return i?void 0!==i.unaryFilter?[Ng(i)]:void 0!==i.fieldFilter?[zc(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>wu(e)).reduce((e,t)=>e.concat(t)):dn():[]}function vf(i){return df[i]}function Ef(i){return Sg[i]}function uc(i){return{fieldPath:i.canonicalString()}}function Ll(i){return _n.fromServerFormat(i.fieldPath)}function zc(i){return D.create(Ll(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ng(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ll(i.unaryFilter.field);return D.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ll(i.unaryFilter.field);return D.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(i.unaryFilter.field);return D.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(i.unaryFilter.field);return D.create(u,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}function Og(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Bo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=i_(e)),e=Rg(i.get(t),e);return i_(e)}function Rg(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const c=i.charAt(u);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function i_(i){return i+"\x01\x01"}function _a(i){const e=i.length;if(In(e>=2),2===e)return In("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yn.emptyPath();const t=e-2,o=[];let u="";for(let c=0;c<e;){const y=i.indexOf("\x01",c);switch((y<0||y>t)&&dn(),i.charAt(y+1)){case"\x01":const T=i.substring(c,y);let V;0===u.length?V=T:(u+=T,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(c,y),u+="\0";break;case"\x11":u+=i.substring(c,y+1);break;default:dn()}c=y+2}return new yn(o)}const Kd=["userId","batchId"];function Wc(i,e){return[i,Bo(e)]}function kg(i,e,t){return[i,Bo(e),t]}const wf={},s_=["prefixPath","collectionGroup","readTime","documentId"],o_=["prefixPath","collectionGroup","documentId"],a_=["collectionGroup","readTime","prefixPath","documentId"],u_=["canonicalId","targetId"],l_=["targetId","path"],c_=["path","targetId"],Fg=["collectionId","parent"],bf=["indexId","uid"],Lg=["uid","sequenceNumber"],Df=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d_=["indexId","uid","orderedDocumentKey"],h_=["userId","collectionPath","documentId"],Vg=["userId","collectionPath","largestBatchId"],Ug=["userId","collectionGroup","largestBatchId"],pl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bg=[...pl,"documentOverlays"],If=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jg=If,$g=[...jg,"indexConfiguration","indexState","indexEntries"];class lc extends ga{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Mo(i,e){const t=Jt(i);return Oi.N(t.ee,e)}class Zd{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&Ky(c,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=oc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=oc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Dg();return this.mutations.forEach(u=>{const c=e.get(u.key),y=c.overlayedDocument;let T=this.applyToLocalView(y,c.mutatedFields);T=t.has(u.key)?null:T;const V=yg(y,T);null!==V&&o.set(u.key,V),y.isValidDocument()||y.convertToNoDocument(jt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wr())}isEqual(e){return this.batchId===e.batchId&&Ee(this.mutations,e.mutations,(t,o)=>_g(t,o))&&Ee(this.baseMutations,e.baseMutations,(t,o)=>_g(t,o))}}class Yd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){In(e.mutations.length===o.length);let u=Yy;const c=e.mutations;for(let y=0;y<c.length;y++)u=u.insert(c[y].key,o[y].version);return new Yd(e,t,o,u)}}class Qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vu{constructor(e,t,o,u,c=jt.min(),y=jt.min(),T=fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=T}withSequenceNumber(e){return new Vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Cf{constructor(e){this.ne=e}}function qc(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Hc(u=i.ne,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:zs(u,c.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Yu(e.version)};else{if(!e.isUnknownDocument())return dn();o.unknownDocument={path:t.path.toArray(),version:Yu(e.version)}}var u,c;return o}function Kc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Yu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gl(i){const e=new Rt(i.seconds,i.nanoseconds);return jt.fromTimestamp(e)}function Qu(i,e){const t=(e.baseMutations||[]).map(c=>Eu(i.ne,c));for(let c=0;c<e.mutations.length-1;++c){const y=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(y.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const o=e.mutations.map(c=>Eu(i.ne,c)),u=Rt.fromMillis(e.localWriteTimeMs);return new Zd(e.batchId,u,t,o)}function Ju(i){const e=gl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?gl(i.lastLimboFreeSnapshotVersion):jt.min();let o;var u;return void 0!==i.query.documents?(In(1===(u=i.query).documents.length),o=cs(es(yf(u.documents[0])))):o=cs(_f(i.query)),new Vu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,fi.fromBase64String(i.resumeToken))}function Hg(i,e){const t=Yu(e.snapshotVersion),o=Yu(e.lastLimboFreeSnapshotVersion);let u;u=Ku(e.target)?n_(i.ne,e.target):r_(i.ne,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ku(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Xd(i){const e=_f({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?b(e,e.limit,"L"):e}function Tf(i,e){return new Qd(e.largestBatchId,Eu(i.ne,e.overlayMutation))}function Gg(i,e){const t=e.path.lastSegment();return[i,Bo(e.path.popLast()),t]}function Af(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Yu(o.readTime),documentKey:Bo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Sf{getBundleMetadata(e,t){return Mf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:gl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Mf(e).put({bundleId:(o=t).id,createTime:Yu(So(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return f_(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Xd(u.bundledQuery),readTime:gl(u.readTime)};var u})}saveNamedQuery(e,t){return f_(e).put({name:(o=t).name,readTime:Yu(So(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Mf(i){return Mo(i,"bundles")}function f_(i){return Mo(i,"namedQueries")}class Zc{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Zc(e,t.uid||"")}getOverlay(e,t){return Yc(e).get(Gg(this.userId,t)).next(o=>o?Tf(this.wt,o):null)}getOverlays(e,t){const o=xa();return nt.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((c,y)=>{const T=new Qd(t,y);u.push(this.ie(e,T))}),nt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(y=>u.add(Bo(y.getCollectionPath())));const c=[];return u.forEach(y=>{const T=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);c.push(Yc(e).W("collectionPathOverlayIndex",T))}),nt.waitFor(c)}getOverlaysForCollection(e,t,o){const u=xa(),c=Bo(t),y=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Yc(e).K("collectionPathOverlayIndex",y).next(T=>{for(const V of T){const G=Tf(this.wt,V);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const c=xa();let y;const T=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yc(e).J({index:"collectionGroupOverlayIndex",range:T},(V,G,ee)=>{const we=Tf(this.wt,G);c.size()<u||we.largestBatchId===y?(c.set(we.getKey(),we),y=we.largestBatchId):ee.done()}).next(()=>c)}ie(e,t){return Yc(e).put(function(o,u,c){const[y,T,V]=Gg(u,c.mutation.key);return{userId:u,collectionPath:T,documentId:V,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Lu(o.ne,c.mutation)}}(this.wt,this.userId,t))}}function Yc(i){return Mo(i,"documentOverlays")}class ml{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(x(e.integerValue));else if("doubleValue"in e){const o=x(e.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),An(o)?t.ae(0):t.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(F(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in e?ic(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):dn()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const o=e.fields||{};this.ce(t,55);for(const u of Object.keys(o))this.le(u,t),this.oe(o[u],t)}me(e,t){const o=e.values||[];this.ce(t,50);for(const u of o)this.oe(u,t)}_e(e,t){this.ce(t,37),qt.fromName(e).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function p_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function zg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const c=p_(255&t[u]);if(o+=c,8!==c)break}return o}(i);return Math.ceil(e/8)}ml.ye=new ml;class bu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const u=t.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}this.Te()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}ve(e){const t=this.Ve(e),o=zg(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}De(e){const t=this.Ve(e),o=zg(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class g_{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Wg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Qc{constructor(){this.Me=new bu,this.Fe=new g_(this.Me),this.$e=new Wg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Vl{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,o)}}function Ul(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=qg(i.arrayValue,e.arrayValue),0!==t?t:(t=qg(i.directionalValue,e.directionalValue),0!==t?t:qt.comparator(i.documentKey,e.documentKey)))}function qg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Kg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const t=Xa(e);if(void 0!==t&&!this.Qe(t))return!1;const o=io(e);let u=0,c=0;for(;u<o.length&&this.Qe(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Ke){const y=o[u];if(!this.je(this.Ke,y)||!this.We(this.Ue[c++],y))return!1;++u}for(;u<o.length;++u){const y=o[u];if(c>=this.Ue.length||!this.We(this.Ue[c++],y))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class m_{constructor(){this.ze=new xf}addToCollectionParentIndex(e,t){return this.ze.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(bo.min())}updateCollectionGroup(e,t,o){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class xf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Er(yn.comparator),c=!u.has(o);return this.index[t]=u.add(o),c}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Er(yn.comparator)).toArray()}}const eh=new Uint8Array(0);class hr{constructor(e,t){this.user=e,this.databaseId=t,this.He=new xf,this.Je=new kl(o=>ku(o),(o,u)=>eu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const c={collectionId:o,parent:Bo(u)};return Pf(e).put(c)}return nt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[yt(t),""],!1,!0);return Pf(e).K(u).next(c=>{for(const y of c){if(y.collectionId!==t)break;o.push(_a(y.parent))}return o})}addFieldIndex(e,t){const o=Jc(e),u={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var y;delete u.indexId;const c=o.add(u);if(t.indexState){const y=Xc(e);return c.next(T=>{y.put(Af(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const o=Jc(e),u=Xc(e),c=cc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=cc(e);let u=!0;const c=new Map;return nt.forEach(this.Ye(t),y=>this.Xe(e,y).next(T=>{u&&(u=!!T),c.set(y,T)})).next(()=>{if(u){let y=wr();const T=[];return nt.forEach(c,(V,G)=>{var ee;kt("IndexedDbIndexManager",`Using index ${ee=V,`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map(Ur=>`${Ur.fieldPath}:${Ur.kind}`).join(",")}`} to execute ${ku(t)}`);const we=function(Ur,Cr){const Br=Xa(Cr);if(void 0===Br)return null;for(const Xr of M(Ur,Br.fieldPath))switch(Xr.op){case"array-contains-any":return Xr.value.arrayValue.values||[];case"array-contains":return[Xr.value]}return null}(G,V),it=function(Ur,Cr){const Br=new Map;for(const Xr of io(Cr))for(const qs of M(Ur,Xr.fieldPath))switch(qs.op){case"==":case"in":Br.set(Xr.fieldPath.canonicalString(),qs.value);break;case"not-in":case"!=":return Br.set(Xr.fieldPath.canonicalString(),qs.value),Array.from(Br.values())}return null}(G,V),Et=function(Ur,Cr){const Br=[];let Xr=!0;for(const qs of io(Cr)){const Od=0===qs.kind?p(Ur,qs.fieldPath,Ur.startAt):g(Ur,qs.fieldPath,Ur.startAt);Br.push(Od.value),Xr&&(Xr=Od.inclusive)}return new Kn(Br,Xr)}(G,V),Lt=function(Ur,Cr){const Br=[];let Xr=!0;for(const qs of io(Cr)){const Od=0===qs.kind?g(Ur,qs.fieldPath,Ur.endAt):p(Ur,qs.fieldPath,Ur.endAt);Br.push(Od.value),Xr&&(Xr=Od.inclusive)}return new Kn(Br,Xr)}(G,V),un=this.Ze(V,G,Et),bn=this.Ze(V,G,Lt),Vr=this.tn(V,G,it),pi=this.en(V.indexId,we,un,Et.inclusive,bn,Lt.inclusive,Vr);return nt.forEach(pi,Ur=>o.j(Ur,t.limit).next(Cr=>{Cr.forEach(Br=>{const Xr=qt.fromSegments(Br.documentKey);y.has(Xr)||(y=y.add(Xr),T.push(Xr))})}))}).next(()=>T)}return nt.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,o,u,c,y,T){const V=(null!=t?t.length:1)*Math.max(o.length,c.length),G=V/(null!=t?t.length:1),ee=[];for(let we=0;we<V;++we){const it=t?this.nn(t[we/G]):eh,Et=this.sn(e,it,o[we%G],u),Lt=this.rn(e,it,c[we%G],y),un=T.map(bn=>this.sn(e,it,bn,!0));ee.push(...this.createRange(Et,Lt,un))}return ee}sn(e,t,o,u){const c=new Vl(e,qt.empty(),t,o);return u?c:c.Le()}rn(e,t,o,u){const c=new Vl(e,qt.empty(),t,o);return u?c.Le():c}Xe(e,t){const o=new Kg(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(c=>{let y=null;for(const T of c)o.Ge(T)&&(!y||T.fields.length>y.fields.length)&&(y=T);return y})}getIndexType(e,t){let o=2;return nt.forEach(this.Ye(t),u=>this.Xe(e,u).next(c=>{c?0!==o&&c.fields.length<function(y){let T=new Er(_n.comparator),V=!1;for(const G of y.filters){const ee=G;ee.field.isKeyField()||("array-contains"===ee.op||"array-contains-any"===ee.op?V=!0:T=T.add(ee.field))}for(const G of y.orderBy)G.field.isKeyField()||(T=T.add(G.field));return T.size+(V?1:0)}(u)&&(o=1):o=0})).next(()=>o)}on(e,t){const o=new Qc;for(const u of io(e)){const c=t.data.field(u.fieldPath);if(null==c)return null;const y=o.Be(u.kind);ml.ye.re(c,y)}return o.Oe()}nn(e){const t=new Qc;return ml.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const o=new Qc;return ml.ye.re(oo(this.databaseId,t),o.Be(function(u){const c=io(u);return 0===c.length?0:c[c.length-1].kind}(e))),o.Oe()}tn(e,t,o){if(null===o)return[];let u=[];u.push(new Qc);let c=0;for(const y of io(e)){const T=o[c++];for(const V of u)if(this.cn(t,y.fieldPath)&&Vo(T))u=this.an(u,y,T);else{const G=V.Be(y.kind);ml.ye.re(T,G)}}return this.hn(u)}Ze(e,t,o){return this.tn(e,t,o.position)}hn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Oe();return t}an(e,t,o){const u=[...e],c=[];for(const y of o.arrayValue.values||[])for(const T of u){const V=new Qc;V.seed(T.Oe()),ml.ye.re(y,V.Be(t.kind)),c.push(V)}return c}cn(e,t){return!!e.filters.find(o=>o instanceof D&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Jc(e),u=Xc(e);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(c=>{const y=[];return nt.forEach(c,T=>u.get([T.indexId,this.uid]).next(V=>{y.push(function(G,ee){const we=ee?new hu(ee.sequenceNumber,new bo(gl(ee.readTime),new qt(_a(ee.documentKey)),ee.largestBatchId)):hu.empty(),it=G.fields.map(([Et,Lt])=>new du(_n.fromServerFormat(Et),Lt));return new wo(G.indexId,G.collectionGroup,it,we)}(T,V))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const c=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==c?c:X(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Jc(e),c=Xc(e);return this.ln(e).next(y=>u.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>nt.forEach(T,V=>c.put(Af(V.indexId,this.user,y,o)))))}updateIndexEntries(e,t){const o=new Map;return nt.forEach(t,(u,c)=>{const y=o.get(u.collectionGroup);return(y?nt.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),nt.forEach(T,V=>this.fn(e,u,V).next(G=>{const ee=this.dn(c,V);return G.isEqual(ee)?nt.resolve():this._n(e,c,V,G,ee)}))))})}wn(e,t,o,u){return cc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(e,t,o,u){return cc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(e,t,o){const u=cc(e);let c=new Er(Ul);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(y,T)=>{c=c.add(new Vl(o.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>c)}dn(e,t){let o=new Er(Ul);const u=this.on(t,e);if(null==u)return o;const c=Xa(t);if(null!=c){const y=e.data.field(c.fieldPath);if(Vo(y))for(const T of y.arrayValue.values||[])o=o.add(new Vl(t.indexId,e.key,this.nn(T),u))}else o=o.add(new Vl(t.indexId,e.key,eh,u));return o}_n(e,t,o,u,c){kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(T,V,G,ee,we){const it=T.getIterator(),Et=V.getIterator();let Lt=pu(it),un=pu(Et);for(;Lt||un;){let bn=!1,Vr=!1;if(Lt&&un){const pi=G(Lt,un);pi<0?Vr=!0:pi>0&&(bn=!0)}else null!=Lt?Vr=!0:bn=!0;bn?(ee(un),un=pu(Et)):Vr?(we(Lt),Lt=pu(it)):(Lt=pu(it),un=pu(Et))}}(u,c,Ul,T=>{y.push(this.wn(e,t,o,T))},T=>{y.push(this.mn(e,t,o,T))}),nt.waitFor(y)}ln(e){let t=1;return Xc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,c)=>{c.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((y,T)=>Ul(y,T)).filter((y,T,V)=>!T||0!==Ul(y,V[T-1]));const u=[];u.push(e);for(const y of o){const T=Ul(y,e),V=Ul(y,t);if(0===T)u[0]=e.Le();else if(T>0&&V<0)u.push(y),u.push(y.Le());else if(V>0)break}u.push(t);const c=[];for(let y=0;y<u.length;y+=2)c.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,eh,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,eh,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zg)}getMinOffset(e,t){return nt.mapArray(this.Ye(t),o=>this.Xe(e,o).next(u=>u||dn())).next(Zg)}}function Pf(i){return Mo(i,"collectionParents")}function cc(i){return Mo(i,"indexEntries")}function Jc(i){return Mo(i,"indexConfiguration")}function Xc(i){return Mo(i,"indexState")}function Zg(i){In(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Wu(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new bo(e.readTime,e.documentKey,t)}const Nf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Pa(e,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Of(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),c=[],y=IDBKeyRange.only(t.batchId);let T=0;const V=o.J({range:y},(ee,we,it)=>(T++,it.delete()));c.push(V.next(()=>{In(1===T)}));const G=[];for(const ee of t.mutations){const we=kg(e,ee.key.path,t.batchId);c.push(u.delete(we)),G.push(ee.key)}return nt.waitFor(c).next(()=>G)}function th(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw dn();e=i.noDocument}return JSON.stringify(e).length}Pa.DEFAULT_COLLECTION_PERCENTILE=10,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pa.DEFAULT=new Pa(41943040,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pa.DISABLED=new Pa(-1,0,0);class nh{constructor(e,t,o,u){this.userId=e,this.wt=t,this.indexManager=o,this.referenceDelegate=u,this.gn={}}static se(e,t,o,u){In(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new nh(c,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).J({index:"userMutationsIndex",range:o},(u,c,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const c=Bl(e),y=Xu(e);return y.add({}).next(T=>{In("number"==typeof T);const V=new Zd(T,t,o,u),G=function(it,Et,Lt){const un=Lt.baseMutations.map(Vr=>Lu(it.ne,Vr)),bn=Lt.mutations.map(Vr=>Lu(it.ne,Vr));return{userId:Et,batchId:Lt.batchId,localWriteTimeMs:Lt.localWriteTime.toMillis(),baseMutations:un,mutations:bn}}(this.wt,this.userId,V),ee=[];let we=new Er((it,Et)=>X(it.canonicalString(),Et.canonicalString()));for(const it of u){const Et=kg(this.userId,it.key.path,T);we=we.add(it.key.path.popLast()),ee.push(y.put(G)),ee.push(c.put(Et,wf))}return we.forEach(it=>{ee.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.gn[T]=V.keys()}),nt.waitFor(ee).next(()=>V)})}lookupMutationBatch(e,t){return Xu(e).get(t).next(o=>o?(In(o.userId===this.userId),Qu(this.wt,o)):null)}yn(e,t){return this.gn[t]?nt.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.gn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return Xu(e).J({index:"userMutationsIndex",range:u},(y,T,V)=>{T.userId===this.userId&&(In(T.batchId>=o),c=Qu(this.wt,T)),V.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(u,c,y)=>{o=c.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).K("userMutationsIndex",t).next(o=>o.map(u=>Qu(this.wt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Wc(this.userId,t.path),u=IDBKeyRange.lowerBound(o),c=[];return Bl(e).J({range:u},(y,T,V)=>{const[G,ee,we]=y,it=_a(ee);if(G===this.userId&&t.path.isEqual(it))return Xu(e).get(we).next(Et=>{if(!Et)throw dn();In(Et.userId===this.userId),c.push(Qu(this.wt,Et))});V.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Er(X);const u=[];return t.forEach(c=>{const y=Wc(this.userId,c.path),T=IDBKeyRange.lowerBound(y),V=Bl(e).J({range:T},(G,ee,we)=>{const[it,Et,Lt]=G,un=_a(Et);it===this.userId&&c.path.isEqual(un)?o=o.add(Lt):we.done()});u.push(V)}),nt.waitFor(u).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,c=Wc(this.userId,o),y=IDBKeyRange.lowerBound(c);let T=new Er(X);return Bl(e).J({range:y},(V,G,ee)=>{const[we,it,Et]=V,Lt=_a(it);we===this.userId&&o.isPrefixOf(Lt)?Lt.length===u&&(T=T.add(Et)):ee.done()}).next(()=>this.pn(e,T))}pn(e,t){const o=[],u=[];return t.forEach(c=>{u.push(Xu(e).get(c).next(y=>{if(null===y)throw dn();In(y.userId===this.userId),o.push(Qu(this.wt,y))}))}),nt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Of(e.ee,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),nt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Bl(e).J({range:o},(c,y,T)=>{if(c[0]===this.userId){const V=_a(c[1]);u.push(V)}else T.done()}).next(()=>{In(0===u.length)})})}containsKey(e,t){return y_(e,this.userId,t)}Tn(e){return Yg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function y_(i,e,t){const o=Wc(e,t.path),u=o[1],c=IDBKeyRange.lowerBound(o);let y=!1;return Bl(i).J({range:c,H:!0},(T,V,G)=>{const[ee,we,it]=T;ee===e&&we===u&&(y=!0),G.done()}).next(()=>y)}function Xu(i){return Mo(i,"mutations")}function Bl(i){return Mo(i,"documentMutations")}function Yg(i){return Mo(i,"mutationQueues")}class yl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new yl(0)}static Rn(){return new yl(-1)}}class Qg{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const o=new yl(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>jt.fromTimestamp(new Rt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.bn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Pn(e,u)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(e,o))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_l(e).delete(t.targetId)).next(()=>this.bn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,t,o){let u=0;const c=[];return _l(e).J((y,T)=>{const V=Ju(T);V.sequenceNumber<=t&&null===o.get(V.targetId)&&(u++,c.push(this.removeTargetData(e,V)))}).next(()=>nt.waitFor(c)).next(()=>u)}forEachTarget(e,t){return _l(e).J((o,u)=>{const c=Ju(u);t(c)})}bn(e){return __(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Pn(e,t){return __(e).put("targetGlobalKey",t)}vn(e,t){return _l(e).put(Hg(this.wt,t))}Vn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ku(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return _l(e).J({range:u,index:"queryTargetsIndex"},(y,T,V)=>{const G=Ju(T);eu(t,G.target)&&(c=G,V.done())}).next(()=>c)}addMatchingKeys(e,t,o){const u=[],c=vl(e);return t.forEach(y=>{const T=Bo(y.path);u.push(c.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,y))}),nt.waitFor(u)}removeMatchingKeys(e,t,o){const u=vl(e);return nt.forEach(t,c=>{const y=Bo(c.path);return nt.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,c)])})}removeMatchingKeysForTargetId(e,t){const o=vl(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=vl(e);let c=wr();return u.J({range:o,H:!0},(y,T,V)=>{const G=_a(y[1]),ee=new qt(G);c=c.add(ee)}).next(()=>c)}containsKey(e,t){const o=Bo(t.path),u=IDBKeyRange.bound([o],[yt(o)],!1,!0);let c=0;return vl(e).J({index:"documentTargetsIndex",H:!0,range:u},([y,T],V,G)=>{0!==y&&(c++,G.done())}).next(()=>c>0)}te(e,t){return _l(e).get(t).next(o=>o?Ju(o):null)}}function _l(i){return Mo(i,"targets")}function __(i){return Mo(i,"targetGlobal")}function vl(i){return Mo(i,"targetDocuments")}function rh([i,e],[t,o]){const u=X(i,t);return 0===u?X(e,o):u}class Jg{constructor(e){this.Sn=e,this.buffer=new Er(rh),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();rh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,de.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Os(o)?kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ds(o)}yield t.kn(3e5)}))}}class jl{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return nt.resolve(zr.ot);const o=new Jg(t);return this.On.forEachTarget(e,u=>o.xn(u.sequenceNumber)).next(()=>this.On.Fn(e,u=>o.xn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.On.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Nf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nf):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let o,u,c,y,T,V,G;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,y=Date.now(),this.nthSequenceNumber(e,u))).next(we=>(o=we,T=Date.now(),this.removeTargets(e,o,t))).next(we=>(c=we,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(we=>(G=Date.now(),bs()<=wt.in.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ee}ms\n\tDetermined least recently used ${u} in `+(T-y)+`ms\n\tRemoved ${c} targets in `+(V-T)+`ms\n\tRemoved ${we} documents in `+(G-V)+`ms\nTotal Duration: ${G-ee}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:we})))}}class v_{constructor(e,t){this.db=e,this.garbageCollector=new jl(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Bn(e){let t=0;return this.Fn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(o,u)=>t(u))}addReference(e,t,o){return dc(e,o)}removeReference(e,t,o){return dc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return dc(e,t)}Un(e,t){return function(o,u){let c=!1;return Yg(o).Y(y=>y_(o,y,u).next(T=>(T&&(c=!0),nt.resolve(!T)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let c=0;return this.Ln(e,(y,T)=>{if(T<=t){const V=this.Un(e,y).next(G=>{if(!G)return c++,o.getEntry(e,y).next(()=>(o.removeEntry(y,jt.min()),vl(e).delete([0,Bo(y.path)])))});u.push(V)}}).next(()=>nt.waitFor(u)).next(()=>o.apply(e)).next(()=>c)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return dc(e,t)}Ln(e,t){const o=vl(e);let u,c=zr.ot;return o.J({index:"documentTargetsIndex"},([y,T],{path:V,sequenceNumber:G})=>{0===y?(c!==zr.ot&&t(new qt(_a(u)),c),c=G,u=V):c=zr.ot}).next(()=>{c!==zr.ot&&t(new qt(_a(u)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dc(i,e){return vl(i).put((o=i.currentSequenceNumber,{targetId:0,path:Bo(e.path),sequenceNumber:o}));var o}class Rf{constructor(){this.changes=new kl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?nt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kf{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return el(e).put(o)}removeEntry(e,t,o){return el(e).delete(function(u,c){const y=u.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],Kc(c),y[y.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.qn(e,o)))}getEntry(e,t){let o=ai.newInvalidDocument(t);return el(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Uu(t))},(u,c)=>{o=this.Kn(t,c)}).next(()=>o)}Gn(e,t){let o={size:0,document:ai.newInvalidDocument(t)};return el(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Uu(t))},(u,c)=>{o={document:this.Kn(t,c),size:th(c)}}).next(()=>o)}getEntries(e,t){let o=Ao();return this.Qn(e,t,(u,c)=>{const y=this.Kn(u,c);o=o.insert(u,y)}).next(()=>o)}jn(e,t){let o=Ao(),u=new si(qt.comparator);return this.Qn(e,t,(c,y)=>{const T=this.Kn(c,y);o=o.insert(c,T),u=u.insert(c,th(y))}).next(()=>({documents:o,Wn:u}))}Qn(e,t,o){if(t.isEmpty())return nt.resolve();let u=new Er(sh);t.forEach(V=>u=u.add(V));const c=IDBKeyRange.bound(Uu(u.first()),Uu(u.last())),y=u.getIterator();let T=y.getNext();return el(e).J({index:"documentKeyIndex",range:c},(V,G,ee)=>{const we=qt.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;T&&sh(T,we)<0;)o(T,null),T=y.getNext();T&&T.isEqual(we)&&(o(T,G),T=y.hasNext()?y.getNext():null),T?ee.q(Uu(T)):ee.done()}).next(()=>{for(;T;)o(T,null),T=y.hasNext()?y.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),Kc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).K(IDBKeyRange.bound(u,c,!0)).next(y=>{let T=Ao();for(const V of y){const G=this.Kn(qt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);T=T.insert(G.key,G)}return T})}getAllFromCollectionGroup(e,t,o,u){let c=Ao();const y=Ff(t,o),T=Ff(t,bo.max());return el(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,T,!0)},(V,G,ee)=>{const we=this.Kn(qt.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);c=c.insert(we.key,we),c.size===u&&ee.done()}).next(()=>c)}newChangeBuffer(e){return new E_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ih(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}qn(e,t){return ih(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const o=function Jd(i,e){let t;if(e.document)t=Pg(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=qt.fromSegments(e.noDocument.path),u=gl(e.noDocument.readTime);t=ai.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dn();{const o=qt.fromSegments(e.unknownDocument.path),u=gl(e.unknownDocument.version);t=ai.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Rt(o[0],o[1]);return jt.fromTimestamp(u)}(e.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(jt.min()))return o}return ai.newInvalidDocument(e)}}function ed(i){return new kf(i)}class E_ extends Rf{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new kl(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Er((c,y)=>X(c.canonicalString(),y.canonicalString()));return this.changes.forEach((c,y)=>{const T=this.Hn.get(c);if(t.push(this.zn.removeEntry(e,c,T.readTime)),y.isValidDocument()){const V=qc(this.zn.wt,y);u=u.add(c.path.popLast()),o+=th(V)-T.size,t.push(this.zn.addEntry(e,c,V))}else if(o-=T.size,this.trackRemovals){const V=qc(this.zn.wt,y.convertToNoDocument(jt.min()));t.push(this.zn.addEntry(e,c,V))}}),u.forEach(c=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.zn.updateMetadata(e,o)),nt.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:o,Wn:u})=>(u.forEach((c,y)=>{this.Hn.set(c,{size:y,readTime:o.get(c).readTime})}),o))}}function ih(i){return Mo(i,"remoteDocumentGlobal")}function el(i){return Mo(i,"remoteDocumentsV14")}function Uu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ff(i,e){const t=e.documentKey.path.toArray();return[i,Kc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sh(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let c=0;c<t.length-2&&c<o.length-2;++c)if(u=X(t[c],o[c]),u)return u;return u=X(t.length,o.length),u||(u=X(t[t.length-2],o[o.length-2]),u||X(t[t.length-1],o[o.length-1]))}class w_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class em{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&oc(o.mutation,u,js.empty(),Rt.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,wr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=wr()){const u=xa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(c=>{let y=Bc();return c.forEach((T,V)=>{y=y.insert(T,V.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const o=xa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,wr()))}populateOverlays(e,t,o){const u=[];return o.forEach(c=>{t.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((y,T)=>{t.set(y,T)})})}computeViews(e,t,o,u){let c=Ao();const y=jc(),T=jc();return t.forEach((V,G)=>{const ee=o.get(G.key);u.has(G.key)&&(void 0===ee||ee.mutation instanceof Zu)?c=c.insert(G.key,G):void 0!==ee&&(y.set(G.key,ee.mutation.getFieldMask()),oc(ee.mutation,G,ee.mutation.getFieldMask(),Rt.now()))}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((G,ee)=>y.set(G,ee)),t.forEach((G,ee)=>{var we;return T.set(G,new w_(ee,null!==(we=y.get(G))&&void 0!==we?we:null))}),T))}recalculateAndSaveOverlays(e,t){const o=jc();let u=new si((y,T)=>y-T),c=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const T of y)T.keys().forEach(V=>{const G=t.get(V);if(null===G)return;let ee=o.get(V)||js.empty();ee=T.applyToLocalView(G,ee),o.set(V,ee);const we=(u.get(T.batchId)||wr()).add(V);u=u.insert(T.batchId,we)})}).next(()=>{const y=[],T=u.getReverseIterator();for(;T.hasNext();){const V=T.getNext(),G=V.key,ee=V.value,we=Dg();ee.forEach(it=>{if(!c.has(it)){const Et=yg(t.get(it),o.get(it));null!==Et&&we.set(it,Et),c=c.add(it)}}),y.push(this.documentOverlayCache.saveOverlays(e,G,we))}return nt.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return qt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(c=>{const y=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-c.size):nt.resolve(xa());let T=-1,V=c;return y.next(G=>nt.forEach(G,(ee,we)=>(T<we.largestBatchId&&(T=we.largestBatchId),c.get(ee)?nt.resolve():this.getBaseDocument(e,ee,we).next(it=>{V=V.insert(ee,it)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,V,G,wr())).next(ee=>({batchId:T,changes:Gd(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(o=>{let u=Bc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let c=Bc();return this.indexManager.getCollectionParents(e,u).next(y=>nt.forEach(y,T=>{const V=(G=t,ee=T.child(u),new Sr(ee,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,ee;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(G=>{G.forEach((ee,we)=>{c=c.insert(ee,we)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(c=>{c.forEach((T,V)=>{const G=V.getKey();null===u.get(G)&&(u=u.insert(G,ai.newInvalidDocument(G)))});let y=Bc();return u.forEach((T,V)=>{const G=c.get(T);void 0!==G&&oc(G.mutation,V,js.empty(),Rt.now()),z(t,V)&&(y=y.insert(T,V))}),y})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):nt.resolve(ai.newInvalidDocument(t))}}class tm{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return nt.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:So(o.createTime)}),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(o=t).name,query:Xd(o.bundledQuery),readTime:So(o.readTime)}),nt.resolve();var o}}class hc{constructor(){this.overlays=new si(qt.comparator),this.Xn=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=xa();return nt.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,c)=>{this.ie(e,t,c)}),nt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Xn.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.Xn.delete(o)),nt.resolve()}getOverlaysForCollection(e,t,o){const u=xa(),c=t.length+1,y=new qt(t.child("")),T=this.overlays.getIteratorFrom(y);for(;T.hasNext();){const V=T.getNext().value,G=V.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&V.largestBatchId>o&&u.set(V.getKey(),V)}return nt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let c=new si((G,ee)=>G-ee);const y=this.overlays.getIterator();for(;y.hasNext();){const G=y.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>o){let ee=c.get(G.largestBatchId);null===ee&&(ee=xa(),c=c.insert(G.largestBatchId,ee)),ee.set(G.getKey(),G)}}const T=xa(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((G,ee)=>T.set(G,ee)),!(T.size()>=u)););return nt.resolve(T)}ie(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.Xn.get(u.largestBatchId).delete(o.key);this.Xn.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new Qd(t,o));let c=this.Xn.get(t);void 0===c&&(c=wr(),this.Xn.set(t,c)),this.Xn.set(t,c.add(o.key))}}class Lf{constructor(){this.Zn=new Er(xo.ts),this.es=new Er(xo.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const o=new xo(e,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.rs(new xo(e,t))}os(e,t){e.forEach(o=>this.removeReference(o,t))}us(e){const t=new qt(new yn([])),o=new xo(t,e),u=new xo(t,e+1),c=[];return this.es.forEachInRange([o,u],y=>{this.rs(y),c.push(y.key)}),c}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new qt(new yn([])),o=new xo(t,e),u=new xo(t,e+1);let c=wr();return this.es.forEachInRange([o,u],y=>{c=c.add(y.key)}),c}containsKey(e){const t=new xo(e,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class xo{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return qt.comparator(e.key,t.key)||X(e.ls,t.ls)}static ns(e,t){return X(e.ls,t.ls)||qt.comparator(e.key,t.key)}}class b_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Er(xo.ts)}checkEmpty(e){return nt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const c=this.fs;this.fs++;const y=new Zd(c,t,o,u);this.mutationQueue.push(y);for(const T of u)this.ds=this.ds.add(new xo(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return nt.resolve(y)}lookupMutationBatch(e,t){return nt.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ws(t+1),c=u<0?0:u;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new xo(t,0),u=new xo(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([o,u],y=>{const T=this._s(y.ls);c.push(T)}),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Er(X);return t.forEach(u=>{const c=new xo(u,0),y=new xo(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,y],T=>{o=o.add(T.ls)})}),nt.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let c=o;qt.isDocumentKey(c)||(c=c.child(""));const y=new xo(new qt(c),0);let T=new Er(X);return this.ds.forEachWhile(V=>{const G=V.key.path;return!!o.isPrefixOf(G)&&(G.length===u&&(T=T.add(V.ls)),!0)},y),nt.resolve(this.gs(T))}gs(e){const t=[];return e.forEach(o=>{const u=this._s(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){In(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return nt.forEach(t.mutations,u=>{const c=new xo(u.key,t.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,t){const o=new xo(t,0),u=this.ds.firstAfterOrEqual(o);return nt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return nt.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class D_{constructor(e){this.ps=e,this.docs=new si(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),c=u?u.size:0,y=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return nt.resolve(o?o.document.mutableCopy():ai.newInvalidDocument(t))}getEntries(e,t){let o=Ao();return t.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():ai.newInvalidDocument(u))}),nt.resolve(o)}getAllFromCollection(e,t,o){let u=Ao();const c=new qt(t.child("")),y=this.docs.getIteratorFrom(c);for(;y.hasNext();){const{key:T,value:{document:V}}=y.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||Wu(La(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){dn()}Is(e,t){return nt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Vf(this)}getSize(e){return nt.resolve(this.size)}}class Vf extends Rf{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.zn.addEntry(e,u)):this.zn.removeEntry(o)}),nt.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nm{constructor(e){this.persistence=e,this.Ts=new kl(t=>ku(t),eu),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.Es=0,this.As=new Lf,this.targetCount=0,this.Rs=yl.An()}forEachTarget(e,t){return this.Ts.forEach((o,u)=>t(u)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),nt.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.vn(t),nt.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,o){let u=0;const c=[];return this.Ts.forEach((y,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.Ts.delete(y),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),nt.waitFor(c).next(()=>u)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Ts.get(t)||null;return nt.resolve(o)}addMatchingKeys(e,t,o){return this.As.ss(t,o),nt.resolve()}removeMatchingKeys(e,t,o){this.As.os(t,o);const u=this.persistence.referenceDelegate,c=[];return u&&t.forEach(y=>{c.push(u.markPotentiallyOrphaned(e,y))}),nt.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.As.hs(t);return nt.resolve(o)}containsKey(e,t){return nt.resolve(this.As.containsKey(t))}}class Uf{constructor(e,t){this.bs={},this.overlays={},this.Ps=new zr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nm(this),this.indexManager=new m_,this.remoteDocumentCache=new D_(o=>this.referenceDelegate.Ss(o)),this.wt=new Cf(t),this.Ds=new tm(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.bs[e.toKey()];return o||(o=new b_(t,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,o){kt("MemoryPersistence","Starting transaction:",e);const u=new Bu(this.Ps.next());return this.referenceDelegate.Cs(),o(u).next(c=>this.referenceDelegate.xs(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ns(e,t){return nt.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,t)))}}class Bu extends ga{constructor(e){super(),this.currentSequenceNumber=e}}class oh{constructor(e){this.persistence=e,this.ks=new Lf,this.Os=null}static Ms(e){return new oh(e)}get Fs(){if(this.Os)return this.Os;throw dn()}addReference(e,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),nt.resolve()}removeReference(e,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),nt.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(u=>this.Fs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(c=>this.Fs.add(c.toString()))}).next(()=>o.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.Fs,o=>{const u=qt.fromPath(o);return this.$s(e,u).next(c=>{c||t.removeEntry(u,jt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return nt.or([()=>nt.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Bf{constructor(e){this.wt=e}O(e,t,o,u){const c=new Xi("createOrUpgrade",t);var T;o<1&&u>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0}),T.createObjectStore("documentMutations"),ah(e),function(T){T.createObjectStore("remoteDocuments")}(e));let y=nt.resolve();return o<3&&u>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),ah(e)),y=y.next(()=>function(T){const V=T.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jt.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",G)}(c))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(T,V){return V.store("mutations").K().next(G=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0});const ee=V.store("mutations"),we=G.map(it=>ee.put(it));return nt.waitFor(we)})}(e,c))),y=y.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Bs(c))),o<6&&u>=6&&(y=y.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(c)))),o<7&&u>=7&&(y=y.next(()=>this.Us(c))),o<8&&u>=8&&(y=y.next(()=>this.qs(e,c))),o<9&&u>=9&&(y=y.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(y=y.next(()=>this.Ks(c))),o<11&&u>=11&&(y=y.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(T){const V=T.createObjectStore("documentOverlays",{keyPath:h_});V.createIndex("collectionPathOverlayIndex",Vg,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",Ug,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>function(T){const V=T.createObjectStore("remoteDocumentsV14",{keyPath:s_});V.createIndex("documentKeyIndex",o_),V.createIndex("collectionGroupIndex",a_)}(e)).next(()=>this.Gs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(y=y.next(()=>this.Qs(e,c))),o<15&&u>=15&&(y=y.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:bf}).createIndex("sequenceNumberIndex",Lg,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Df}).createIndex("documentKeyIndex",d_,{unique:!1})}(e))),y}Ls(e){let t=0;return e.store("remoteDocuments").J((o,u)=>{t+=th(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.K().next(u=>nt.forEach(u,c=>{const y=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",y).next(T=>nt.forEach(T,V=>{In(V.userId===c.userId);const G=Qu(this.wt,V);return Of(e,c.userId,G).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const c=[];return o.J((y,T)=>{const V=new yn(y),G=[0,Bo(V)];c.push(t.get(G).next(ee=>ee?nt.resolve():t.put({targetId:0,path:Bo(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>nt.waitFor(c))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Fg});const o=t.store("collectionParents"),u=new xf,c=y=>{if(u.add(y)){const T=y.lastSegment(),V=y.popLast();return o.put({collectionId:T,parent:Bo(V)})}};return t.store("remoteDocuments").J({H:!0},(y,T)=>{const V=new yn(y);return c(V.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([y,T,V],G)=>{const ee=_a(T);return c(ee.popLast())}))}Ks(e){const t=e.store("targets");return t.J((o,u)=>{const c=Ju(u),y=Hg(this.wt,c);return t.put(y)})}Gs(e,t){const o=t.store("remoteDocuments"),u=[];return o.J((c,y)=>{const T=t.store("remoteDocumentsV14"),V=(G=y,G.document?new qt(yn.fromString(G.document.name).popFirst(5)):G.noDocument?qt.fromSegments(G.noDocument.path):G.unknownDocument?qt.fromSegments(G.unknownDocument.path):dn()).path.toArray();var G;const ee={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};u.push(T.put(ee))}).next(()=>nt.waitFor(u))}Qs(e,t){const o=t.store("mutations"),u=ed(this.wt),c=new Uf(oh.Ms,this.wt.ne);return o.K().next(y=>{const T=new Map;return y.forEach(V=>{var G;let ee=null!==(G=T.get(V.userId))&&void 0!==G?G:wr();Qu(this.wt,V).keys().forEach(we=>ee=ee.add(we)),T.set(V.userId,ee)}),nt.forEach(T,(V,G)=>{const ee=new ii(G),we=Zc.se(this.wt,ee),it=c.getIndexManager(ee),Et=nh.se(ee,this.wt,it,c.referenceDelegate);return new em(u,Et,we,it).recalculateAndSaveOverlaysForDocumentKeys(new lc(t,zr.ot),V).next()})})}}function ah(i){i.createObjectStore("targetDocuments",{keyPath:l_}).createIndex("documentTargetsIndex",c_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u_,{unique:!0}),i.createObjectStore("targetGlobal")}const jf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rm{constructor(e,t,o,u,c,y,T,V,G,ee,we=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.js=c,this.window=y,this.document=T,this.Ws=G,this.zs=ee,this.Hs=we,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=it=>Promise.resolve(),!rm.V())throw new Nt(ut.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,u),this.ei=t+"main",this.wt=new Cf(V),this.ni=new Oi(this.ei,this.Hs,new Bf(this.wt)),this.Vs=new Qg(this.referenceDelegate,this.wt),this.remoteDocumentCache=ed(this.wt),this.Ds=new Sf,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ee&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(ut.FAILED_PRECONDITION,jf);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new zr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var o=(0,de.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,de.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,de.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Os(e))return kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return uh(e).get("owner").next(t=>nt.resolve(this.di(t)))}_i(e){return $f(e).delete(this.clientId)}wi(){var e=this;return(0,de.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Mo(o,"clientMetadata");return u.K().next(c=>{const y=e.gi(c,18e5),T=c.filter(V=>-1===y.indexOf(V));return nt.forEach(T,V=>u.delete(V.clientId)).next(()=>T)})}).catch(()=>[]);if(e.si)for(const o of t)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?nt.resolve(!0):uh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Nt(ut.FAILED_PRECONDITION,jf);return!1}}return!(!this.networkEnabled||!this.inForeground)||$f(e).K().next(o=>void 0===this.gi(o,5e3).find(u=>{if(this.clientId!==u.clientId){const y=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||y&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,de.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new lc(t,zr.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>$f(e).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return nh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hr(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Zc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,o){kt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",c=15===(y=this.Hs)?$g:14===y?jg:13===y?If:12===y?Bg:11===y?pl:void dn();var y;let T;return this.ni.runTransaction(e,u,c,V=>(T=new lc(V,this.Ps?this.Ps.next():zr.ot),"readwrite-primary"===t?this.ai(T).next(G=>!!G||this.hi(T)).next(G=>{if(!G)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Nt(ut.FAILED_PRECONDITION,Ni);return o(T)}).next(G=>this.fi(T).next(()=>G)):this.bi(T).next(()=>o(T)))).then(V=>(T.raiseOnCommittedEvent(),V))}bi(e){return uh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Nt(ut.FAILED_PRECONDITION,jf)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uh(e).put("owner",t)}static V(){return Oi.V()}li(e){const t=uh(e);return t.get("owner").next(o=>this.di(o)?(kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):nt.resolve())}mi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Qr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,ae.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Qr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uh(i){return Mo(i,"owner")}function $f(i){return Mo(i,"clientMetadata")}function Hf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class lh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Pi=o,this.vi=u}static Vi(e,t){let o=wr(),u=wr();for(const c of t.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new lh(e,t.fromCache,o,u)}}class I_{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ci(e,t).next(c=>c||this.xi(e,t,u,o)).next(c=>c||this.Ni(e,t))}Ci(e,t){return nt.resolve(null)}xi(e,t,o,u){return function Cs(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||u.isEqual(jt.min())?this.Ni(e,t):this.Di.getDocuments(e,o).next(c=>{const y=this.ki(t,c);return this.Oi(t,y,o,u)?this.Ni(e,t):(bs()<=wt.in.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),A(t)),this.Mi(e,y,t,zu(u,-1)))})}ki(e,t){let o=new Er(be(e));return t.forEach((u,c)=>{z(e,c)&&(o=o.add(c))}),o}Oi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Ni(e,t){return bs()<=wt.in.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",A(t)),this.Di.getDocumentsMatchingQuery(e,t,bo.min())}Mi(e,t,o,u){return this.Di.getDocumentsMatchingQuery(e,o,u).next(c=>(t.forEach(y=>{c=c.insert(y.key,y)}),c))}}class C_{constructor(e,t,o,u){this.persistence=e,this.Fi=t,this.wt=u,this.$i=new si(X),this.Bi=new kl(c=>ku(c),eu),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new em(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function $l(i,e,t,o){return new C_(i,e,t,o)}function im(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,de.Z)(function*(i,e){const t=Jt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,t.qi(e),t.mutationQueue.getAllMutationBatches(o))).next(c=>{const y=[],T=[];let V=wr();for(const G of u){y.push(G.batchId);for(const ee of G.mutations)V=V.add(ee.key)}for(const G of c){T.push(G.batchId);for(const ee of G.mutations)V=V.add(ee.key)}return t.localDocuments.getDocuments(o,V).next(G=>({Ki:G,removedBatchIds:y,addedBatchIds:T}))})})}),ch.apply(this,arguments)}function dh(i,e){const t=Jt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=t.Ui.newChangeBuffer({trackRemovals:!0});return function(y,T,V,G){const ee=V.batch,we=ee.keys();let it=nt.resolve();return we.forEach(Et=>{it=it.next(()=>G.getEntry(T,Et)).next(Lt=>{const un=V.docVersions.get(Et);In(null!==un),Lt.version.compareTo(un)<0&&(ee.applyToRemoteDocument(Lt,V),Lt.isValidDocument()&&(Lt.setReadTime(V.commitVersion),G.addEntry(Lt)))})}),it.next(()=>y.mutationQueue.removeMutationBatch(T,ee))}(t,o,e,c).next(()=>c.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(y){let T=wr();for(let V=0;V<y.mutationResults.length;++V)y.mutationResults[V].transformResults.length>0&&(T=T.add(y.batch.mutations[V].key));return T}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function sm(i){const e=Jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function om(i,e){const t=Jt(i),o=e.snapshotVersion;let u=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const y=t.Ui.newChangeBuffer({trackRemovals:!0});u=t.$i;const T=[];e.targetChanges.forEach((ee,we)=>{const it=u.get(we);if(!it)return;T.push(t.Vs.removeMatchingKeys(c,ee.removedDocuments,we).next(()=>t.Vs.addMatchingKeys(c,ee.addedDocuments,we)));let Et=it.withSequenceNumber(c.currentSequenceNumber);var Lt,un,bn;e.targetMismatches.has(we)?Et=Et.withResumeToken(fi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):ee.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(ee.resumeToken,o)),u=u.insert(we,Et),un=Et,bn=ee,(0===(Lt=it).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||bn.addedDocuments.size+bn.modifiedDocuments.size+bn.removedDocuments.size>0)&&T.push(t.Vs.updateTargetData(c,Et))});let V=Ao(),G=wr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,ee))}),T.push(am(c,y,e.documentUpdates).next(ee=>{V=ee.Gi,G=ee.Qi})),!o.isEqual(jt.min())){const ee=t.Vs.getLastRemoteSnapshotVersion(c).next(we=>t.Vs.setTargetsMetadata(c,c.currentSequenceNumber,o));T.push(ee)}return nt.waitFor(T).next(()=>y.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,G)).next(()=>V)}).then(c=>(t.$i=u,c))}function am(i,e,t){let o=wr(),u=wr();return t.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let y=Ao();return t.forEach((T,V)=>{const G=c.get(T);V.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(T)),V.isNoDocument()&&V.version.isEqual(jt.min())?(e.removeEntry(T,V.readTime),y=y.insert(T,V)):!G.isValidDocument()||V.version.compareTo(G.version)>0||0===V.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(V),y=y.insert(T,V)):kt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",G.version," Watch version:",V.version)}),{Gi:y,Qi:u}})}function T_(i,e){const t=Jt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function fc(i,e){const t=Jt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Vs.getTargetData(o,e).next(c=>c?(u=c,nt.resolve(u)):t.Vs.allocateTargetId(o).next(y=>(u=new Vu(e,y,0,o.currentSequenceNumber),t.Vs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.$i.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(e,o.targetId)),o})}function pc(i,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,de.Z)(function*(i,e,t){const o=Jt(i),u=o.$i.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",c,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Os(y))throw y;kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.$i=o.$i.remove(e),o.Bi.delete(u.target)}),Gf.apply(this,arguments)}function td(i,e,t){const o=Jt(i);let u=jt.min(),c=wr();return o.persistence.runTransaction("Execute query","readonly",y=>function(T,V,G){const ee=Jt(T),we=ee.Bi.get(G);return void 0!==we?nt.resolve(ee.$i.get(we)):ee.Vs.getTargetData(V,G)}(o,y,cs(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(y,T.targetId).next(V=>{c=V})}).next(()=>o.Fi.getDocumentsMatchingQuery(y,e,t?u:jt.min(),t?c:wr())).next(T=>(Wf(o,ne(e),T),{documents:T,ji:c})))}function um(i,e){const t=Jt(i),o=Jt(t.Vs),u=t.$i.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",c=>o.te(c,e).next(y=>y?y.target:null))}function zf(i,e){const t=Jt(i),o=t.Li.get(e)||jt.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ui.getAllFromCollectionGroup(u,e,zu(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Wf(t,e,u),u))}function Wf(i,e,t){let o=jt.min();t.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Li.set(e,o)}function lm(){return lm=(0,de.Z)(function*(i,e,t,o){const u=Jt(i);let c=wr(),y=Ao();for(const G of t){const ee=e.Wi(G.metadata.name);G.document&&(c=c.add(ee));const we=e.zi(G);we.setReadTime(e.Hi(G.metadata.readTime)),y=y.insert(ee,we)}const T=u.Ui.newChangeBuffer({trackRemovals:!0}),V=yield fc(u,(G=o,cs(es(yn.fromString(`__bundle__/docs/${G}`)))));var G;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>am(G,T,y).next(ee=>(T.apply(G),ee)).next(ee=>u.Vs.removeMatchingKeysForTargetId(G,V.targetId).next(()=>u.Vs.addMatchingKeys(G,c,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,ee.Gi,ee.Qi)).next(()=>ee.Gi)))}),lm.apply(this,arguments)}function Kf(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,de.Z)(function*(i,e,t=wr()){const o=yield fc(i,cs(Xd(e.bundledQuery))),u=Jt(i);return u.persistence.runTransaction("Save named query","readwrite",c=>{const y=So(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u.Ds.saveNamedQuery(c,e);const T=o.withResumeToken(fi.EMPTY_BYTE_STRING,y);return u.$i=u.$i.insert(T.targetId,T),u.Vs.updateTargetData(c,T).next(()=>u.Vs.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>u.Vs.addMatchingKeys(c,t,o.targetId)).next(()=>u.Ds.saveNamedQuery(c,e))})}),Zf.apply(this,arguments)}function A_(i,e){return`firestore_clients_${i}_${e}`}function Hl(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function hh(i,e){return`firestore_targets_${i}_${e}`}class fh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Ji(e,t,o){const u=JSON.parse(o);let c,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(c=new Nt(u.error.code,u.error.message))),y?new fh(e,t,u.state,c):(Qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nd{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let u,c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(u=new Nt(o.error.code,o.error.message))),c?new nd(e,o.state,u):(Qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,c=zd();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=gn(o.activeTargetIds[y]),c=c.add(o.activeTargetIds[y]);return u?new gc(e,c):(Qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cm{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cm(t.clientId,t.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=zd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rd{constructor(e,t,o,u,c){this.window=e,this.js=t,this.persistenceKey=o,this.tr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new si(X),this.started=!1,this.ir=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.rr=A_(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dm),this.cr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,de.Z)(function*(){const t=yield e.syncEngine.Ri();for(const u of t){if(u===e.tr)continue;const c=e.getItem(A_(e.persistenceKey,u));if(c){const y=gc.Ji(u,c);y&&(e.sr=e.sr.insert(y.clientId,y))}}e._r();const o=e.storage.getItem(e.lr);if(o){const u=e.wr(o);u&&e.mr(u)}for(const u of e.ir)e.nr(u);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(hh(this.persistenceKey,e));if(o){const u=nd.Ji(e,o);u&&(t=u.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.pr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return kt("SharedClientState","READ",e,t),t}setItem(e,t){kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,de.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const u=t.Rr(o.key);return t.br(u,null)}{const u=t.Pr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const u=t.vr(o.key,o.newValue);if(u)return t.Vr(u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.Sr(o.key,o.newValue);if(u)return t.Dr(u)}}else if(o.key===t.lr){if(null!==o.newValue){const u=t.wr(o.newValue);if(u)return t.mr(u)}}else if(o.key===t.ur){const u=function(c){let y=zr.ot;if(null!=c)try{const T=JSON.parse(c);In("number"==typeof T),y=T}catch(T){Qr("SharedClientState","Failed to read sequence number from WebStorage",T)}return y}(o.newValue);u!==zr.ot&&t.sequenceNumberHandler(u)}else if(o.key===t.dr){const u=t.Cr(o.newValue);yield Promise.all(u.map(c=>t.syncEngine.Nr(c)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const u=new fh(this.currentUser,e,t,o),c=Hl(this.persistenceKey,this.currentUser,e);this.setItem(c,u.Yi())}pr(e){const t=Hl(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const u=hh(this.persistenceKey,e),c=new nd(e,t,o);this.setItem(u,c.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return gc.Ji(o,t)}vr(e,t){const o=this.ar.exec(e),u=Number(o[1]);return fh.Ji(new ii(void 0!==o[2]?o[2]:null),u,t)}Sr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return nd.Ji(u,t)}wr(e){return cm.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,de.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),u=this.gr(this.sr),c=this.gr(o),y=[],T=[];return c.forEach(V=>{u.has(V)||y.push(V)}),u.forEach(V=>{c.has(V)||T.push(V)}),this.syncEngine.Mr(y,T).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=zd();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class S_{constructor(){this.Fr=new dm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new dm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w0{Br(e){}shutdown(){}}class M_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const b0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class D0{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class hm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,u,c){const y=this.oo(e,t);kt("RestConnection","Sending: ",y,o);const T={};return this.uo(T,u,c),this.co(e,y,T,o).then(V=>(kt("RestConnection","Received: ",V),V),V=>{throw Pi("RestConnection",`${e} failed with error: `,V,"url: ",y,"request:",o),V})}ao(e,t,o,u,c,y){return this.ro(e,t,o,u,c)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}oo(e,t){return`${this.so}/v1/${t}:${b0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,u){return new Promise((c,y)=>{const T=new ka;T.listenOnce(qo.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case ro.NO_ERROR:const G=T.getResponseJson();kt("Connection","XHR received:",JSON.stringify(G)),c(G);break;case ro.TIMEOUT:kt("Connection",'RPC "'+e+'" timed out'),y(new Nt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case ro.HTTP_ERROR:const ee=T.getStatus();if(kt("Connection",'RPC "'+e+'" failed with status:',ee,"response text:",T.getResponseText()),ee>0){const we=T.getResponseJson().error;if(we&&we.status&&we.message){const it=function(Et){const Lt=Et.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(Lt)>=0?Lt:ut.UNKNOWN}(we.status);y(new Nt(it,we.message))}else y(new Nt(ut.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new Nt(ut.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{kt("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);T.send(t,"POST",V,o,15)})}ho(e,t,o){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Wo(),y=ko(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new da({})),this.uo(T.initMessageHeaders,t,o),(0,ae.uI)()||(0,ae.b$)()||(0,ae.d)()||(0,ae.w1)()||(0,ae.Mn)()||(0,ae.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const V=u.join("");kt("Connection","Creating WebChannel: "+V,T);const G=c.createWebChannel(V,T);let ee=!1,we=!1;const it=new D0({jr:Lt=>{we?kt("Connection","Not sending because WebChannel is closed:",Lt):(ee||(kt("Connection","Opening WebChannel transport."),G.open(),ee=!0),kt("Connection","WebChannel sending:",Lt),G.send(Lt))},Wr:()=>G.close()}),Et=(Lt,un,bn)=>{Lt.listen(un,Vr=>{try{bn(Vr)}catch(pi){setTimeout(()=>{throw pi},0)}})};return Et(G,wi.EventType.OPEN,()=>{we||kt("Connection","WebChannel transport opened.")}),Et(G,wi.EventType.CLOSE,()=>{we||(we=!0,kt("Connection","WebChannel transport closed"),it.eo())}),Et(G,wi.EventType.ERROR,Lt=>{we||(we=!0,Pi("Connection","WebChannel transport errored:",Lt),it.eo(new Nt(ut.UNAVAILABLE,"The operation could not be completed")))}),Et(G,wi.EventType.MESSAGE,Lt=>{var un;if(!we){const bn=Lt.data[0];In(!!bn);const Vr=bn,pi=Vr.error||(null===(un=Vr[0])||void 0===un?void 0:un.error);if(pi){kt("Connection","WebChannel received error:",pi);const Ur=pi.status;let Cr=function(Xr){const qs=Gs[Xr];if(void 0!==qs)return bg(qs)}(Ur),Br=pi.message;void 0===Cr&&(Cr=ut.INTERNAL,Br="Unknown error status: "+Ur+" with message "+pi.message),we=!0,it.eo(new Nt(Cr,Br)),G.close()}else kt("Connection","WebChannel received:",bn),it.no(bn)}}),Et(y,Ei.STAT_EVENT,Lt=>{Lt.stat===Ko.PROXY?kt("Connection","Detected buffering proxy"):Lt.stat===Ko.NOPROXY&&kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.Zr()},0),it}}function ph(){return typeof window<"u"?window:null}function id(){return typeof document<"u"?document:null}function sd(i){return new hf(i,!0)}class gh{constructor(e,t,o=1e3,u=1.5,c=6e4){this.js=e,this.timerId=t,this.lo=o,this.fo=u,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),u=Math.max(0,t-o);u>0&&kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Yf{constructor(e,t,o,u,c,y,T,V){this.js=e,this.Ao=o,this.Ro=u,this.bo=c,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=T,this.listener=V,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new gh(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,de.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,de.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var o=this;return(0,de.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===ut.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===ut.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Po===t&&this.Uo(o,u)},o=>{e(()=>{const u=new Nt(ut.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(u)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{o(()=>this.qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,de.Z)(function*(){e.state=0,e.start()}))}qo(e){return kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mh extends Yf{constructor(e,t,o,u,c,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,y),this.wt=c}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function e_(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:dn(),u=e.targetChange.targetIds||[],c=function(V,G){return V.dt?(In(void 0===G||"string"==typeof G),fi.fromBase64String(G||"")):(In(void 0===G||G instanceof Uint8Array),fi.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,T=y&&function(V){const G=void 0===V.code?ut.UNKNOWN:bg(V.code);return new Nt(G,V.message||"")}(y);t=new Tg(o,u,c,T||null)}else if("documentChange"in e){const o=e.documentChange,u=vu(i,o.document.name),c=So(o.document.updateTime),y=new Hs({mapValue:{fields:o.document.fields}}),T=ai.newFoundDocument(u,c,y);t=new Wd(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,u=vu(i,o.document),c=o.readTime?So(o.readTime):jt.min(),y=ai.newNoDocument(u,c);t=new Wd([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=vu(i,o.document);t=new Wd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return dn();{const o=e.filter,c=new Zy(o.count||0);t=new Cg(o.targetId,c)}}var V;return t}(this.wt,e),o=function(u){if(!("targetChange"in u))return jt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?jt.min():c.readTime?So(c.readTime):jt.min()}(e);return this.listener.Go(t,o)}Qo(e){const t={};t.database=Gc(this.wt),t.addTarget=function(u,c){let y;const T=c.target;return y=Ku(T)?{documents:n_(u,T)}:{query:r_(u,T)},y.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?y.resumeToken=ac(u,c.resumeToken):c.snapshotVersion.compareTo(jt.min())>0&&(y.readTime=zs(u,c.snapshotVersion.toTimestamp())),y}(this.wt,e);const o=function E0(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Mo(t)}jo(e){const t={};t.database=Gc(this.wt),t.removeTarget=e,this.Mo(t)}}class Du extends Yf{constructor(e,t,o,u,c,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,y),this.wt=c,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function t_(i,e){return i&&i.length>0?(In(void 0!==e),i.map(t=>function(o,u){let c=So(o.updateTime?o.updateTime:u);return c.isEqual(jt.min())&&(c=So(u)),new Vd(c,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=So(e.commitTime);return this.listener.Jo(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Gc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Lu(this.wt,o))};this.Mo(t)}}class fm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.wt=u,this.Zo=!1}tu(){if(this.Zo)throw new Nt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.bo.ro(e,t,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Nt(ut.UNKNOWN,u.toString())})}ao(e,t,o,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,y])=>this.bo.ao(e,t,o,c,y,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Nt(ut.UNKNOWN,c.toString())})}terminate(){this.Zo=!0}}class x_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Qr(t),this.su=!1):kt("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Qf{constructor(e,t,o,u,c){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(T=>{o.enqueueAndForget((0,de.Z)(function*(){var V;ju(y)&&(kt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,de.Z)(function*(G){const ee=Jt(G);ee.lu.add(4),yield Gl(ee),ee._u.set("Unknown"),ee.lu.delete(4),yield Ha(ee)}),function(G){return V.apply(this,arguments)})(y))}))}),this._u=new x_(o,u)}}function Ha(i){return od.apply(this,arguments)}function od(){return od=(0,de.Z)(function*(i){if(ju(i))for(const e of i.fu)yield e(!0)}),od.apply(this,arguments)}function Gl(i){return ad.apply(this,arguments)}function ad(){return ad=(0,de.Z)(function*(i){for(const e of i.fu)yield e(!1)}),ad.apply(this,arguments)}function Jf(i,e){const t=Jt(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ld(t)?yc(t):El(t).Co()&&pm(t,e))}function mc(i,e){const t=Jt(i),o=El(t);t.hu.delete(e),o.Co()&&ud(t,e),0===t.hu.size&&(o.Co()?o.ko():ju(t)&&t._u.set("Unknown"))}function pm(i,e){i.wu.Nt(e.targetId),El(i).Qo(e)}function ud(i,e){i.wu.Nt(e),El(i).jo(e)}function yc(i){i.wu=new Jy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),El(i).start(),i._u.iu()}function ld(i){return ju(i)&&!El(i).Do()&&i.hu.size>0}function ju(i){return 0===Jt(i).lu.size}function yh(i){i.wu=void 0}function I0(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,de.Z)(function*(i){i.hu.forEach((e,t)=>{pm(i,e)})}),Xf.apply(this,arguments)}function P_(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,de.Z)(function*(i,e){yh(i),ld(i)?(i._u.uu(e),yc(i)):i._u.set("Unknown")}),ep.apply(this,arguments)}function N_(i,e,t){return _h.apply(this,arguments)}function _h(){return _h=(0,de.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof Tg&&2===e.state&&e.cause)try{yield(o=(0,de.Z)(function*(u,c){const y=c.cause;for(const T of c.targetIds)u.hu.has(T)&&(yield u.remoteSyncer.rejectListen(T,y),u.hu.delete(T),u.wu.removeTarget(T))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield tp(i,o)}else if(e instanceof Wd?i.wu.Ut(e):e instanceof Cg?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(jt.min()))try{const o=yield sm(i.localStore);t.compareTo(o)>=0&&(yield function(u,c){const y=u.wu.Yt(c);return y.targetChanges.forEach((T,V)=>{if(T.resumeToken.approximateByteSize()>0){const G=u.hu.get(V);G&&u.hu.set(V,G.withResumeToken(T.resumeToken,c))}}),y.targetMismatches.forEach(T=>{const V=u.hu.get(T);if(!V)return;u.hu.set(T,V.withResumeToken(fi.EMPTY_BYTE_STRING,V.snapshotVersion)),ud(u,T);const G=new Vu(V.target,T,1,V.sequenceNumber);pm(u,G)}),u.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){kt("RemoteStore","Failed to raise snapshot:",o),yield tp(i,o)}var o}),_h.apply(this,arguments)}function tp(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,de.Z)(function*(i,e,t){if(!Os(e))throw e;i.lu.add(1),yield Gl(i),i._u.set("Offline"),t||(t=()=>sm(i.localStore)),i.asyncQueue.enqueueRetryable((0,de.Z)(function*(){kt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Ha(i)}))}),np.apply(this,arguments)}function O_(i,e){return e().catch(t=>tp(i,t,e))}function zl(i){return vh.apply(this,arguments)}function vh(){return vh=(0,de.Z)(function*(i){const e=Jt(i),t=nl(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;R_(e);)try{const u=yield T_(e.localStore,o);if(null===u){0===e.au.length&&t.ko();break}o=u.batchId,rp(e,u)}catch(u){yield tp(e,u)}k_(e)&&F_(e)}),vh.apply(this,arguments)}function R_(i){return ju(i)&&i.au.length<10}function rp(i,e){i.au.push(e);const t=nl(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function k_(i){return ju(i)&&!nl(i).Do()&&i.au.length>0}function F_(i){nl(i).start()}function C0(i){return gm.apply(this,arguments)}function gm(){return gm=(0,de.Z)(function*(i){nl(i).Xo()}),gm.apply(this,arguments)}function T0(i){return mm.apply(this,arguments)}function mm(){return mm=(0,de.Z)(function*(i){const e=nl(i);for(const t of i.au)e.Ho(t.mutations)}),mm.apply(this,arguments)}function A0(i,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,de.Z)(function*(i,e,t){const o=i.au.shift(),u=Yd.from(o,e,t);yield O_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield zl(i)}),ym.apply(this,arguments)}function S0(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,de.Z)(function*(i,e){var t;e&&nl(i).zo&&(yield(t=(0,de.Z)(function*(o,u){if(wg(c=u.code)&&c!==ut.ABORTED){const y=o.au.shift();nl(o).No(),yield O_(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield zl(o)}var c}),function(o,u){return t.apply(this,arguments)})(i,e)),k_(i)&&F_(i)}),_m.apply(this,arguments)}function tl(i,e){return cd.apply(this,arguments)}function cd(){return cd=(0,de.Z)(function*(i,e){const t=Jt(i);t.asyncQueue.verifyOperationInProgress(),kt("RemoteStore","RemoteStore received new credentials");const o=ju(t);t.lu.add(3),yield Gl(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Ha(t)}),cd.apply(this,arguments)}function ip(i,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,de.Z)(function*(i,e){const t=Jt(i);e?(t.lu.delete(2),yield Ha(t)):e||(t.lu.add(2),yield Gl(t),t._u.set("Unknown"))}),Eh.apply(this,arguments)}function El(i){return i.mu||(i.mu=function(e,t,o){const u=Jt(e);return u.tu(),new mh(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:I0.bind(null,i),Jr:P_.bind(null,i),Go:N_.bind(null,i)}),i.fu.push(function(){var e=(0,de.Z)(function*(t){t?(i.mu.No(),ld(i)?yc(i):i._u.set("Unknown")):(yield i.mu.stop(),yh(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function nl(i){return i.gu||(i.gu=function(e,t,o){const u=Jt(e);return u.tu(),new Du(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:C0.bind(null,i),Jr:S0.bind(null,i),Yo:T0.bind(null,i),Jo:A0.bind(null,i)}),i.fu.push(function(){var e=(0,de.Z)(function*(t){t?(i.gu.No(),yield zl(i)):(yield i.gu.stop(),i.au.length>0&&(kt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class dd{constructor(e,t,o,u,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,u,c){const y=Date.now()+o,T=new dd(e,t,y,u,c);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(i,e){if(Qr("AsyncQueue",`${e}: ${i}`),Os(i))return new Nt(ut.UNAVAILABLE,`${e}: ${i}`);throw i}class Ga{constructor(e){this.comparator=e?(t,o)=>e(t,o)||qt.comparator(t.key,o.key):(t,o)=>qt.comparator(t.key,o.key),this.keyedMap=Bc(),this.sortedSet=new si(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ga;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class sp{constructor(){this.yu=new si(qt.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class vc{constructor(e,t,o,u,c,y,T,V){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=y,this.syncStateChanged=T,this.excludesMetadataChanges=V}static fromInitialDocuments(e,t,o,u){const c=[];return t.forEach(y=>{c.push({type:0,doc:y})}),new vc(e,t,Ga.emptySet(t),c,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class op{constructor(){this.Iu=void 0,this.listeners=[]}}class L_{constructor(){this.queries=new kl(e=>m(e),h),this.onlineState="Unknown",this.Tu=new Set}}function wh(i,e){return ap.apply(this,arguments)}function ap(){return ap=(0,de.Z)(function*(i,e){const t=Jt(i),o=e.query;let u=!1,c=t.queries.get(o);if(c||(u=!0,c=new op),u)try{c.Iu=yield t.onListen(o)}catch(y){const T=_c(y,`Initialization of query '${A(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,c),c.listeners.push(e),e.Eu(t.onlineState),c.Iu&&e.Au(c.Iu)&&wl(t)}),ap.apply(this,arguments)}function up(i,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,de.Z)(function*(i,e){const t=Jt(i),o=e.query;let u=!1;const c=t.queries.get(o);if(c){const y=c.listeners.indexOf(e);y>=0&&(c.listeners.splice(y,1),u=0===c.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Wl.apply(this,arguments)}function Ec(i,e){const t=Jt(i);let o=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const T of y.listeners)T.Au(u)&&(o=!0);y.Iu=u}}o&&wl(t)}function lp(i,e,t){const o=Jt(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(t);o.queries.delete(e)}function wl(i){i.Tu.forEach(e=>{e.next()})}class ql{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new vc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class wc{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class vm{constructor(e){this.wt=e}Wi(e){return vu(this.wt,e)}zi(e){return e.metadata.exists?Pg(this.wt,e.document,!1):ai.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return So(e)}}class Em{constructor(e,t,o){this.xu=e,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cp(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=yn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new vm(this.wt);for(const u of e)if(u.metadata.queries){const c=o.Wi(u.metadata.name);for(const y of u.metadata.queries){const T=(t.get(y)||wr()).add(c);t.set(y,T)}}return t}complete(){var e=this;return(0,de.Z)(function*(){const t=yield function qf(i,e,t,o){return lm.apply(this,arguments)}(e.localStore,new vm(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const u of e.queries)yield Kf(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function cp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class bh{constructor(e){this.key=e}}class Dh{constructor(e){this.key=e}}class dp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=wr(),this.mutatedKeys=wr(),this.Lu=be(e),this.Uu=new Ga(this.Lu)}get qu(){return this.Fu}Ku(e,t){const o=t?t.Gu:new sp,u=t?t.Uu:this.Uu;let c=t?t.mutatedKeys:this.mutatedKeys,y=u,T=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,we)=>{const it=u.get(ee),Et=z(this.query,we)?we:null,Lt=!!it&&this.mutatedKeys.has(it.key),un=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let bn=!1;it&&Et?it.data.isEqual(Et.data)?Lt!==un&&(o.track({type:3,doc:Et}),bn=!0):this.Qu(it,Et)||(o.track({type:2,doc:Et}),bn=!0,(V&&this.Lu(Et,V)>0||G&&this.Lu(Et,G)<0)&&(T=!0)):!it&&Et?(o.track({type:0,doc:Et}),bn=!0):it&&!Et&&(o.track({type:1,doc:it}),bn=!0,(V||G)&&(T=!0)),bn&&(Et?(y=y.add(Et),c=un?c.add(ee):c.delete(ee)):(y=y.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ee="F"===this.query.limitType?y.last():y.first();y=y.delete(ee.key),c=c.delete(ee.key),o.track({type:1,doc:ee})}return{Uu:y,Gu:o,Oi:T,mutatedKeys:c}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const c=e.Gu.pu();c.sort((G,ee)=>function(we,it){const Et=Lt=>{switch(Lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return Et(we)-Et(it)}(G.type,ee.type)||this.Lu(G.doc,ee.doc)),this.ju(o);const y=t?this.Wu():[],T=0===this.Bu.size&&this.current?1:0,V=T!==this.$u;return this.$u=T,0!==c.length||V?{snapshot:new vc(this.query,e.Uu,u,c,e.mutatedKeys,0===T,V,!1),zu:y}:{zu:y}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new sp,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=wr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Dh(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new bh(o))}),t}Ju(e){this.Fu=e.ji,this.Bu=wr();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return vc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Ih{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class V_{constructor(e){this.key=e,this.Xu=!1}}class wm{constructor(e,t,o,u,c,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=y,this.Zu={},this.tc=new kl(T=>m(T),h),this.ec=new Map,this.nc=new Set,this.sc=new si(qt.comparator),this.ic=new Map,this.rc=new Lf,this.oc={},this.uc=new Map,this.cc=yl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function M0(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,de.Z)(function*(i,e){const t=Ip(i);let o,u;const c=t.tc.get(e);if(c)o=c.targetId,t.sharedClientState.addLocalQueryTarget(o),u=c.view.Yu();else{const y=yield fc(t.localStore,cs(e));t.isPrimaryClient&&Jf(t.remoteStore,y);const T=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield Th(t,e,o,"current"===T)}return u}),Ch.apply(this,arguments)}function Th(i,e,t,o){return hp.apply(this,arguments)}function hp(){return hp=(0,de.Z)(function*(i,e,t,o){i.hc=(ee,we,it)=>{return(Et=(0,de.Z)(function*(Lt,un,bn,Vr){let pi=un.view.Ku(bn);pi.Oi&&(pi=yield td(Lt.localStore,un.query,!1).then(({documents:Br})=>un.view.Ku(Br,pi)));const Ur=Vr&&Vr.targetChanges.get(un.targetId),Cr=un.view.applyChanges(pi,Lt.isPrimaryClient,Ur);return Sh(Lt,un.targetId,Cr.zu),Cr.snapshot}),function(Lt,un,bn,Vr){return Et.apply(this,arguments)})(i,ee,we,it);var Et};const u=yield td(i.localStore,e,!0),c=new dp(e,u.ji),y=c.Ku(u.documents),T=Fl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),V=c.applyChanges(y,i.isPrimaryClient,T);Sh(i,t,V.zu);const G=new Ih(e,t,c);return i.tc.set(e,G),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),V.snapshot}),hp.apply(this,arguments)}function bm(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,de.Z)(function*(i,e){const t=Jt(i),o=t.tc.get(e),u=t.ec.get(o.targetId);if(u.length>1)return t.ec.set(o.targetId,u.filter(c=>!h(c,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield pc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),mc(t.remoteStore,o.targetId),bc(t,o.targetId)}).catch(Ds))):(bc(t,o.targetId),yield pc(t.localStore,o.targetId,!0))}),fp.apply(this,arguments)}function va(){return va=(0,de.Z)(function*(i,e,t){const o=Ph(i);try{const u=yield function(c,y){const T=Jt(c),V=Rt.now(),G=y.reduce((it,Et)=>it.add(Et.key),wr());let ee,we;return T.persistence.runTransaction("Locally write mutations","readwrite",it=>{let Et=Ao(),Lt=wr();return T.Ui.getEntries(it,G).next(un=>{Et=un,Et.forEach((bn,Vr)=>{Vr.isValidDocument()||(Lt=Lt.add(bn))})}).next(()=>T.localDocuments.getOverlayedDocuments(it,Et)).next(un=>{ee=un;const bn=[];for(const Vr of y){const pi=jd(Vr,ee.get(Vr.key).overlayedDocument);null!=pi&&bn.push(new Zu(Vr.key,pi,yu(pi.value.mapValue),Ui.exists(!0)))}return T.mutationQueue.addMutationBatch(it,V,bn,y)}).next(un=>{we=un;const bn=un.applyToLocalDocumentSet(ee,Lt);return T.documentOverlayCache.saveOverlays(it,un.batchId,bn)})}).then(()=>({batchId:we.batchId,changes:Gd(ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,y,T){let V=c.oc[c.currentUser.toKey()];V||(V=new si(X)),V=V.insert(y,T),c.oc[c.currentUser.toKey()]=V}(o,u.batchId,t),yield Iu(o,u.changes),yield zl(o.remoteStore)}catch(u){const c=_c(u,"Failed to persist write");t.reject(c)}}),va.apply(this,arguments)}function Dm(i,e){return pp.apply(this,arguments)}function pp(){return pp=(0,de.Z)(function*(i,e){const t=Jt(i);try{const o=yield om(t.localStore,e);e.targetChanges.forEach((u,c)=>{const y=t.ic.get(c);y&&(In(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Xu=!0:u.modifiedDocuments.size>0?In(y.Xu):u.removedDocuments.size>0&&(In(y.Xu),y.Xu=!1))}),yield Iu(t,o,e)}catch(o){yield Ds(o)}}),pp.apply(this,arguments)}function B_(i,e,t){const o=Jt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.tc.forEach((c,y)=>{const T=y.view.Eu(e);T.snapshot&&u.push(T.snapshot)}),function(c,y){const T=Jt(c);T.onlineState=y;let V=!1;T.queries.forEach((G,ee)=>{for(const we of ee.listeners)we.Eu(y)&&(V=!0)}),V&&wl(T)}(o.eventManager,e),u.length&&o.Zu.Go(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function j_(i,e,t){return hd.apply(this,arguments)}function hd(){return hd=(0,de.Z)(function*(i,e,t){const o=Jt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ic.get(e),c=u&&u.key;if(c){let y=new si(qt.comparator);y=y.insert(c,ai.newNoDocument(c,jt.min()));const T=wr().add(c),V=new $c(jt.min(),new Map,new Er(X),y,T);yield Dm(o,V),o.sc=o.sc.remove(c),o.ic.delete(e),tu(o)}else yield pc(o.localStore,e,!1).then(()=>bc(o,e,t)).catch(Ds)}),hd.apply(this,arguments)}function Im(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,de.Z)(function*(i,e){const t=Jt(i),o=e.batch.batchId;try{const u=yield dh(t.localStore,e);_p(t,o,null),Ah(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Iu(t,u)}catch(u){yield Ds(u)}}),gp.apply(this,arguments)}function $_(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,de.Z)(function*(i,e,t){const o=Jt(i);try{const u=yield function(c,y){const T=Jt(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let G;return T.mutationQueue.lookupMutationBatch(V,y).next(ee=>(In(null!==ee),G=ee.keys(),T.mutationQueue.removeMutationBatch(V,ee))).next(()=>T.mutationQueue.performConsistencyCheck(V)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(V,G,y)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,G)).next(()=>T.localDocuments.getDocuments(V,G))})}(o.localStore,e);_p(o,e,t),Ah(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Iu(o,u)}catch(u){yield Ds(u)}}),mp.apply(this,arguments)}function yp(){return yp=(0,de.Z)(function*(i,e){const t=Jt(i);ju(t.remoteStore)||kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(c){const y=Jt(c);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>y.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===o)return void e.resolve();const u=t.uc.get(o)||[];u.push(e),t.uc.set(o,u)}catch(o){const u=_c(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),yp.apply(this,arguments)}function Ah(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function _p(i,e,t){const o=Jt(i);let u=o.oc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(t?c.reject(t):c.resolve(),u=u.remove(e)),o.oc[o.currentUser.toKey()]=u}}function bc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),t&&i.Zu.lc(o,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||vp(i,o)})}function vp(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(mc(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),tu(i))}function Sh(i,e,t){for(const o of t)o instanceof bh?(i.rc.addReference(o.key,e),H_(i,o)):o instanceof Dh?(kt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||vp(i,o.key)):dn()}function H_(i,e){const t=e.key,o=t.path.canonicalString();i.sc.get(t)||i.nc.has(o)||(kt("SyncEngine","New document in limbo: "+t),i.nc.add(o),tu(i))}function tu(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new qt(yn.fromString(e)),o=i.cc.next();i.ic.set(o,new V_(t)),i.sc=i.sc.insert(t,o),Jf(i.remoteStore,new Vu(cs(es(t.path)),o,2,zr.ot))}}function Iu(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,de.Z)(function*(i,e,t){const o=Jt(i),u=[],c=[],y=[];var T;o.tc.isEmpty()||(o.tc.forEach((T,V)=>{y.push(o.hc(V,e,t).then(G=>{if(G){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,G.fromCache?"not-current":"current"),u.push(G);const ee=lh.Vi(V.targetId,G);c.push(ee)}}))}),yield Promise.all(y),o.Zu.Go(u),yield(T=(0,de.Z)(function*(V,G){const ee=Jt(V);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>nt.forEach(G,it=>nt.forEach(it.Pi,Et=>ee.persistence.referenceDelegate.addReference(we,it.targetId,Et)).next(()=>nt.forEach(it.vi,Et=>ee.persistence.referenceDelegate.removeReference(we,it.targetId,Et)))))}catch(we){if(!Os(we))throw we;kt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of G){const it=we.targetId;if(!we.fromCache){const Et=ee.$i.get(it),un=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);ee.$i=ee.$i.insert(it,un)}}}),function(V,G){return T.apply(this,arguments)})(o.localStore,c))}),Ep.apply(this,arguments)}function G_(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,de.Z)(function*(i,e){const t=Jt(i);if(!t.currentUser.isEqual(e)){kt("SyncEngine","User change. New user:",e.toKey());const o=yield im(t.localStore,e);t.currentUser=e,(u=t).uc.forEach(y=>{y.forEach(T=>{T.reject(new Nt(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.uc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Iu(t,o.Ki)}var u}),Tm.apply(this,arguments)}function Am(i,e){const t=Jt(i),o=t.ic.get(e);if(o&&o.Xu)return wr().add(o.key);{let u=wr();const c=t.ec.get(e);if(!c)return u;for(const y of c){const T=t.tc.get(y);u=u.unionWith(T.view.qu)}return u}}function z_(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,de.Z)(function*(i,e){const t=Jt(i),o=yield td(t.localStore,e.query,!0),u=e.view.Ju(o);return t.isPrimaryClient&&Sh(t,e.targetId,u.zu),u}),wp.apply(this,arguments)}function W_(i,e){return fd.apply(this,arguments)}function fd(){return fd=(0,de.Z)(function*(i,e){const t=Jt(i);return zf(t.localStore,e).then(o=>Iu(t,o))}),fd.apply(this,arguments)}function q_(i,e,t,o){return bp.apply(this,arguments)}function bp(){return bp=(0,de.Z)(function*(i,e,t,o){const u=Jt(i),c=yield function(y,T){const V=Jt(y),G=Jt(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",ee=>G.yn(ee,T).next(we=>we?V.localDocuments.getDocuments(ee,we):nt.resolve(null)))}(u.localStore,e);var T;null!==c?("pending"===t?yield zl(u.remoteStore):"acknowledged"===t||"rejected"===t?(_p(u,e,o||null),Ah(u,e),T=e,Jt(Jt(u.localStore).mutationQueue).In(T)):dn(),yield Iu(u,c)):kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),bp.apply(this,arguments)}function pd(){return pd=(0,de.Z)(function*(i,e){const t=Jt(i);if(Ip(t),Ph(t),!0===e&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Sm(t,o.toArray());t.ac=!0,yield ip(t.remoteStore,!0);for(const c of u)Jf(t.remoteStore,c)}else if(!1===e&&!1!==t.ac){const o=[];let u=Promise.resolve();t.ec.forEach((c,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(bc(t,y),pc(t.localStore,y,!0))),mc(t.remoteStore,y)}),yield u,yield Sm(t,o),function(c){const y=Jt(c);y.ic.forEach((T,V)=>{mc(y.remoteStore,V)}),y.rc.cs(),y.ic=new Map,y.sc=new si(qt.comparator)}(t),t.ac=!1,yield ip(t.remoteStore,!1)}}),pd.apply(this,arguments)}function Sm(i,e,t){return gd.apply(this,arguments)}function gd(){return gd=(0,de.Z)(function*(i,e,t){const o=Jt(i),u=[],c=[];for(const y of e){let T;const V=o.ec.get(y);if(V&&0!==V.length){T=yield fc(o.localStore,cs(V[0]));for(const G of V){const ee=o.tc.get(G),we=yield z_(o,ee);we.snapshot&&c.push(we.snapshot)}}else{const G=yield um(o.localStore,y);T=yield fc(o.localStore,G),yield Th(o,xh(G),y,!1)}u.push(T)}return o.Zu.Go(c),u}),gd.apply(this,arguments)}function xh(i){return zi(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Mm(i){const e=Jt(i);return Jt(Jt(e.localStore).persistence).Ri()}function x0(i,e,t,o){return xm.apply(this,arguments)}function xm(){return xm=(0,de.Z)(function*(i,e,t,o){const u=Jt(i);if(u.ac)return void kt("SyncEngine","Ignoring unexpected query state notification.");const c=u.ec.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const y=yield zf(u.localStore,ne(c[0])),T=$c.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Iu(u,y,T);break}case"rejected":yield pc(u.localStore,e,!0),bc(u,e,o);break;default:dn()}}),xm.apply(this,arguments)}function Dp(i,e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,de.Z)(function*(i,e,t){const o=Ip(i);if(o.ac){for(const u of e){if(o.ec.has(u)){kt("SyncEngine","Adding an already active target "+u);continue}const c=yield um(o.localStore,u),y=yield fc(o.localStore,c);yield Th(o,xh(c),y.targetId,!1),Jf(o.remoteStore,y)}for(const u of t)o.ec.has(u)&&(yield pc(o.localStore,u,!1).then(()=>{mc(o.remoteStore,u),bc(o,u)}).catch(Ds))}}),Pm.apply(this,arguments)}function Ip(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Am.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j_.bind(null,e),e.Zu.Go=Ec.bind(null,e.eventManager),e.Zu.lc=lp.bind(null,e.eventManager),e}function Ph(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$_.bind(null,e),e}class Cp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,de.Z)(function*(){t.wt=sd(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return $l(this.persistence,new I_,e.initialUser,this.wt)}_c(e){return new Uf(oh.Ms,this.wt)}dc(e){return new S_}terminate(){var e=this;return(0,de.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tp extends Cp{constructor(e,t,o){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,de.Z)(function*(){yield t().call(o,e),yield o.yc.initialize(o,e),yield Ph(o.yc.syncEngine),yield zl(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return $l(this.persistence,new I_,e.initialUser,this.wt)}mc(e,t){return new Xg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const o=new Pl(t,this.persistence);return new xl(e.asyncQueue,o)}_c(e){const t=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Pa.withCacheSize(this.cacheSizeBytes):Pa.DEFAULT;return new rm(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ph(),id(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new S_}}class Om extends Tp{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,de.Z)(function*(){yield t().call(o,e);const u=o.yc.syncEngine;o.sharedClientState instanceof rd&&(o.sharedClientState.syncEngine={kr:q_.bind(null,u),Or:x0.bind(null,u),Mr:Dp.bind(null,u),Ri:Mm.bind(null,u),Nr:W_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var c=(0,de.Z)(function*(y){yield function Mh(i,e){return pd.apply(this,arguments)}(o.yc.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start():y||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(y&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():y||o.indexBackfillerScheduler.stop())});return function(y){return c.apply(this,arguments)}}())})()}dc(e){const t=ph();if(!rd.V(t))throw new Nt(ut.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rd(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Cu{initialize(e,t){var o=this;return(0,de.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>B_(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=G_.bind(null,o.syncEngine),yield ip(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L_}createDatastore(e){const t=sd(e.databaseInfo.databaseId),o=new hm(e.databaseInfo);return new fm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,c=T=>B_(this.syncEngine,T,0),y=M_.V()?new M_:new w0,new Qf(t,o,u,c,y);var t,o,u,c,y}createSyncEngine(e,t){return function(o,u,c,y,T,V,G){const ee=new wm(o,u,c,y,T,V);return G&&(ee.ac=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,de.Z)(function*(t){const o=Jt(t);kt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Gl(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function md(i,e=10240){let t=0;return{read:()=>(0,de.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,de.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Nh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class K_{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new hi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,de.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,de.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,de.Z)(function*(){const t=yield e.bc();if(null===t)return null;const o=e.Ac.decode(t),u=Number(o);isNaN(u)&&e.Pc(`length string (${o}) is not valid number`);const c=yield e.vc(u);return new wc(JSON.parse(c),t.length+u)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,de.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,de.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,de.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class P0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,de.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Nt(ut.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,de.Z)(function*(c,y){const T=Jt(c),V=Gc(T.wt)+"/documents",G={documents:y.map(Et=>Hc(T.wt,Et))},ee=yield T.ao("BatchGetDocuments",V,G,y.length),we=new Map;ee.forEach(Et=>{const Lt=function Xy(i,e){return"found"in e?function(t,o){In(!!o.found);const u=vu(t,o.found.name),c=So(o.found.updateTime),y=new Hs({mapValue:{fields:o.found.fields}});return ai.newFoundDocument(u,c,y)}(i,e):"missing"in e?function(t,o){In(!!o.missing),In(!!o.readTime);const u=vu(t,o.missing),c=So(o.readTime);return ai.newNoDocument(u,c)}(i,e):dn()}(T.wt,Et);we.set(Lt.key.toString(),Lt)});const it=[];return y.forEach(Et=>{const Lt=we.get(Et.toString());In(!!Lt),it.push(Lt)}),it}),function(c,y){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new fl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,de.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const c=qt.fromPath(u);e.mutations.push(new $d(c,e.precondition(c)))}),yield(o=(0,de.Z)(function*(u,c){const y=Jt(u),T=Gc(y.wt)+"/documents",V={writes:c.map(G=>Lu(y.wt,G))};yield y.ro("Commit",T,V)}),function(u,c){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dn();t=jt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Nt(ut.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ui.updateTime(t):Ui.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jt.min()))throw new Nt(ut.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ui.updateTime(t)}return Ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ap{constructor(e,t,o,u,c){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=c,this.Dc=o.maxAttempts,this.So=new gh(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,de.Z)(function*(){const t=new P0(e.datastore),o=e.xc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(c=>{e.Nc(c)}))}).catch(u=>{e.Nc(u)})}))}xc(e){try{const t=this.updateFunction(e);return!Qt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wg(t)}return!1}}class Rm{constructor(e,t,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ii.UNAUTHENTICATED,this.clientId=Y.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,de.Z)(function*(T){kt("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(kt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,de.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=_c(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Sp(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,de.Z)(function*(c){o.isEqual(c)||(yield im(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Oh.apply(this,arguments)}function Mp(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,de.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Pp(i);kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>tl(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>tl(e.remoteStore,c)),i.onlineComponents=e}),xp.apply(this,arguments)}function Pp(i){return Np.apply(this,arguments)}function Np(){return Np=(0,de.Z)(function*(i){return i.offlineComponents||(kt("FirestoreClient","Using default OfflineComponentProvider"),yield Sp(i,new Cp)),i.offlineComponents}),Np.apply(this,arguments)}function Rh(i){return kh.apply(this,arguments)}function kh(){return kh=(0,de.Z)(function*(i){return i.onlineComponents||(kt("FirestoreClient","Using default OnlineComponentProvider"),yield Mp(i,new Cu)),i.onlineComponents}),kh.apply(this,arguments)}function Z_(i){return Pp(i).then(e=>e.persistence)}function Fh(i){return Pp(i).then(e=>e.localStore)}function km(i){return Rh(i).then(e=>e.remoteStore)}function Op(i){return Rh(i).then(e=>e.syncEngine)}function yd(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,de.Z)(function*(i){const e=yield Rh(i),t=e.eventManager;return t.onListen=M0.bind(null,e.syncEngine),t.onUnlisten=bm.bind(null,e.syncEngine),t}),Fm.apply(this,arguments)}function Rp(i,e,t={}){const o=new hi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,c,y,T,V){const G=new Nh({next:we=>{c.enqueueAndForget(()=>up(u,ee));const it=we.docs.has(y);!it&&we.fromCache?V.reject(new Nt(ut.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&we.fromCache&&T&&"server"===T.source?V.reject(new Nt(ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(we)},error:we=>V.reject(we)}),ee=new ql(es(y.path),G,{includeMetadataChanges:!0,Du:!0});return wh(u,ee)}(yield yd(i),i.asyncQueue,e,t,o)})),o.promise}function nu(i,e,t={}){const o=new hi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function(u,c,y,T,V){const G=new Nh({next:we=>{c.enqueueAndForget(()=>up(u,ee)),we.fromCache&&"server"===T.source?V.reject(new Nt(ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(we)},error:we=>V.reject(we)}),ee=new ql(y,G,{includeMetadataChanges:!0,Du:!0});return wh(u,ee)}(yield yd(i),i.asyncQueue,e,t,o)})),o.promise}const kp=new Map;function Fp(i,e,t){if(!t)throw new Nt(ut.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function J_(i,e,t,o){if(!0===e&&!0===o)throw new Nt(ut.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Lp(i){if(!qt.isDocumentKey(i))throw new Nt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lh(i){if(qt.isDocumentKey(i))throw new Nt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":dn()}function Rr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Nt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vh(i);throw new Nt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Bm(i,e){if(e<=0)throw new Nt(ut.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Nt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,J_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jm({}),this._settingsFrozen=!1,e instanceof At?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Nt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new At(u.options.projectId)}(e))}get app(){if(!this._app)throw new Nt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lu;switch(t.type){case"gapi":const o=t.client;return In(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new I(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Nt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kp.get(e);t&&(kt("ComponentProvider","Removing Datastore"),kp.delete(e),t.terminate())}(this),Promise.resolve()}}class qi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qi(this.firestore,e,this._key)}}class ea{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class za extends ea{constructor(e,t,o){super(e,t,es(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qi(this.firestore,null,new qt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function bl(i,e,...t){if(i=(0,ae.m9)(i),Fp("collection","path",e),i instanceof _d){const o=yn.fromString(e,...t);return Lh(o),new za(i,null,o)}{if(!(i instanceof qi||i instanceof za))throw new Nt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yn.fromString(e,...t));return Lh(o),new za(i.firestore,null,o)}}function Dl(i,e,...t){if(i=(0,ae.m9)(i),1===arguments.length&&(e=Y.I()),Fp("doc","path",e),i instanceof _d){const o=yn.fromString(e,...t);return Lp(o),new qi(i,null,new qt(o))}{if(!(i instanceof qi||i instanceof za))throw new Nt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yn.fromString(e,...t));return Lp(o),new qi(i.firestore,i instanceof za?i.converter:null,new qt(o))}}function $m(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),(i instanceof qi||i instanceof za)&&(e instanceof qi||e instanceof za)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hm(i,e){return i=(0,ae.m9)(i),e=(0,ae.m9)(e),i instanceof ea&&e instanceof ea&&i.firestore===e.firestore&&h(i._query,e._query)&&i.converter===e.converter}class Vp{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new gh(this,"async_queue_retry"),this.Kc=()=>{const t=id();t&&kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=id();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=id();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new hi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,de.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!Os(t))throw t;kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(c){let y=c.message||"";return c.stack&&(y=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),y}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=t,t}enqueueAfterDelay(e,t,o){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const u=dd.createAndSchedule(this,e,t,o,c=>this.Wc(c));return this.$c.push(u),u}Gc(){this.Bc&&dn()}verifyOperationInProgress(){}zc(){var e=this;return(0,de.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Up(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class $u{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ir extends _d{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Vp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Uh(this),this._firestoreClient.terminate()}}function ui(i){return i._firestoreClient||Uh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Uh(i){var e;const t=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new rt(i._databaseId,c,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var c,T;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Kl(i,e,t){const o=new hi;return i.asyncQueue.enqueue((0,de.Z)(function*(){try{yield Sp(i,t),yield Mp(i,e),o.resolve()}catch(u){const c=u;if(!("FirebaseError"===(y=c).name?y.code===ut.FAILED_PRECONDITION||y.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var y})).then(()=>o.promise)}function jp(i){if(i._initialized||i._terminated)throw new Nt(ut.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(fi.fromBase64String(e))}catch(t){throw new Nt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Il{constructor(e){this._methodName=e}}class wd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const zm=/^__.*__$/;class Wm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)}}class qm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $p(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Bh{constructor(e,t,o,u,c,y){this.settings=e,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=u,void 0===c&&this.Xc(),this.fieldTransforms=c||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.sa(e),u}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.Xc(),u}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Td(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if($p(this.Zc)&&zm.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Km{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=o||sd(e)}aa(e,t,o,u=!1){return new Bh({Zc:e,methodName:t,ca:o,path:_n.emptyPath(),na:!1,ua:u},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function rl(i){const e=i._freezeSettings(),t=sd(i._databaseId);return new Km(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Pc(i,e,t,o,u,c={}){const y=i.aa(c.merge||c.mergeFields?2:0,e,t,u);Id("Data must be an object, but it was:",y,o);const T=zp(o,y);let V,G;if(c.merge)V=new js(y.fieldMask),G=y.fieldTransforms;else if(c.mergeFields){const ee=[];for(const we of c.mergeFields){const it=Hh(e,we,t);if(!y.contains(it))throw new Nt(ut.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);Gh(ee,it)||ee.push(it)}V=new js(ee),G=y.fieldTransforms.filter(we=>V.covers(we.field))}else V=null,G=y.fieldTransforms;return new Wm(new Hs(T),V,G)}class bd extends Il{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function Dd(i,e,t){return new Bh({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Nc extends Il{_toFieldTransform(e){return new Fu(e.path,new ja)}isEqual(e){return e instanceof Nc}}class Hp extends Il{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Dd(this,e,!0),o=this.ha.map(c=>il(c,t)),u=new Ma(o);return new Fu(e.path,u)}isEqual(e){return this===e}}class tv extends Il{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Dd(this,e,!0),o=this.ha.map(c=>il(c,t)),u=new Uo(o);return new Fu(e.path,u)}isEqual(e){return this===e}}class jh extends Il{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new $a(e.wt,Cn(e.wt,this.la));return new Fu(e.path,t)}isEqual(e){return this===e}}function Oc(i,e,t,o){const u=i.aa(1,e,t);Id("Data must be an object, but it was:",u,o);const c=[],y=Hs.empty();Gi(o,(V,G)=>{const ee=Cd(e,V,t);G=(0,ae.m9)(G);const we=u.ia(ee);if(G instanceof bd)c.push(ee);else{const it=il(G,we);null!=it&&(c.push(ee),y.set(ee,it))}});const T=new js(c);return new qm(y,T,u.fieldTransforms)}function $h(i,e,t,o,u,c){const y=i.aa(1,e,t),T=[Hh(e,o,t)],V=[u];if(c.length%2!=0)throw new Nt(ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<c.length;it+=2)T.push(Hh(e,c[it])),V.push(c[it+1]);const G=[],ee=Hs.empty();for(let it=T.length-1;it>=0;--it)if(!Gh(G,T[it])){const Et=T[it];let Lt=V[it];Lt=(0,ae.m9)(Lt);const un=y.ia(Et);if(Lt instanceof bd)G.push(Et);else{const bn=il(Lt,un);null!=bn&&(G.push(Et),ee.set(Et,bn))}}const we=new js(G);return new qm(ee,we,y.fieldTransforms)}function Gp(i,e,t,o=!1){return il(t,i.aa(o?4:3,e))}function il(i,e){if(Wp(i=(0,ae.m9)(i)))return Id("Unsupported field value:",e,i),zp(i,e);if(i instanceof Il)return function(t,o){if(!$p(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,o){const u=[];let c=0;for(const y of t){let T=il(y,o.ra(c));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),c++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cn(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Rt.fromDate(t);return{timestampValue:zs(o.wt,u)}}if(t instanceof Rt){const u=new Rt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zs(o.wt,u)}}if(t instanceof wd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:ac(o.wt,t._byteString)};if(t instanceof qi){const u=o.databaseId,c=t.firestore._databaseId;if(!c.isEqual(u))throw o.oa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pf(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${Vh(t)}`)}(i,e)}function zp(i,e){const t={};return qu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(i,(o,u)=>{const c=il(u,e.ea(o));null!=c&&(t[o]=c)}),{mapValue:{fields:t}}}function Wp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof wd||i instanceof Tu||i instanceof qi||i instanceof Il)}function Id(i,e,t){if(!Wp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Vh(t);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Hh(i,e,t){if((e=(0,ae.m9)(e))instanceof Hu)return e._internalPath;if("string"==typeof e)return Cd(i,e);throw Td("Field path arguments must be of type string or ",i,!1,void 0,t)}const nv=new RegExp("[~\\*/\\[\\]]");function Cd(i,e,t){if(e.search(nv)>=0)throw Td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Hu(...e.split("."))._internalPath}catch{throw Td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Td(i,e,t,o,u){const c=o&&!o.isEmpty(),y=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let V="";return(c||y)&&(V+=" (found",c&&(V+=` in field ${o}`),y&&(V+=` in document ${u}`),V+=")"),new Nt(ut.INVALID_ARGUMENT,T+i+V)}function Gh(i,e){return i.some(t=>t.isEqual(e))}class Rc{constructor(e,t,o,u,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rv extends Rc{data(){return super.data()}}function Ad(i,e){return"string"==typeof e?Cd(i,e):e instanceof Hu?e._internalPath:e._delegate._internalPath}class Cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Au extends Rc{constructor(e,t,o,u,c,y){super(e,t,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Ad("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Zl extends Au{data(e={}){return super.data(e)}}class sl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Cl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Zl(this._firestore,this._userDataWriter,o.key,o,new Cl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new Zl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Cl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const T=new Zl(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Cl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,G=-1;return 0!==y.type&&(V=c.indexOf(y.doc.key),c=c.delete(y.doc.key)),1!==y.type&&(c=c.add(y.doc),G=c.indexOf(y.doc.key)),{type:Zm(y.type),doc:T,oldIndex:V,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function qp(i,e){return i instanceof Au&&e instanceof Au?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof sl&&e instanceof sl&&i._firestore===e._firestore&&Hm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Kp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Nt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kc{}function ol(i,...e){for(const t of e)i=t._apply(i);return i}class Ym extends kc{constructor(e,t,o){super(),this.fa=e,this.da=t,this._a=o,this.type="where"}_apply(e){const t=rl(e.firestore),o=function(u,c,y,T,V,G,ee){let we;if(V.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Nt(ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Yl(ee,G);const Et=[];for(const Lt of ee)Et.push(Yp(T,u,Lt));we={arrayValue:{values:Et}}}else we=Yp(T,u,ee)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Yl(ee,G),we=Gp(y,"where",ee,"in"===G||"not-in"===G);const it=D.create(V,G,we);return function(Et,Lt){if(Lt.ht()){const bn=ls(Et);if(null!==bn&&!bn.isEqual(Lt.field))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${bn.toString()}' and '${Lt.field.toString()}'`);const Vr=Ba(Et);null!==Vr&&ry(0,Lt.field,Vr)}const un=function(bn,Vr){for(const pi of bn.filters)if(Vr.indexOf(pi.op)>=0)return pi.op;return null}(Et,function(bn){switch(bn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Lt.op));if(null!==un)throw new Nt(ut.INVALID_ARGUMENT,un===Lt.op?`Invalid query. You cannot use more than one '${Lt.op.toString()}' filter.`:`Invalid query. You cannot use '${Lt.op.toString()}' filters with '${un.toString()}' filters.`)}(u,it),it}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new ea(e.firestore,e.converter,function(u,c){const y=u.filters.concat([c]);return new Sr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),y,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class F0 extends kc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(o,u,c){if(null!==o.startAt)throw new Nt(ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Nt(ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Xn(u,c);return function(T,V){if(null===Ba(T)){const G=ls(T);null!==G&&ry(0,G,V.field)}}(o,y),y}(e._query,this.fa,this.wa);return new ea(e.firestore,e.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new Sr(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Jm extends kc{constructor(e,t,o){super(),this.type=e,this.ma=t,this.ga=o}_apply(e){return new ea(e.firestore,e.converter,b(e._query,this.ma,this.ga))}}class Ws extends kc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Zp(e,this.type,this.ya,this.pa);return new ea(e.firestore,e.converter,(u=t,new Sr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class ty extends kc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Zp(e,this.type,this.ya,this.pa);return new ea(e.firestore,e.converter,(u=t,new Sr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Zp(i,e,t,o){if(t[0]=(0,ae.m9)(t[0]),t[0]instanceof Rc)return function(u,c,y,T,V){if(!T)throw new Nt(ut.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const G=[];for(const ee of Co(u))if(ee.field.isKeyField())G.push(oo(c,T.key));else{const we=T.data.field(ee.field);if(W(we))throw new Nt(ut.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===we){const it=ee.field.canonicalString();throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}G.push(we)}return new Kn(G,V)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=rl(i.firestore);return function(c,y,T,V,G,ee){const we=c.explicitOrderBy;if(G.length>we.length)throw new Nt(ut.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Et=0;Et<G.length;Et++){const Lt=G[Et];if(we[Et].field.isKeyField()){if("string"!=typeof Lt)throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof Lt}`);if(!Wi(c)&&-1!==Lt.indexOf("/"))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${Lt}' contains a slash.`);const un=c.path.child(yn.fromString(Lt));if(!qt.isDocumentKey(un))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const bn=new qt(un);it.push(oo(y,bn))}else{const un=Gp(T,V,Lt);it.push(un)}}return new Kn(it,ee)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Yp(i,e,t){if("string"==typeof(t=(0,ae.m9)(t))){if(""===t)throw new Nt(ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wi(e)&&-1!==t.indexOf("/"))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(yn.fromString(t));if(!qt.isDocumentKey(o))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return oo(i,new qt(o))}if(t instanceof qi)return oo(i,t._key);throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(t)}.`)}function Yl(i,e){if(!Array.isArray(i)||0===i.length)throw new Nt(ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Nt(ut.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ry(i,e,t){if(!t.isEqual(e))throw new Nt(ut.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uv={maxAttempts:5};class zh{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return x(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){const o={};return Gi(e.fields,(u,c)=>{o[u]=this.convertValue(c,t)}),o}convertGeoPoint(e){return new wd(x(e.latitude),x(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ce(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Le(e));default:return null}}convertTimestamp(e){const t=Is(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yn.fromString(e);In(qd(o));const u=new At(o.get(1),o.get(3)),c=new qt(o.popFirst(5));return u.isEqual(t)||Qr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Wh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class iy extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}class lv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rl(e)}set(e,t,o){this._verifyNotCommitted();const u=al(e,this._firestore),c=Wh(u.converter,t,o),y=Pc(this._dataReader,"WriteBatch.set",u._key,c,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,Ui.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const c=al(e,this._firestore);let y;return y="string"==typeof(t=(0,ae.m9)(t))||t instanceof Hu?$h(this._dataReader,"WriteBatch.update",c._key,t,o,u):Oc(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(y.toMutation(c._key,Ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=al(e,this._firestore);return this._mutations=this._mutations.concat(new fl(t._key,Ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function al(i,e){if((i=(0,ae.m9)(i)).firestore!==e)throw new Nt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ta extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qi(this.firestore,null,t)}}function Jp(i,e,t){i=Rr(i,qi);const o=Rr(i.firestore,Ir),u=Wh(i.converter,e,t);return Tl(o,[Pc(rl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Ui.none())])}function Xp(i,e,t,...o){i=Rr(i,qi);const u=Rr(i.firestore,Ir),c=rl(u);let y;return y="string"==typeof(e=(0,ae.m9)(e))||e instanceof Hu?$h(c,"updateDoc",i._key,e,t,o):Oc(c,"updateDoc",i._key,e),Tl(u,[y.toMutation(i._key,Ui.exists(!0))])}function sy(i,...e){var t,o,u;i=(0,ae.m9)(i);let c={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Up(e[y])||(c=e[y],y++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Up(e[y])){const we=e[y];e[y]=null===(t=we.next)||void 0===t?void 0:t.bind(we),e[y+1]=null===(o=we.error)||void 0===o?void 0:o.bind(we),e[y+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let V,G,ee;if(i instanceof qi)G=Rr(i.firestore,Ir),ee=es(i._key.path),V={next:we=>{e[y]&&e[y](Ql(G,i,we))},error:e[y+1],complete:e[y+2]};else{const we=Rr(i,ea);G=Rr(we.firestore,Ir),ee=we._query;const it=new ta(G);V={next:Et=>{e[y]&&e[y](new sl(G,it,we,Et))},error:e[y+1],complete:e[y+2]},Kp(i._query)}return function(we,it,Et,Lt){const un=new Nh(Lt),bn=new ql(it,un,Et);return we.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return wh(yield yd(we),bn)})),()=>{un.Tc(),we.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return up(yield yd(we),bn)}))}}(ui(G),ee,T,V)}function Tl(i,e){return function(t,o){const u=new hi;return t.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function U_(i,e,t){return va.apply(this,arguments)}(yield Op(t),o,u)})),u.promise}(ui(i),e)}function Ql(i,e,t){const o=t.docs.get(e._key),u=new ta(i);return new Au(i,u,e._key,o,new Cl(t.hasPendingWrites,t.fromCache),e.converter)}class gv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rl(e)}get(e){const t=al(e,this._firestore),o=new iy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return dn();const c=u[0];if(c.isFoundDocument())return new Rc(this._firestore,o,c.key,c,t.converter);if(c.isNoDocument())return new Rc(this._firestore,o,t._key,null,t.converter);throw dn()})}set(e,t,o){const u=al(e,this._firestore),c=Wh(u.converter,t,o),y=Pc(this._dataReader,"Transaction.set",u._key,c,null!==u.converter,o);return this._transaction.set(u._key,y),this}update(e,t,o,...u){const c=al(e,this._firestore);let y;return y="string"==typeof(t=(0,ae.m9)(t))||t instanceof Hu?$h(this._dataReader,"Transaction.update",c._key,t,o,u):Oc(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,y),this}delete(e){const t=al(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=al(e,this._firestore),o=new ta(this._firestore);return super.get(e).then(u=>new Au(this._firestore,o,t._key,u._document,new Cl(!1,!1),t.converter))}}function Yh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function eg(){if(typeof Uint8Array>"u")throw new Nt("unimplemented","Uint8Arrays are not available in this environment.")}function tg(){if(!function Aa(){return typeof atob<"u"}())throw new Nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Fo=ct.SDK_VERSION,(0,ct._registerComponent)(new ot.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),c=new Ir(u,new Ja(t.getProvider("auth-internal")),new E(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC")),(0,ct.registerVersion)(ha,"3.4.11",i),(0,ct.registerVersion)(ha,"3.4.11","esm2017")}();class Fc{constructor(e){this._delegate=e}static fromBase64String(e){return tg(),new Fc(Tu.fromBase64String(e))}static fromUint8Array(e){return eg(),new Fc(Tu.fromUint8Array(e))}toBase64(){return tg(),this._delegate.toBase64()}toUint8Array(){return eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qh(i){return function cy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class dy{enableIndexedDbPersistence(e,t){return function Ic(i,e){jp(i=Rr(i,Ir));const t=ui(i),o=i._freezeSettings(),u=new Cu;return Kl(t,u,new Tp(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Cc(i){jp(i=Rr(i,Ir));const e=ui(i),t=i._freezeSettings(),o=new Cu;return Kl(e,o,new Om(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Tc(i){if(i._initialized&&!i._terminated)throw new Nt(ut.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,de.Z)(function*(){try{yield(t=(0,de.Z)(function*(o){if(!Oi.V())return Promise.resolve();const u=o+"main";yield Oi.delete(u)}),function(o){return t.apply(this,arguments)})(Hf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof At||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function X_(i,e,t,o={}){var u;const c=(i=Rr(i,_d))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Pi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,T;if("string"==typeof o.mockUserToken)y=o.mockUserToken,T=ii.MOCK_USER;else{y=(0,ae.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Nt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ii(V)}i._authCredentials=new cu(new pa(y,T))}}(this._delegate,e,t,o)}enableNetwork(){return function Sc(i){return function Y_(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Z_(i),t=yield km(i);return e.setNetworkEnabled(!0),function(o){const u=Jt(o);return u.lu.delete(0),Ha(u)}(t)}))}(ui(i=Rr(i,Ir)))}(this._delegate)}disableNetwork(){return function Mc(i){return function Q_(i){return i.asyncQueue.enqueue((0,de.Z)(function*(){const e=yield Z_(i),t=yield km(i);return e.setNetworkEnabled(!1),(o=(0,de.Z)(function*(u){const c=Jt(u);c.lu.add(0),yield Gl(c),c._u.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ui(i=Rr(i,Ir)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,J_("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ac(i){return function(e){const t=new hi;return e.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return function Cm(i,e){return yp.apply(this,arguments)}(yield Op(e),t)})),t.promise}(ui(i=Rr(i,Ir)))}(this._delegate)}onSnapshotsInSync(e){return function pv(i,e){return function O0(i,e){const t=new Nh(e);return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return o=yield yd(i),u=t,Jt(o).Tu.add(u),void u.next();var o,u})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return o=yield yd(i),u=t,void Jt(o).Tu.delete(u);var o,u}))}}(ui(i=Rr(i,Ir)),Up(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lc(this,bl(this._delegate,e))}catch(t){throw Ea(t,"collection()","Firestore.collection()")}}doc(e){try{return new ru(this,Dl(this._delegate,e))}catch(t){throw Ea(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wa(this,function k0(i,e){if(i=Rr(i,_d),Fp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nt(ut.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(i,null,(t=e,new Sr(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ea(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function oy(i,e,t){i=Rr(i,Ir);const o=Object.assign(Object.assign({},uv),t);return function(u){if(u.maxAttempts<1)throw new Nt(ut.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function R0(i,e,t){const o=new hi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){const u=yield(c=i,Rh(c).then(y=>y.datastore));var c;new Ap(i.asyncQueue,u,t,e,o).run()})),o.promise}(ui(i),u=>e(new gv(i,u)),o)}(this._delegate,t=>e(new fy(this,t)))}batch(){return ui(this._delegate),new py(new lv(this._delegate,e=>Tl(this._delegate,e)))}loadBundle(e){return function xc(i,e){const t=ui(i=Rr(i,Ir)),o=new $u;return function Vm(i,e,t,o){const u=function(c,y){let T;return T="string"==typeof c?(new TextEncoder).encode(c):c,V=function(V,G){if(V instanceof Uint8Array)return md(V,G);if(V instanceof ArrayBuffer)return md(new Uint8Array(V),G);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new K_(V,y);var V}(t,sd(e));i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){!function Nm(i,e,t){const o=Jt(i);var u;(u=(0,de.Z)(function*(c,y,T){try{const V=yield y.getMetadata();if(yield function(it,Et){const Lt=Jt(it),un=So(Et.createTime);return Lt.persistence.runTransaction("hasNewerBundle","readonly",bn=>Lt.Ds.getBundleMetadata(bn,Et.id)).then(bn=>!!bn&&bn.createTime.compareTo(un)>=0)}(c.localStore,V))return yield y.close(),T._completeWith({taskState:"Success",documentsLoaded:(it=V).totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}),Promise.resolve(new Set);T._updateProgress(cp(V));const G=new Em(V,c.localStore,y.wt);let ee=yield y.fc();for(;ee;){const it=yield G.Nu(ee);it&&T._updateProgress(it),ee=yield y.fc()}const we=yield G.complete();return yield Iu(c,we.Mu,void 0),yield function(it,Et){const Lt=Jt(it);return Lt.persistence.runTransaction("Save bundle","readwrite",un=>Lt.Ds.saveBundleMetadata(un,Et))}(c.localStore,V),T._completeWith(we.progress),Promise.resolve(we.Ou)}catch(V){return Pi("SyncEngine",`Loading bundle failed with ${V}`),T._failWith(V),Promise.resolve(new Set)}var it}),function(c,y,T){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Op(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Gm(i,e){return function Um(i,e){return i.asyncQueue.enqueue((0,de.Z)(function*(){return function(t,o){const u=Jt(t);return u.persistence.runTransaction("Get named query","readonly",c=>u.Ds.getNamedQuery(c,o))}(yield Fh(i),e)}))}(ui(i=Rr(i,Ir)),e).then(t=>t?new ea(i,null,t.query):null)}(this._delegate,e).then(t=>t?new wa(this,t):null)}}class Jh extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(new Tu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ru.forKey(t,this.firestore,null)}}class fy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}get(e){const t=Xl(e);return this._delegate.get(t).then(o=>new Sd(this._firestore,new Au(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Xl(e);return o?(Yh("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Xl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Xl(e);return this._delegate.delete(t),this}}class py{constructor(e){this._delegate=e}set(e,t,o){const u=Xl(e);return o?(Yh("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Xl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Xl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Zl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Md(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Jl.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let c=u.get(t);return c||(c=new Jl(e,new Jh(e),t),u.set(t,c)),c}}Jl.INSTANCES=new WeakMap;class ru{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ru(t,new qi(t._delegate,o,new qt(e)))}static forKey(e,t,o){return new ru(t,new qi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Lc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lc(this.firestore,bl(this._delegate,e))}catch(t){throw Ea(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ae.m9)(e))instanceof qi&&$m(this._delegate,e)}set(e,t){t=Yh("DocumentReference.set",t);try{return t?Jp(this._delegate,e,t):Jp(this._delegate,e)}catch(o){throw Ea(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Xp(this._delegate,e):Xp(this._delegate,e,t,...o)}catch(u){throw Ea(u,"updateDoc()","DocumentReference.update()")}}delete(){return function hv(i){return Tl(Rr(i.firestore,Ir),[new fl(i._key,Ui.none())])}(this._delegate)}onSnapshot(...e){const t=gy(e),o=my(e,u=>new Sd(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return sy(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function cv(i){i=Rr(i,qi);const e=Rr(i.firestore,Ir),t=ui(e),o=new ta(e);return function Lm(i,e){const t=new hi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(o=(0,de.Z)(function*(u,c,y){try{const T=yield function(V,G){const ee=Jt(V);return ee.persistence.runTransaction("read document","readonly",we=>ee.localDocuments.getDocument(we,G))}(u,c);T.isFoundDocument()?y.resolve(T):T.isNoDocument()?y.resolve(null):y.reject(new Nt(ut.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const V=_c(T,`Failed to get document '${c} from cache`);y.reject(V)}}),function(u,c,y){return o.apply(this,arguments)})(yield Fh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Au(e,o,i._key,u,new Cl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function dv(i){i=Rr(i,qi);const e=Rr(i.firestore,Ir);return Rp(ui(e),i._key,{source:"server"}).then(t=>Ql(e,i,t))}(this._delegate):function Qp(i){i=Rr(i,qi);const e=Rr(i.firestore,Ir);return Rp(ui(e),i._key).then(t=>Ql(e,i,t))}(this._delegate),t.then(o=>new Sd(this.firestore,new Au(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ru(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}function Ea(i,e,t){return i.message=i.message.replace(e,t),i}function gy(i){for(const e of i)if("object"==typeof e&&!Qh(e))return e;return{}}function my(i,e){var t,o;let u;return u=Qh(i[0])?i[0]:Qh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{u.next&&u.next(e(c))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Sd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ru(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qp(this._delegate,e._delegate)}}class Md extends Sd{data(e){const t=this._delegate.data(e);return function fa(i,e){i||dn()}(void 0!==t),t}}class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}where(e,t,o){try{return new wa(this.firestore,ol(this._delegate,function Qm(i,e,t){const o=e,u=Ad("where",i);return new Ym(u,o,t)}(e,t,o)))}catch(u){throw Ea(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wa(this.firestore,ol(this._delegate,function iv(i,e="asc"){const t=e,o=Ad("orderBy",i);return new F0(o,t)}(e,t)))}catch(o){throw Ea(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wa(this.firestore,ol(this._delegate,function Xm(i){return Bm("limit",i),new Jm("limit",i,"F")}(e)))}catch(t){throw Ea(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wa(this.firestore,ol(this._delegate,function sv(i){return Bm("limitToLast",i),new Jm("limitToLast",i,"L")}(e)))}catch(t){throw Ea(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wa(this.firestore,ol(this._delegate,function ey(...i){return new Ws("startAt",i,!0)}(...e)))}catch(t){throw Ea(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wa(this.firestore,ol(this._delegate,function ov(...i){return new Ws("startAfter",i,!1)}(...e)))}catch(t){throw Ea(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wa(this.firestore,ol(this._delegate,function ny(...i){return new ty("endBefore",i,!1)}(...e)))}catch(t){throw Ea(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wa(this.firestore,ol(this._delegate,function av(...i){return new ty("endAt",i,!0)}(...e)))}catch(t){throw Ea(t,"endAt()","Query.endAt()")}}isEqual(e){return Hm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Su(i){i=Rr(i,ea);const e=Rr(i.firestore,Ir),t=ui(e),o=new ta(e);return function N0(i,e){const t=new hi;return i.asyncQueue.enqueueAndForget((0,de.Z)(function*(){return(o=(0,de.Z)(function*(u,c,y){try{const T=yield td(u,c,!0),V=new dp(c,T.ji),G=V.Ku(T.documents),ee=V.applyChanges(G,!1);y.resolve(ee.snapshot)}catch(T){const V=_c(T,`Failed to execute query '${c} against cache`);y.reject(V)}}),function(u,c,y){return o.apply(this,arguments)})(yield Fh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new sl(e,o,i,u))}(this._delegate):"server"===e?.source?function Mu(i){i=Rr(i,ea);const e=Rr(i.firestore,Ir),t=ui(e),o=new ta(e);return nu(t,i._query,{source:"server"}).then(u=>new sl(e,o,i,u))}(this._delegate):function Gu(i){i=Rr(i,ea);const e=Rr(i.firestore,Ir),t=ui(e),o=new ta(e);return Kp(i._query),nu(t,i._query).then(u=>new sl(e,o,i,u))}(this._delegate),t.then(o=>new ng(this.firestore,new sl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=gy(e),o=my(e,u=>new ng(this.firestore,new sl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return sy(this._delegate,t,o)}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}class wv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ng{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Md(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Md(this._firestore,o))})}isEqual(e){return qp(this._delegate,e._delegate)}}class Lc extends wa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ru(this.firestore,e):null}doc(e){try{return new ru(this.firestore,void 0===e?Dl(this._delegate):Dl(this._delegate,e))}catch(t){throw Ea(t,"doc()","CollectionReference.doc()")}}add(e){return function fv(i,e){const t=Rr(i.firestore,Ir),o=Dl(i),u=Wh(i.converter,e);return Tl(t,[Pc(rl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ui.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ru(this.firestore,t))}isEqual(e){return $m(this._delegate,e._delegate)}withConverter(e){return new Lc(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}function Xl(i){return Rr(i,qi)}class rg{constructor(...e){this._delegate=new Hu(...e)}static documentId(){return new rg(_n.keyField().canonicalString())}isEqual(e){return(e=(0,ae.m9)(e))instanceof Hu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Al{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ay(){return new Nc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Al(e)}static delete(){const e=function mv(){return new bd("deleteField")}();return e._methodName="FieldValue.delete",new Al(e)}static arrayUnion(...e){const t=function uy(...i){return new Hp("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Al(t)}static arrayRemove(...e){const t=function qh(...i){return new tv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Al(t)}static increment(e){const t=function yv(i){return new jh("increment",i)}(e);return t._methodName="FieldValue.increment",new Al(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yy={Firestore:hy,GeoPoint:wd,Timestamp:Rt,Blob:Fc,Transaction:fy,WriteBatch:py,DocumentReference:ru,DocumentSnapshot:Sd,Query:wa,QueryDocumentSnapshot:Md,QuerySnapshot:ng,CollectionReference:Lc,FieldPath:rg,FieldValue:Al,setLogLevel:function Ev(i){!function Ta(i){Ji.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function vy(i){(function _y(i,e){i.INTERNAL.registerComponent(new ot.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},yy)))})(i,(e,t)=>new hy(e,t,new dy)),i.registerVersion("@firebase/firestore-compat","0.1.20")}(Gt.Z);var ig=j(7579),Ey=j(6451),xd=j(5363),ul=j(3900),wy=j(6063);class by extends ig.x{constructor(e=1/0,t=1/0,o=wy.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:c,_windowTime:y}=this;t||(o.push(e),!u&&o.push(c.now()+y)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,c=u.slice();for(let y=0;y<c.length&&!e.closed;y+=o?1:2)e.next(c[y]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,c=(u?1:2)*e;if(e<1/0&&c<o.length&&o.splice(0,o.length-c),!u){const y=t.now();let T=0;for(let V=1;V<o.length&&o[V]<=y;V+=2)T=V;T&&o.splice(0,T+1)}}}var Dy=j(3099);function Sl(i,e,t){let o,u=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:e=1/0,refCount:u=!1,scheduler:t}=i):o=i??1/0,(0,Dy.B)({connector:()=>new by(o,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var bv=j(590),Dv=j(576);function ec(i,e){return(0,Dv.m)(e)?(0,ul.w)(()=>i,e):(0,ul.w)(()=>i)}var Iy=j(9468),Xh=j(7128),L0=j(127);const sg=new _.OlP("angularfire2.auth.use-emulator"),Iv=new _.OlP("angularfire2.auth.settings"),zn=new _.OlP("angularfire2.auth.tenant-id"),Ty=new _.OlP("angularfire2.auth.langugage-code"),Ay=new _.OlP("angularfire2.auth.use-device-language"),Sy=new _.OlP("angularfire.auth.persistence"),tc=(i,e,t,o,u,c,y,T)=>(0,Je.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const V=e.runOutsideAngular(()=>i.auth());if(t&&V.useEmulator(...t),o&&(V.tenantId=o),V.languageCode=u,c&&V.useDeviceLanguage(),y)for(const[G,ee]of Object.entries(y))V.settings[G]=ee;return T&&V.setPersistence(T),V},[t,o,u,c,y,T]);let My=(()=>{class i{constructor(t,o,u,c,y,T,V,G,ee,we,it,Et){const Lt=new ig.x,un=(0,fe.of)(void 0).pipe((0,xd.Q)(y.outsideAngular),(0,ul.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,Ye.U)(()=>(0,Je.on)(t,c,o)),(0,Ye.U)(bn=>tc(bn,c,T,G,ee,we,V,it)),Sl({bufferSize:1,refCount:!1}));if((0,Qe.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,fe.of)(null);else{un.pipe((0,bv.P)()).subscribe();const Vr=un.pipe((0,ul.w)(Cr=>Cr.getRedirectResult().then(Br=>Br,()=>null)),Ae.iC,Sl({bufferSize:1,refCount:!1})),pi=un.pipe((0,ul.w)(Cr=>new $.y(Br=>({unsubscribe:c.runOutsideAngular(()=>Cr.onAuthStateChanged(Xr=>Br.next(Xr),Xr=>Br.error(Xr),()=>Br.complete()))})))),Ur=un.pipe((0,ul.w)(Cr=>new $.y(Br=>({unsubscribe:c.runOutsideAngular(()=>Cr.onIdTokenChanged(Xr=>Br.next(Xr),Xr=>Br.error(Xr),()=>Br.complete()))}))));this.authState=Vr.pipe(ec(pi),(0,Iy.R)(y.outsideAngular),(0,xd.Q)(y.insideAngular)),this.user=Vr.pipe(ec(Ur),(0,Iy.R)(y.outsideAngular),(0,xd.Q)(y.insideAngular)),this.idToken=this.user.pipe((0,ul.w)(Cr=>Cr?(0,_e.D)(Cr.getIdToken()):(0,fe.of)(null))),this.idTokenResult=this.user.pipe((0,ul.w)(Cr=>Cr?(0,_e.D)(Cr.getIdTokenResult()):(0,fe.of)(null))),this.credential=(0,Ey.T)(Vr,Lt,this.authState.pipe((0,$t.h)(Cr=>!Cr))).pipe((0,Ye.U)(Cr=>Cr?.user?Cr:null),(0,Iy.R)(y.outsideAngular),(0,xd.Q)(y.insideAngular))}return(0,Je.pX)(this,un,c,{spy:{apply:(bn,Vr,pi)=>{(bn.startsWith("signIn")||bn.startsWith("createUser"))&&pi.then(Ur=>Lt.next(Ur))}}})}}return i.\u0275fac=function(t){return new(t||i)(_.LFG(Je.Dh),_.LFG(Je.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ae.HU),_.LFG(sg,8),_.LFG(Iv,8),_.LFG(zn,8),_.LFG(Ty,8),_.LFG(Ay,8),_.LFG(Sy,8),_.LFG(Xh.nm,8))},i.\u0275prov=_.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function hs(i,e){return function ef(i,e=f.z){return new $.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function tf(i,e){return hs(i,e).pipe((0,Ye.U)(t=>({payload:t,type:"query"})))}function Pd(i,e){return tf(i,e).pipe((0,_t.O)(void 0),Ue(),(0,Ye.U)(([t,o])=>{const u=o.payload.docChanges(),c=u.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,T)=>{const V=u.find(ee=>ee.doc.ref.isEqual(y.ref)),G=t?.payload.docs.find(ee=>ee.ref.isEqual(y.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(y.metadata)||!V&&G&&JSON.stringify(G.metadata)===JSON.stringify(y.metadata)||c.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:y}})}),c}))}function xy(i,e,t){return Pd(i,t).pipe((0,et.R)((o,u)=>function Py(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Ny(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return nf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(c=>c.payload),e),[]),function te(i,e=le.y){return i=i??ve,(0,Re.e)((t,o)=>{let u,c=!0;t.subscribe((0,ke.x)(o,y=>{const T=e(y);(c||!i(u,T))&&(c=!1,u=T,o.next(y))}))})}(),(0,Ye.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function nf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function ag(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Oy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Pd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ye.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,_t.O)(void 0),Ue(),(0,$t.h)(([o,u])=>u.length>0||!o),(0,Ye.U)(([o,u])=>u),Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,et.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ag(e);return xy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ae.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Ae.iC)}add(e){return this.ref.add(e)}doc(e){return new Ry(this.ref.doc(e),this.afs)}}class Ry{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:c}=Nd(o,t);return new Oy(u,c,this.afs)}snapshotChanges(){return function V0(i,e){return hs(i,e).pipe((0,_t.O)(void 0),Ue(),(0,Ye.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_e.D)(this.ref.get(e)).pipe(Ae.iC)}}class Cv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,$t.h)(t=>t.length>0),Ae.iC):Pd(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,et.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ag(e);return xy(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(e={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Ae.iC)}get(e){return(0,_e.D)(this.query.get(e)).pipe(Ae.iC)}}const Vc=new _.OlP("angularfire2.enableFirestorePersistence"),ky=new _.OlP("angularfire2.firestore.persistenceSettings"),Tv=new _.OlP("angularfire2.firestore.settings"),Av=new _.OlP("angularfire2.firestore.use-emulator");function Nd(i,e=(t=>t)){return{query:e(i),ref:i}}let ug=(()=>{class i{constructor(t,o,u,c,y,T,V,G,ee,we,it,Et,Lt,un,bn,Vr,pi){this.schedulers=V;const Ur=(0,Je.on)(t,T,o),Cr=ee;we&&tc(Ur,T,it,Lt,un,bn,Et,Vr),[this.firestore,this.persistenceEnabled$]=(0,Je.cc)(`${Ur.name}.firestore`,"AngularFirestore",Ur.name,()=>{const Br=T.runOutsideAngular(()=>Ur.firestore());if(c&&Br.settings(c),Cr&&Br.useEmulator(...Cr),u&&!(0,Qe.PM)(y)){const Xr=()=>{try{return(0,_e.D)(Br.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(qs){return typeof console<"u"&&console.warn(qs),(0,fe.of)(!1)}};return[Br,T.runOutsideAngular(Xr)]}return[Br,(0,fe.of)(!1)]},[c,Cr,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:y}=Nd(u,o),T=this.schedulers.ngZone.run(()=>c);return new Oy(T,y,this)}collectionGroup(t,o){const u=o||(y=>y),c=this.firestore.collectionGroup(t);return new Cv(u(c),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Ry(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(_.LFG(Je.Dh),_.LFG(Je.xv,8),_.LFG(Vc,8),_.LFG(Tv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ae.HU),_.LFG(ky,8),_.LFG(Av,8),_.LFG(My,8),_.LFG(sg,8),_.LFG(Iv,8),_.LFG(zn,8),_.LFG(Ty,8),_.LFG(Ay,8),_.LFG(Sy,8),_.LFG(Xh.nm,8))},i.\u0275prov=_.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Fy=(()=>{class i{constructor(){L0.Z.registerVersion("angularfire",Ae.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Vc,useValue:!0},{provide:ky,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({providers:[ug]}),i})()},2011:(en,Ke,j)=>{j.d(Ke,{Dh:()=>ke,GT:()=>Ae,cc:()=>Ye,hO:()=>_t,on:()=>le,pX:()=>fe,xv:()=>Ue});var _=j(4650),f=j(127),$=j(5813);en=j.hmd(en);const _e=["ngOnDestroy"],fe=(Qe,Wt,Gt,de={})=>new Proxy(Qe,{get:(ct,ot)=>Gt.runOutsideAngular(()=>{var wt;if(Qe[ot])return!(null===(wt=de?.spy)||void 0===wt)&&wt.get&&de.spy.get(ot,Qe[ot]),Qe[ot];if(_e.indexOf(ot)>-1)return()=>{};const ae=Wt.toPromise().then($e=>{const at=$e&&$e[ot];return"function"==typeof at?at.bind($e):at&&at.then?at.then(oe=>Gt.run(()=>oe)):Gt.run(()=>at)});return new Proxy(()=>{},{get:($e,at)=>ae[at],apply:($e,at,oe)=>ae.then(Be=>{var Te;const Xe=Be&&Be(...oe);return!(null===(Te=de?.spy)||void 0===Te)&&Te.apply&&de.spy.apply(ot,oe,Xe),Xe})})})}),Ae=(Qe,Wt)=>{Wt.forEach(Gt=>{Object.getOwnPropertyNames(Gt.prototype||Gt).forEach(de=>{Object.defineProperty(Qe.prototype,de,Object.getOwnPropertyDescriptor(Gt.prototype||Gt,de))})})};class Re{constructor(Wt){return Wt}}const ke=new _.OlP("angularfire2.app.options"),Ue=new _.OlP("angularfire2.app.name");function le(Qe,Wt,Gt){const ct="object"==typeof Gt&&Gt||{};ct.name=ct.name||"string"==typeof Gt&&Gt||"[DEFAULT]";const wt=f.Z.apps.filter(ae=>ae&&ae.name===ct.name)[0]||Wt.runOutsideAngular(()=>f.Z.initializeApp(Qe,ct));try{JSON.stringify(Qe)!==JSON.stringify(wt.options)&&te("error",`${wt.name} Firebase App already initialized with different options${en.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(wt)}const te=(Qe,...Wt)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Qe](...Wt)},ve={provide:Re,useFactory:le,deps:[ke,_.R0b,[new _.FiY,Ue]]};let _t=(()=>{class Qe{constructor(Gt){f.Z.registerVersion("angularfire",$.q4.full,"core"),f.Z.registerVersion("angularfire",$.q4.full,"app-compat"),f.Z.registerVersion("angular",_.q4F.full,Gt.toString())}static initializeApp(Gt,de){return{ngModule:Qe,providers:[{provide:ke,useValue:Gt},{provide:Ue,useValue:de}]}}}return Qe.\u0275fac=function(Gt){return new(Gt||Qe)(_.LFG(_.Lbi))},Qe.\u0275mod=_.oAB({type:Qe}),Qe.\u0275inj=_.cJS({providers:[ve]}),Qe})();function Ye(Qe,Wt,Gt,de,ct){const[,ot,wt]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===Qe)||[];if(ot)return function et(Qe,Wt){try{return Qe.toString()===Wt.toString()}catch{return Qe===Wt}}(ct,wt)||(Je("error",`${Wt} was already initialized on the ${Gt} Firebase App with different settings.${$t?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ct,was:wt})),ot;{const ae=de();return globalThis.\u0275AngularfireInstanceCache.push([Qe,ae,ct]),ae}}const $t=!!en.hot,Je=(Qe,...Wt)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Qe](...Wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(en,Ke,j)=>{j.d(Ke,{q4:()=>Xi,iC:()=>Aa,HU:()=>us,vb:()=>Nu,JM:()=>zr,u3:()=>Is});var _=j(4650),f=j(5867),$=j(5861),_e=j(9681),fe=j(2090),Ae=j(4859),Re=j(1877),ke=j(8766);const Ue="@firebase/installations",le="0.5.11",ve=`w:${le}`,_t="FIS_v2",Wt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gt(x){return x instanceof fe.ZR&&x.code.includes("request-failed")}function de({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ct(x){return{token:x.token,requestStatus:2,expiresIn:Be(x.expiresIn),creationTime:Date.now()}}function ot(x,F){return wt.apply(this,arguments)}function wt(){return(wt=(0,$.Z)(function*(x,F){const ce=(yield F.json()).error;return Wt.create("request-failed",{requestName:x,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function ae({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function $e(x,{refreshToken:F}){const W=ae(x);return W.append("Authorization",function Te(x){return`${_t} ${x}`}(F)),W}function at(x){return oe.apply(this,arguments)}function oe(){return(oe=(0,$.Z)(function*(x){const F=yield x();return F.status>=500&&F.status<600?x():F})).apply(this,arguments)}function Be(x){return Number(x.replace("s","000"))}function Xe(x,F){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,$.Z)(function*({appConfig:x,heartbeatServiceProvider:F},{fid:W}){const ce=de(x),Le=ae(x),rt=F.getImmediate({optional:!0});if(rt){const gn=yield rt.getHeartbeatsHeader();gn&&Le.append("x-firebase-client",gn)}const Qt={method:"POST",headers:Le,body:JSON.stringify({fid:W,authVersion:_t,appId:x.appId,sdkVersion:ve})},An=yield at(()=>fetch(ce,Qt));if(An.ok){const gn=yield An.json();return{fid:gn.fid||W,registrationStatus:2,refreshToken:gn.refreshToken,authToken:ct(gn.authToken)}}throw yield ot("Create Installation",An)})).apply(this,arguments)}function Mt(x){return new Promise(F=>{setTimeout(F,x)})}const sn=/^[cdef][\w-]{21}$/;function Bt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const W=function Wn(x){return function on(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return sn.test(W)?W:""}catch{return""}}function Sn(x){return`${x.appName}!${x.appId}`}const tr=new Map;function En(x,F){const W=Sn(x);Bn(W,F),function ar(x,F){const W=function mr(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=x=>{Bn(x.data.key,x.data.fid)}),gr}();W&&W.postMessage({key:x,fid:F}),function br(){0===tr.size&&gr&&(gr.close(),gr=null)}()}(W,F)}function Bn(x,F){const W=tr.get(x);if(W)for(const ce of W)ce(F)}let gr=null;const _r="firebase-installations-store";let ir=null;function rn(){return ir||(ir=(0,ke.X3)("firebase-installations-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(_r)}})),ir}function sr(x,F){return xn.apply(this,arguments)}function xn(){return(xn=(0,$.Z)(function*(x,F){const W=Sn(x),Le=(yield rn()).transaction(_r,"readwrite"),rt=Le.objectStore(_r),At=yield rt.get(W);return yield rt.put(F,W),yield Le.done,(!At||At.fid!==F.fid)&&En(x,F.fid),F})).apply(this,arguments)}function Tn(x){return kr.apply(this,arguments)}function kr(){return(kr=(0,$.Z)(function*(x){const F=Sn(x),ce=(yield rn()).transaction(_r,"readwrite");yield ce.objectStore(_r).delete(F),yield ce.done})).apply(this,arguments)}function jr(x,F){return li.apply(this,arguments)}function li(){return(li=(0,$.Z)(function*(x,F){const W=Sn(x),Le=(yield rn()).transaction(_r,"readwrite"),rt=Le.objectStore(_r),At=yield rt.get(W),Qt=F(At);return void 0===Qt?yield rt.delete(W):yield rt.put(Qt,W),yield Le.done,Qt&&(!At||At.fid!==Qt.fid)&&En(x,Qt.fid),Qt})).apply(this,arguments)}function dt(x){return De.apply(this,arguments)}function De(){return(De=(0,$.Z)(function*(x){let F;const W=yield jr(x.appConfig,ce=>{const Le=Pe(ce),rt=ft(x,Le);return F=rt.registrationPromise,rt.installationEntry});return""===W.fid?{installationEntry:yield F}:{installationEntry:W,registrationPromise:F}})).apply(this,arguments)}function Pe(x){return Qn(x||{fid:Bt(),registrationStatus:0})}function ft(x,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Wt.create("app-offline"))};const W={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},ce=function je(x,F){return vt.apply(this,arguments)}(x,W);return{installationEntry:W,registrationPromise:ce}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Kt(x)}:{installationEntry:F}}function vt(){return(vt=(0,$.Z)(function*(x,F){try{const W=yield Xe(x,F);return sr(x.appConfig,W)}catch(W){throw Gt(W)&&409===W.customData.serverCode?yield Tn(x.appConfig):yield sr(x.appConfig,{fid:F.fid,registrationStatus:0}),W}})).apply(this,arguments)}function Kt(x){return jn.apply(this,arguments)}function jn(){return(jn=(0,$.Z)(function*(x){let F=yield Vt(x.appConfig);for(;1===F.registrationStatus;)yield Mt(100),F=yield Vt(x.appConfig);if(0===F.registrationStatus){const{installationEntry:W,registrationPromise:ce}=yield dt(x);return ce||W}return F})).apply(this,arguments)}function Vt(x){return jr(x,F=>{if(!F)throw Wt.create("installation-not-found");return Qn(F)})}function Qn(x){return function nr(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Zn(x,F){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,$.Z)(function*({appConfig:x,heartbeatServiceProvider:F},W){const ce=ye(x,W),Le=$e(x,W),rt=F.getImmediate({optional:!0});if(rt){const gn=yield rt.getHeartbeatsHeader();gn&&Le.append("x-firebase-client",gn)}const Qt={method:"POST",headers:Le,body:JSON.stringify({installation:{sdkVersion:ve,appId:x.appId}})},An=yield at(()=>fetch(ce,Qt));if(An.ok)return ct(yield An.json());throw yield ot("Generate Auth Token",An)})).apply(this,arguments)}function ye(x,{fid:F}){return`${de(x)}/${F}/authTokens:generate`}function ie(x){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,$.Z)(function*(x,F=!1){let W;const ce=yield jr(x.appConfig,rt=>{if(!wn(rt))throw Wt.create("not-registered");const At=rt.authToken;if(!F&&$n(At))return rt;if(1===At.requestStatus)return W=Ve(x,F),rt;{if(!navigator.onLine)throw Wt.create("app-offline");const Qt=Ln(rt);return W=bt(x,Qt),Qt}});return W?yield W:ce.authToken})).apply(this,arguments)}function Ve(x,F){return se.apply(this,arguments)}function se(){return(se=(0,$.Z)(function*(x,F){let W=yield ht(x.appConfig);for(;1===W.authToken.requestStatus;)yield Mt(100),W=yield ht(x.appConfig);const ce=W.authToken;return 0===ce.requestStatus?ie(x,F):ce})).apply(this,arguments)}function ht(x){return jr(x,F=>{if(!wn(F))throw Wt.create("not-registered");return function ze(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function bt(x,F){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,$.Z)(function*(x,F){try{const W=yield Zn(x,F),ce=Object.assign(Object.assign({},F),{authToken:W});return yield sr(x.appConfig,ce),W}catch(W){if(!Gt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ce=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield sr(x.appConfig,ce)}else yield Tn(x.appConfig);throw W}})).apply(this,arguments)}function wn(x){return void 0!==x&&2===x.registrationStatus}function $n(x){return 2===x.requestStatus&&!function Gn(x){const F=Date.now();return F<x.creationTime||x.creationTime+x.expiresIn<F+36e5}(x)}function Ln(x){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:F})}function pe(){return(pe=(0,$.Z)(function*(x){const F=x,{installationEntry:W,registrationPromise:ce}=yield dt(F);return ce?ce.catch(console.error):ie(F).catch(console.error),W.fid})).apply(this,arguments)}function Ft(){return(Ft=(0,$.Z)(function*(x,F=!1){const W=x;return yield Xt(W),(yield ie(W,F)).token})).apply(this,arguments)}function Xt(x){return pt.apply(this,arguments)}function pt(){return(pt=(0,$.Z)(function*(x){const{registrationPromise:F}=yield dt(x);F&&(yield F)})).apply(this,arguments)}function or(x){return Wt.create("missing-app-config-values",{valueName:x})}const cn="installations",ur=x=>{const F=x.getProvider("app").getImmediate(),W=function Vn(x){if(!x||!x.options)throw or("App Configuration");if(!x.name)throw or("App Name");const F=["projectId","apiKey","appId"];for(const W of F)if(!x.options[W])throw or(W);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(F);return{app:F,appConfig:W,heartbeatServiceProvider:(0,_e._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},$r=x=>{const F=x.getProvider("app").getImmediate(),W=(0,_e._getProvider)(F,cn).getImmediate();return{getId:()=>function he(x){return pe.apply(this,arguments)}(W),getToken:Le=>function lt(x){return Ft.apply(this,arguments)}(W,Le)}};(function gi(){(0,_e._registerComponent)(new Ae.wA(cn,ur,"PUBLIC")),(0,_e._registerComponent)(new Ae.wA("installations-internal",$r,"PRIVATE"))})(),(0,_e.registerVersion)(Ue,le),(0,_e.registerVersion)(Ue,le,"esm2017");const xr="@firebase/remote-config",ci=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zs{constructor(F,W,ce,Le){this.client=F,this.storage=W,this.storageCache=ce,this.logger=Le}isCachedDataFresh(F,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-W,Le=ce<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Le}.`),Le}fetch(F){var W=this;return(0,$.Z)(function*(){const[ce,Le]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Le&&W.isCachedDataFresh(F.cacheMaxAgeMillis,ce))return Le;F.eTag=Le&&Le.eTag;const rt=yield W.client.fetch(F),At=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&At.push(W.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(At),rt})()}}function ns(x=navigator){return x.languages&&x.languages[0]||x.language}class Ti{constructor(F,W,ce,Le,rt,At){this.firebaseInstallations=F,this.sdkVersion=W,this.namespace=ce,this.projectId=Le,this.apiKey=rt,this.appId=At}fetch(F){var W=this;return(0,$.Z)(function*(){var ce,Le,rt;const[At,Qt]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),gn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,kn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Dn={sdk_version:W.sdkVersion,app_instance_id:At,app_instance_id_token:Qt,app_id:W.appId,language_code:ns()},Jr={method:"POST",headers:kn,body:JSON.stringify(Dn)},Wr=fetch(gn,Jr),Io=new Promise(($s,Vo)=>{F.signal.addEventListener(()=>{const Sa=new Error("The operation was aborted.");Sa.name="AbortError",Vo(Sa)})});let so;try{yield Promise.race([Wr,Io]),so=yield Wr}catch($s){let Vo="fetch-client-network";throw"AbortError"===(null===(ce=$s)||void 0===ce?void 0:ce.name)&&(Vo="fetch-timeout"),ci.create(Vo,{originalErrorMessage:null===(Le=$s)||void 0===Le?void 0:Le.message})}let Qo=so.status;const ya=so.headers.get("ETag")||void 0;let Jo,oo;if(200===so.status){let $s;try{$s=yield so.json()}catch(Vo){throw ci.create("fetch-client-parse",{originalErrorMessage:null===(rt=Vo)||void 0===rt?void 0:rt.message})}Jo=$s.entries,oo=$s.state}if("INSTANCE_STATE_UNSPECIFIED"===oo?Qo=500:"NO_CHANGE"===oo?Qo=304:("NO_TEMPLATE"===oo||"EMPTY_CONFIG"===oo)&&(Jo={}),304!==Qo&&200!==Qo)throw ci.create("fetch-status",{httpStatus:Qo});return{status:Qo,eTag:ya,config:Jo}})()}}class Ai{constructor(F,W){this.client=F,this.storage=W}fetch(F){var W=this;return(0,$.Z)(function*(){const ce=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(F,ce)})()}attemptFetch(F,{throttleEndTimeMillis:W,backoffCount:ce}){var Le=this;return(0,$.Z)(function*(){yield function Di(x,F){return new Promise((W,ce)=>{const Le=Math.max(F-Date.now(),0),rt=setTimeout(W,Le);x.addEventListener(()=>{clearTimeout(rt),ce(ci.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,W);try{const rt=yield Le.client.fetch(F);return yield Le.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function na(x){if(!(x instanceof fe.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}(rt))throw rt;const At={throttleEndTimeMillis:Date.now()+(0,fe.$s)(ce),backoffCount:ce+1};return yield Le.storage.setThrottleMetadata(At),Le.attemptFetch(F,At)}})()}}class Si{constructor(F,W,ce,Le,rt){this.app=F,this._client=W,this._storageCache=ce,this._storage=Le,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ms(x,F){var W;const ce=x.target.error||void 0;return ci.create(F,{originalErrorMessage:ce&&(null===(W=ce)||void 0===W?void 0:W.message)})}const Fi="app_namespace_store";class ys{constructor(F,W,ce,Le=function ia(){return new Promise((x,F)=>{var W;try{const ce=indexedDB.open("firebase_remote_config",1);ce.onerror=Le=>{F(ms(Le,"storage-open"))},ce.onsuccess=Le=>{x(Le.target.result)},ce.onupgradeneeded=Le=>{0===Le.oldVersion&&Le.target.result.createObjectStore(Fi,{keyPath:"compositeKey"})}}catch(ce){F(ci.create("storage-open",{originalErrorMessage:null===(W=ce)||void 0===W?void 0:W.message}))}})}()){this.appId=F,this.appName=W,this.namespace=ce,this.openDbPromise=Le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var W=this;return(0,$.Z)(function*(){const ce=yield W.openDbPromise;return new Promise((Le,rt)=>{var At;const An=ce.transaction([Fi],"readonly").objectStore(Fi),gn=W.createCompositeKey(F);try{const kn=An.get(gn);kn.onerror=Dn=>{rt(ms(Dn,"storage-get"))},kn.onsuccess=Dn=>{const Jr=Dn.target.result;Le(Jr?Jr.value:void 0)}}catch(kn){rt(ci.create("storage-get",{originalErrorMessage:null===(At=kn)||void 0===At?void 0:At.message}))}})})()}set(F,W){var ce=this;return(0,$.Z)(function*(){const Le=yield ce.openDbPromise;return new Promise((rt,At)=>{var Qt;const gn=Le.transaction([Fi],"readwrite").objectStore(Fi),kn=ce.createCompositeKey(F);try{const Dn=gn.put({compositeKey:kn,value:W});Dn.onerror=Jr=>{At(ms(Jr,"storage-set"))},Dn.onsuccess=()=>{rt()}}catch(Dn){At(ci.create("storage-set",{originalErrorMessage:null===(Qt=Dn)||void 0===Qt?void 0:Qt.message}))}})})()}delete(F){var W=this;return(0,$.Z)(function*(){const ce=yield W.openDbPromise;return new Promise((Le,rt)=>{var At;const An=ce.transaction([Fi],"readwrite").objectStore(Fi),gn=W.createCompositeKey(F);try{const kn=An.delete(gn);kn.onerror=Dn=>{rt(ms(Dn,"storage-delete"))},kn.onsuccess=()=>{Le()}}catch(kn){rt(ci.create("storage-delete",{originalErrorMessage:null===(At=kn)||void 0===At?void 0:At.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class ji{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,$.Z)(function*(){const W=F.storage.getLastFetchStatus(),ce=F.storage.getLastSuccessfulFetchTimestampMillis(),Le=F.storage.getActiveConfig(),rt=yield W;rt&&(F.lastFetchStatus=rt);const At=yield ce;At&&(F.lastSuccessfulFetchTimestampMillis=At);const Qt=yield Le;Qt&&(F.activeConfig=Qt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function oa(){return mi.apply(this,arguments)}function mi(){return(mi=(0,$.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function ks(){(0,_e._registerComponent)(new Ae.wA("remote-config",function x(F,{instanceIdentifier:W}){const ce=F.getProvider("app").getImmediate(),Le=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,fe.hl)())throw ci.create("indexed-db-unavailable");const{projectId:rt,apiKey:At,appId:Qt}=ce.options;if(!rt)throw ci.create("registration-project-id");if(!At)throw ci.create("registration-api-key");if(!Qt)throw ci.create("registration-app-id");const An=new ys(Qt,ce.name,W=W||"firebase"),gn=new ji(An),kn=new Re.Yd(xr);kn.logLevel=Re.in.ERROR;const Dn=new Ti(Le,_e.SDK_VERSION,W,rt,At,Qt),Jr=new Ai(Dn,An),Wr=new Zs(Jr,An,gn,kn),Io=new Si(ce,Wr,gn,An,kn);return function He(x){const F=(0,fe.m9)(x);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Io),Io},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(xr,"0.3.10"),(0,_e.registerVersion)(xr,"0.3.10","esm2017")}();const yi="/firebase-messaging-sw.js",rs="/firebase-cloud-messaging-push-scope",Ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_s="google.c.a.c_id",Mi="google.c.a.c_l",ho="google.c.a.ts",Ms="google.c.a.e";var Zi=(()=>{return(x=Zi||(Zi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Zi;var x})();function Tr(x){const F=new Uint8Array(x);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ls(x){const W=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(W),Le=new Uint8Array(ce.length);for(let rt=0;rt<ce.length;++rt)Le[rt]=ce.charCodeAt(rt);return Le}const Ys="fcm_token_details_db",Vs="fcm_token_object_Store";function qa(x){return fo.apply(this,arguments)}function fo(){return fo=(0,$.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(Ys))return null;let F=null;return(yield(0,ke.X3)(Ys,5,{upgrade:(ce=(0,$.Z)(function*(Le,rt,At,Qt){var An;if(rt<2||!Le.objectStoreNames.contains(Vs))return;const gn=Qt.objectStore(Vs),kn=yield gn.index("fcmSenderId").get(x);if(yield gn.clear(),kn)if(2===rt){const Dn=kn;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;F={token:Dn.fcmToken,createTime:null!==(An=Dn.createTime)&&void 0!==An?An:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:Tr(Dn.vapidKey)}}}else if(3===rt){const Dn=kn;F={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:Tr(Dn.auth),p256dh:Tr(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:Tr(Dn.vapidKey)}}}else if(4===rt){const Dn=kn;F={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:Tr(Dn.auth),p256dh:Tr(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:Tr(Dn.vapidKey)}}}}),function(rt,At,Qt,An){return ce.apply(this,arguments)})})).close(),yield(0,ke.Lj)(Ys),yield(0,ke.Lj)("fcm_vapid_details_db"),yield(0,ke.Lj)("undefined"),po(F)?F:null;var ce}),fo.apply(this,arguments)}function po(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:F}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Hn="firebase-messaging-store";let Nr=null;function Qs(){return Nr||(Nr=(0,ke.X3)("firebase-messaging-database",1,{upgrade:(x,F)=>{0===F&&x.createObjectStore(Hn)}})),Nr}function vr(x){return R.apply(this,arguments)}function R(){return(R=(0,$.Z)(function*(x){const F=We(x),ce=yield(yield Qs()).transaction(Hn).objectStore(Hn).get(F);if(ce)return ce;{const Le=yield qa(x.appConfig.senderId);if(Le)return yield K(x,Le),Le}})).apply(this,arguments)}function K(x,F){return k.apply(this,arguments)}function k(){return(k=(0,$.Z)(function*(x,F){const W=We(x),Le=(yield Qs()).transaction(Hn,"readwrite");return yield Le.objectStore(Hn).put(F,W),yield Le.done,F})).apply(this,arguments)}function Q(x){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,$.Z)(function*(x){const F=We(x),ce=(yield Qs()).transaction(Hn,"readwrite");yield ce.objectStore(Hn).delete(F),yield ce.done})).apply(this,arguments)}function We({appConfig:x}){return x.appId}const Ht=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ar(x,F){return qn.apply(this,arguments)}function qn(){return(qn=(0,$.Z)(function*(x,F){var W;const ce=yield Ps(x),Le=Yi(F),rt={method:"POST",headers:ce,body:JSON.stringify(Le)};let At;try{At=yield(yield fetch(fn(x.appConfig),rt)).json()}catch(Qt){throw Ht.create("token-subscribe-failed",{errorInfo:null===(W=Qt)||void 0===W?void 0:W.toString()})}if(At.error)throw Ht.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw Ht.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function cr(x,F){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,$.Z)(function*(x,F){var W;const ce=yield Ps(x),Le=Yi(F.subscriptionOptions),rt={method:"PATCH",headers:ce,body:JSON.stringify(Le)};let At;try{At=yield(yield fetch(`${fn(x.appConfig)}/${F.token}`,rt)).json()}catch(Qt){throw Ht.create("token-update-failed",{errorInfo:null===(W=Qt)||void 0===W?void 0:W.toString()})}if(At.error)throw Ht.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw Ht.create("token-update-no-token");return At.token})).apply(this,arguments)}function Gr(x,F){return dr.apply(this,arguments)}function dr(){return(dr=(0,$.Z)(function*(x,F){var W;const Le={method:"DELETE",headers:yield Ps(x)};try{const At=yield(yield fetch(`${fn(x.appConfig)}/${F}`,Le)).json();if(At.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(rt){throw Ht.create("token-unsubscribe-failed",{errorInfo:null===(W=rt)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function fn({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ps(x){return vs.apply(this,arguments)}function vs(){return(vs=(0,$.Z)(function*({appConfig:x,installations:F}){const W=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Yi({p256dh:x,auth:F,endpoint:W,vapidKey:ce}){const Le={web:{endpoint:W,auth:F,p256dh:x}};return ce!==Ss&&(Le.web.applicationPubKey=ce),Le}const ti=6048e5;function Oo(x){return is.apply(this,arguments)}function is(){return(is=(0,$.Z)(function*(x){const F=yield _i(x.swRegistration,x.vapidKey),W={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:F.endpoint,auth:Tr(F.getKey("auth")),p256dh:Tr(F.getKey("p256dh"))},ce=yield vr(x.firebaseDependencies);if(ce){if(L(ce.subscriptionOptions,W))return Date.now()>=ce.createTime+ti?Tt(x,{token:ce.token,createTime:Date.now(),subscriptionOptions:W}):ce.token;try{yield Gr(x.firebaseDependencies,ce.token)}catch(Le){console.warn(Le)}return aa(x.firebaseDependencies,W)}return aa(x.firebaseDependencies,W)})).apply(this,arguments)}function go(x){return Us.apply(this,arguments)}function Us(){return(Us=(0,$.Z)(function*(x){const F=yield vr(x.firebaseDependencies);F&&(yield Gr(x.firebaseDependencies,F.token),yield Q(x.firebaseDependencies));const W=yield x.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Tt(x,F){return rr.apply(this,arguments)}function rr(){return(rr=(0,$.Z)(function*(x,F){try{const W=yield cr(x.firebaseDependencies,F),ce=Object.assign(Object.assign({},F),{token:W,createTime:Date.now()});return yield K(x.firebaseDependencies,ce),W}catch(W){throw yield go(x),W}})).apply(this,arguments)}function aa(x,F){return ua.apply(this,arguments)}function ua(){return(ua=(0,$.Z)(function*(x,F){const ce={token:yield Ar(x,F),createTime:Date.now(),subscriptionOptions:F};return yield K(x,ce),ce.token})).apply(this,arguments)}function _i(x,F){return $o.apply(this,arguments)}function $o(){return($o=(0,$.Z)(function*(x,F){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ls(F)})})).apply(this,arguments)}function L(x,F){return F.vapidKey===x.vapidKey&&F.endpoint===x.endpoint&&F.auth===x.auth&&F.p256dh===x.p256dh}function O(x){const F={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function P(x,F){if(!F.notification)return;x.notification={};const W=F.notification.title;W&&(x.notification.title=W);const ce=F.notification.body;ce&&(x.notification.body=ce);const Le=F.notification.image;Le&&(x.notification.image=Le)}(F,x),function Z(x,F){!F.data||(x.data=F.data)}(F,x),function st(x,F){var W,ce,Le,rt,At;if(!(F.fcmOptions||null!==(W=F.notification)&&void 0!==W&&W.click_action))return;x.fcmOptions={};const Qt=null!==(Le=null===(ce=F.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Le?Le:null===(rt=F.notification)||void 0===rt?void 0:rt.click_action;Qt&&(x.fcmOptions.link=Qt);const An=null===(At=F.fcmOptions)||void 0===At?void 0:At.analytics_label;An&&(x.fcmOptions.analyticsLabel=An)}(F,x),F}function an(x){return"object"==typeof x&&!!x&&_s in x}function Or(x,F){const W=[];for(let ce=0;ce<x.length;ce++)W.push(x.charAt(ce)),ce<F.length&&W.push(F.charAt(ce));return W.join("")}function Dr(x){return Ht.create("missing-app-config-values",{valueName:x})}Or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zr{constructor(F,W,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Le=function Kr(x){if(!x||!x.options)throw Dr("App Configuration Object");if(!x.name)throw Dr("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:W}=x;for(const ce of F)if(!W[ce])throw Dr(ce);return{appName:x.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Le,installations:W,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function Li(x){return vi.apply(this,arguments)}function vi(){return(vi=(0,$.Z)(function*(x){var F;try{x.swRegistration=yield navigator.serviceWorker.register(yi,{scope:rs}),x.swRegistration.update().catch(()=>{})}catch(W){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:null===(F=W)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Es(x,F){return Js.apply(this,arguments)}function Js(){return(Js=(0,$.Z)(function*(x,F){if(!F&&!x.swRegistration&&(yield Li(x)),F||!x.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");x.swRegistration=F}})).apply(this,arguments)}function Ho(x,F){return $i.apply(this,arguments)}function $i(){return($i=(0,$.Z)(function*(x,F){F?x.vapidKey=F:x.vapidKey||(x.vapidKey=Ss)})).apply(this,arguments)}function mo(){return(mo=(0,$.Z)(function*(x,F){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield Ho(x,F?.vapidKey),yield Es(x,F?.serviceWorkerRegistration),Oo(x)})).apply(this,arguments)}function Ka(x,F,W){return la.apply(this,arguments)}function la(){return(la=(0,$.Z)(function*(x,F,W){const ce=Da(F);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:W[_s],message_name:W[Mi],message_time:W[ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Da(x){switch(x){case Zi.NOTIFICATION_CLICKED:return"notification_open";case Zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ca(){return(ca=(0,$.Z)(function*(x,F){const W=F.data;if(!W.isFirebaseMessaging)return;x.onMessageHandler&&W.messageType===Zi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(O(W)):x.onMessageHandler.next(O(W)));const ce=W.data;an(ce)&&"1"===ce[Ms]&&(yield Ka(x,W.messageType,ce))})).apply(this,arguments)}const ws="@firebase/messaging",yo=x=>{const F=new Zr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function ll(x,F){return ca.apply(this,arguments)}(F,W)),F},iu=x=>{const F=x.getProvider("messaging").getImmediate();return{getToken:ce=>function di(x,F){return mo.apply(this,arguments)}(F,ce)}};function Go(){return su.apply(this,arguments)}function su(){return(su=(0,$.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _o(){(0,_e._registerComponent)(new Ae.wA("messaging",yo,"PUBLIC")),(0,_e._registerComponent)(new Ae.wA("messaging-internal",iu,"PRIVATE")),(0,_e.registerVersion)(ws,"0.9.15"),(0,_e.registerVersion)(ws,"0.9.15","esm2017")}();const Ia="analytics",Qa="firebase_id",ss="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vo="https://www.googletagmanager.com/gtag/js",ri=new Re.Yd("@firebase/analytics");function au(x){return Promise.all(x.map(F=>F.catch(W=>W)))}function os(x,F){const W=document.createElement("script");W.src=`${vo}?l=${x}&id=${F}`,W.async=!0,document.head.appendChild(W)}function Ca(x,F,W,ce,Le,rt){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,$.Z)(function*(x,F,W,ce,Le,rt){const At=ce[Le];try{if(At)yield F[At];else{const An=(yield au(W)).find(gn=>gn.measurementId===Le);An&&(yield F[An.appId])}}catch(Qt){ri.error(Qt)}x("config",Le,rt)})).apply(this,arguments)}function Qi(x,F,W,ce,Le){return zo.apply(this,arguments)}function zo(){return(zo=(0,$.Z)(function*(x,F,W,ce,Le){try{let rt=[];if(Le&&Le.send_to){let At=Le.send_to;Array.isArray(At)||(At=[At]);const Qt=yield au(W);for(const An of At){const gn=Qt.find(Dn=>Dn.measurementId===An),kn=gn&&F[gn.appId];if(!kn){rt=[];break}rt.push(kn)}}0===rt.length&&(rt=Object.values(F)),yield Promise.all(rt),x("event",ce,Le||{})}catch(rt){ri.error(rt)}})).apply(this,arguments)}function Ro(){const x=window.document.getElementsByTagName("script");for(const F of Object.values(x))if(F.src&&F.src.includes(vo))return F;return null}const Vi=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ko=new class Wo{constructor(F={},W=1e3){this.throttleMetadata=F,this.intervalMillis=W}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,W){this.throttleMetadata[F]=W}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function ro(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function qo(x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,$.Z)(function*(x){var F;const{appId:W,apiKey:ce}=x,Le={method:"GET",headers:ro(ce)},rt=ss.replace("{app-id}",W),At=yield fetch(rt,Le);if(200!==At.status&&304!==At.status){let Qt="";try{const An=yield At.json();null!==(F=An.error)&&void 0!==F&&F.message&&(Qt=An.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:At.status,responseMessage:Qt})}return At.json()})).apply(this,arguments)}function Ko(x){return da.apply(this,arguments)}function da(){return(da=(0,$.Z)(function*(x,F=ko,W){const{appId:ce,apiKey:Le,measurementId:rt}=x.options;if(!ce)throw Vi.create("no-app-id");if(!Le){if(rt)return{measurementId:rt,appId:ce};throw Vi.create("no-api-key")}const At=F.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new Fo;return setTimeout((0,$.Z)(function*(){Qt.abort()}),void 0!==W?W:6e4),wi({appId:ce,apiKey:Le,measurementId:rt},At,Qt,F)})).apply(this,arguments)}function wi(x,F,W){return ka.apply(this,arguments)}function ka(){return(ka=(0,$.Z)(function*(x,{throttleEndTimeMillis:F,backoffCount:W},ce,Le=ko){var rt,At;const{appId:Qt,measurementId:An}=x;try{yield ha(ce,F)}catch(gn){if(An)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${null===(rt=gn)||void 0===rt?void 0:rt.message}]`),{appId:Qt,measurementId:An};throw gn}try{const gn=yield qo(x);return Le.deleteThrottleMetadata(Qt),gn}catch(gn){const kn=gn;if(!ii(kn)){if(Le.deleteThrottleMetadata(Qt),An)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${An} provided in the "measurementId" field in the local Firebase config. [${kn?.message}]`),{appId:Qt,measurementId:An};throw gn}const Dn=503===Number(null===(At=kn?.customData)||void 0===At?void 0:At.httpStatus)?(0,fe.$s)(W,Le.intervalMillis,30):(0,fe.$s)(W,Le.intervalMillis),Jr={throttleEndTimeMillis:Date.now()+Dn,backoffCount:W+1};return Le.setThrottleMetadata(Qt,Jr),ri.debug(`Calling attemptFetch again in ${Dn} millis`),wi(x,Jr,ce,Le)}})).apply(this,arguments)}function ha(x,F){return new Promise((W,ce)=>{const Le=Math.max(F-Date.now(),0),rt=setTimeout(W,Le);x.addEventListener(()=>{clearTimeout(rt),ce(Vi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function ii(x){if(!(x instanceof fe.ZR&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Fo{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function Ji(){return bs.apply(this,arguments)}function bs(){return(bs=(0,$.Z)(function*(){var x;if(!(0,fe.hl)())return ri.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(F){return ri.warn(Vi.create("indexeddb-unavailable",{errorInfo:null===(x=F)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function kt(){return(kt=(0,$.Z)(function*(x,F,W,ce,Le,rt,At){var Qt;const An=Ko(x);An.then(Wr=>{W[Wr.measurementId]=Wr.appId,x.options.measurementId&&Wr.measurementId!==x.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wr=>ri.error(Wr)),F.push(An);const gn=Ji().then(Wr=>{if(Wr)return ce.getId()}),[kn,Dn]=yield Promise.all([An,gn]);Ro()||os(rt,kn.measurementId),Le("js",new Date);const Jr=null!==(Qt=At?.config)&&void 0!==Qt?Qt:{};return Jr.origin="firebase",Jr.update=!0,null!=Dn&&(Jr[Qa]=Dn),Le("config",kn.measurementId,Jr),kn.measurementId})).apply(this,arguments)}class Qr{constructor(F){this.app=F}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},Lo=[];const dn={};let Jt,ut,In="dataLayer",Nt=!1;function lu(x,F,W){!function pa(){const x=[];if((0,fe.ru)()&&x.push("This is a browser extension environment."),(0,fe.zI)()||x.push("Cookies are not available."),x.length>0){const F=x.map((ce,Le)=>`(${Le+1}) ${ce}`).join(" "),W=Vi.create("invalid-analytics-context",{errorInfo:F});ri.warn(W.message)}}();const ce=x.options.appId;if(!ce)throw Vi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Vi.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[ce])throw Vi.create("already-exists",{id:ce});if(!Nt){!function Eo(x){let F=[];Array.isArray(window[x])?F=window[x]:window[x]=F}(In);const{wrappedGtag:rt,gtagCore:At}=function to(x,F,W,ce,Le){let rt=function(...At){window[ce].push(arguments)};return window[Le]&&"function"==typeof window[Le]&&(rt=window[Le]),window[Le]=function uu(x,F,W,ce){function rt(){return(rt=(0,$.Z)(function*(At,Qt,An){try{"event"===At?yield Qi(x,F,W,Qt,An):"config"===At?yield Ca(x,F,W,ce,Qt,An):x("set",Qt)}catch(gn){ri.error(gn)}})).apply(this,arguments)}return function Le(At,Qt,An){return rt.apply(this,arguments)}}(rt,x,F,W),{gtagCore:rt,wrappedGtag:window[Le]}}(Pi,Lo,dn,In,"gtag");ut=rt,Jt=At,Nt=!0}return Pi[ce]=function Ta(x,F,W,ce,Le,rt,At){return kt.apply(this,arguments)}(x,Lo,dn,F,Jt,In,W),new Qr(x)}function Ja(){return(Ja=(0,$.Z)(function*(x,F,W,ce,Le){if(Le&&Le.global)x("event",W,ce);else{const rt=yield F;x("event",W,Object.assign(Object.assign({},ce),{send_to:rt}))}})).apply(this,arguments)}function Rt(){return jt.apply(this,arguments)}function jt(){return(jt=(0,$.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const wo="@firebase/analytics";!function io(){(0,_e._registerComponent)(new Ae.wA(Ia,(F,{options:W})=>lu(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,_e._registerComponent)(new Ae.wA("analytics-internal",function x(F){try{const W=F.getProvider(Ia).getImmediate();return{logEvent:(ce,Le,rt)=>function qt(x,F,W,ce){x=(0,fe.m9)(x),function cu(x,F,W,ce,Le){return Ja.apply(this,arguments)}(ut,Pi[x.app.options.appId],F,W,ce).catch(Le=>ri.error(Le))}(W,ce,Le,rt)}}catch(W){throw Vi.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,_e.registerVersion)(wo,"0.7.11"),(0,_e.registerVersion)(wo,"0.7.11","esm2017")}();var du=j(4408),zu=j(7565);const bo=new class La extends zu.v{}(class hu extends du.o{constructor(F,W){super(F,W),this.scheduler=F,this.work=W}schedule(F,W=0){return W>0?super.schedule(F,W):(this.delay=W,this.state=F,this.scheduler.flush(this),this)}execute(F,W){return W>0||this.closed?super.execute(F,W):this._execute(F,W)}requestAsyncId(F,W,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(F,W,ce):F.flush(this)}});var Ni=j(4986),ga=j(9751),Ds=j(8505),fu=j(9468),nt=j(5363);const Xi=new _.GfV("7.4.1"),Oi="__angularfire_symbol__analyticsIsSupportedValue",Zo="__angularfire_symbol__analyticsIsSupported",Do="__angularfire_symbol__remoteConfigIsSupportedValue",Os="__angularfire_symbol__remoteConfigIsSupported",Pu="__angularfire_symbol__messagingIsSupportedValue",ma="__angularfire_symbol__messagingIsSupported";function zr(x,F,W){if(F){if(1===F.length)return F[0];const rt=F.filter(At=>At.app===W);if(1===rt.length)return rt[0]}return W.container.getProvider(x).getImmediate({optional:!0})}globalThis[Zo]||(globalThis[Zo]=Rt().then(x=>globalThis[Oi]=x).catch(()=>globalThis[Oi]=!1)),globalThis[ma]||(globalThis[ma]=Go().then(x=>globalThis[Pu]=x).catch(()=>globalThis[Pu]=!1)),globalThis[Os]||(globalThis[Os]=oa().then(x=>globalThis[Do]=x).catch(()=>globalThis[Do]=!1));const Nu=(x,F)=>{const W=F?[F]:(0,f.C6)(),ce=[];return W.forEach(Le=>{Le.container.getProvider(x).instances.forEach(At=>{ce.includes(At)||ce.push(At)})}),ce};function Gi(){}class qu{constructor(F,W=bo){this.zone=F,this.delegate=W}now(){return this.delegate.now()}schedule(F,W,ce){const Le=this.zone;return this.delegate.schedule(function(At){Le.runGuarded(()=>{F.apply(this,[At])})},W,ce)}}class si{constructor(F){this.zone=F,this.task=null}call(F,W){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)),W.pipe((0,Ds.b)({next:ce,complete:ce,error:ce})).subscribe(F).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let us=(()=>{class x{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new qu(Zone.current)),this.insideAngular=W.run(()=>new qu(Zone.current,Ni.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(W){return new(W||x)(_.LFG(_.R0b))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function oi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Er(x){return oi().ngZone.runOutsideAngular(()=>x())}function Yo(x){return oi().ngZone.run(()=>x())}function Aa(x){return oi(),function fi(x){return function(W){return(W=W.lift(new si(x.ngZone))).pipe((0,fu.R)(x.outsideAngular),(0,nt.Q)(x.insideAngular))}}(oi())(x)}const rc=(x,F)=>function(){const ce=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Yo(()=>x.apply(void 0,ce))},Is=(x,F)=>function(){let W;const ce=arguments;for(let rt=0;rt<arguments.length;rt++)"function"==typeof ce[rt]&&(F&&(W||(W=Yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)))),ce[rt]=rc(ce[rt],W));const Le=Er(()=>x.apply(this,ce));if(!F){if(Le instanceof ga.y){const rt=oi();return Le.pipe((0,fu.R)(rt.outsideAngular),(0,nt.Q)(rt.insideAngular))}return Yo(()=>Le)}return Le instanceof ga.y?Le.pipe(Aa):Le instanceof Promise?Yo(()=>new Promise((rt,At)=>Le.then(Qt=>Yo(()=>rt(Qt)),Qt=>Yo(()=>At(Qt))))):"function"==typeof Le&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Le.apply(this,arguments)}:Yo(()=>Le)}},3673:(en,Ke,j)=>{j.d(Ke,{$:()=>fn,A:()=>te,B:()=>Ye,G:()=>$r,H:()=>Hr,J:()=>Ai,L:()=>$n,M:()=>mi,N:()=>Po,P:()=>Oi,Q:()=>_s,R:()=>io,T:()=>Mi,U:()=>Ss,V:()=>Zi,W:()=>Tr,X:()=>qa,Y:()=>Ct,Z:()=>Ar,_:()=>cr,a:()=>no,a0:()=>Oo,a1:()=>go,a2:()=>Tt,a3:()=>aa,a4:()=>_i,a5:()=>L,a6:()=>P,a7:()=>Z,a8:()=>an,a9:()=>Or,aA:()=>Jo,aB:()=>Wr,aC:()=>Is,aD:()=>rc,aE:()=>fr,aI:()=>ro,aL:()=>Ms,aa:()=>Li,ab:()=>Es,ac:()=>Ho,af:()=>Ka,ag:()=>Da,ah:()=>ll,ak:()=>Hn,al:()=>ni,an:()=>vo,ao:()=>Bs,ap:()=>ge,aq:()=>at,ar:()=>Se,as:()=>Xt,at:()=>Gt,au:()=>Kn,av:()=>Sa,aw:()=>de,ax:()=>ae,ay:()=>Be,az:()=>Gn,b:()=>Vi,c:()=>Pl,d:()=>qu,e:()=>Nu,f:()=>W,g:()=>An,h:()=>rt,i:()=>lu,j:()=>Dn,k:()=>Fr,l:()=>bo,m:()=>es,n:()=>cs,o:()=>ke,q:()=>Yr,r:()=>Ni,s:()=>zu,u:()=>nt,v:()=>Ya});var _=j(5861),f=j(2090),$=j(9681),_e=j(655),fe=j(1877),Ae=j(4859);const ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$t=new f.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new fe.Yd("@firebase/auth");function Wt(b,...h){Qe.logLevel<=fe.in.ERROR&&Qe.error(`Auth (${$.SDK_VERSION}): ${b}`,...h)}function Gt(b,...h){throw wt(b,...h)}function de(b,...h){return wt(b,...h)}function ct(b,h,m){const A=Object.assign(Object.assign({},et()),{[h]:m});return new f.LL("auth","Firebase",A).create(h,{appName:b.name})}function ot(b,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Gt(b,"argument-error"),ct(b,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wt(b,...h){if("string"!=typeof b){const m=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(m,...A)}return $t.create(b,...h)}function ae(b,h,...m){if(!b)throw wt(h,...m)}function $e(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Wt(h),new Error(h)}function at(b,h){b||$e(h)}const oe=new Map;function Be(b){at(b instanceof Function,"Expected a class definition");let h=oe.get(b);return h?(at(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,oe.set(b,h),h)}function Ge(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Mt(){return"http:"===on()||"https:"===on()}function on(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Bt{constructor(h,m){this.shortDelay=h,this.longDelay=m,at(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,f.uI)()||(0,f.b$)()}get(){return function sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,f.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wn(b,h){at(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Sn{static initialize(h,m,A){this.fetchImpl=h,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},En=new Bt(3e4,6e4);function mn(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function Fn(b,h,m,A){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_.Z)(function*(b,h,m,A,z={}){return ar(b,z,(0,_.Z)(function*(){let ne={},be={};A&&("GET"===h?be=A:ne={body:JSON.stringify(A)});const qe=(0,f.xO)(Object.assign({key:b.config.apiKey},be)).slice(1),It=yield b._getAdditionalHeaders();return It["Content-Type"]="application/json",b.languageCode&&(It["X-Firebase-Locale"]=b.languageCode),Sn.fetch()(Mr(b,b.config.apiHost,m,qe),Object.assign({method:h,headers:It,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function ar(b,h,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,_.Z)(function*(b,h,m){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},tr),h);try{const z=new yr(b),ne=yield Promise.race([m(),z.promise]);z.clearNetworkTimeout();const be=yield ne.json();if("needConfirmation"in be)throw _r(b,"account-exists-with-different-credential",be);if(ne.ok&&!("errorMessage"in be))return be;{const qe=ne.ok?be.errorMessage:be.error.message,[It,Yt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw _r(b,"credential-already-in-use",be);if("EMAIL_EXISTS"===It)throw _r(b,"email-already-in-use",be);if("USER_DISABLED"===It)throw _r(b,"user-disabled",be);const Cn=A[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw ct(b,Cn,Yt);Gt(b,Cn)}}catch(z){if(z instanceof f.ZR)throw z;Gt(b,"network-request-failed")}})).apply(this,arguments)}function mr(b,h,m,A){return br.apply(this,arguments)}function br(){return(br=(0,_.Z)(function*(b,h,m,A,z={}){const ne=yield Fn(b,h,m,A,z);return"mfaPendingCredential"in ne&&Gt(b,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Mr(b,h,m,A){const z=`${h}${m}?${A}`;return b.config.emulator?Wn(b.config,z):`${b.config.apiScheme}://${z}`}class yr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(de(this.auth,"network-request-failed")),En.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(b,h,m){const A={appName:b.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const z=de(b,h,A);return z.customData._tokenResponse=m,z}function rn(){return(rn=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function sr(b,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Tn(b,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function jr(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function De(){return(De=(0,_.Z)(function*(b,h=!1){const m=(0,f.m9)(b),A=yield m.getIdToken(h),z=ft(A);ae(z&&z.exp&&z.auth_time&&z.iat,m.auth,"internal-error");const ne="object"==typeof z.firebase?z.firebase:void 0,be=ne?.sign_in_provider;return{claims:z,token:A,authTime:jr(Pe(z.auth_time)),issuedAtTime:jr(Pe(z.iat)),expirationTime:jr(Pe(z.exp)),signInProvider:be||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Pe(b){return 1e3*Number(b)}function ft(b){var h;const[m,A,z]=b.split(".");if(void 0===m||void 0===A||void 0===z)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,f.tV)(A);return ne?JSON.parse(ne):(Wt("Failed to decode base64 JWT payload"),null)}catch(ne){return Wt("Caught error parsing JWT payload as JSON",null===(h=ne)||void 0===h?void 0:h.toString()),null}}function vt(b,h){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,_.Z)(function*(b,h,m=!1){if(m)return h;try{return yield h}catch(A){throw A instanceof f.ZR&&jn(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function jn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Vt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),A)}iteration(){var h=this;return(0,_.Z)(function*(){var m;try{yield h.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(m=A)||void 0===m?void 0:m.code)&&h.schedule(!0))}h.schedule()})()}}class Qn{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(b){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,_.Z)(function*(b){var h;const m=b.auth,A=yield b.getIdToken(),z=yield vt(b,Tn(m,{idToken:A}));ae(z?.users.length,m,"internal-error");const ne=z.users[0];b._notifyReloadListener(ne);const be=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?Fe(ne.providerUserInfo):[],qe=ie(b.providerData,be),Cn=!!b.isAnonymous&&!(b.email&&ne.passwordHash||qe?.length),pr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:qe,metadata:new Qn(ne.createdAt,ne.lastLoginAt),isAnonymous:Cn};Object.assign(b,pr)})).apply(this,arguments)}function ye(){return(ye=(0,_.Z)(function*(b){const h=(0,f.m9)(b);yield nr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ie(b,h){return[...b.filter(A=>!h.some(z=>z.providerId===A.providerId)),...h]}function Fe(b){return b.map(h=>{var{providerId:m}=h,A=(0,_e._T)(h,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function se(){return(se=(0,_.Z)(function*(b,h){const m=yield ar(b,{},(0,_.Z)(function*(){const A=(0,f.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:z,apiKey:ne}=b.config,be=Mr(b,z,"/v1/token",`key=${ne}`),qe=yield b._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(be,{method:"POST",headers:qe,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ae(h.idToken,"internal-error"),ae(typeof h.idToken<"u","internal-error"),ae(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function je(b){const h=ft(b);return ae(h,"internal-error"),ae(typeof h.exp<"u","internal-error"),ae(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var A=this;return(0,_.Z)(function*(){return ae(!A.accessToken||A.refreshToken,h,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var A=this;return(0,_.Z)(function*(){const{accessToken:z,refreshToken:ne,expiresIn:be}=yield function Ve(b,h){return se.apply(this,arguments)}(h,m);A.updateTokensAndExpiration(z,ne,Number(be))})()}updateTokensAndExpiration(h,m,A){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,m){const{refreshToken:A,accessToken:z,expirationTime:ne}=m,be=new ht;return A&&(ae("string"==typeof A,"internal-error",{appName:h}),be.refreshToken=A),z&&(ae("string"==typeof z,"internal-error",{appName:h}),be.accessToken=z),ne&&(ae("number"==typeof ne,"internal-error",{appName:h}),be.expirationTime=ne),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ht,this.toJSON())}_performRefresh(){return $e("not implemented")}}function bt(b,h){ae("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class Ot{constructor(h){var{uid:m,auth:A,stsTokenManager:z}=h,ne=(0,_e._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Qn(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,_.Z)(function*(){const A=yield vt(m,m.stsTokenManager.getToken(m.auth,h));return ae(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(h){return function dt(b){return De.apply(this,arguments)}(this,h)}reload(){return function Mn(b){return ye.apply(this,arguments)}(this)}_assign(h){this!==h&&(ae(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ot(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var A=this;return(0,_.Z)(function*(){let z=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),z=!0),m&&(yield nr(A)),yield A.auth._persistUserIfCurrent(A),z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,_.Z)(function*(){const m=yield h.getIdToken();return yield vt(h,function ir(b,h){return rn.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var A,z,ne,be,qe,It,Yt,Cn;const pr=null!==(A=m.displayName)&&void 0!==A?A:void 0,Ri=null!==(z=m.email)&&void 0!==z?z:void 0,Ii=null!==(ne=m.phoneNumber)&&void 0!==ne?ne:void 0,Lr=null!==(be=m.photoURL)&&void 0!==be?be:void 0,ja=null!==(qe=m.tenantId)&&void 0!==qe?qe:void 0,Ma=null!==(It=m._redirectEventId)&&void 0!==It?It:void 0,ds=null!==(Yt=m.createdAt)&&void 0!==Yt?Yt:void 0,Uo=null!==(Cn=m.lastLoginAt)&&void 0!==Cn?Cn:void 0,{uid:To,emailVerified:$a,isAnonymous:_u,providerData:dl,stsTokenManager:Fu}=m;ae(To&&Fu,h,"internal-error");const mg=ht.fromJSON(this.name,Fu);ae("string"==typeof To,h,"internal-error"),bt(pr,h.name),bt(Ri,h.name),ae("boolean"==typeof $a,h,"internal-error"),ae("boolean"==typeof _u,h,"internal-error"),bt(Ii,h.name),bt(Lr,h.name),bt(ja,h.name),bt(Ma,h.name),bt(ds,h.name),bt(Uo,h.name);const Vd=new Ot({uid:To,auth:h,email:Ri,emailVerified:$a,displayName:pr,isAnonymous:_u,photoURL:Lr,phoneNumber:Ii,tenantId:ja,stsTokenManager:mg,createdAt:ds,lastLoginAt:Uo});return dl&&Array.isArray(dl)&&(Vd.providerData=dl.map(Ui=>Object.assign({},Ui))),Ma&&(Vd._redirectEventId=Ma),Vd}static _fromIdTokenResponse(h,m,A=!1){return(0,_.Z)(function*(){const z=new ht;z.updateFromServerResponse(m);const ne=new Ot({uid:m.localId,auth:h,stsTokenManager:z,isAnonymous:A});return yield nr(ne),ne})()}}const $n=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,A){var z=this;return(0,_.Z)(function*(){z.storage[m]=A})()}_get(m){var A=this;return(0,_.Z)(function*(){const z=A.storage[m];return void 0===z?null:z})()}_remove(m){var A=this;return(0,_.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return b.type="NONE",b})();function Gn(b,h,m){return`firebase:${b}:${h}:${m}`}class Ln{constructor(h,m,A){this.persistence=h,this.auth=m,this.userKey=A;const{config:z,name:ne}=this.auth;this.fullUserKey=Gn(this.userKey,z.apiKey,ne),this.fullPersistenceKey=Gn("persistence",z.apiKey,ne),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,_.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?Ot._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,_.Z)(function*(){if(m.persistence===h)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,A="authUser"){return(0,_.Z)(function*(){if(!m.length)return new Ln(Be($n),h,A);const z=(yield Promise.all(m.map(function(){var Yt=(0,_.Z)(function*(Cn){if(yield Cn._isAvailable())return Cn});return function(Cn){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let ne=z[0]||Be($n);const be=Gn(A,h.config.apiKey,h.name);let qe=null;for(const Yt of m)try{const Cn=yield Yt._get(be);if(Cn){const pr=Ot._fromJSON(h,Cn);Yt!==ne&&(qe=pr),ne=Yt;break}}catch{}const It=z.filter(Yt=>Yt._shouldAllowMigration);return ne._shouldAllowMigration&&It.length?(ne=It[0],qe&&(yield ne._set(be,qe.toJSON())),yield Promise.all(m.map(function(){var Yt=(0,_.Z)(function*(Cn){if(Cn!==ne)try{yield Cn._remove(be)}catch{}});return function(Cn){return Yt.apply(this,arguments)}}())),new Ln(ne,h,A)):new Ln(ne,h,A)})()}}function ze(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ft(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(he(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(pt(h))return"Blackberry";if(Dt(h))return"Webos";if(pe(h))return"Safari";if((h.includes("chrome/")||lt(h))&&!h.includes("edge/"))return"Chrome";if(Xt(h))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function he(b=(0,f.z$)()){return/firefox\//i.test(b)}function pe(b=(0,f.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function lt(b=(0,f.z$)()){return/crios\//i.test(b)}function Ft(b=(0,f.z$)()){return/iemobile/i.test(b)}function Xt(b=(0,f.z$)()){return/android/i.test(b)}function pt(b=(0,f.z$)()){return/blackberry/i.test(b)}function Dt(b=(0,f.z$)()){return/webos/i.test(b)}function Se(b=(0,f.z$)()){return/iphone|ipad|ipod/i.test(b)}function ge(b=(0,f.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function gt(b=(0,f.z$)()){return Se(b)||Xt(b)||Dt(b)||pt(b)||/windows phone/i.test(b)||Ft(b)}function Vn(b,h=[]){let m;switch(b){case"Browser":m=ze((0,f.z$)());break;case"Worker":m=`${ze((0,f.z$)())}-${b}`;break;default:m=b}const A=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${$.SDK_VERSION}/${A}`}class or{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const A=ne=>new Promise((be,qe)=>{try{be(h(ne))}catch(It){qe(It)}});A.onAbort=m,this.queue.push(A);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,_.Z)(function*(){var A;if(m.auth.currentUser===h)return;const z=[];try{for(const ne of m.queue)yield ne(h),ne.onAbort&&z.push(ne.onAbort)}catch(ne){z.reverse();for(const be of z)try{be()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=ne)||void 0===A?void 0:A.message})}})()}}class cn{constructor(h,m,A){this.app=h,this.heartbeatServiceProvider=m,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ur(this),this.idTokenSubscription=new ur(this),this.beforeStateQueue=new or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(h,m){var A=this;return m&&(this._popupRedirectResolver=Be(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var z,ne;if(!A._deleted&&(A.persistenceManager=yield Ln.create(A,h),!A._deleted)){if(null!==(z=A._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(ne=A.currentUser)||void 0===ne?void 0:ne.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,_.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,_.Z)(function*(){var A;const z=yield m.assertedPersistence.getCurrentUser();let ne=z,be=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const qe=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,It=ne?._redirectEventId,Yt=yield m.tryRedirectSignIn(h);(!qe||qe===It)&&Yt?.user&&(ne=Yt.user,be=!0)}if(!ne)return m.directlySetCurrentUser(null);if(!ne._redirectEventId){if(be)try{yield m.beforeStateQueue.runMiddleware(ne)}catch(qe){ne=z,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(qe))}return ne?m.reloadAndSetCurrentUserOrClear(ne):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ne._redirectEventId?m.directlySetCurrentUser(ne):m.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var m=this;return(0,_.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,_.Z)(function*(){var A;try{yield nr(h)}catch(z){if("auth/network-request-failed"!==(null===(A=z)||void 0===A?void 0:A.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Rn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,_.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,_.Z)(function*(){const A=h?(0,f.m9)(h):null;return A&&ae(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(h,m=!1){var A=this;return(0,_.Z)(function*(){if(!A._deleted)return h&&ae(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),m||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,_.Z)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,_.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Be(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new f.LL("auth","Firebase",h())}onAuthStateChanged(h,m,A){return this.registerStateListener(this.authStateSubscription,h,m,A)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,A){return this.registerStateListener(this.idTokenSubscription,h,m,A)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var A=this;return(0,_.Z)(function*(){const z=yield A.getOrInitRedirectPersistenceManager(m);return null===h?z.removeCurrentUser():z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const A=h&&Be(h)||m._popupRedirectResolver;ae(A,m,"argument-error"),m.redirectPersistenceManager=yield Ln.create(m,[Be(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,_.Z)(function*(){var A,z;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===h?m._currentUser:(null===(z=m.redirectUser)||void 0===z?void 0:z._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,_.Z)(function*(){if(h===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,A,z){if(this._deleted)return()=>{};const ne="function"==typeof m?m:m.next.bind(m),be=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(be,this,"internal-error"),be.then(()=>ne(this.currentUser)),"function"==typeof m?h.addObserver(m,A,z):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Vn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,_.Z)(function*(){var m;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const z=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return z&&(A["X-Firebase-Client"]=z),A})()}}function fr(b){return(0,f.m9)(b)}class ur{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,f.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $r(b,h,m){const A=fr(b);ae(A._canInitEmulator,A,"emulator-config-failed"),ae(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const z=!!m?.disableWarnings,ne=gi(h),{host:be,port:qe}=function xr(b){const h=gi(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(A);if(z){const ne=z[1];return{host:ne,port:ps(A.substr(ne.length+1))}}{const[ne,be]=A.split(":");return{host:ne,port:ps(be)}}}(h);A.config.emulator={url:`${ne}//${be}${null===qe?"":`:${qe}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:be,port:qe,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function ts(){function b(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function gi(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function ps(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class Hr{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return $e("not implemented")}_getIdTokenResponse(h){return $e("not implemented")}_linkToIdToken(h,m){return $e("not implemented")}_getReauthenticationResolver(h){return $e("not implemented")}}function Ts(b,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:resetPassword",mn(b,h))})).apply(this,arguments)}function lr(b,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function uo(b,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:update",mn(b,h))})).apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithPassword",mn(b,h))})).apply(this,arguments)}function Ki(b,h){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:sendOobCode",mn(b,h))})).apply(this,arguments)}function Me(b,h){return He.apply(this,arguments)}function He(){return(He=(0,_.Z)(function*(b,h){return Ki(b,h)})).apply(this,arguments)}function mt(b,h){return xt.apply(this,arguments)}function xt(){return(xt=(0,_.Z)(function*(b,h){return Ki(b,h)})).apply(this,arguments)}function tn(b,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,_.Z)(function*(b,h){return Ki(b,h)})).apply(this,arguments)}function Pr(b,h){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,_.Z)(function*(b,h){return Ki(b,h)})).apply(this,arguments)}function gs(){return(gs=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithEmailLink",mn(b,h))})).apply(this,arguments)}function Zs(){return(Zs=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithEmailLink",mn(b,h))})).apply(this,arguments)}class ns extends Hr{constructor(h,m,A,z=null){super("password",A),this._email=h,this._password=m,this._tenantId=z}static _fromEmailAndPassword(h,m){return new ns(h,m,"password")}static _fromEmailAndCode(h,m,A=null){return new ns(h,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,_.Z)(function*(){switch(m.signInMethod){case"password":return function Ks(b,h){return ki.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ci(b,h){return gs.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Gt(h,"internal-error")}})()}_linkToIdToken(h,m){var A=this;return(0,_.Z)(function*(){switch(A.signInMethod){case"password":return lr(h,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function As(b,h){return Zs.apply(this,arguments)}(h,{idToken:m,email:A._email,oobCode:A._password});default:Gt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ti(b,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithIdp",mn(b,h))})).apply(this,arguments)}class Ai extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Ai(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Gt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z}=m,ne=(0,_e._T)(m,["providerId","signInMethod"]);if(!A||!z)return null;const be=new Ai(A,z);return be.idToken=ne.idToken||void 0,be.accessToken=ne.accessToken||void 0,be.secret=ne.secret,be.nonce=ne.nonce,be.pendingToken=ne.pendingToken||null,be}_getIdTokenResponse(h){return Ti(h,this.buildRequest())}_linkToIdToken(h,m){const A=this.buildRequest();return A.idToken=m,Ti(h,A)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Ti(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,f.xO)(m)}return h}}function lo(b,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:sendVerificationCode",mn(b,h))})).apply(this,arguments)}function ms(){return(ms=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithPhoneNumber",mn(b,h))})).apply(this,arguments)}function co(){return(co=(0,_.Z)(function*(b,h){const m=yield mr(b,"POST","/v1/accounts:signInWithPhoneNumber",mn(b,h));if(m.temporaryProof)throw _r(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function ys(){return(ys=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithPhoneNumber",mn(b,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class ji extends Hr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new ji({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new ji({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function Si(b,h){return ms.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Fi(b,h){return co.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ia(b,h){return ys.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:A,verificationCode:z}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:A,code:z}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:ne}=h;return A||m||z||ne?new ji({verificationId:m,verificationCode:A,phoneNumber:z,temporaryProof:ne}):null}}class Fs{constructor(h){var m,A,z,ne,be,qe;const It=(0,f.zd)((0,f.pd)(h)),Yt=null!==(m=It.apiKey)&&void 0!==m?m:null,Cn=null!==(A=It.oobCode)&&void 0!==A?A:null,pr=function ks(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=It.mode)&&void 0!==z?z:null);ae(Yt&&Cn&&pr,"argument-error"),this.apiKey=Yt,this.operation=pr,this.code=Cn,this.continueUrl=null!==(ne=It.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(be=It.languageCode)&&void 0!==be?be:null,this.tenantId=null!==(qe=It.tenantId)&&void 0!==qe?qe:null}static parseLink(h){const m=function sa(b){const h=(0,f.zd)((0,f.pd)(b)).link,m=h?(0,f.zd)((0,f.pd)(h)).deep_link_id:null,A=(0,f.zd)((0,f.pd)(b)).deep_link_id;return(A?(0,f.zd)((0,f.pd)(A)).link:null)||A||m||h||b}(h);try{return new Fs(m)}catch{return null}}}let mi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,A){return ns._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const z=Fs.parseLink(A);return ae(z,"argument-error"),ns._fromEmailAndCode(m,z.code,z.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class yi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class rs extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ss extends rs{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),Ai._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ae(h.idToken||h.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ss.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ss.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:z,pendingToken:ne,nonce:be,providerId:qe}=h;if(!A&&!z&&!m&&!ne||!qe)return null;try{return new Ss(qe)._credential({idToken:m,accessToken:A,nonce:be,pendingToken:ne})}catch{return null}}}let Po=(()=>{class b extends rs{constructor(){super("facebook.com")}static credential(m){return Ai._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),_s=(()=>{class b extends rs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return Ai._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:z}=m;if(!A&&!z)return null;try{return b.credential(A,z)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Mi=(()=>{class b extends rs{constructor(){super("github.com")}static credential(m){return Ai._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ms extends Hr{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return Ti(h,this.buildRequest())}_linkToIdToken(h,m){const A=this.buildRequest();return A.idToken=m,Ti(h,A)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Ti(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z,pendingToken:ne}=m;return A&&z&&ne&&A===z?new Ms(A,ne):null}static _create(h,m){return new Ms(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends yi{constructor(h){ae(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Zi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Zi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Ms.fromJSON(h);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:A}=h;if(!m||!A)return null;try{return Ms._create(A,m)}catch{return null}}}let Tr=(()=>{class b extends rs{constructor(){super("twitter.com")}static credential(m,A){return Ai._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:z}=m;if(!A||!z)return null;try{return b.credential(A,z)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ls(b,h){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signUp",mn(b,h))})).apply(this,arguments)}class xi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,A,z=!1){return(0,_.Z)(function*(){const ne=yield Ot._fromIdTokenResponse(h,A,z),be=Vs(A);return new xi({user:ne,providerId:be,_tokenResponse:A,operationType:m})})()}static _forOperation(h,m,A){return(0,_.Z)(function*(){yield h._updateTokensIfNecessary(A,!0);const z=Vs(A);return new xi({user:h,providerId:z,_tokenResponse:A,operationType:m})})()}}function Vs(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function qa(b){return fo.apply(this,arguments)}function fo(){return(fo=(0,_.Z)(function*(b){var h;const m=fr(b);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new xi({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Ls(m,{returnSecureToken:!0}),z=yield xi._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class po extends f.ZR{constructor(h,m,A,z){var ne;super(m.code,m.message),this.operationType=A,this.user=z,Object.setPrototypeOf(this,po.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,m,A,z){return new po(h,m,A,z)}}function xs(b,h,m,A){return("reauthenticate"===h?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?po._fromErrorAndOperation(b,ne,h,A):ne})}function No(b){return new Set(b.map(({providerId:h})=>h).filter(h=>!!h))}function Hn(b,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,_.Z)(function*(b,h){const m=(0,f.m9)(b);yield R(!0,m,h);const{providerUserInfo:A}=yield sr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),z=No(A||[]);return m.providerData=m.providerData.filter(ne=>z.has(ne.providerId)),z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Qs(b,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,_.Z)(function*(b,h,m=!1){const A=yield vt(b,h._linkToIdToken(b.auth,yield b.getIdToken()),m);return xi._forOperation(b,"link",A)})).apply(this,arguments)}function R(b,h,m){return K.apply(this,arguments)}function K(){return(K=(0,_.Z)(function*(b,h,m){yield nr(h);const z=!1===b?"provider-already-linked":"no-such-provider";ae(No(h.providerData).has(m)===b,h.auth,z)})).apply(this,arguments)}function k(b,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,_.Z)(function*(b,h,m=!1){var A;const{auth:z}=b,ne="reauthenticate";try{const be=yield vt(b,xs(z,ne,h,b),m);ae(be.idToken,z,"internal-error");const qe=ft(be.idToken);ae(qe,z,"internal-error");const{sub:It}=qe;return ae(b.uid===It,z,"user-mismatch"),xi._forOperation(b,ne,be)}catch(be){throw"auth/user-not-found"===(null===(A=be)||void 0===A?void 0:A.code)&&Gt(z,"user-mismatch"),be}})).apply(this,arguments)}function Ce(b,h){return We.apply(this,arguments)}function We(){return(We=(0,_.Z)(function*(b,h,m=!1){const A="signIn",z=yield xs(b,A,h),ne=yield xi._fromIdTokenResponse(b,A,z);return m||(yield b._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function Ct(b,h){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(b,h){return Ce(fr(b),h)})).apply(this,arguments)}function Ar(b,h){return qn.apply(this,arguments)}function qn(){return(qn=(0,_.Z)(function*(b,h){const m=(0,f.m9)(b);return yield R(!1,m,h.providerId),Qs(m,h)})).apply(this,arguments)}function cr(b,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.Z)(function*(b,h){return k((0,f.m9)(b),h)})).apply(this,arguments)}function Gr(b,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(b,h){return mr(b,"POST","/v1/accounts:signInWithCustomToken",mn(b,h))})).apply(this,arguments)}function fn(b,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,_.Z)(function*(b,h){const m=fr(b),A=yield Gr(m,{token:h,returnSecureToken:!0}),z=yield xi._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class vs{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Yi._fromServerResponse(h,m):Gt(h,"internal-error")}}class Yi extends vs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Yi(m)}}function ti(b,h,m){var A;ae((null===(A=m.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Oo(b,h,m){return is.apply(this,arguments)}function is(){return(is=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b),z={requestType:"PASSWORD_RESET",email:h};m&&ti(A,z,m),yield mt(A,z)})).apply(this,arguments)}function go(b,h,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,_.Z)(function*(b,h,m){yield Ts((0,f.m9)(b),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Tt(b,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,_.Z)(function*(b,h){yield uo((0,f.m9)(b),{oobCode:h})})).apply(this,arguments)}function aa(b,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,_.Z)(function*(b,h){const m=(0,f.m9)(b),A=yield Ts(m,{oobCode:h}),z=A.requestType;switch(ae(z,m,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(A.mfaInfo,m,"internal-error");default:ae(A.email,m,"internal-error")}let ne=null;return A.mfaInfo&&(ne=vs._fromServerResponse(fr(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ne},operation:z}})).apply(this,arguments)}function _i(b,h){return $o.apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(b,h){const{data:m}=yield aa((0,f.m9)(b),h);return m.email})).apply(this,arguments)}function L(b,h,m){return O.apply(this,arguments)}function O(){return(O=(0,_.Z)(function*(b,h,m){const A=fr(b),z=yield Ls(A,{returnSecureToken:!0,email:h,password:m}),ne=yield xi._fromIdTokenResponse(A,"signIn",z);return yield A._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function P(b,h,m){return Ct((0,f.m9)(b),mi.credential(h,m))}function Z(b,h,m){return st.apply(this,arguments)}function st(){return(st=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b),z={requestType:"EMAIL_SIGNIN",email:h};ae(m.handleCodeInApp,A,"argument-error"),m&&ti(A,z,m),yield tn(A,z)})).apply(this,arguments)}function an(b,h){return"EMAIL_SIGNIN"===Fs.parseLink(h)?.operation}function Or(b,h,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b),z=mi.credentialWithLink(h,m||Ge());return ae(z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Ct(A,z)})).apply(this,arguments)}function Dr(b,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:createAuthUri",mn(b,h))})).apply(this,arguments)}function Li(b,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,_.Z)(function*(b,h){const A={identifier:h,continueUri:Mt()?Ge():"http://localhost"},{signinMethods:z}=yield Dr((0,f.m9)(b),A);return z||[]})).apply(this,arguments)}function Es(b,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,_.Z)(function*(b,h){const m=(0,f.m9)(b),z={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};h&&ti(m.auth,z,h);const{email:ne}=yield Me(m.auth,z);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ho(b,h,m){return $i.apply(this,arguments)}function $i(){return($i=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:h};m&&ti(A.auth,ne,m);const{email:be}=yield Pr(A.auth,ne);be!==b.email&&(yield b.reload())})).apply(this,arguments)}function di(b,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,_.Z)(function*(b,h){return Fn(b,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ka(b,h){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(b,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const A=(0,f.m9)(b),ne={idToken:yield A.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},be=yield vt(A,di(A.auth,ne));A.displayName=be.displayName||null,A.photoURL=be.photoUrl||null;const qe=A.providerData.find(({providerId:It})=>"password"===It);qe&&(qe.displayName=A.displayName,qe.photoURL=A.photoURL),yield A._updateTokensIfNecessary(be)})).apply(this,arguments)}function Da(b,h){return ca((0,f.m9)(b),h,null)}function ll(b,h){return ca((0,f.m9)(b),null,h)}function ca(b,h,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,_.Z)(function*(b,h,m){const{auth:A}=b,ne={idToken:yield b.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),m&&(ne.password=m);const be=yield vt(b,lr(A,ne));yield b._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class yo{constructor(h,m,A={}){this.isNewUser=h,this.providerId=m,this.profile=A}}class iu extends yo{constructor(h,m,A,z){super(h,m,A),this.username=z}}class _o extends yo{constructor(h,m){super(h,"facebook.com",m)}}class Go extends iu{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class su extends yo{constructor(h,m){super(h,"google.com",m)}}class ou extends iu{constructor(h,m,A){super(h,"twitter.com",m,A)}}function ni(b){const{user:h,_tokenResponse:m}=b;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Na(b){var h,m;if(!b)return null;const{providerId:A}=b,z=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ne=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const be=null===(m=null===(h=ft(b.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(be)return new yo(ne,"anonymous"!==be&&"custom"!==be?be:null)}if(!A)return null;switch(A){case"facebook.com":return new _o(ne,z);case"github.com":return new Go(ne,z);case"google.com":return new su(ne,z);case"twitter.com":return new ou(ne,z,b.screenName||null);case"custom":case"anonymous":return new yo(ne,null);default:return new yo(ne,A,z)}}(m)}function Yr(b,h,m,A){return(0,f.m9)(b).onIdTokenChanged(h,m,A)}function Ya(b,h,m,A){return(0,f.m9)(b).onAuthStateChanged(h,m,A)}class Ns{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new Ns("enroll",h)}static _fromMfaPendingCredential(h){return new Ns("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,A;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ns._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return Ns._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ss{constructor(h,m,A){this.session=h,this.hints=m,this.signInResolver=A}static _fromError(h,m){const A=fr(h),z=m.customData._serverResponse,ne=(z.mfaInfo||[]).map(qe=>vs._fromServerResponse(A,qe));ae(z.mfaPendingCredential,A,"internal-error");const be=Ns._fromMfaPendingCredential(z.mfaPendingCredential);return new ss(be,ne,function(){var qe=(0,_.Z)(function*(It){const Yt=yield It._process(A,be);delete z.mfaInfo,delete z.mfaPendingCredential;const Cn=Object.assign(Object.assign({},z),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(m.operationType){case"signIn":const pr=yield xi._fromIdTokenResponse(A,m.operationType,Cn);return yield A._updateCurrentUser(pr.user),pr;case"reauthenticate":return ae(m.user,A,"internal-error"),xi._forOperation(m.user,m.operationType,Cn);default:Gt(A,"internal-error")}});return function(It){return qe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,_.Z)(function*(){return m.signInResolver(h)})()}}function vo(b,h){var m;const A=(0,f.m9)(b),z=h;return ae(h.customData.operationType,A,"argument-error"),ae(null===(m=z.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),ss._fromError(A,z)}function ri(b,h){return Fn(b,"POST","/v2/accounts/mfaEnrollment:start",mn(b,h))}class Eo{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>vs._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new Eo(h)}getSession(){var h=this;return(0,_.Z)(function*(){return Ns._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var A=this;return(0,_.Z)(function*(){const z=h,ne=yield A.getSession(),be=yield vt(A.user,z._process(A.user.auth,ne,m));return yield A.user._updateTokensIfNecessary(be),A.user.reload()})()}unenroll(h){var m=this;return(0,_.Z)(function*(){var A;const z="string"==typeof h?h:h.uid,ne=yield m.user.getIdToken(),be=yield vt(m.user,function os(b,h){return Fn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",mn(b,h))}(m.user.auth,{idToken:ne,mfaEnrollmentId:z}));m.enrolledFactors=m.enrolledFactors.filter(({uid:qe})=>qe!==z),yield m.user._updateTokensIfNecessary(be);try{yield m.user.reload()}catch(qe){if("auth/user-token-expired"!==(null===(A=qe)||void 0===A?void 0:A.code))throw qe}})()}}const Ca=new WeakMap;function Bs(b){const h=(0,f.m9)(b);return Ca.has(h)||Ca.set(h,Eo._fromUser(h)),Ca.get(h)}const Qi="__sak";class zo{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Qi,"1"),this.storage.removeItem(Qi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vi=(()=>{class b extends zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uu(){const b=(0,f.z$)();return pe(b)||Se(b)}()&&function Zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const z=this.storage.getItem(A),ne=this.localCache[A];z!==ne&&m(A,ne,z)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((qe,It,Yt)=>{this.notifyListeners(qe,Yt)});const z=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(z);if(m.newValue!==qe)null!==m.newValue?this.storage.setItem(z,m.newValue):this.storage.removeItem(z);else if(this.localCache[z]===m.newValue&&!A)return}const ne=()=>{const qe=this.storage.getItem(z);!A&&this.localCache[z]===qe||this.notifyListeners(z,qe)},be=this.storage.getItem(z);!function Ne(){return(0,f.w1)()&&10===document.documentMode}()||be===m.newValue||m.newValue===m.oldValue?ne():setTimeout(ne,10)}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const ne of Array.from(z))ne(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var z=()=>super._set,ne=this;return(0,_.Z)(function*(){yield z().call(ne,m,A),ne.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,z=this;return(0,_.Z)(function*(){const ne=yield A().call(z,m);return z.localCache[m]=JSON.stringify(ne),ne})()}_remove(m){var A=()=>super._remove,z=this;return(0,_.Z)(function*(){yield A().call(z,m),delete z.localCache[m]})()}}return b.type="LOCAL",b})(),no=(()=>{class b extends zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return b.type="SESSION",b})();let ko=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(ne=>ne.isListeningto(m));if(A)return A;const z=new b(m);return this.receivers.push(z),z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,_.Z)(function*(){const z=m,{eventId:ne,eventType:be,data:qe}=z.data,It=A.handlersMap[be];if(!It?.size)return;z.ports[0].postMessage({status:"ack",eventId:ne,eventType:be});const Yt=Array.from(It).map(function(){var pr=(0,_.Z)(function*(Ri){return Ri(z.origin,qe)});return function(Ri){return pr.apply(this,arguments)}}()),Cn=yield function Wo(b){return Promise.all(b.map(function(){var h=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return h.apply(this,arguments)}}()))}(Yt);z.ports[0].postMessage({status:"done",eventId:ne,eventType:be,response:Cn})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ro(b="",h=10){let m="";for(let A=0;A<h;A++)m+=Math.floor(10*Math.random());return b+m}class qo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,A=50){var z=this;return(0,_.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let be,qe;return new Promise((It,Yt)=>{const Cn=ro("",20);ne.port1.start();const pr=setTimeout(()=>{Yt(new Error("unsupported_event"))},A);qe={messageChannel:ne,onMessage(Ri){const Ii=Ri;if(Ii.data.eventId===Cn)switch(Ii.data.status){case"ack":clearTimeout(pr),be=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),It(Ii.data.response);break;default:clearTimeout(pr),clearTimeout(be),Yt(new Error("invalid_response"))}}},z.handlers.add(qe),ne.port1.addEventListener("message",qe.onMessage),z.target.postMessage({eventType:h,eventId:Cn,data:m},[ne.port2])}).finally(()=>{qe&&z.removeMessageHandler(qe)})})()}}function Ei(){return window}function da(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function ka(){return(ka=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fo="firebaseLocalStorageDb",bs="firebaseLocalStorage",Ta="fbase_key";class kt{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Qr(b,h){return b.transaction([bs],h?"readwrite":"readonly").objectStore(bs)}function Lo(){const b=indexedDB.open(Fo,1);return new Promise((h,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(bs,{keyPath:Ta})}catch(z){m(z)}}),b.addEventListener("success",(0,_.Z)(function*(){const A=b.result;A.objectStoreNames.contains(bs)?h(A):(A.close(),yield function Pi(){const b=indexedDB.deleteDatabase(Fo);return new kt(b).toPromise()}(),h(yield Lo()))}))})}function dn(b,h,m){return In.apply(this,arguments)}function In(){return(In=(0,_.Z)(function*(b,h,m){const A=Qr(b,!0).put({[Ta]:h,value:m});return new kt(A).toPromise()})).apply(this,arguments)}function Jt(){return(Jt=(0,_.Z)(function*(b,h){const m=Qr(b,!1).get(h),A=yield new kt(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ut(b,h){const m=Qr(b,!0).delete(h);return new kt(m).toPromise()}const lu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield Lo()),m.db})()}_withRetries(m){var A=this;return(0,_.Z)(function*(){let z=0;for(;;)try{const ne=yield A._openDb();return yield m(ne)}catch(ne){if(z++>3)throw ne;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return da()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=ko._getInstance(function ii(){return da()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,_.Z)(function*(z,ne){return{keyProcessed:(yield m._poll()).includes(ne.key)}});return function(z,ne){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,_.Z)(function*(z,ne){return["keyChanged"]});return function(z,ne){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var A,z;if(m.activeServiceWorker=yield function wi(){return ka.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new qo(m.activeServiceWorker);const ne=yield m.sender._send("ping",{},800);!ne||(null===(A=ne[0])||void 0===A?void 0:A.fulfilled)&&(null===(z=ne[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,_.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ha(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Lo();return yield dn(m,Qi,"1"),yield ut(m,Qi),!0}catch{}return!1})()}_withPendingWrite(m){var A=this;return(0,_.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var z=this;return(0,_.Z)(function*(){return z._withPendingWrite((0,_.Z)(function*(){return yield z._withRetries(ne=>dn(ne,m,A)),z.localCache[m]=A,z.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,_.Z)(function*(){const z=yield A._withRetries(ne=>function fa(b,h){return Jt.apply(this,arguments)}(ne,m));return A.localCache[m]=z,z})()}_remove(m){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(z=>ut(z,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const A=yield m._withRetries(be=>{const qe=Qr(be,!1).getAll();return new kt(qe).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const z=[],ne=new Set;for(const{fbase_key:be,value:qe}of A)ne.add(be),JSON.stringify(m.localCache[be])!==JSON.stringify(qe)&&(m.notifyListeners(be,qe),z.push(be));for(const be of Object.keys(m.localCache))m.localCache[be]&&!ne.has(be)&&(m.notifyListeners(be,null),z.push(be));return z})()}notifyListeners(m,A){this.localCache[m]=A;const z=this.listeners[m];if(z)for(const ne of Array.from(z))ne(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function cu(b,h){return Fn(b,"POST","/v2/accounts/mfaSignIn:start",mn(b,h))}function I(){return(I=(0,_.Z)(function*(b){return(yield Fn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function E(b){return new Promise((h,m)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=h,A.onerror=z=>{const ne=de("internal-error");ne.customData=z,m(ne)},A.type="text/javascript",A.charset="UTF-8",function w(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(A)})}function N(b){return`__${b}${Math.floor(1e6*Math.random())}`}const X=1e12;class Ee{constructor(h){this.auth=h,this.counter=X,this._widgets=new Map}render(h,m){const A=this.counter;return this._widgets.set(A,new yt(h,this.auth.name,m||{})),this.counter++,A}reset(h){var m;const A=h||X;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(h){var m;return(null===(m=this._widgets.get(h||X))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,_.Z)(function*(){var A;return null===(A=m._widgets.get(h||X))||void 0===A||A.execute(),""})()}}class yt{constructor(h,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof h?document.getElementById(h):h;ae(z,"argument-error",{appName:m}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rt(b){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jt=N("rcb"),nn=new Bt(3e4,6e4);class bi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ei().grecaptcha}load(h,m=""){return ae(function _n(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Ei().grecaptcha):new Promise((A,z)=>{const ne=Ei().setTimeout(()=>{z(de(h,"network-request-failed"))},nn.get());Ei()[jt]=()=>{Ei().clearTimeout(ne),delete Ei()[jt];const qe=Ei().grecaptcha;if(!qe)return void z(de(h,"internal-error"));const It=qe.render;qe.render=(Yt,Cn)=>{const pr=It(Yt,Cn);return this.counter++,pr},this.hostLanguage=m,A(qe)},E(`https://www.google.com/recaptcha/api.js??${(0,f.xO)({onload:jt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ne),z(de(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Ei().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qt{load(h){return(0,_.Z)(function*(){return new Ee(h)})()}clearedOneInstance(){}}const wo="recaptcha",Xa={theme:"light",type:"image"};class io{constructor(h,m=Object.assign({},Xa),A){this.parameters=m,this.type=wo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(A),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof h?document.getElementById(h):h;ae(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qt:new bi,this.validateStartingState()}verify(){var h=this;return(0,_.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(m)||new Promise(ne=>{const be=qe=>{!qe||(h.tokenChangeListeners.delete(be),ne(qe))};h.tokenChangeListeners.add(be),h.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof h)h(m);else if("string"==typeof h){const A=Ei()[h];"function"==typeof A&&A(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,_.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,_.Z)(function*(){ae(Mt()&&!da(),h.auth,"internal-error"),yield function du(){let b=null;return new Promise(h=>{"complete"!==document.readyState?(b=()=>h(),window.addEventListener("load",b)):h()}).catch(h=>{throw b&&window.removeEventListener("load",b),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Fa(b){return I.apply(this,arguments)}(h.auth);ae(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hu{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=ji._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function zu(b,h,m){return La.apply(this,arguments)}function La(){return(La=(0,_.Z)(function*(b,h,m){const A=fr(b),z=yield Ds(A,h,(0,f.m9)(m));return new hu(z,ne=>Ct(A,ne))})).apply(this,arguments)}function bo(b,h,m){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b);yield R(!1,A,"phone");const z=yield Ds(A.auth,h,(0,f.m9)(m));return new hu(z,ne=>Ar(A,ne))})).apply(this,arguments)}function Ni(b,h,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b),z=yield Ds(A.auth,h,(0,f.m9)(m));return new hu(z,ne=>cr(A,ne))})).apply(this,arguments)}function Ds(b,h,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,_.Z)(function*(b,h,m){var A;const z=yield m.verify();try{let ne;if(ae("string"==typeof z,b,"argument-error"),ae(m.type===wo,b,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const be=ne.session;if("phoneNumber"in ne)return ae("enroll"===be.type,b,"internal-error"),(yield ri(b,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{ae("signin"===be.type,b,"internal-error");const qe=(null===(A=ne.multiFactorHint)||void 0===A?void 0:A.uid)||ne.multiFactorUid;return ae(qe,b,"missing-multi-factor-info"),(yield cu(b,{mfaPendingCredential:be.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield lo(b,{phoneNumber:ne.phoneNumber,recaptchaToken:z});return be}}finally{m._reset()}})).apply(this,arguments)}function nt(b,h){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,_.Z)(function*(b,h){yield Qs((0,f.m9)(b),h)})).apply(this,arguments)}let Oi=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=fr(m)}verifyPhoneNumber(m,A){return Ds(this.auth,m,(0,f.m9)(A))}static credential(m,A){return ji._fromVerification(m,A)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:z}=m;return A&&z?ji._fromTokenResponse(A,z):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Zo(b,h){return h?Be(h):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Do extends Hr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ti(h,this._buildIdpRequest())}_linkToIdToken(h,m){return Ti(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return Ti(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Os(b){return Ce(b.auth,new Do(b),b.bypassAuthState)}function Pu(b){const{auth:h,user:m}=b;return ae(m,h,"internal-error"),k(m,new Do(b),b.bypassAuthState)}function ma(b){return Va.apply(this,arguments)}function Va(){return(Va=(0,_.Z)(function*(b){const{auth:h,user:m}=b;return ae(m,h,"internal-error"),Qs(m,new Do(b),b.bypassAuthState)})).apply(this,arguments)}class cl{constructor(h,m,A,z,ne=!1){this.auth=h,this.resolver=A,this.user=z,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,_.Z)(function*(A,z){h.pendingPromise={resolve:A,reject:z};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(A,z){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,_.Z)(function*(){const{urlResponse:A,sessionId:z,postBody:ne,tenantId:be,error:qe,type:It}=h;if(qe)return void m.reject(qe);const Yt={auth:m.auth,requestUri:A,sessionId:z,tenantId:be||void 0,postBody:ne||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(It)(Yt))}catch(Cn){m.reject(Cn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return ma;case"reauthViaPopup":case"reauthViaRedirect":return Pu;default:Gt(this.auth,"internal-error")}}resolve(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new Bt(2e3,1e4);function Pl(b,h,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,_.Z)(function*(b,h,m){const A=fr(b);ot(b,h,yi);const z=Zo(A,m);return new us(A,"signInViaPopup",h,z).executeNotNull()})).apply(this,arguments)}function Nu(b,h,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b);ot(A.auth,h,yi);const z=Zo(A.auth,m);return new us(A.auth,"reauthViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}function qu(b,h,m){return si.apply(this,arguments)}function si(){return(si=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b);ot(A.auth,h,yi);const z=Zo(A.auth,m);return new us(A.auth,"linkViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}let us=(()=>{class b extends cl{constructor(m,A,z,ne,be){super(m,A,ne,be),this.provider=z,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const A=yield m.execute();return ae(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,_.Z)(function*(){at(1===m.filter.length,"Popup operations only handle one event");const A=ro();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(z=>{m.reject(z)}),m.resolver._isIframeWebStorageSupported(m.auth,z=>{z||m.reject(de(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,z;this.pollId=null!==(z=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,xl.get())};m()}}return b.currentPopupAction=null,b})();const Er=new Map;class Yo extends cl{constructor(h,m,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,_.Z)(function*(){let A=Er.get(m.auth._key());if(!A){try{const ne=(yield function pu(b,h){return js.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;A=()=>Promise.resolve(ne)}catch(z){A=()=>Promise.reject(z)}Er.set(m.auth._key(),A)}return m.bypassAuthState||Er.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,A=this;return(0,_.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(A,h);if("unknown"!==h.type){if(h.eventId){const z=yield A.auth._redirectUserForId(h.eventId);if(z)return A.user=z,m().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function js(){return(js=(0,_.Z)(function*(b,h){const m=F(h),A=x(b);if(!(yield A._isAvailable()))return!1;const z="true"===(yield A._get(m));return yield A._remove(m),z})).apply(this,arguments)}function Aa(b,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(b,h){return x(b)._set(F(h),"true")})).apply(this,arguments)}function rc(){Er.clear()}function Is(b,h){Er.set(b._key(),h)}function x(b){return Be(b._redirectPersistence)}function F(b){return Gn("pendingRedirect",b.config.apiKey,b.name)}function W(b,h,m){return function ce(b,h,m){return Le.apply(this,arguments)}(b,h,m)}function Le(){return(Le=(0,_.Z)(function*(b,h,m){const A=fr(b);ot(b,h,yi);const z=Zo(A,m);return yield Aa(z,A),z._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function rt(b,h,m){return function At(b,h,m){return Qt.apply(this,arguments)}(b,h,m)}function Qt(){return(Qt=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b);ot(A.auth,h,yi);const z=Zo(A.auth,m);yield Aa(z,A.auth);const ne=yield so(A);return z._openRedirect(A.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function An(b,h,m){return function gn(b,h,m){return kn.apply(this,arguments)}(b,h,m)}function kn(){return(kn=(0,_.Z)(function*(b,h,m){const A=(0,f.m9)(b);ot(A.auth,h,yi);const z=Zo(A.auth,m);yield R(!1,A,h.providerId),yield Aa(z,A.auth);const ne=yield so(A);return z._openRedirect(A.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function Dn(b,h){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,_.Z)(function*(b,h){return yield fr(b)._initializationPromise,Wr(b,h,!1)})).apply(this,arguments)}function Wr(b,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(b,h,m=!1){const A=fr(b),z=Zo(A,h),be=yield new Yo(A,z,m).execute();return be&&!m&&(delete be.user._redirectEventId,yield A._persistUserIfCurrent(be.user),yield A._setRedirectUser(null,h)),be})).apply(this,arguments)}function so(b){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,_.Z)(function*(b){const h=ro(`${b.uid}:::`);return b._redirectEventId=h,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),h})).apply(this,arguments)}class Jo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(m=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Vo(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $s(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var A;if(h.error&&!$s(h)){const z=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(de(this.auth,z))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const A=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oo(h))}saveEventToCache(h){this.cachedEventUids.add(oo(h)),this.lastProcessedEventTime=Date.now()}}function oo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function $s({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function Sa(b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,_.Z)(function*(b,h={}){return Fn(b,"GET","/v1/projects",h)})).apply(this,arguments)}const gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mu=/^https?/;function Nl(){return(Nl=(0,_.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield Sa(b);for(const m of h)try{if(Ou(m))return}catch{}Gt(b,"unauthorized-domain")})).apply(this,arguments)}function Ou(b){const h=Ge(),{protocol:m,hostname:A}=new URL(h);if(b.startsWith("chrome-extension://")){const be=new URL(b);return""===be.hostname&&""===A?"chrome-extension:"===m&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&be.hostname===A}if(!mu.test(m))return!1;if(gu.test(b))return A===b;const z=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(A)}const Ru=new Bt(3e4,6e4);function Ol(){const b=Ei().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let yu=null;function ai(b){return yu=yu||function Hs(b){return new Promise((h,m)=>{var A,z,ne;function be(){Ol(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ol(),m(de(b,"network-request-failed"))},timeout:Ru.get()})}if(null!==(z=null===(A=Ei().gapi)||void 0===A?void 0:A.iframes)&&void 0!==z&&z.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Ei().gapi)||void 0===ne||!ne.load){const qe=N("iframefcb");return Ei()[qe]=()=>{gapi.load?be():m(de(b,"network-request-failed"))},E(`https://apis.google.com/js/api.js?onload=${qe}`).catch(It=>m(It))}be()}}).catch(h=>{throw yu=null,h})}(b),yu}const Ld=new Bt(5e3,15e3),Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ku(b){const h=b.config;ae(h.authDomain,b,"auth-domain-config-required");const m=h.emulator?Wn(h,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:h.apiKey,appName:b.name,v:$.SDK_VERSION},z=eu.get(b.config.apiHost);z&&(A.eid=z);const ne=b._getFrameworks();return ne.length&&(A.fw=ne.join(",")),`${m}?${(0,f.xO)(A).slice(1)}`}function p(){return p=(0,_.Z)(function*(b){const h=yield ai(b),m=Ei().gapi;return ae(m,b,"internal-error"),h.open({where:document.body,url:Ku(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},A=>new Promise(function(){var z=(0,_.Z)(function*(ne,be){yield A.restyle({setHideOnLeave:!1});const qe=de(b,"network-request-failed"),It=Ei().setTimeout(()=>{be(qe)},Ld.get());function Yt(){Ei().clearTimeout(It),ne(A)}A.ping(Yt).then(Yt,()=>{be(qe)})});return function(ne,be){return z.apply(this,arguments)}}()))}),p.apply(this,arguments)}const g={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ie{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kn(b,h,m,A,z,ne){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const be={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:A,v:$.SDK_VERSION,eventId:z};if(h instanceof yi){h.setDefaultLanguage(b.languageCode),be.providerId=h.providerId||"",(0,f.xb)(h.getCustomParameters())||(be.customParameters=JSON.stringify(h.getCustomParameters()));for(const[It,Yt]of Object.entries(ne||{}))be[It]=Yt}if(h instanceof rs){const It=h.getScopes().filter(Yt=>""!==Yt);It.length>0&&(be.scopes=It.join(","))}b.tenantId&&(be.tid=b.tenantId);const qe=be;for(const It of Object.keys(qe))void 0===qe[It]&&delete qe[It];return`${function Xn({config:b}){return b.emulator?Wn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,f.xO)(qe).slice(1)}`}const On="webStorageSupport",Fr=class Yn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=Wr,this._overrideRedirectResult=Is}_openPopup(h,m,A,z){var ne=this;return(0,_.Z)(function*(){var be;at(null===(be=ne.eventManagers[h._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const qe=Kn(h,m,A,Ge(),z);return function tt(b,h,m,A=500,z=600){const ne=Math.max((window.screen.availHeight-z)/2,0).toString(),be=Math.max((window.screen.availWidth-A)/2,0).toString();let qe="";const It=Object.assign(Object.assign({},g),{width:A.toString(),height:z.toString(),top:ne,left:be}),Yt=(0,f.z$)().toLowerCase();m&&(qe=lt(Yt)?"_blank":m),he(Yt)&&(h=h||"http://localhost",It.scrollbars="yes");const Cn=Object.entries(It).reduce((Ri,[Ii,Lr])=>`${Ri}${Ii}=${Lr},`,"");if(function ue(b=(0,f.z$)()){var h;return Se(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Yt)&&"_self"!==qe)return function St(b,h){const m=document.createElement("a");m.href=b,m.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(h||"",qe),new Ie(null);const pr=window.open(h||"",qe,Cn);ae(pr,b,"popup-blocked");try{pr.focus()}catch{}return new Ie(pr)}(h,qe,ro())})()}_openRedirect(h,m,A,z){var ne=this;return(0,_.Z)(function*(){return yield ne._originValidation(h),function Ko(b){Ei().location.href=b}(Kn(h,m,A,Ge(),z)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:z,promise:ne}=this.eventManagers[m];return z?Promise.resolve(z):(at(ne,"If manager is not set, promise should be"),ne)}const A=this.initAndGetManager(h);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(h){var m=this;return(0,_.Z)(function*(){const A=yield function M(b){return p.apply(this,arguments)}(h),z=new Jo(h);return A.register("authEvent",ne=>(ae(ne?.authEvent,h,"invalid-auth-event"),{status:z.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:z},m.iframes[h._key()]=A,z})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(On,{type:On},z=>{var ne;const be=null===(ne=z?.[0])||void 0===ne?void 0:ne[On];void 0!==be&&m(!!be),Gt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ic(b){return Nl.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return gt()||pe()||Se()}};class zi extends class Sr{constructor(h){this.factorId=h}_process(h,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,A);case"signin":return this._finalizeSignIn(h,m.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new zi(h)}_finalizeEnroll(h,m,A){return function au(b,h){return Fn(b,"POST","/v2/accounts/mfaEnrollment:finalize",mn(b,h))}(h,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Ja(b,h){return Fn(b,"POST","/v2/accounts/mfaSignIn:finalize",mn(b,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let es=(()=>{class b{constructor(){}static assertion(m){return zi._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var Cs="@firebase/auth";class ls{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(A=>{var z;h((null===(z=A)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cs(b=(0,$.getApp)()){const h=(0,$._getProvider)(b,"auth");return h.isInitialized()?h.getImmediate():function Te(b,h){const m=(0,$._getProvider)(b,"auth");if(m.isInitialized()){const z=m.getImmediate(),ne=m.getOptions();if((0,f.vZ)(ne,h??{}))return z;Gt(z,"already-initialized")}return m.initialize({options:h})}(b,{popupRedirectResolver:Fr,persistence:[lu,Vi,no]})}!function Co(b){(0,$._registerComponent)(new Ae.wA("auth",(h,{options:m})=>{const A=h.getProvider("app").getImmediate(),z=h.getProvider("heartbeat"),{apiKey:ne,authDomain:be}=A.options;return((qe,It)=>{ae(ne&&!ne.includes(":"),"invalid-api-key",{appName:qe.name}),ae(!be?.includes(":"),"argument-error",{appName:qe.name});const Yt={apiKey:ne,authDomain:be,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vn(b)},Cn=new cn(qe,It,Yt);return function Xe(b,h){const m=h?.persistence||[],A=(Array.isArray(m)?m:[m]).map(Be);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(A,h?.popupRedirectResolver)}(Cn,m),Cn})(A,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,A)=>{h.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ae.wA("auth-internal",h=>{const m=fr(h.getProvider("auth").getImmediate());return new ls(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Cs,"0.20.4",function Wi(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,$.registerVersion)(Cs,"0.20.4","esm2017")}("Browser")},2090:(en,Ke,j)=>{j.d(Ke,{$s:()=>Qn,BH:()=>_t,G6:()=>ae,L:()=>ke,LL:()=>Ge,Mn:()=>ot,Sg:()=>Ye,UG:()=>Je,US:()=>Ae,ZB:()=>te,ZR:()=>Xe,b$:()=>Gt,d:()=>de,eu:()=>at,hl:()=>$e,jU:()=>Qe,m9:()=>Mn,ne:()=>ir,pd:()=>yr,r3:()=>mn,ru:()=>Wt,tV:()=>Ue,uI:()=>$t,vZ:()=>gr,w1:()=>ct,xO:()=>br,xb:()=>Bn,z$:()=>et,zI:()=>oe,zd:()=>Mr});const _e=function(ye){const ie=[];let Fe=0;for(let Ve=0;Ve<ye.length;Ve++){let se=ye.charCodeAt(Ve);se<128?ie[Fe++]=se:se<2048?(ie[Fe++]=se>>6|192,ie[Fe++]=63&se|128):55296==(64512&se)&&Ve+1<ye.length&&56320==(64512&ye.charCodeAt(Ve+1))?(se=65536+((1023&se)<<10)+(1023&ye.charCodeAt(++Ve)),ie[Fe++]=se>>18|240,ie[Fe++]=se>>12&63|128,ie[Fe++]=se>>6&63|128,ie[Fe++]=63&se|128):(ie[Fe++]=se>>12|224,ie[Fe++]=se>>6&63|128,ie[Fe++]=63&se|128)}return ie},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ie){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let se=0;se<ye.length;se+=3){const ht=ye[se],bt=se+1<ye.length,Ot=bt?ye[se+1]:0,wn=se+2<ye.length,$n=wn?ye[se+2]:0;let ze=(15&Ot)<<2|$n>>6,he=63&$n;wn||(he=64,bt||(ze=64)),Ve.push(Fe[ht>>2],Fe[(3&ht)<<4|Ot>>4],Fe[ze],Fe[he])}return Ve.join("")},encodeString(ye,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ye):this.encodeByteArray(_e(ye),ie)},decodeString(ye,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ye):function(ye){const ie=[];let Fe=0,Ve=0;for(;Fe<ye.length;){const se=ye[Fe++];if(se<128)ie[Ve++]=String.fromCharCode(se);else if(se>191&&se<224){const ht=ye[Fe++];ie[Ve++]=String.fromCharCode((31&se)<<6|63&ht)}else if(se>239&&se<365){const wn=((7&se)<<18|(63&ye[Fe++])<<12|(63&ye[Fe++])<<6|63&ye[Fe++])-65536;ie[Ve++]=String.fromCharCode(55296+(wn>>10)),ie[Ve++]=String.fromCharCode(56320+(1023&wn))}else{const ht=ye[Fe++],bt=ye[Fe++];ie[Ve++]=String.fromCharCode((15&se)<<12|(63&ht)<<6|63&bt)}}return ie.join("")}(this.decodeStringToByteArray(ye,ie))},decodeStringToByteArray(ye,ie){this.init_();const Fe=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let se=0;se<ye.length;){const ht=Fe[ye.charAt(se++)],Ot=se<ye.length?Fe[ye.charAt(se)]:0;++se;const $n=se<ye.length?Fe[ye.charAt(se)]:64;++se;const Ln=se<ye.length?Fe[ye.charAt(se)]:64;if(++se,null==ht||null==Ot||null==$n||null==Ln)throw Error();Ve.push(ht<<2|Ot>>4),64!==$n&&(Ve.push(Ot<<4&240|$n>>2),64!==Ln&&Ve.push($n<<6&192|Ln))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},ke=function(ye){return function(ye){const ie=_e(ye);return Ae.encodeByteArray(ie,!0)}(ye).replace(/\./g,"")},Ue=function(ye){try{return Ae.decodeString(ye,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function te(ye,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return ie}for(const Fe in ie)!ie.hasOwnProperty(Fe)||!ve(Fe)||(ye[Fe]=te(ye[Fe],ie[Fe]));return ye}function ve(ye){return"__proto__"!==ye}class _t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,Fe)=>{this.resolve=ie,this.reject=Fe})}wrapCallback(ie){return(Fe,Ve)=>{Fe?this.reject(Fe):this.resolve(Ve),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(Fe):ie(Fe,Ve))}}}function Ye(ye,ie){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=ie||"demo-project",se=ye.iat||0,ht=ye.sub||ye.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:se,exp:se+3600,auth_time:se,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(bt)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function Wt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){return et().indexOf("Electron/")>=0}function ct(){const ye=et();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function ot(){return et().indexOf("MSAppHost/")>=0}function ae(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $e(){return"object"==typeof indexedDB}function at(){return new Promise((ye,ie)=>{try{let Fe=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ve);se.onsuccess=()=>{se.result.close(),Fe||self.indexedDB.deleteDatabase(Ve),ye(!0)},se.onupgradeneeded=()=>{Fe=!1},se.onerror=()=>{var ht;ie((null===(ht=se.error)||void 0===ht?void 0:ht.message)||"")}}catch(Fe){ie(Fe)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(ie,Fe,Ve){super(Fe),this.code=ie,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(ie,Fe,Ve){this.service=ie,this.serviceName=Fe,this.errors=Ve}create(ie,...Fe){const Ve=Fe[0]||{},se=`${this.service}/${ie}`,ht=this.errors[ie],bt=ht?function Mt(ye,ie){return ye.replace(on,(Fe,Ve)=>{const se=ie[Ve];return null!=se?String(se):`<${Ve}?>`})}(ht,Ve):"Error";return new Xe(se,`${this.serviceName}: ${bt} (${se}).`,Ve)}}const on=/\{\$([^}]+)}/g;function mn(ye,ie){return Object.prototype.hasOwnProperty.call(ye,ie)}function Bn(ye){for(const ie in ye)if(Object.prototype.hasOwnProperty.call(ye,ie))return!1;return!0}function gr(ye,ie){if(ye===ie)return!0;const Fe=Object.keys(ye),Ve=Object.keys(ie);for(const se of Fe){if(!Ve.includes(se))return!1;const ht=ye[se],bt=ie[se];if(mr(ht)&&mr(bt)){if(!gr(ht,bt))return!1}else if(ht!==bt)return!1}for(const se of Ve)if(!Fe.includes(se))return!1;return!0}function mr(ye){return null!==ye&&"object"==typeof ye}function br(ye){const ie=[];for(const[Fe,Ve]of Object.entries(ye))Array.isArray(Ve)?Ve.forEach(se=>{ie.push(encodeURIComponent(Fe)+"="+encodeURIComponent(se))}):ie.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Ve));return ie.length?"&"+ie.join("&"):""}function Mr(ye){const ie={};return ye.replace(/^\?/,"").split("&").forEach(Ve=>{if(Ve){const[se,ht]=Ve.split("=");ie[decodeURIComponent(se)]=decodeURIComponent(ht)}}),ie}function yr(ye){const ie=ye.indexOf("?");if(!ie)return"";const Fe=ye.indexOf("#",ie);return ye.substring(ie,Fe>0?Fe:void 0)}function ir(ye,ie){const Fe=new rn(ye,ie);return Fe.subscribe.bind(Fe)}class rn{constructor(ie,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{ie(this)}).catch(Ve=>{this.error(Ve)})}next(ie){this.forEachObserver(Fe=>{Fe.next(ie)})}error(ie){this.forEachObserver(Fe=>{Fe.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,Fe,Ve){let se;if(void 0===ie&&void 0===Fe&&void 0===Ve)throw new Error("Missing Observer.");se=function xn(ye,ie){if("object"!=typeof ye||null===ye)return!1;for(const Fe of ie)if(Fe in ye&&"function"==typeof ye[Fe])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:Fe,complete:Ve},void 0===se.next&&(se.next=Tn),void 0===se.error&&(se.error=Tn),void 0===se.complete&&(se.complete=Tn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),ht}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,ie)}sendOne(ie,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{Fe(this.observers[ie])}catch(Ve){typeof console<"u"&&console.error&&console.error(Ve)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}function Qn(ye,ie=1e3,Fe=2){const Ve=ie*Math.pow(Fe,ye),se=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+se)}function Mn(ye){return ye&&ye._delegate?ye._delegate:ye}},9531:(en,Ke,j)=>{j.d(Ke,{s:()=>$});var _=j(4650),f=j(9541);let $=(()=>{class _e{constructor(Ae){this.fireservice=Ae}getProducts(){return this.fireservice.collection("products").snapshotChanges()}getProduct(Ae){return this.fireservice.collection("products").doc(Ae).valueChanges()}addProduct(Ae){return this.fireservice.collection("products").add(Ae)}updateProduct(Ae,Re){return this.fireservice.collection("products").doc(Re).update(Ae)}deleteProduct(Ae){this.fireservice.doc("products/"+Ae).delete()}}return _e.\u0275fac=function(Ae){return new(Ae||_e)(_.LFG(f.ST))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},2340:(en,Ke,j)=>{j.d(Ke,{N:()=>_});const _={production:!0,firebaseConfig:{apiKey:"AIzaSyAaNXTF36Ut0l5jovyXXMLHItbQJe-g9-Q",authDomain:"my-first-app-fc9f2.firebaseapp.com",databaseURL:"https://my-first-app-fc9f2-default-rtdb.firebaseio.com",projectId:"my-first-app-fc9f2",storageBucket:"my-first-app-fc9f2.appspot.com",messagingSenderId:"952086685665",appId:"1:952086685665:web:61da93d5a66f59a78e94a0",measurementId:"G-518ZJ04DXW"}}},3875:(en,Ke,j)=>{var _=j(1481),f=j(4650),$=j(433),_e=j(529),fe=j(5072),Ae=j(9531),Re=j(8768);let ke=(()=>{class M{constructor(g,D,H,J,me){this.productService=g,this.formBuilder=D,this.route=H,this.router=J,this.toast=me,this.editForm=this.formBuilder.group({title:[""],image:[""],description:[""],quantity:[0],price:[0]})}ngOnInit(){const g=this.route.snapshot.paramMap.get("id");this.productService.getProduct(g).subscribe(D=>{this.productRef=history.state.data.item,this.editForm=this.formBuilder.group({title:[this.productRef.title],description:[this.productRef.description],image:[this.productRef.image],price:[this.productRef.price],quantity:[this.productRef.quantity]})})}onSubmit(){const g=this.route.snapshot.paramMap.get("id");this.productService.updateProduct(this.editForm.value,g),this.router.navigate(["/admin/products"]),this.toast.success({detail:"Product Updated",summary:"You updated the product successfully !!!",duration:5e3})}goBack(){this.router.navigate(["/admin/products"]),this.toast.error({detail:"Warning product isn't updated",summary:"You went back to admin/product page !",duration:5e3})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36(Ae.s),f.Y36($.qu),f.Y36(fe.gz),f.Y36(fe.F0),f.Y36(Re.s))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-edit-product"]],decls:25,vars:1,consts:[[1,"container"],[1,"form",3,"formGroup"],[1,"form-group"],["for","title",1,"form-groupLabel"],["type","text","placeholder","Enter Product Title ...","name","title","formControlName","title","required","",1,"form-groupInput"],["for","image",1,"form-groupLabel"],["type","text","placeholder","Enter Product Image ...","name","image","formControlName","image","required","",1,"form-groupInput"],["name","title","id","title","cols","30","rows","10","placeholder","Enter Product Description ...","name","description","formControlName","description"],["type","text","placeholder","Enter Product Price ...","name","price","formControlName","price","required","",1,"form-groupInput"],["type","text","placeholder","Enter Product Quantity ...","name","quantity","formControlName","quantity","required","",1,"form-groupInput"],[1,"button-group"],["type","submit",3,"click"],["type","button",3,"click"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),f._uU(4,"Title:"),f.qZA(),f._UZ(5,"input",4),f.qZA(),f.TgZ(6,"div",2)(7,"label",5),f._uU(8,"Image Link:"),f.qZA(),f._UZ(9,"input",6),f.qZA(),f.TgZ(10,"div",2),f._UZ(11,"textarea",7),f.qZA(),f.TgZ(12,"div",2)(13,"label",3),f._uU(14,"Price:"),f.qZA(),f._UZ(15,"input",8),f.qZA(),f.TgZ(16,"div",2)(17,"label",3),f._uU(18,"Quantity:"),f.qZA(),f._UZ(19,"input",9),f.qZA(),f.TgZ(20,"div",10)(21,"button",11),f.NdJ("click",function(){return D.onSubmit()}),f._uU(22,"Update"),f.qZA(),f.TgZ(23,"button",12),f.NdJ("click",function(){return D.goBack()}),f._uU(24,"Go Back"),f.qZA()()()()),2&g&&(f.xp6(1),f.Q6J("formGroup",D.editForm))},dependencies:[$._Y,$.Fj,$.JJ,$.JL,$.Q7,$.sg,$.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:1px solid black;border-radius:5px;padding:1rem}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;margin-right:2rem;padding:1rem 1.5rem;outline:none;border:none;background-color:#90ee90;color:green;border-radius:5px;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-of-type(1){padding-top:1rem}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80%;padding-bottom:1rem}.container[_ngcontent-%COMP%]   .form-groupLabel[_ngcontent-%COMP%]{font-size:2rem;margin:.5rem}.container[_ngcontent-%COMP%]   .form-groupInput[_ngcontent-%COMP%]{width:60%;outline:none;padding:.5rem;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:60%;padding:.5rem;display:flex;align-items:center;justify-content:center;margin:1rem;cursor:pointer}"]}),M})(),Ue=(()=>{class M{constructor(){}patternValidator(){return g=>g.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(g.value)?null:{invalidPassword:!0}:null}userNameValidator(g){return new Promise(D=>{setTimeout(()=>{this.validateUserName(g.value)?D({userNameNotAvailable:!0}):D(null)},1e3)})}validateUserName(g){return["ankit","admin","user","superuser"].indexOf(g)>-1}passwordsMatchValidator(){return g=>{const D=g.get("password")?.value,H=g.get("confirmPassword")?.value;return D&&H&&D!==H?{passwordsDontMatch:!0}:null}}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var le=j(5813),te=j(3692),ve=j(5867),_t=j(7128),Ye=j(3673),Wt=(j(2090),j(9681),j(1877),j(4859),j(9751));function Gt(M){return new Wt.y(function(p){return{unsubscribe:(0,Ye.v)(M,p.next.bind(p),p.error.bind(p),p.complete.bind(p))}})}function de(M){return new Wt.y(function(p){return{unsubscribe:(0,Ye.q)(M,p.next.bind(p),p.error.bind(p),p.complete.bind(p))}})}class wt{constructor(p){return p}}const at=new f.OlP("angularfire2.auth-instances");function Be(M){return(p,g)=>{const D=p.runOutsideAngular(()=>M(g));return new wt(D)}}const Te={provide:class ae{constructor(){return(0,le.vb)("auth")}},deps:[[new f.FiY,at]]},Xe={provide:wt,useFactory:function oe(M,p){const g=(0,le.JM)("auth",M,p);return g&&new wt(g)},deps:[[new f.FiY,at],te.Ot]};let Ge=(()=>{class M{constructor(){(0,ve.KN)("angularfire",le.q4.full,"auth")}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({providers:[Xe,Te]}),M})();function Mt(M,...p){return{ngModule:Ge,providers:[{provide:at,useFactory:Be(M),multi:!0,deps:[f.R0b,f.zs3,le.HU,te.z6,[new f.FiY,_t.nm],...p]}]}}const on=(0,le.u3)(Gt,!0),sn=(0,le.u3)(de,!0),mn=(0,le.u3)(Ye.a5,!0),ye=(0,le.u3)(Ye.a6,!0);var lt=j(8996);let Ft=(()=>{class M{constructor(g){this.auth=g,this.currentUser$=on(this.auth)}signUp(g,D){return(0,lt.D)(mn(this.auth,g,D))}login(g,D){return(0,lt.D)(ye(this.auth,g,D))}logout(){return(0,lt.D)(this.auth.signOut())}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(wt))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var Xt=j(6895);function pt(M,p){1&M&&(f.TgZ(0,"div",12),f._uU(1," Please enter a valid email address "),f.qZA())}function Dt(M,p){1&M&&(f.TgZ(0,"div",12),f._uU(1," Email address is required "),f.qZA())}function Se(M,p){1&M&&(f.TgZ(0,"div",12),f._uU(1," Password is required "),f.qZA())}function ge(M,p){1&M&&(f.TgZ(0,"div",12),f._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),f.qZA())}let ue=(()=>{class M{constructor(g,D,H,J,me){this.router=g,this.fb=D,this.toast=H,this.customValidator=J,this.auth=me,this.submitted=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[$.kI.required,$.kI.email]],password:["",$.kI.compose([$.kI.required,this.customValidator.patternValidator()])]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(!this.loginForm.valid)return void this.toast.error({detail:"Login Failed",summary:"Something went wrong !",duration:5e3});this.submitted=!0;const{email:g,password:D}=this.loginForm.value;this.auth.login(g,D).subscribe(()=>{this.router.navigate(["/products"])}),this.toast.success({detail:"Log In",summary:"You are successfully logged in",duration:5e3})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36(fe.F0),f.Y36($.qu),f.Y36(Re.s),f.Y36(Ue),f.Y36(Ft))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-login"]],decls:24,vars:5,consts:[[1,"container"],[1,"form-container"],[1,"form-containerTitle"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name",1,"form-groupLabel"],["type","text","name","name","id","name","placeholder","Enter Your Email...","formControlName","email",1,"form-groupInput"],["class","danger",4,"ngIf"],["type","password","name","password","id","password","placeholder","Enter Your Password...","formControlName","password",1,"form-groupInput"],[1,"button-group"],["type","submit",1,"button-groupBtn"],["routerLink","/register"],[1,"danger"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3,"Login"),f.qZA(),f.TgZ(4,"form",3),f.NdJ("ngSubmit",function(){return D.submit()}),f.TgZ(5,"div",4)(6,"label",5),f._uU(7,"Email :"),f.qZA(),f._UZ(8,"input",6),f.YNc(9,pt,2,0,"div",7),f.YNc(10,Dt,2,0,"div",7),f.qZA(),f.TgZ(11,"div",4)(12,"label",5),f._uU(13,"Password :"),f.qZA(),f._UZ(14,"input",8),f.YNc(15,Se,2,0,"div",7),f.YNc(16,ge,2,0,"div",7),f.qZA(),f.TgZ(17,"div",9)(18,"button",10),f._uU(19,"Login"),f.qZA(),f.TgZ(20,"span"),f._uU(21,"Don't have an account ? "),f.TgZ(22,"a",11),f._uU(23,"Sign up!"),f.qZA()()()()()()),2&g&&(f.xp6(4),f.Q6J("formGroup",D.loginForm),f.xp6(5),f.Q6J("ngIf",(null==D.email||null==D.email.errors?null:D.email.errors.email)&&(null==D.email?null:D.email.touched)),f.xp6(1),f.Q6J("ngIf",(null==D.email||null==D.email.errors?null:D.email.errors.required)&&((null==D.email?null:D.email.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.password||null==D.password.errors?null:D.password.errors.required)&&((null==D.password?null:D.password.touched)||D.submitted)),f.xp6(1),f.Q6J("ngIf",(null==D.password?null:D.password.touched)&&(null==D.password||null==D.password.errors?null:D.password.errors.invalidPassword)))},dependencies:[Xt.O5,fe.yS,$._Y,$.Fj,$.JJ,$.JL,$.sg,$.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:90vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.form-container[_ngcontent-%COMP%]{background-color:#f5f5f5;box-shadow:0 12px 12px #0000001a,0 8px 16px #0000001a;display:flex;flex-direction:column;align-items:center;width:20rem;padding:2rem;border:1px solid black;border-radius:5px}.form-containerTitle[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.form[_ngcontent-%COMP%]{padding:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-groupLabel[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-bottom:.75rem}.form-groupInput[_ngcontent-%COMP%]{outline:none;border:1px solid black;height:2rem;border-radius:5px;padding:.25rem;cursor:pointer}.form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]   .button-groupBtn[_ngcontent-%COMP%]{margin:.75rem 0rem;cursor:pointer;border:none;border-radius:6px;font-size:1.5rem;line-height:2.5rem;padding:0 1rem;width:10rem;background-color:#1877f2;color:#fff}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),M})();function Ne(M,p){if(1&M&&(f.TgZ(0,"p",11),f._uU(1),f.qZA()),2&M){const g=f.oxw();f.xp6(1),f.hij(" Min Length is ",null==g.productTitle||null==g.productTitle.errors||null==g.productTitle.errors.minlength?null:g.productTitle.errors.minlength.requiredLength," ")}}function gt(M,p){if(1&M&&(f.TgZ(0,"p",11),f._uU(1),f.qZA()),2&M){const g=f.oxw();f.xp6(1),f.hij(" Max length allowed is ",null==g.productTitle||null==g.productTitle.errors||null==g.productTitle.errors.maxlength?null:g.productTitle.errors.maxlength.requiredLength," ")}}function Zt(M,p){1&M&&(f.TgZ(0,"p",11),f._uU(1," Product Name is required "),f.qZA())}function Vn(M,p){1&M&&(f.TgZ(0,"p",11),f._uU(1," Image is required ! "),f.qZA())}function or(M,p){if(1&M&&(f.TgZ(0,"p",11),f._uU(1),f.qZA()),2&M){const g=f.oxw();f.xp6(1),f.hij(" Min Length is ",null==g.productDescription||null==g.productDescription.errors||null==g.productDescription.errors.minlength?null:g.productDescription.errors.minlength.requiredLength," ")}}function cn(M,p){if(1&M&&(f.TgZ(0,"p",11),f._uU(1),f.qZA()),2&M){const g=f.oxw();f.xp6(1),f.hij(" Max length allowed is ",null==g.productDescription||null==g.productDescription.errors||null==g.productDescription.errors.maxlength?null:g.productDescription.errors.maxlength.requiredLength," ")}}function fr(M,p){1&M&&(f.TgZ(0,"p",11),f._uU(1," Price is required ! "),f.qZA())}function ur(M,p){1&M&&(f.TgZ(0,"p",11),f._uU(1," Quantity is required ! "),f.qZA())}let $r=(()=>{class M{constructor(g,D,H,J){this.fireservice=g,this.router=D,this.toast=H,this.fb=J,this.submitted=!1}ngOnInit(){this.productForm=this.fb.group({productTitle:new $.NI("",[$.kI.required,$.kI.minLength(4),$.kI.maxLength(20)]),productImage:new $.NI("",$.kI.required),productDescription:new $.NI("",[$.kI.minLength(10),$.kI.maxLength(150)]),productPrice:new $.NI(null,$.kI.required),productQuantity:new $.NI(null,$.kI.required)})}get productTitle(){return this.productForm.get("productTitle")}get productImage(){return this.productForm.get("productImage")}get productDescription(){return this.productForm.get("productDescription")}get productPrice(){return this.productForm.get("productPrice")}get productQuantity(){return this.productForm.get("productQuantity")}addProduct(){this.submitted=!0,this.product={id:Math.floor(1e6*Math.random()+1),title:this.productForm.value.productTitle,price:this.productForm.value.productPrice,description:this.productForm.value.productDescription,quantity:this.productForm.value.productQuantity,image:this.productForm.value.productImage},this.fireservice.addProduct(this.product).then(g=>{this.router.navigate(["/admin/products"]),this.toast.success({detail:"Product Added",summary:"You successfully added a new product !",duration:5e3})}).catch(g=>{this.toast.error({detail:"Product isn't added",summary:g.message,duration:5e3})})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36(Ae.s),f.Y36(fe.F0),f.Y36(Re.s),f.Y36($.qu))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-product"]],decls:30,vars:10,consts:[[1,"container"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","title",1,"form-groupLabel"],["type","text","placeholder","Enter Product Title ...","name","productTitle","formControlName","productTitle","minlength","4","maxlength","25",1,"form-groupInput"],["class","danger",4,"ngIf"],["type","text","placeholder","Enter Product Image ...","name","productImage","formControlName","productImage",1,"form-groupInput"],["name","title","id","title","cols","30","rows","10","placeholder","Enter Product Description ...","name","productDescription","formControlName","productDescription"],["type","text","placeholder","Enter Product Price ...","name","productPrice","formControlName","productPrice",1,"form-groupInput"],["type","text","placeholder","Enter Product Quantity ...","name","productQuantity","formControlName","productQuantity",1,"form-groupInput"],["type","submit",3,"hidden"],[1,"danger"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("ngSubmit",function(){return D.addProduct()}),f.TgZ(2,"div",2)(3,"label",3),f._uU(4,"Title:"),f.qZA(),f._UZ(5,"input",4),f.YNc(6,Ne,2,1,"p",5),f.YNc(7,gt,2,1,"p",5),f.YNc(8,Zt,2,0,"p",5),f.qZA(),f.TgZ(9,"div",2)(10,"label",3),f._uU(11,"Image Link:"),f.qZA(),f._UZ(12,"input",6),f.YNc(13,Vn,2,0,"p",5),f.qZA(),f.TgZ(14,"div",2),f._UZ(15,"textarea",7),f.YNc(16,or,2,1,"p",5),f.YNc(17,cn,2,1,"p",5),f.qZA(),f.TgZ(18,"div",2)(19,"label",3),f._uU(20,"Price:"),f.qZA(),f._UZ(21,"input",8),f.YNc(22,fr,2,0,"p",5),f.qZA(),f.TgZ(23,"div",2)(24,"label",3),f._uU(25,"Quantity:"),f.qZA(),f._UZ(26,"input",9),f.YNc(27,ur,2,0,"p",5),f.qZA(),f.TgZ(28,"button",10),f._uU(29,"Add Product"),f.qZA()()()),2&g&&(f.xp6(1),f.Q6J("formGroup",D.productForm),f.xp6(5),f.Q6J("ngIf",null==D.productTitle||null==D.productTitle.errors?null:D.productTitle.errors.minlength),f.xp6(1),f.Q6J("ngIf",null==D.productTitle||null==D.productTitle.errors?null:D.productTitle.errors.maxlength),f.xp6(1),f.Q6J("ngIf",(null==D.productTitle||null==D.productTitle.errors?null:D.productTitle.errors.required)&&((null==D.productTitle?null:D.productTitle.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.productImage||null==D.productImage.errors?null:D.productImage.errors.required)&&((null==D.productImage?null:D.productImage.touched)||D.submitted)),f.xp6(3),f.Q6J("ngIf",(null==D.productDescription||null==D.productDescription.errors?null:D.productDescription.errors.minlength)&&((null==D.productDescription?null:D.productDescription.touched)||D.submitted)),f.xp6(1),f.Q6J("ngIf",(null==D.productDescription||null==D.productDescription.errors?null:D.productDescription.errors.maxlength)&&((null==D.productDescription?null:D.productDescription.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.productPrice||null==D.productPrice.errors?null:D.productPrice.errors.required)&&((null==D.productPrice?null:D.productPrice.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.productQuantity||null==D.productQuantity.errors?null:D.productQuantity.errors.required)&&((null==D.productQuantity?null:D.productQuantity.touched)||D.submitted)),f.xp6(1),f.Q6J("hidden",!D.productForm.valid))},dependencies:[Xt.O5,$._Y,$.Fj,$.JJ,$.JL,$.wO,$.nD,$.sg,$.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:1px solid black;border-radius:5px;padding:1rem}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem 1.5rem;outline:none;border:none;background-color:#90ee90;color:green;border-radius:5px}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-of-type(1){padding-top:1rem}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80%;padding-bottom:1rem}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid lightgreen}.container[_ngcontent-%COMP%]   .form-groupLabel[_ngcontent-%COMP%]{font-size:2rem;margin:.5rem}.container[_ngcontent-%COMP%]   .form-groupInput[_ngcontent-%COMP%]{width:60%;outline:none;padding:.5rem;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:60%;padding:.5rem;display:flex;align-items:center;justify-content:center;margin:1rem;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid lightgreen}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}"]}),M})();function gi(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," First Name is required "),f.qZA())}function xr(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Last Name is required "),f.qZA())}function ps(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Please enter a valid email address "),f.qZA())}function ts(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Email address is required "),f.qZA())}function Hr(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Password is required "),f.qZA())}function Ts(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),f.qZA())}function ci(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Confirm Password is required "),f.qZA())}function lr(M,p){1&M&&(f.TgZ(0,"div",21),f._uU(1," Passwords should match "),f.qZA())}let ao=(()=>{class M{constructor(g,D,H,J,me){this.fb=g,this.customValidator=D,this.authService=H,this.toast=J,this.router=me,this.submitted=!1}ngOnInit(){this.signupForm=this.fb.group({firstName:new $.NI("",$.kI.required),lastName:new $.NI("",$.kI.required),email:new $.NI("",[$.kI.required,$.kI.email]),password:new $.NI("",[$.kI.required,this.customValidator.patternValidator()]),confirmPassword:new $.NI("",$.kI.required)},{validator:this.customValidator.passwordsMatchValidator()})}get firstName(){return this.signupForm.get("firstName")}get lastName(){return this.signupForm.get("lastName")}get email(){return this.signupForm.get("email")}get password(){return this.signupForm.get("password")}get confirmPassword(){return this.signupForm.get("confirmPassword")}submit(){if(!this.signupForm.valid)return void this.toast.error({detail:"Sign In Failed",summary:"Something went wrong try again!",duration:5e3});this.submitted=!0;const{email:D,password:H}=this.signupForm.value;this.authService.signUp(D,H).subscribe(()=>{this.router.navigate(["/products"])}),this.toast.success({detail:"Sign In",summary:"You successfully created profile",duration:5e3})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36($.qu),f.Y36(Ue),f.Y36(Ft),f.Y36(Re.s),f.Y36(fe.F0))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-register"]],decls:45,vars:9,consts:[[1,"container"],[1,"form-container"],[1,"form-containerTitle"],[1,"form-containerSubtitle"],[1,"form-containerDescription"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-groupFirstName"],["for","firstName",1,"form-groupLabel"],["type","text","name","firstName","id","firstName","placeholder","Enter Your First Name...","formControlName","firstName",1,"form-groupInput"],["class","danger",4,"ngIf"],[1,"form-groupLastName"],["for","lastName",1,"form-groupLabel"],["type","text","name","lastName","id","lastName","placeholder","Enter Your Last Name...","formControlName","lastName",1,"form-groupInput"],["for","name",1,"form-groupLabel"],["type","text","name","name","id","name","placeholder","Enter Your E-mail...","formControlName","email",1,"form-groupInput"],["type","password","name","password","id","password","placeholder","Enter Your Password...","formControlName","password",1,"form-groupInput"],["type","password","name","confirmPassword","id","confirmPassword","placeholder","Confirm password...","formControlName","confirmPassword",1,"form-groupInput"],[1,"button-group"],["type","submit",1,"button-groupBtn"],["routerLink","/login"],[1,"danger"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),f._uU(3,"Register"),f.qZA(),f.TgZ(4,"h5",3),f._uU(5,"Create a new account"),f.qZA(),f.TgZ(6,"p",4),f._uU(7,"it's quick and easy"),f.qZA(),f.TgZ(8,"form",5),f.NdJ("ngSubmit",function(){return D.submit()}),f.TgZ(9,"div",6)(10,"div",7)(11,"label",8),f._uU(12,"First Name:"),f.qZA(),f._UZ(13,"input",9),f.YNc(14,gi,2,0,"div",10),f.qZA(),f.TgZ(15,"div",11)(16,"label",12),f._uU(17,"Last Name:"),f.qZA(),f._UZ(18,"input",13),f.YNc(19,xr,2,0,"div",10),f.qZA()(),f.TgZ(20,"div",6)(21,"label",14),f._uU(22,"Email :"),f.qZA(),f._UZ(23,"input",15),f.YNc(24,ps,2,0,"div",10),f.YNc(25,ts,2,0,"div",10),f.qZA(),f.TgZ(26,"div",6)(27,"label",14),f._uU(28,"Password:"),f.qZA(),f._UZ(29,"input",16),f.YNc(30,Hr,2,0,"div",10),f.YNc(31,Ts,2,0,"div",10),f.qZA(),f.TgZ(32,"div",6)(33,"label",14),f._uU(34,"Confirm Password:"),f.qZA(),f._UZ(35,"input",17),f.YNc(36,ci,2,0,"div",10),f.YNc(37,lr,2,0,"div",10),f.qZA(),f.TgZ(38,"div",18)(39,"button",19),f._uU(40,"Login"),f.qZA(),f.TgZ(41,"span"),f._uU(42,"Already have an account ? "),f.TgZ(43,"a",20),f._uU(44,"Go to Login!"),f.qZA()()()()()()),2&g&&(f.xp6(8),f.Q6J("formGroup",D.signupForm),f.xp6(6),f.Q6J("ngIf",(null==D.firstName||null==D.firstName.errors?null:D.firstName.errors.required)&&((null==D.firstName?null:D.firstName.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.lastName||null==D.lastName.errors?null:D.lastName.errors.required)&&((null==D.lastName?null:D.lastName.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.email||null==D.email.errors?null:D.email.errors.email)&&((null==D.email?null:D.email.touched)||D.submitted)),f.xp6(1),f.Q6J("ngIf",(null==D.email||null==D.email.errors?null:D.email.errors.required)&&((null==D.email?null:D.email.touched)||D.submitted)),f.xp6(5),f.Q6J("ngIf",(null==D.password||null==D.password.errors?null:D.password.errors.required)&&((null==D.password?null:D.password.touched)||D.submitted)),f.xp6(1),f.Q6J("ngIf",((null==D.password?null:D.password.touched)||D.submitted)&&(null==D.password||null==D.password.errors?null:D.password.errors.invalidPassword)),f.xp6(5),f.Q6J("ngIf",(null==D.confirmPassword||null==D.confirmPassword.errors?null:D.confirmPassword.errors.required)&&((null==D.confirmPassword?null:D.confirmPassword.touched)||D.submitted)),f.xp6(1),f.Q6J("ngIf",(null==D.signupForm.errors?null:D.signupForm.errors.passwordsDontMatch)&&(null==D.confirmPassword?null:D.confirmPassword.touched)))},dependencies:[Xt.O5,fe.yS,$._Y,$.Fj,$.JJ,$.JL,$.sg,$.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:90vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.form-container[_ngcontent-%COMP%]{background-color:#f5f5f5;box-shadow:0 12px 12px #0000001a,0 8px 16px #0000001a;display:flex;flex-direction:column;align-items:center;width:20rem;padding:2rem;border:1px solid black;border-radius:5px}.form-containerTitle[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.form-containerSubtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.form-containerDescription[_ngcontent-%COMP%]{letter-spacing:2px;font-weight:500}.form[_ngcontent-%COMP%]{padding:1rem}.form-group[_ngcontent-%COMP%]:nth-of-type(1){width:100%;flex-direction:row}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-groupFirstName[_ngcontent-%COMP%]{margin-right:1rem}.form-groupLabel[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-bottom:.75rem}.form-groupInput[_ngcontent-%COMP%]{outline:none;border:1px solid black;height:2rem;border-radius:5px;padding:.25rem;cursor:pointer}.form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]   .button-groupBtn[_ngcontent-%COMP%]{margin:.75rem 0rem;cursor:pointer;border:none;border-radius:6px;font-size:1.5rem;line-height:2.5rem;padding:0 1rem;width:10rem;background-color:#1877f2;color:#fff}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),M})();var uo=j(9635),Bi=j(4004),Ks=j(5698);const ki=(0,Bi.U)(M=>!!M);let Ki=(()=>{class M{constructor(g,D){this.router=g,this.auth=D,this.canActivate=(H,J)=>{const me=H.data.authGuardPipe||(()=>ki);return sn(this.auth).pipe((0,Ks.q)(1),me(H,J),(0,Bi.U)(Ie=>"boolean"==typeof Ie?Ie:Array.isArray(Ie)?this.router.createUrlTree(Ie):this.router.parseUrl(Ie)))}}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(fe.F0),f.LFG(wt))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"any"}),M})();const Oe=M=>({canActivate:[Ki],data:{authGuardPipe:M}}),Ci=JSON.parse('{"a":[{"name":"firstName","label":"First Name:","placeholder":"Firs Name required","value":"","type":"input","validators":{"required":true,"minLength":4}},{"name":"lastName","label":"Last Name:","placeholder":"Last Name required","value":"","type":"input","validators":{"required":true,"minLength":4}},{"name":"address","label":"Address:","placeholder":"Address required","value":"","type":"input","validators":{"required":true,"minLength":4}},{"name":"productBrand","type":"select","model":"select","label":"Product Brand","options":[{"optionName":"Puma","value":"puma"},{"optionName":"Nike","value":"nike"},{"optionName":"Adidas","value":"adidas"},{"optionName":"Reebok","value":"reebok"},{"optionName":"New Balance","value":"new balance"}],"validators":{"required":false}},{"name":"productName","label":"Product Name:","value":"","type":"input","placeholder":"Enter Product Name","validators":{"required":true,"minLength":4}},{"name":"productSize","type":"select","model":"select","label":"Product Size:","options":[{"optionName":"39","value":"39"},{"optionName":"40","value":"40"},{"optionName":"41","value":"41"},{"optionName":"42","value":"42"},{"optionName":"43","value":"43"},{"optionName":"44","value":"44"},{"optionName":"45","value":"45"},{"optionName":"46","value":"46"},{"optionName":"47","value":"47"}],"validators":{"required":false}},{"name":"productColor","type":"select","model":"select","label":"Select Color:","placeholder":"Select color","options":[{"optionName":"Black","value":"Black"},{"optionName":"White","value":"White"},{"optionName":"Blue","value":"Blue"},{"optionName":"Green","value":"Green"},{"optionName":"Light Blue","value":"LightBlue"},{"optionName":"Grey","value":"Grey"},{"optionName":"Brown","value":"Brown"},{"optionName":"Yellow","value":"Yellow"},{"optionName":"Pink","value":"Pink"},{"optionName":"Purple","value":"Purple"}],"validators":{"required":false}},{"name":"productDescription","label":"Product Description:","value":"","type":"textarea","placeholder":"Enter Product Description","validators":{"required":false}}]}');var gs=j(9541);let As=(()=>{class M{constructor(g){this.orderService=g}addOrder(g){return this.orderService.collection("orders").add(g)}getOrders(){return this.orderService.collection("orders").snapshotChanges()}deleteOrder(g){this.orderService.doc("orders/"+g).delete()}getOrder(g){return this.orderService.collection("orders").doc(g).valueChanges()}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(gs.ST))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Zs(M,p){if(1&M&&(f.TgZ(0,"div"),f._uU(1),f.qZA()),2&M){const g=f.oxw(3).$implicit;f.xp6(1),f.hij("Minimum length is ",g.validators.minLength,"")}}function ns(M,p){1&M&&(f.TgZ(0,"div"),f._uU(1,"Input required"),f.qZA())}function Ti(M,p){if(1&M&&(f.TgZ(0,"div",10),f.YNc(1,Zs,2,1,"div",11),f.YNc(2,ns,2,0,"div",11),f.qZA()),2&M){const g=f.oxw(2).$implicit,D=f.oxw();let H;f.xp6(1),f.Q6J("ngIf",g.validators.minLength),f.xp6(1),f.Q6J("ngIf",(null==g||null==g.validators?null:g.validators.required)&&(null==(H=D.myForm.get(g.name))?null:H.touched))}}function Di(M,p){if(1&M&&(f.TgZ(0,"div")(1,"label",7),f._uU(2),f.qZA(),f._UZ(3,"input",8),f.YNc(4,Ti,3,2,"div",9),f.qZA()),2&M){const g=f.oxw().$implicit,D=f.oxw();let H;f.xp6(2),f.Oqu(g.label),f.xp6(1),f.Q6J("type",g.type?g.type:"text")("formControlName",g.name)("placeholder",g.placeholder)("required",g.validators.required),f.xp6(1),f.Q6J("ngIf",(null==(H=D.myForm.get(g.name))?null:H.invalid)&&((null==(H=D.myForm.get(g.name))?null:H.dirty)||(null==(H=D.myForm.get(g.name))?null:H.touched)))}}function na(M,p){if(1&M&&(f.TgZ(0,"div")(1,"label",12),f._uU(2),f.qZA(),f._UZ(3,"input",13),f.qZA()),2&M){const g=p.$implicit,D=f.oxw(2).$implicit;f.xp6(1),f.Q6J("for",g.optionName),f.xp6(1),f.hij(" ",g.optionName,""),f.xp6(1),f.Q6J("id",g.optionName)("formControlName",D.name)("type",D.type)("name",g.optionName)("value",g.value)("required",D.validators.required)}}function Ai(M,p){if(1&M&&(f.TgZ(0,"div"),f.YNc(1,na,4,8,"div",2),f.qZA()),2&M){const g=f.oxw().$implicit;f.xp6(1),f.Q6J("ngForOf",g.options)}}function lo(M,p){if(1&M&&(f.TgZ(0,"p",10),f._uU(1),f.qZA()),2&M){const g=f.oxw(2).$implicit;f.xp6(1),f.hij(" ",g.label," is required ! ")}}function jo(M,p){if(1&M&&(f.TgZ(0,"div")(1,"label",12),f._uU(2),f.qZA(),f._UZ(3,"textarea",14),f.YNc(4,lo,2,1,"p",9),f.qZA()),2&M){const g=f.oxw().$implicit,D=f.oxw();let H;f.xp6(1),f.Q6J("for",g.name),f.xp6(1),f.Oqu(g.label),f.xp6(1),f.Q6J("formControlName",g.name)("id",g.name)("placeholder",g.placeholder),f.xp6(1),f.Q6J("ngIf",(null==g||null==g.validators?null:g.validators.required)&&(null==(H=D.myForm.get(g.name))?null:H.invalid)&&(null==(H=D.myForm.get(g.name))?null:H.touched))}}function Si(M,p){if(1&M&&(f.TgZ(0,"option",18),f._uU(1),f.qZA()),2&M){const g=p.$implicit;f.Q6J("value",g.value),f.xp6(1),f.Oqu(g.optionName)}}function ms(M,p){if(1&M&&(f.TgZ(0,"div")(1,"label",12),f._uU(2),f.qZA(),f.TgZ(3,"select",15)(4,"option",16),f._uU(5),f.qZA(),f.YNc(6,Si,2,2,"option",17),f.qZA()()),2&M){const g=f.oxw().$implicit;f.xp6(1),f.Q6J("for",g.name),f.xp6(1),f.Oqu(g.label),f.xp6(1),f.Q6J("formControlName",g.name)("name",g.name)("id",g.name)("required",g.validators.required),f.xp6(2),f.Oqu(g.placeholder),f.xp6(1),f.Q6J("ngForOf",g.options)}}function Fi(M,p){if(1&M&&(f.TgZ(0,"div")(1,"div",5),f.YNc(2,Di,5,6,"div",6),f.YNc(3,Ai,2,1,"div",6),f.YNc(4,jo,5,6,"div",6),f.YNc(5,ms,7,8,"div",6),f.qZA()()),2&M){const g=p.$implicit;f.xp6(1),f.Q6J("ngSwitch",g.type),f.xp6(1),f.Q6J("ngSwitchCase","input"),f.xp6(1),f.Q6J("ngSwitchCase","radio"),f.xp6(1),f.Q6J("ngSwitchCase","textarea"),f.xp6(1),f.Q6J("ngSwitchCase","select")}}let co=(()=>{class M{constructor(g,D,H,J){this.fb=g,this.orderService=D,this.router=H,this.toast=J,this.simpleForm=Ci.a,console.log(this.simpleForm),this.myForm=this.fb.group({}),this.createControls(this.simpleForm)}ngOnInit(){}createControls(g){for(let D of g){const H=new $.NI;D.validators.required&&H.setValidators($.kI.required),D.validators.minLength&&H.setValidators($.kI.minLength(D.validators.minLength)),this.myForm.addControl(D.name,H)}}onSubmit(){console.log("Form valid: ",this.myForm.valid),console.log("Form values: ",this.myForm.value),this.order={id:Math.floor(1e6*Math.random()+1),firstName:this.myForm.value.firstName,lastName:this.myForm.value.lastName,address:this.myForm.value.address,productBrand:this.myForm.value.productBrand,productName:this.myForm.value.productName,productSize:+this.myForm.value.productSize,productColor:this.myForm.value.productColor,productDescription:this.myForm.value.productDescription},console.log(this.order),this.orderService.addOrder(this.order).then(g=>{this.toast.success({detail:"Order Sent",summary:"You successfully ordered a new product !",duration:5e3}),this.myForm.reset()}).catch(g=>{this.toast.error({detail:"Product isn't ordered",summary:g.message,duration:5e3})})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36($.qu),f.Y36(As),f.Y36(fe.F0),f.Y36(Re.s))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-dynamic-form"]],decls:6,vars:2,consts:[[1,"container"],[1,"form",3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"form-BtnContainer"],["type","submit",1,"form-btn"],[1,"form-group",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-groupLabel"],[1,"form-groupInput",3,"type","formControlName","placeholder","required"],["class","danger",4,"ngIf"],[1,"danger"],[4,"ngIf"],[1,"form-groupLabel",3,"for"],[1,"form-groupRadio",3,"id","formControlName","type","name","value","required"],["rows","5",1,"form-groupTextarea",3,"formControlName","id","placeholder"],[1,"form-groupSelect",3,"formControlName","name","id","required"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("ngSubmit",function(){return D.onSubmit()}),f.YNc(2,Fi,6,5,"div",2),f.TgZ(3,"div",3)(4,"button",4),f._uU(5,"Submit"),f.qZA()()()()),2&g&&(f.xp6(1),f.Q6J("formGroup",D.myForm),f.xp6(1),f.Q6J("ngForOf",D.simpleForm))},dependencies:[Xt.sg,Xt.O5,Xt.RF,Xt.n9,$._Y,$.YN,$.Kr,$.Fj,$.EJ,$.JJ,$.JL,$.Q7,$.sg,$.u],styles:[".container[_ngcontent-%COMP%]{min-height:90vh}.form[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid black;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:3rem auto;width:90%;padding:2rem;border-radius:5px}.form-group[_ngcontent-%COMP%]{width:20rem;display:flex}.form-group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-groupLabel[_ngcontent-%COMP%]{margin:.5rem 0rem;color:#000;font-weight:700;font-size:1.25rem}.form-groupInput[_ngcontent-%COMP%]{width:100%;height:2rem;border-radius:5px;outline:none;border:1px solid black}.form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.form-group[_ngcontent-%COMP%]   input.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid lightgreen}.form-groupSelect[_ngcontent-%COMP%]{width:100%;height:2rem;border-radius:5px}.form-groupTextarea[_ngcontent-%COMP%]{outline:none;border:1px solid black;border-radius:5px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:active, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.form-group[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.form-group[_ngcontent-%COMP%]   textarea.ng-valid.ng-touched[_ngcontent-%COMP%]{border:1px solid lightgreen}.form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}.form-BtnContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.form-btn[_ngcontent-%COMP%]{bottom:5%;width:10rem;left:calc(50% - 10rem);margin-top:1rem;background-color:#90ee90;color:green;padding:.5rem;border:1px solid green;border-radius:5px;outline:none}"]}),M})();function ra(M,p){if(1&M){const g=f.EpF();f.TgZ(0,"tr",5)(1,"th",6),f._uU(2),f.qZA(),f.TgZ(3,"th",6),f._uU(4),f.qZA(),f.TgZ(5,"th",6),f._uU(6),f.qZA(),f.TgZ(7,"th",6),f._uU(8),f.qZA(),f.TgZ(9,"th",6),f._uU(10),f.qZA(),f.TgZ(11,"th",6),f._uU(12),f.qZA(),f.TgZ(13,"th",6)(14,"button",7),f.NdJ("click",function(){const J=f.CHM(g).$implicit,me=f.oxw();return f.KtG(me.getOrder(J.id))}),f._uU(15,"edit"),f.qZA(),f.TgZ(16,"button",7),f.NdJ("click",function(){const J=f.CHM(g).$implicit,me=f.oxw();return f.KtG(me.deleteOrder(J.id))}),f._uU(17,"delete"),f.qZA()()()}if(2&M){const g=p.$implicit;f.xp6(2),f.Oqu(g.productName),f.xp6(2),f.Oqu(g.productBrand),f.xp6(2),f.Oqu(g.productColor),f.xp6(2),f.Oqu(g.productSize),f.xp6(2),f.Oqu(g.firstName),f.xp6(2),f.Oqu(g.lastName)}}let ia=(()=>{class M{constructor(g,D,H){this.orderService=g,this.router=D,this.toast=H}ngOnInit(){this.orderService.getOrders().subscribe(g=>{this.orders=g.map(D=>{const H=D.payload.doc.data();return console.log(D.payload.doc.id),console.log("productNew",{...H,id:D.payload.doc.id}),{...H,id:D.payload.doc.id}})})}deleteOrder(g){this.toast.error({detail:"Product Deleted",summary:"You successfully deleted the product",duration:5e3}),this.orderService.deleteOrder(g)}getOrder(g){console.log("getOrder",g)}}return M.\u0275fac=function(g){return new(g||M)(f.Y36(As),f.Y36(fe.F0),f.Y36(Re.s))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-orders"]],decls:18,vars:1,consts:[[1,"container"],[1,"table"],[1,"table-head"],[1,"table-body"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-text"],[1,"table-textBtn",3,"click"]],template:function(g,D){1&g&&(f.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),f._uU(5,"Product Name"),f.qZA(),f.TgZ(6,"th"),f._uU(7,"Product Brand"),f.qZA(),f.TgZ(8,"th"),f._uU(9,"Product Color"),f.qZA(),f.TgZ(10,"th"),f._uU(11,"Product Size"),f.qZA(),f.TgZ(12,"th"),f._uU(13,"Customers Name"),f.qZA(),f.TgZ(14,"th"),f._uU(15,"Customers Last Name"),f.qZA()()(),f.TgZ(16,"tbody",3),f.YNc(17,ra,18,6,"tr",4),f.qZA()()()),2&g&&(f.xp6(17),f.Q6J("ngForOf",D.orders))},dependencies:[Xt.sg],styles:[".container[_ngcontent-%COMP%]{min-height:90vh}.table[_ngcontent-%COMP%]{background-color:#000;color:#fff;width:100%}.table-body[_ngcontent-%COMP%]{background-color:#add8e6;border:1px solid black}.table-row[_ngcontent-%COMP%]{cursor:pointer}.table-row[_ngcontent-%COMP%]   .table-text[_ngcontent-%COMP%]{color:#000}.table-row[_ngcontent-%COMP%]   .table-textBtn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:1px solid white;outline:none;border-radius:5px;padding:.5rem}"]}),M})();const ys=()=>{return M=["login"],(0,uo.z)(ki,(0,Bi.U)(p=>p||M));var M},ji=()=>{return M=["products"],(0,uo.z)(ki,(0,Bi.U)(p=>p&&M||!0));var M},ks=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:ue,...Oe(ji)},{path:"register",component:ao,...Oe(ji)},{path:"admin",loadChildren:()=>j.e(174).then(j.bind(j,6174)).then(M=>M.AdminModule),...Oe(ys)},{path:"admin/products",loadChildren:()=>j.e(174).then(j.bind(j,6174)).then(M=>M.AdminModule),...Oe(ys)},{path:"admin/product",component:$r},{path:"admin/product/:id",component:ke,...Oe(ys)},{path:"products",loadChildren:()=>j.e(823).then(j.bind(j,3823)).then(M=>M.ProductsModule),...Oe(ys)},{path:"products/list",loadChildren:()=>j.e(823).then(j.bind(j,3823)).then(M=>M.ProductsModule),...Oe(ys)},{path:"order-now",component:co,...Oe(ys)},{path:"app-orders",component:ia,...Oe(ys)},{path:"**",component:ue,...Oe(ji)}];let sa=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({imports:[fe.Bz.forRoot(ks),fe.Bz]}),M})();function Fs(M,p){if(1&M&&(f.TgZ(0,"p",13),f._uU(1),f.qZA()),2&M){const g=p.ngIf;f.xp6(1),f.hij("Welcome ",g.email,"!")}}function oa(M,p){if(1&M){const g=f.EpF();f.ynx(0),f.TgZ(1,"button",14),f.NdJ("click",function(){f.CHM(g);const H=f.oxw();return f.KtG(H.logout())}),f._uU(2,"Logout"),f.qZA(),f.BQk()}}function mi(M,p){1&M&&(f.TgZ(0,"button",15),f._uU(1,"Login"),f.qZA())}let yi=(()=>{class M{constructor(g,D){this.authService=g,this.router=D,this.user$=this.authService.currentUser$}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""])})}}return M.\u0275fac=function(g){return new(g||M)(f.Y36(Ft),f.Y36(fe.F0))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-header"]],decls:22,vars:7,consts:[[1,"navbar"],[1,"navbar-container"],["routerLink","/products/list",1,"navbar-logo"],[1,"navbar-button"],[1,"navbar-button-icon"],["class","navbar-name",4,"ngIf"],["routerLink","order-now",1,"navbar-containerOrderNow"],["routerLink","app-orders",1,"navbar-containerOrders"],[1,"navbar-items"],["routerLink","/admin/products",1,"navbar-item","navbar-link","active"],["routerLink","/products",1,"navbar-item","navbar-link"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"navbar-name"],[3,"click"],["routerLink","/login"]],template:function(g,D){if(1&g&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),f._uU(3,"GioSneakers"),f.qZA(),f.TgZ(4,"button",3)(5,"span",4),f._uU(6,"My First App"),f.qZA()(),f.YNc(7,Fs,2,1,"p",5),f.ALo(8,"async"),f.TgZ(9,"a",6),f._uU(10,"Order Now"),f.qZA(),f.TgZ(11,"a",7),f._uU(12,"See Orders"),f.qZA()(),f.TgZ(13,"div",8)(14,"a",9),f._uU(15,"Admin"),f.qZA(),f.TgZ(16,"a",10),f._uU(17,"Products"),f.qZA(),f.YNc(18,oa,3,0,"ng-container",11),f.ALo(19,"async"),f.YNc(20,mi,2,0,"ng-template",null,12,f.W1O),f.qZA()()),2&g){const H=f.MAs(21);f.xp6(7),f.Q6J("ngIf",f.lcZ(8,3,D.user$)),f.xp6(11),f.Q6J("ngIf",f.lcZ(19,5,D.authService.currentUser$))("ngIfElse",H)}},dependencies:[Xt.O5,fe.rH,fe.yS,Xt.Ov],styles:[".navbar[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:.5rem;border-bottom:1px solid black}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-containerOrderNow[_ngcontent-%COMP%]{color:#90ee90;margin-right:1rem;cursor:pointer}.navbar-containerOrders[_ngcontent-%COMP%]{color:#f08080;cursor:pointer}.navbar-logo[_ngcontent-%COMP%]{font-size:2rem;color:#000;cursor:pointer}.navbar-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;outline:none;border:1px solid black;padding:.25rem .5rem;margin-left:1rem;border-radius:5px;cursor:pointer;transition:.8s}.navbar-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;border:1px solid black}.navbar-name[_ngcontent-%COMP%]{color:#000;margin:1rem}.navbar-items[_ngcontent-%COMP%]{padding:0 .5rem}.navbar-item[_ngcontent-%COMP%]{color:#000;cursor:pointer;text-transform:uppercase;margin-left:1rem;transition:.3s}.navbar-item[_ngcontent-%COMP%]:hover{color:gray}.navbar-item[_ngcontent-%COMP%]:nth-of-type(2){margin-right:.5rem}"]}),M})(),rs=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"footer-name"],["routerLink","/products",1,"footer-link"]],template:function(g,D){1&g&&(f.TgZ(0,"footer",0)(1,"div",1),f._uU(2," Ogi\xa9 2022 Copyright: "),f.TgZ(3,"a",2),f._uU(4,"my-first-app.com"),f.qZA()()())},dependencies:[fe.yS],styles:[".footer[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;border-top:1px solid black;padding:.5rem}.footer-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.25rem}.footer-link[_ngcontent-%COMP%]{color:#888;cursor:pointer;transition:.3s}.footer-link[_ngcontent-%COMP%]:hover{color:#000}"]}),M})(),Ss=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-root"]],decls:4,vars:0,template:function(g,D){1&g&&f._UZ(0,"app-header")(1,"router-outlet")(2,"lib-ng-toast")(3,"app-footer")},dependencies:[fe.lC,Re.V,yi,rs]}),M})();class Po{}const Mi="*";function Zi(M,p=null){return{type:2,steps:M,options:p}}function Tr(M){return{type:6,styles:M,offset:null}}function No(M){Promise.resolve(null).then(M)}class Hn{constructor(p=0,g=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=p+g}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){No(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(p=>p()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(p){this._position=this.totalTime?p*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(D=>D()),g.length=0}}class Nr{constructor(p){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=p;let g=0,D=0,H=0;const J=this.players.length;0==J?No(()=>this._onFinish()):this.players.forEach(me=>{me.onDone(()=>{++g==J&&this._onFinish()}),me.onDestroy(()=>{++D==J&&this._onDestroy()}),me.onStart(()=>{++H==J&&this._onStart()})}),this.totalTime=this.players.reduce((me,Ie)=>Math.max(me,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this.players.forEach(p=>p.init())}onStart(p){this._onStartFns.push(p)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(p=>p()),this._onStartFns=[])}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(p=>p.play())}pause(){this.players.forEach(p=>p.pause())}restart(){this.players.forEach(p=>p.restart())}finish(){this._onFinish(),this.players.forEach(p=>p.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(p=>p.destroy()),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}reset(){this.players.forEach(p=>p.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(p){const g=p*this.totalTime;this.players.forEach(D=>{const H=D.totalTime?Math.min(1,g/D.totalTime):1;D.setPosition(H)})}getPosition(){const p=this.players.reduce((g,D)=>null===g||D.totalTime>g.totalTime?D:g,null);return null!=p?p.getPosition():0}beforeDestroy(){this.players.forEach(p=>{p.beforeDestroy&&p.beforeDestroy()})}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(D=>D()),g.length=0}}function R(M){return new f.vHH(3e3,!1)}function Dr(){return typeof window<"u"&&typeof window.document<"u"}function Zr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Li(M){switch(M.length){case 0:return new Hn;case 1:return M[0];default:return new Nr(M)}}function vi(M,p,g,D,H=new Map,J=new Map){const me=[],Ie=[];let tt=-1,St=null;if(D.forEach(hn=>{const pn=hn.get("offset"),Kn=pn==tt,Xn=Kn&&St||new Map;hn.forEach((On,Yn)=>{let Fr=Yn,Sr=On;if("offset"!==Yn)switch(Fr=p.normalizePropertyName(Fr,me),Sr){case"!":Sr=H.get(Yn);break;case Mi:Sr=J.get(Yn);break;default:Sr=p.normalizeStyleValue(Yn,Fr,Sr,me)}Xn.set(Fr,Sr)}),Kn||Ie.push(Xn),St=Xn,tt=pn}),me.length)throw function rr(M){return new f.vHH(3502,!1)}();return Ie}function Es(M,p,g,D){switch(p){case"start":M.onStart(()=>D(g&&Js(g,"start",M)));break;case"done":M.onDone(()=>D(g&&Js(g,"done",M)));break;case"destroy":M.onDestroy(()=>D(g&&Js(g,"destroy",M)))}}function Js(M,p,g){const J=Ho(M.element,M.triggerName,M.fromState,M.toState,p||M.phaseName,g.totalTime??M.totalTime,!!g.disabled),me=M._data;return null!=me&&(J._data=me),J}function Ho(M,p,g,D,H="",J=0,me){return{element:M,triggerName:p,fromState:g,toState:D,phaseName:H,totalTime:J,disabled:!!me}}function $i(M,p,g){let D=M.get(p);return D||M.set(p,D=g),D}function di(M){const p=M.indexOf(":");return[M.substring(1,p),M.slice(p+1)]}let mo=(M,p)=>!1,Ka=(M,p,g)=>[],la=null;function Da(M){const p=M.parentNode||M.host;return p===la?null:p}(Zr()||typeof Element<"u")&&(Dr()?(la=(()=>document.documentElement)(),mo=(M,p)=>{for(;p;){if(p===M)return!0;p=Da(p)}return!1}):mo=(M,p)=>M.contains(p),Ka=(M,p,g)=>{if(g)return Array.from(M.querySelectorAll(p));const D=M.querySelector(p);return D?[D]:[]});let ws=null,Na=!1;const Go=mo,su=Ka;let ni=(()=>{class M{validateStyleProperty(g){return function yo(M){ws||(ws=function _o(){return typeof document<"u"?document.body:null}()||{},Na=!!ws.style&&"WebkitAppearance"in ws.style);let p=!0;return ws.style&&!function ca(M){return"ebkit"==M.substring(1,6)}(M)&&(p=M in ws.style,!p&&Na&&(p="Webkit"+M.charAt(0).toUpperCase()+M.slice(1)in ws.style)),p}(g)}matchesElement(g,D){return!1}containsElement(g,D){return Go(g,D)}getParentElement(g){return Da(g)}query(g,D,H){return su(g,D,H)}computeStyle(g,D,H){return H||""}animate(g,D,H,J,me,Ie=[],tt){return new Hn(H,J)}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})(),Xs=(()=>{class M{}return M.NOOP=new ni,M})();const Oa="ng-enter",Ra="ng-leave",Ia="ng-trigger",Qa=".ng-trigger",eo="ng-animating",Ns=".ng-animating";function ss(M){if("number"==typeof M)return M;const p=M.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:vo(parseFloat(p[1]),p[2])}function vo(M,p){return"s"===p?1e3*M:M}function ri(M,p,g){return M.hasOwnProperty("duration")?M:function au(M,p,g){let H,J=0,me="";if("string"==typeof M){const Ie=M.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return p.push(R()),{duration:0,delay:0,easing:""};H=vo(parseFloat(Ie[1]),Ie[2]);const tt=Ie[3];null!=tt&&(J=vo(parseFloat(tt),Ie[4]));const St=Ie[5];St&&(me=St)}else H=M;if(!g){let Ie=!1,tt=p.length;H<0&&(p.push(function K(){return new f.vHH(3100,!1)}()),Ie=!0),J<0&&(p.push(function k(){return new f.vHH(3101,!1)}()),Ie=!0),Ie&&p.splice(tt,0,R())}return{duration:H,delay:J,easing:me}}(M,p,g)}function os(M,p={}){return Object.keys(M).forEach(g=>{p[g]=M[g]}),p}function Eo(M){const p=new Map;return Object.keys(M).forEach(g=>{p.set(g,M[g])}),p}function Qi(M,p=new Map,g){if(g)for(let[D,H]of g)p.set(D,H);for(let[D,H]of M)p.set(D,H);return p}function zo(M,p,g){return g?p+":"+g+";":""}function uu(M){let p="";for(let g=0;g<M.style.length;g++){const D=M.style.item(g);p+=zo(0,D,M.style.getPropertyValue(D))}for(const g in M.style)M.style.hasOwnProperty(g)&&!g.startsWith("_")&&(p+=zo(0,Ei(g),M.style[g]));M.setAttribute("style",p)}function to(M,p,g){M.style&&(p.forEach((D,H)=>{const J=qo(H);g&&!g.has(H)&&g.set(H,M.style[J]),M.style[J]=D}),Zr()&&uu(M))}function Ro(M,p){M.style&&(p.forEach((g,D)=>{const H=qo(D);M.style[H]=""}),Zr()&&uu(M))}function as(M){return Array.isArray(M)?1==M.length?M[0]:Zi(M):M}const Hi=new RegExp("{{\\s*(.+?)\\s*}}","g");function no(M){let p=[];if("string"==typeof M){let g;for(;g=Hi.exec(M);)p.push(g[1]);Hi.lastIndex=0}return p}function Wo(M,p,g){const D=M.toString(),H=D.replace(Hi,(J,me)=>{let Ie=p[me];return null==Ie&&(g.push(function Ce(M){return new f.vHH(3003,!1)}()),Ie=""),Ie.toString()});return H==D?M:H}function ko(M){const p=[];let g=M.next();for(;!g.done;)p.push(g.value),g=M.next();return p}const ro=/-+([a-z0-9])/g;function qo(M){return M.replace(ro,(...p)=>p[1].toUpperCase())}function Ei(M){return M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wi(M,p,g){switch(p.type){case 7:return M.visitTrigger(p,g);case 0:return M.visitState(p,g);case 1:return M.visitTransition(p,g);case 2:return M.visitSequence(p,g);case 3:return M.visitGroup(p,g);case 4:return M.visitAnimate(p,g);case 5:return M.visitKeyframes(p,g);case 6:return M.visitStyle(p,g);case 8:return M.visitReference(p,g);case 9:return M.visitAnimateChild(p,g);case 10:return M.visitAnimateRef(p,g);case 11:return M.visitQuery(p,g);case 12:return M.visitStagger(p,g);default:throw function We(M){return new f.vHH(3004,!1)}()}}function ka(M,p){return window.getComputedStyle(M)[p]}function Lo(M,p){const g=[];return"string"==typeof M?M.split(/\s*,\s*/).forEach(D=>function dn(M,p,g){if(":"==M[0]){const tt=function In(M,p){switch(M){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,D)=>parseFloat(D)>parseFloat(g);case":decrement":return(g,D)=>parseFloat(D)<parseFloat(g);default:return p.push(function is(M){return new f.vHH(3016,!1)}()),"* => *"}}(M,g);if("function"==typeof tt)return void p.push(tt);M=tt}const D=M.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==D||D.length<4)return g.push(function Oo(M){return new f.vHH(3015,!1)}()),p;const H=D[1],J=D[2],me=D[3];p.push(ut(H,me));"<"==J[0]&&!("*"==H&&"*"==me)&&p.push(ut(me,H))}(D,g,p)):g.push(M),g}const fa=new Set(["true","1"]),Jt=new Set(["false","0"]);function ut(M,p){const g=fa.has(M)||Jt.has(M),D=fa.has(p)||Jt.has(p);return(H,J)=>{let me="*"==M||M==H,Ie="*"==p||p==J;return!me&&g&&"boolean"==typeof H&&(me=H?fa.has(M):Jt.has(M)),!Ie&&D&&"boolean"==typeof J&&(Ie=J?fa.has(p):Jt.has(p)),me&&Ie}}const hi=new RegExp("s*:selfs*,?","g");function pa(M,p,g,D){return new cu(M).build(p,g,D)}class cu{constructor(p){this._driver=p}build(p,g,D){const H=new I(g);return this._resetContextStyleTimingState(H),wi(this,as(p),H)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,g){let D=g.queryCount=0,H=g.depCount=0;const J=[],me=[];return"@"==p.name.charAt(0)&&g.errors.push(function Ht(){return new f.vHH(3006,!1)}()),p.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(g),0==Ie.type){const tt=Ie,St=tt.name;St.toString().split(/\s*,\s*/).forEach(hn=>{tt.name=hn,J.push(this.visitState(tt,g))}),tt.name=St}else if(1==Ie.type){const tt=this.visitTransition(Ie,g);D+=tt.queryCount,H+=tt.depCount,me.push(tt)}else g.errors.push(function Ar(){return new f.vHH(3007,!1)}())}),{type:7,name:p.name,states:J,transitions:me,queryCount:D,depCount:H,options:null}}visitState(p,g){const D=this.visitStyle(p.styles,g),H=p.options&&p.options.params||null;if(D.containsDynamicStyles){const J=new Set,me=H||{};D.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(tt=>{no(tt).forEach(St=>{me.hasOwnProperty(St)||J.add(St)})})}),J.size&&(ko(J.values()),g.errors.push(function qn(M,p){return new f.vHH(3008,!1)}()))}return{type:0,name:p.name,style:D,options:H?{params:H}:null}}visitTransition(p,g){g.queryCount=0,g.depCount=0;const D=wi(this,as(p.animation),g);return{type:1,matchers:Lo(p.expr,g.errors),animation:D,queryCount:g.queryCount,depCount:g.depCount,options:N(p.options)}}visitSequence(p,g){return{type:2,steps:p.steps.map(D=>wi(this,D,g)),options:N(p.options)}}visitGroup(p,g){const D=g.currentTime;let H=0;const J=p.steps.map(me=>{g.currentTime=D;const Ie=wi(this,me,g);return H=Math.max(H,g.currentTime),Ie});return g.currentTime=H,{type:3,steps:J,options:N(p.options)}}visitAnimate(p,g){const D=function E(M,p){if(M.hasOwnProperty("duration"))return M;if("number"==typeof M)return U(ri(M,p).duration,0,"");const g=M;if(g.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=U(0,0,"");return J.dynamic=!0,J.strValue=g,J}const H=ri(g,p);return U(H.duration,H.delay,H.easing)}(p.timings,g.errors);g.currentAnimateTimings=D;let H,J=p.styles?p.styles:Tr({});if(5==J.type)H=this.visitKeyframes(J,g);else{let me=p.styles,Ie=!1;if(!me){Ie=!0;const St={};D.easing&&(St.easing=D.easing),me=Tr(St)}g.currentTime+=D.duration+D.delay;const tt=this.visitStyle(me,g);tt.isEmptyStep=Ie,H=tt}return g.currentAnimateTimings=null,{type:4,timings:D,style:H,options:null}}visitStyle(p,g){const D=this._makeStyleAst(p,g);return this._validateStyleAst(D,g),D}_makeStyleAst(p,g){const D=[],H=Array.isArray(p.styles)?p.styles:[p.styles];for(let Ie of H)"string"==typeof Ie?Ie===Mi?D.push(Ie):g.errors.push(new f.vHH(3002,!1)):D.push(Eo(Ie));let J=!1,me=null;return D.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(me=Ie.get("easing"),Ie.delete("easing")),!J))for(let tt of Ie.values())if(tt.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:D,easing:me,offset:p.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(p,g){const D=g.currentAnimateTimings;let H=g.currentTime,J=g.currentTime;D&&J>0&&(J-=D.duration+D.delay),p.styles.forEach(me=>{"string"!=typeof me&&me.forEach((Ie,tt)=>{const St=g.collectedStyles.get(g.currentQuerySelector),hn=St.get(tt);let pn=!0;hn&&(J!=H&&J>=hn.startTime&&H<=hn.endTime&&(g.errors.push(function Gr(M,p,g,D,H){return new f.vHH(3010,!1)}()),pn=!1),J=hn.startTime),pn&&St.set(tt,{startTime:J,endTime:H}),g.options&&function Vi(M,p,g){const D=p.params||{},H=no(M);H.length&&H.forEach(J=>{D.hasOwnProperty(J)||g.push(function Q(M){return new f.vHH(3001,!1)}())})}(Ie,g.options,g.errors)})})}visitKeyframes(p,g){const D={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function dr(){return new f.vHH(3011,!1)}()),D;let J=0;const me=[];let Ie=!1,tt=!1,St=0;const hn=p.steps.map(Sr=>{const zi=this._makeStyleAst(Sr,g);let es=null!=zi.offset?zi.offset:function w(M){if("string"==typeof M)return null;let p=null;if(Array.isArray(M))M.forEach(g=>{if(g instanceof Map&&g.has("offset")){const D=g;p=parseFloat(D.get("offset")),D.delete("offset")}});else if(M instanceof Map&&M.has("offset")){const g=M;p=parseFloat(g.get("offset")),g.delete("offset")}return p}(zi.styles),Cs=0;return null!=es&&(J++,Cs=zi.offset=es),tt=tt||Cs<0||Cs>1,Ie=Ie||Cs<St,St=Cs,me.push(Cs),zi});tt&&g.errors.push(function fn(){return new f.vHH(3012,!1)}()),Ie&&g.errors.push(function Ps(){return new f.vHH(3200,!1)}());const pn=p.steps.length;let Kn=0;J>0&&J<pn?g.errors.push(function vs(){return new f.vHH(3202,!1)}()):0==J&&(Kn=1/(pn-1));const Xn=pn-1,On=g.currentTime,Yn=g.currentAnimateTimings,Fr=Yn.duration;return hn.forEach((Sr,zi)=>{const es=Kn>0?zi==Xn?1:Kn*zi:me[zi],Cs=es*Fr;g.currentTime=On+Yn.delay+Cs,Yn.duration=Cs,this._validateStyleAst(Sr,g),Sr.offset=es,D.styles.push(Sr)}),D}visitReference(p,g){return{type:8,animation:wi(this,as(p.animation),g),options:N(p.options)}}visitAnimateChild(p,g){return g.depCount++,{type:9,options:N(p.options)}}visitAnimateRef(p,g){return{type:10,animation:this.visitReference(p.animation,g),options:N(p.options)}}visitQuery(p,g){const D=g.currentQuerySelector,H=p.options||{};g.queryCount++,g.currentQuery=p;const[J,me]=function Ja(M){const p=!!M.split(/\s*,\s*/).find(g=>":self"==g);return p&&(M=M.replace(hi,"")),M=M.replace(/@\*/g,Qa).replace(/@\w+/g,g=>Qa+"-"+g.slice(1)).replace(/:animating/g,Ns),[M,p]}(p.selector);g.currentQuerySelector=D.length?D+" "+J:J,$i(g.collectedStyles,g.currentQuerySelector,new Map);const Ie=wi(this,as(p.animation),g);return g.currentQuery=null,g.currentQuerySelector=D,{type:11,selector:J,limit:H.limit||0,optional:!!H.optional,includeSelf:me,animation:Ie,originalSelector:p.selector,options:N(p.options)}}visitStagger(p,g){g.currentQuery||g.errors.push(function Yi(){return new f.vHH(3013,!1)}());const D="full"===p.timings?{duration:0,delay:0,easing:"full"}:ri(p.timings,g.errors,!0);return{type:12,animation:wi(this,as(p.animation),g),timings:D,options:null}}}class I{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function N(M){return M?(M=os(M)).params&&(M.params=function Fa(M){return M?os(M):null}(M.params)):M={},M}function U(M,p,g){return{duration:M,delay:p,easing:g}}function Y(M,p,g,D,H,J,me=null,Ie=!1){return{type:1,element:M,keyframes:p,preStyleProps:g,postStyleProps:D,duration:H,delay:J,totalTime:H+J,easing:me,subTimeline:Ie}}class X{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,g){let D=this._map.get(p);D||this._map.set(p,D=[]),D.push(...g)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Rt=new RegExp(":enter","g"),nn=new RegExp(":leave","g");function yn(M,p,g,D,H,J=new Map,me=new Map,Ie,tt,St=[]){return(new bi).buildKeyframes(M,p,g,D,H,J,me,Ie,tt,St)}class bi{buildKeyframes(p,g,D,H,J,me,Ie,tt,St,hn=[]){St=St||new X;const pn=new qt(p,g,St,H,J,hn,[]);pn.options=tt;const Kn=tt.delay?ss(tt.delay):0;pn.currentTimeline.delayNextStep(Kn),pn.currentTimeline.setStyles([me],null,pn.errors,tt),wi(this,D,pn);const Xn=pn.timelines.filter(On=>On.containsAnimation());if(Xn.length&&Ie.size){let On;for(let Yn=Xn.length-1;Yn>=0;Yn--){const Fr=Xn[Yn];if(Fr.element===g){On=Fr;break}}On&&!On.allowOnlyTimelineStyles()&&On.setStyles([Ie],null,pn.errors,tt)}return Xn.length?Xn.map(On=>On.buildKeyframes()):[Y(g,[],[],[],0,Kn,"",!1)]}visitTrigger(p,g){}visitState(p,g){}visitTransition(p,g){}visitAnimateChild(p,g){const D=g.subInstructions.get(g.element);if(D){const H=g.createSubContext(p.options),J=g.currentTimeline.currentTime,me=this._visitSubInstructions(D,H,H.options);J!=me&&g.transformIntoNewTimeline(me)}g.previousNode=p}visitAnimateRef(p,g){const D=g.createSubContext(p.options);D.transformIntoNewTimeline(),this.visitReference(p.animation,D),g.transformIntoNewTimeline(D.currentTimeline.currentTime),g.previousNode=p}_visitSubInstructions(p,g,D){let J=g.currentTimeline.currentTime;const me=null!=D.duration?ss(D.duration):null,Ie=null!=D.delay?ss(D.delay):null;return 0!==me&&p.forEach(tt=>{const St=g.appendInstructionToTimeline(tt,me,Ie);J=Math.max(J,St.duration+St.delay)}),J}visitReference(p,g){g.updateOptions(p.options,!0),wi(this,p.animation,g),g.previousNode=p}visitSequence(p,g){const D=g.subContextCount;let H=g;const J=p.options;if(J&&(J.params||J.delay)&&(H=g.createSubContext(J),H.transformIntoNewTimeline(),null!=J.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=_n);const me=ss(J.delay);H.delayNextStep(me)}p.steps.length&&(p.steps.forEach(me=>wi(this,me,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>D&&H.transformIntoNewTimeline()),g.previousNode=p}visitGroup(p,g){const D=[];let H=g.currentTimeline.currentTime;const J=p.options&&p.options.delay?ss(p.options.delay):0;p.steps.forEach(me=>{const Ie=g.createSubContext(p.options);J&&Ie.delayNextStep(J),wi(this,me,Ie),H=Math.max(H,Ie.currentTimeline.currentTime),D.push(Ie.currentTimeline)}),D.forEach(me=>g.currentTimeline.mergeTimelineCollectedStyles(me)),g.transformIntoNewTimeline(H),g.previousNode=p}_visitTiming(p,g){if(p.dynamic){const D=p.strValue;return ri(g.params?Wo(D,g.params,g.errors):D,g.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,g){const D=g.currentAnimateTimings=this._visitTiming(p.timings,g),H=g.currentTimeline;D.delay&&(g.incrementTime(D.delay),H.snapshotCurrentStyles());const J=p.style;5==J.type?this.visitKeyframes(J,g):(g.incrementTime(D.duration),this.visitStyle(J,g),H.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=p}visitStyle(p,g){const D=g.currentTimeline,H=g.currentAnimateTimings;!H&&D.hasCurrentStyleProperties()&&D.forwardFrame();const J=H&&H.easing||p.easing;p.isEmptyStep?D.applyEmptyStep(J):D.setStyles(p.styles,J,g.errors,g.options),g.previousNode=p}visitKeyframes(p,g){const D=g.currentAnimateTimings,H=g.currentTimeline.duration,J=D.duration,Ie=g.createSubContext().currentTimeline;Ie.easing=D.easing,p.styles.forEach(tt=>{Ie.forwardTime((tt.offset||0)*J),Ie.setStyles(tt.styles,tt.easing,g.errors,g.options),Ie.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(Ie),g.transformIntoNewTimeline(H+J),g.previousNode=p}visitQuery(p,g){const D=g.currentTimeline.currentTime,H=p.options||{},J=H.delay?ss(H.delay):0;J&&(6===g.previousNode.type||0==D&&g.currentTimeline.hasCurrentStyleProperties())&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=_n);let me=D;const Ie=g.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!H.optional,g.errors);g.currentQueryTotal=Ie.length;let tt=null;Ie.forEach((St,hn)=>{g.currentQueryIndex=hn;const pn=g.createSubContext(p.options,St);J&&pn.delayNextStep(J),St===g.element&&(tt=pn.currentTimeline),wi(this,p.animation,pn),pn.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,pn.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(me),tt&&(g.currentTimeline.mergeTimelineCollectedStyles(tt),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=p}visitStagger(p,g){const D=g.parentContext,H=g.currentTimeline,J=p.timings,me=Math.abs(J.duration),Ie=me*(g.currentQueryTotal-1);let tt=me*g.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":tt=Ie-tt;break;case"full":tt=D.currentStaggerTime}const hn=g.currentTimeline;tt&&hn.delayNextStep(tt);const pn=hn.currentTime;wi(this,p.animation,g),g.previousNode=p,D.currentStaggerTime=H.currentTime-pn+(H.startTime-D.currentTimeline.startTime)}}const _n={};class qt{constructor(p,g,D,H,J,me,Ie,tt){this._driver=p,this.element=g,this.subInstructions=D,this._enterClassName=H,this._leaveClassName=J,this.errors=me,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=tt||new wo(this._driver,g,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,g){if(!p)return;const D=p;let H=this.options;null!=D.duration&&(H.duration=ss(D.duration)),null!=D.delay&&(H.delay=ss(D.delay));const J=D.params;if(J){let me=H.params;me||(me=this.options.params={}),Object.keys(J).forEach(Ie=>{(!g||!me.hasOwnProperty(Ie))&&(me[Ie]=Wo(J[Ie],me,this.errors))})}}_copyOptions(){const p={};if(this.options){const g=this.options.params;if(g){const D=p.params={};Object.keys(g).forEach(H=>{D[H]=g[H]})}}return p}createSubContext(p=null,g,D){const H=g||this.element,J=new qt(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,D||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(p),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(p){return this.previousNode=_n,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,g,D){const H={duration:g??p.duration,delay:this.currentTimeline.currentTime+(D??0)+p.delay,easing:""},J=new Xa(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,H,p.stretchStartingKeyframe);return this.timelines.push(J),H}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,g,D,H,J,me){let Ie=[];if(H&&Ie.push(this.element),p.length>0){p=(p=p.replace(Rt,"."+this._enterClassName)).replace(nn,"."+this._leaveClassName);let St=this._driver.query(this.element,p,1!=D);0!==D&&(St=D<0?St.slice(St.length+D,St.length):St.slice(0,D)),Ie.push(...St)}return!J&&0==Ie.length&&me.push(function ti(M){return new f.vHH(3014,!1)}()),Ie}}class wo{constructor(p,g,D,H){this._driver=p,this.element=g,this.startTime=D,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const g=1===this._keyframes.size&&this._pendingStyles.size;this.duration||g?(this.forwardTime(this.currentTime+p),g&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,g){return this.applyStylesToKeyframe(),new wo(this._driver,p,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,g){this._localTimelineStyles.set(p,g),this._globalTimelineStyles.set(p,g),this._styleSummary.set(p,{time:this.currentTime,value:g})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[g,D]of this._globalTimelineStyles)this._backFill.set(g,D||Mi),this._currentKeyframe.set(g,Mi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,g,D,H){g&&this._previousKeyframe.set("easing",g);const J=H&&H.params||{},me=function du(M,p){const g=new Map;let D;return M.forEach(H=>{if("*"===H){D=D||p.keys();for(let J of D)g.set(J,Mi)}else Qi(H,g)}),g}(p,this._globalTimelineStyles);for(let[Ie,tt]of me){const St=Wo(tt,J,D);this._pendingStyles.set(Ie,St),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)||Mi),this._updateStyle(Ie,St)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,g)=>{this._currentKeyframe.set(g,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,g)=>{this._currentKeyframe.has(g)||this._currentKeyframe.set(g,p)}))}snapshotCurrentStyles(){for(let[p,g]of this._localTimelineStyles)this._pendingStyles.set(p,g),this._updateStyle(p,g)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let g in this._currentKeyframe)p.push(g);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((g,D)=>{const H=this._styleSummary.get(D);(!H||g.time>H.time)&&this._updateStyle(D,g.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,g=new Set,D=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((Ie,tt)=>{const St=Qi(Ie,new Map,this._backFill);St.forEach((hn,pn)=>{"!"===hn?p.add(pn):hn===Mi&&g.add(pn)}),D||St.set("offset",tt/this.duration),H.push(St)});const J=p.size?ko(p.values()):[],me=g.size?ko(g.values()):[];if(D){const Ie=H[0],tt=new Map(Ie);Ie.set("offset",0),tt.set("offset",1),H=[Ie,tt]}return Y(this.element,H,J,me,this.duration,this.startTime,this.easing,!1)}}class Xa extends wo{constructor(p,g,D,H,J,me,Ie=!1){super(p,g,me.delay),this.keyframes=D,this.preStyleProps=H,this.postStyleProps=J,this._stretchStartingKeyframe=Ie,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:g,duration:D,easing:H}=this.timings;if(this._stretchStartingKeyframe&&g){const J=[],me=D+g,Ie=g/me,tt=Qi(p[0]);tt.set("offset",0),J.push(tt);const St=Qi(p[0]);St.set("offset",io(Ie)),J.push(St);const hn=p.length-1;for(let pn=1;pn<=hn;pn++){let Kn=Qi(p[pn]);const Xn=Kn.get("offset");Kn.set("offset",io((g+Xn*D)/me)),J.push(Kn)}D=me,g=0,H="",p=J}return Y(this.element,p,this.preStyleProps,this.postStyleProps,D,g,H,!0)}}function io(M,p=3){const g=Math.pow(10,p-1);return Math.round(M*g)/g}class zu{}const bo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wu extends zu{normalizePropertyName(p,g){return qo(p)}normalizeStyleValue(p,g,D,H){let J="";const me=D.toString().trim();if(bo.has(g)&&0!==D&&"0"!==D)if("number"==typeof D)J="px";else{const Ie=D.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&H.push(function Ct(M,p){return new f.vHH(3005,!1)}())}return me+J}}function Ni(M,p,g,D,H,J,me,Ie,tt,St,hn,pn,Kn){return{type:0,element:M,triggerName:p,isRemovalTransition:H,fromState:g,fromStyles:J,toState:D,toStyles:me,timelines:Ie,queriedElements:tt,preStyleProps:St,postStyleProps:hn,totalTime:pn,errors:Kn}}const ga={};class Ds{constructor(p,g,D){this._triggerName=p,this.ast=g,this._stateStyles=D}match(p,g,D,H){return function fu(M,p,g,D,H){return M.some(J=>J(p,g,D,H))}(this.ast.matchers,p,g,D,H)}buildStyles(p,g,D){let H=this._stateStyles.get("*");return void 0!==p&&(H=this._stateStyles.get(p?.toString())||H),H?H.buildStyles(g,D):new Map}build(p,g,D,H,J,me,Ie,tt,St,hn){const pn=[],Kn=this.ast.options&&this.ast.options.params||ga,On=this.buildStyles(D,Ie&&Ie.params||ga,pn),Yn=tt&&tt.params||ga,Fr=this.buildStyles(H,Yn,pn),Sr=new Set,zi=new Map,es=new Map,Cs="void"===H,Ba={params:nt(Yn,Kn),delay:this.ast.options?.delay},ls=hn?[]:yn(p,g,this.ast.animation,J,me,On,Fr,Ba,St,pn);let Wi=0;if(ls.forEach(cs=>{Wi=Math.max(cs.duration+cs.delay,Wi)}),pn.length)return Ni(g,this._triggerName,D,H,Cs,On,Fr,[],[],zi,es,Wi,pn);ls.forEach(cs=>{const b=cs.element,h=$i(zi,b,new Set);cs.preStyleProps.forEach(A=>h.add(A));const m=$i(es,b,new Set);cs.postStyleProps.forEach(A=>m.add(A)),b!==g&&Sr.add(b)});const Co=ko(Sr.values());return Ni(g,this._triggerName,D,H,Cs,On,Fr,ls,Co,zi,es,Wi)}}function nt(M,p){const g=os(p);for(const D in M)M.hasOwnProperty(D)&&null!=M[D]&&(g[D]=M[D]);return g}class Xi{constructor(p,g,D){this.styles=p,this.defaultParams=g,this.normalizer=D}buildStyles(p,g){const D=new Map,H=os(this.defaultParams);return Object.keys(p).forEach(J=>{const me=p[J];null!==me&&(H[J]=me)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((me,Ie)=>{me&&(me=Wo(me,H,g));const tt=this.normalizer.normalizePropertyName(Ie,g);me=this.normalizer.normalizeStyleValue(Ie,tt,me,g),D.set(tt,me)})}),D}}class Zo{constructor(p,g,D){this.name=p,this.ast=g,this._normalizer=D,this.transitionFactories=[],this.states=new Map,g.states.forEach(H=>{this.states.set(H.name,new Xi(H.style,H.options&&H.options.params||{},D))}),Os(this.states,"true","1"),Os(this.states,"false","0"),g.transitions.forEach(H=>{this.transitionFactories.push(new Ds(p,H,this.states))}),this.fallbackTransition=function Do(M,p,g){return new Ds(M,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,Ie)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,g,D,H){return this.transitionFactories.find(me=>me.match(p,g,D,H))||null}matchStyles(p,g,D){return this.fallbackTransition.buildStyles(p,g,D)}}function Os(M,p,g){M.has(p)?M.has(g)||M.set(g,M.get(p)):M.has(g)&&M.set(p,M.get(g))}const Pu=new X;class ma{constructor(p,g,D){this.bodyNode=p,this._driver=g,this._normalizer=D,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,g){const D=[],J=pa(this._driver,g,D,[]);if(D.length)throw function aa(M){return new f.vHH(3503,!1)}();this._animations.set(p,J)}_buildPlayer(p,g,D){const H=p.element,J=vi(0,this._normalizer,0,p.keyframes,g,D);return this._driver.animate(H,J,p.duration,p.delay,p.easing,[],!0)}create(p,g,D={}){const H=[],J=this._animations.get(p);let me;const Ie=new Map;if(J?(me=yn(this._driver,g,J,Oa,Ra,new Map,new Map,D,Pu,H),me.forEach(hn=>{const pn=$i(Ie,hn.element,new Map);hn.postStyleProps.forEach(Kn=>pn.set(Kn,null))})):(H.push(function ua(){return new f.vHH(3300,!1)}()),me=[]),H.length)throw function _i(M){return new f.vHH(3504,!1)}();Ie.forEach((hn,pn)=>{hn.forEach((Kn,Xn)=>{hn.set(Xn,this._driver.computeStyle(pn,Xn,Mi))})});const St=Li(me.map(hn=>{const pn=Ie.get(hn.element);return this._buildPlayer(hn,new Map,pn)}));return this._playersById.set(p,St),St.onDestroy(()=>this.destroy(p)),this.players.push(St),St}destroy(p){const g=this._getPlayer(p);g.destroy(),this._playersById.delete(p);const D=this.players.indexOf(g);D>=0&&this.players.splice(D,1)}_getPlayer(p){const g=this._playersById.get(p);if(!g)throw function $o(M){return new f.vHH(3301,!1)}();return g}listen(p,g,D,H){const J=Ho(g,"","","");return Es(this._getPlayer(p),D,J,H),()=>{}}command(p,g,D,H){if("register"==D)return void this.register(p,H[0]);if("create"==D)return void this.create(p,g,H[0]||{});const J=this._getPlayer(p);switch(D){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(p)}}}const Va="ng-animate-queued",xl="ng-animate-disabled",Gi=[],qu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},si={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},us="__ng_removed";class oi{constructor(p,g=""){this.namespaceId=g;const D=p&&p.hasOwnProperty("value");if(this.value=function rc(M){return M??null}(D?p.value:p),D){const J=os(p);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const g=p.params;if(g){const D=this.options.params;Object.keys(g).forEach(H=>{null==D[H]&&(D[H]=g[H])})}}}const Er="void",Yo=new oi(Er);class pu{constructor(p,g,D){this.id=p,this.hostElement=g,this._engine=D,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Le(g,this._hostClassName)}listen(p,g,D,H){if(!this._triggers.has(g))throw function L(M,p){return new f.vHH(3302,!1)}();if(null==D||0==D.length)throw function O(M){return new f.vHH(3303,!1)}();if(!function x(M){return"start"==M||"done"==M}(D))throw function P(M,p){return new f.vHH(3400,!1)}();const J=$i(this._elementListeners,p,[]),me={name:g,phase:D,callback:H};J.push(me);const Ie=$i(this._engine.statesByElement,p,new Map);return Ie.has(g)||(Le(p,Ia),Le(p,Ia+"-"+g),Ie.set(g,Yo)),()=>{this._engine.afterFlush(()=>{const tt=J.indexOf(me);tt>=0&&J.splice(tt,1),this._triggers.has(g)||Ie.delete(g)})}}register(p,g){return!this._triggers.has(p)&&(this._triggers.set(p,g),!0)}_getTrigger(p){const g=this._triggers.get(p);if(!g)throw function Z(M){return new f.vHH(3401,!1)}();return g}trigger(p,g,D,H=!0){const J=this._getTrigger(g),me=new Aa(this.id,g,p);let Ie=this._engine.statesByElement.get(p);Ie||(Le(p,Ia),Le(p,Ia+"-"+g),this._engine.statesByElement.set(p,Ie=new Map));let tt=Ie.get(g);const St=new oi(D,this.id);if(!(D&&D.hasOwnProperty("value"))&&tt&&St.absorbOptions(tt.options),Ie.set(g,St),tt||(tt=Yo),St.value!==Er&&tt.value===St.value){if(!function gn(M,p){const g=Object.keys(M),D=Object.keys(p);if(g.length!=D.length)return!1;for(let H=0;H<g.length;H++){const J=g[H];if(!p.hasOwnProperty(J)||M[J]!==p[J])return!1}return!0}(tt.params,St.params)){const Yn=[],Fr=J.matchStyles(tt.value,tt.params,Yn),Sr=J.matchStyles(St.value,St.params,Yn);Yn.length?this._engine.reportError(Yn):this._engine.afterFlush(()=>{Ro(p,Fr),to(p,Sr)})}return}const Kn=$i(this._engine.playersByElement,p,[]);Kn.forEach(Yn=>{Yn.namespaceId==this.id&&Yn.triggerName==g&&Yn.queued&&Yn.destroy()});let Xn=J.matchTransition(tt.value,St.value,p,St.params),On=!1;if(!Xn){if(!H)return;Xn=J.fallbackTransition,On=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:g,transition:Xn,fromState:tt,toState:St,player:me,isFallbackTransition:On}),On||(Le(p,Va),me.onStart(()=>{rt(p,Va)})),me.onDone(()=>{let Yn=this.players.indexOf(me);Yn>=0&&this.players.splice(Yn,1);const Fr=this._engine.playersByElement.get(p);if(Fr){let Sr=Fr.indexOf(me);Sr>=0&&Fr.splice(Sr,1)}}),this.players.push(me),Kn.push(me),me}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(g=>g.delete(p)),this._elementListeners.forEach((g,D)=>{this._elementListeners.set(D,g.filter(H=>H.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const g=this._engine.playersByElement.get(p);g&&(g.forEach(D=>D.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,g){const D=this._engine.driver.query(p,Qa,!0);D.forEach(H=>{if(H[us])return;const J=this._engine.fetchNamespacesByElement(H);J.size?J.forEach(me=>me.triggerLeaveAnimation(H,g,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>D.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(p,g,D,H){const J=this._engine.statesByElement.get(p),me=new Map;if(J){const Ie=[];if(J.forEach((tt,St)=>{if(me.set(St,tt.value),this._triggers.has(St)){const hn=this.trigger(p,St,Er,H);hn&&Ie.push(hn)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,p,!0,g,me),D&&Li(Ie).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const g=this._elementListeners.get(p),D=this._engine.statesByElement.get(p);if(g&&D){const H=new Set;g.forEach(J=>{const me=J.name;if(H.has(me))return;H.add(me);const tt=this._triggers.get(me).fallbackTransition,St=D.get(me)||Yo,hn=new oi(Er),pn=new Aa(this.id,me,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:me,transition:tt,fromState:St,toState:hn,player:pn,isFallbackTransition:!0})})}}removeNode(p,g){const D=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,g),this.triggerLeaveAnimation(p,g,!0))return;let H=!1;if(D.totalAnimations){const J=D.players.length?D.playersByQueriedElement.get(p):[];if(J&&J.length)H=!0;else{let me=p;for(;me=me.parentNode;)if(D.statesByElement.get(me)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(p),H)D.markElementAsRemoved(this.id,p,!1,g);else{const J=p[us];(!J||J===qu)&&(D.afterFlush(()=>this.clearElementCache(p)),D.destroyInnerAnimations(p),D._onRemovalComplete(p,g))}}insertNode(p,g){Le(p,this._hostClassName)}drainQueuedTransitions(p){const g=[];return this._queue.forEach(D=>{const H=D.player;if(H.destroyed)return;const J=D.element,me=this._elementListeners.get(J);me&&me.forEach(Ie=>{if(Ie.name==D.triggerName){const tt=Ho(J,D.triggerName,D.fromState.value,D.toState.value);tt._data=p,Es(D.player,Ie.phase,tt,Ie.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):g.push(D)}),this._queue=[],g.sort((D,H)=>{const J=D.transition.ast.depCount,me=H.transition.ast.depCount;return 0==J||0==me?J-me:this._engine.driver.containsElement(D.element,H.element)?1:-1})}destroy(p){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let g=!1;return this._elementListeners.has(p)&&(g=!0),g=!!this._queue.find(D=>D.element===p)||g,g}}class js{constructor(p,g,D){this.bodyNode=p,this.driver=g,this._normalizer=D,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,J)=>{}}_onRemovalComplete(p,g){this.onRemovalComplete(p,g)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(g=>{g.players.forEach(D=>{D.queued&&p.push(D)})}),p}createNamespace(p,g){const D=new pu(p,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(D,g):(this.newHostElements.set(g,D),this.collectEnterElement(g)),this._namespaceLookup[p]=D}_balanceNamespaceList(p,g){const D=this._namespaceList,H=this.namespacesByHostElement;if(D.length-1>=0){let me=!1,Ie=this.driver.getParentElement(g);for(;Ie;){const tt=H.get(Ie);if(tt){const St=D.indexOf(tt);D.splice(St+1,0,p),me=!0;break}Ie=this.driver.getParentElement(Ie)}me||D.unshift(p)}else D.push(p);return H.set(g,p),p}register(p,g){let D=this._namespaceLookup[p];return D||(D=this.createNamespace(p,g)),D}registerTrigger(p,g,D){let H=this._namespaceLookup[p];H&&H.register(g,D)&&this.totalAnimations++}destroy(p,g){if(!p)return;const D=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(D.hostElement),delete this._namespaceLookup[p];const H=this._namespaceList.indexOf(D);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>D.destroy(g))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const g=new Set,D=this.statesByElement.get(p);if(D)for(let H of D.values())if(H.namespaceId){const J=this._fetchNamespace(H.namespaceId);J&&g.add(J)}return g}trigger(p,g,D,H){if(Is(g)){const J=this._fetchNamespace(p);if(J)return J.trigger(g,D,H),!0}return!1}insertNode(p,g,D,H){if(!Is(g))return;const J=g[us];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const me=this.collectedLeaveElements.indexOf(g);me>=0&&this.collectedLeaveElements.splice(me,1)}if(p){const me=this._fetchNamespace(p);me&&me.insertNode(g,D)}H&&this.collectEnterElement(g)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,g){g?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Le(p,xl)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),rt(p,xl))}removeNode(p,g,D,H){if(Is(g)){const J=p?this._fetchNamespace(p):null;if(J?J.removeNode(g,H):this.markElementAsRemoved(p,g,!1,H),D){const me=this.namespacesByHostElement.get(g);me&&me.id!==p&&me.removeNode(g,H)}}else this._onRemovalComplete(g,H)}markElementAsRemoved(p,g,D,H,J){this.collectedLeaveElements.push(g),g[us]={namespaceId:p,setForRemoval:H,hasAnimation:D,removedBeforeQueried:!1,previousTriggersValues:J}}listen(p,g,D,H,J){return Is(g)?this._fetchNamespace(p).listen(g,D,H,J):()=>{}}_buildInstruction(p,g,D,H,J){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,D,H,p.fromState.options,p.toState.options,g,J)}destroyInnerAnimations(p){let g=this.driver.query(p,Qa,!0);g.forEach(D=>this.destroyActiveAnimationsForElement(D)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(p,Ns,!0),g.forEach(D=>this.finishActiveQueriedAnimationOnElement(D)))}destroyActiveAnimationsForElement(p){const g=this.playersByElement.get(p);g&&g.forEach(D=>{D.queued?D.markedForDestroy=!0:D.destroy()})}finishActiveQueriedAnimationOnElement(p){const g=this.playersByQueriedElement.get(p);g&&g.forEach(D=>D.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Li(this.players).onDone(()=>p());p()})}processLeaveNode(p){const g=p[us];if(g&&g.setForRemoval){if(p[us]=qu,g.namespaceId){this.destroyInnerAnimations(p);const D=this._fetchNamespace(g.namespaceId);D&&D.clearElementCache(p)}this._onRemovalComplete(p,g.setForRemoval)}p.classList?.contains(xl)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(D=>{this.markElementAsDisabled(D,!1)})}flush(p=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((D,H)=>this._balanceNamespaceList(D,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let D=0;D<this.collectedEnterElements.length;D++)Le(this.collectedEnterElements[D],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const D=[];try{g=this._flushAnimations(D,p)}finally{for(let H=0;H<D.length;H++)D[H]()}}else for(let D=0;D<this.collectedLeaveElements.length;D++)this.processLeaveNode(this.collectedLeaveElements[D]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(D=>D()),this._flushFns=[],this._whenQuietFns.length){const D=this._whenQuietFns;this._whenQuietFns=[],g.length?Li(g).onDone(()=>{D.forEach(H=>H())}):D.forEach(H=>H())}}reportError(p){throw function st(M){return new f.vHH(3402,!1)}()}_flushAnimations(p,g){const D=new X,H=[],J=new Map,me=[],Ie=new Map,tt=new Map,St=new Map,hn=new Set;this.disabledNodes.forEach(be=>{hn.add(be);const qe=this.driver.query(be,".ng-animate-queued",!0);for(let It=0;It<qe.length;It++)hn.add(qe[It])});const pn=this.bodyNode,Kn=Array.from(this.statesByElement.keys()),Xn=ce(Kn,this.collectedEnterElements),On=new Map;let Yn=0;Xn.forEach((be,qe)=>{const It=Oa+Yn++;On.set(qe,It),be.forEach(Yt=>Le(Yt,It))});const Fr=[],Sr=new Set,zi=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const qe=this.collectedLeaveElements[be],It=qe[us];It&&It.setForRemoval&&(Fr.push(qe),Sr.add(qe),It.hasAnimation?this.driver.query(qe,".ng-star-inserted",!0).forEach(Yt=>Sr.add(Yt)):zi.add(qe))}const es=new Map,Cs=ce(Kn,Array.from(Sr));Cs.forEach((be,qe)=>{const It=Ra+Yn++;es.set(qe,It),be.forEach(Yt=>Le(Yt,It))}),p.push(()=>{Xn.forEach((be,qe)=>{const It=On.get(qe);be.forEach(Yt=>rt(Yt,It))}),Cs.forEach((be,qe)=>{const It=es.get(qe);be.forEach(Yt=>rt(Yt,It))}),Fr.forEach(be=>{this.processLeaveNode(be)})});const Ba=[],ls=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(g).forEach(It=>{const Yt=It.player,Cn=It.element;if(Ba.push(Yt),this.collectedEnterElements.length){const ds=Cn[us];if(ds&&ds.setForMove){if(ds.previousTriggersValues&&ds.previousTriggersValues.has(It.triggerName)){const Uo=ds.previousTriggersValues.get(It.triggerName),To=this.statesByElement.get(It.element);if(To&&To.has(It.triggerName)){const $a=To.get(It.triggerName);$a.value=Uo,To.set(It.triggerName,$a)}}return void Yt.destroy()}}const pr=!pn||!this.driver.containsElement(pn,Cn),Ri=es.get(Cn),Ii=On.get(Cn),Lr=this._buildInstruction(It,D,Ii,Ri,pr);if(Lr.errors&&Lr.errors.length)return void ls.push(Lr);if(pr)return Yt.onStart(()=>Ro(Cn,Lr.fromStyles)),Yt.onDestroy(()=>to(Cn,Lr.toStyles)),void H.push(Yt);if(It.isFallbackTransition)return Yt.onStart(()=>Ro(Cn,Lr.fromStyles)),Yt.onDestroy(()=>to(Cn,Lr.toStyles)),void H.push(Yt);const ja=[];Lr.timelines.forEach(ds=>{ds.stretchStartingKeyframe=!0,this.disabledNodes.has(ds.element)||ja.push(ds)}),Lr.timelines=ja,D.append(Cn,Lr.timelines),me.push({instruction:Lr,player:Yt,element:Cn}),Lr.queriedElements.forEach(ds=>$i(Ie,ds,[]).push(Yt)),Lr.preStyleProps.forEach((ds,Uo)=>{if(ds.size){let To=tt.get(Uo);To||tt.set(Uo,To=new Set),ds.forEach(($a,_u)=>To.add(_u))}}),Lr.postStyleProps.forEach((ds,Uo)=>{let To=St.get(Uo);To||St.set(Uo,To=new Set),ds.forEach(($a,_u)=>To.add(_u))})});if(ls.length){const be=[];ls.forEach(qe=>{be.push(function Or(M,p){return new f.vHH(3505,!1)}())}),Ba.forEach(qe=>qe.destroy()),this.reportError(be)}const Wi=new Map,Co=new Map;me.forEach(be=>{const qe=be.element;D.has(qe)&&(Co.set(qe,qe),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,Wi))}),H.forEach(be=>{const qe=be.element;this._getPreviousPlayers(qe,!1,be.namespaceId,be.triggerName,null).forEach(Yt=>{$i(Wi,qe,[]).push(Yt),Yt.destroy()})});const cs=Fr.filter(be=>kn(be,tt,St)),b=new Map;W(b,this.driver,zi,St,Mi).forEach(be=>{kn(be,tt,St)&&cs.push(be)});const m=new Map;Xn.forEach((be,qe)=>{W(m,this.driver,new Set(be),tt,"!")}),cs.forEach(be=>{const qe=b.get(be),It=m.get(be);b.set(be,new Map([...Array.from(qe?.entries()??[]),...Array.from(It?.entries()??[])]))});const A=[],z=[],ne={};me.forEach(be=>{const{element:qe,player:It,instruction:Yt}=be;if(D.has(qe)){if(hn.has(qe))return It.onDestroy(()=>to(qe,Yt.toStyles)),It.disabled=!0,It.overrideTotalTime(Yt.totalTime),void H.push(It);let Cn=ne;if(Co.size>1){let Ri=qe;const Ii=[];for(;Ri=Ri.parentNode;){const Lr=Co.get(Ri);if(Lr){Cn=Lr;break}Ii.push(Ri)}Ii.forEach(Lr=>Co.set(Lr,Cn))}const pr=this._buildAnimation(It.namespaceId,Yt,Wi,J,m,b);if(It.setRealPlayer(pr),Cn===ne)A.push(It);else{const Ri=this.playersByElement.get(Cn);Ri&&Ri.length&&(It.parentPlayer=Li(Ri)),H.push(It)}}else Ro(qe,Yt.fromStyles),It.onDestroy(()=>to(qe,Yt.toStyles)),z.push(It),hn.has(qe)&&H.push(It)}),z.forEach(be=>{const qe=J.get(be.element);if(qe&&qe.length){const It=Li(qe);be.setRealPlayer(It)}}),H.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<Fr.length;be++){const qe=Fr[be],It=qe[us];if(rt(qe,Ra),It&&It.hasAnimation)continue;let Yt=[];if(Ie.size){let pr=Ie.get(qe);pr&&pr.length&&Yt.push(...pr);let Ri=this.driver.query(qe,Ns,!0);for(let Ii=0;Ii<Ri.length;Ii++){let Lr=Ie.get(Ri[Ii]);Lr&&Lr.length&&Yt.push(...Lr)}}const Cn=Yt.filter(pr=>!pr.destroyed);Cn.length?At(this,qe,Cn):this.processLeaveNode(qe)}return Fr.length=0,A.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const qe=this.players.indexOf(be);this.players.splice(qe,1)}),be.play()}),A}elementContainsData(p,g){let D=!1;const H=g[us];return H&&H.setForRemoval&&(D=!0),this.playersByElement.has(g)&&(D=!0),this.playersByQueriedElement.has(g)&&(D=!0),this.statesByElement.has(g)&&(D=!0),this._fetchNamespace(p).elementContainsData(g)||D}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,g,D,H,J){let me=[];if(g){const Ie=this.playersByQueriedElement.get(p);Ie&&(me=Ie)}else{const Ie=this.playersByElement.get(p);if(Ie){const tt=!J||J==Er;Ie.forEach(St=>{St.queued||!tt&&St.triggerName!=H||me.push(St)})}}return(D||H)&&(me=me.filter(Ie=>!(D&&D!=Ie.namespaceId||H&&H!=Ie.triggerName))),me}_beforeAnimationBuild(p,g,D){const J=g.element,me=g.isRemovalTransition?void 0:p,Ie=g.isRemovalTransition?void 0:g.triggerName;for(const tt of g.timelines){const St=tt.element,hn=St!==J,pn=$i(D,St,[]);this._getPreviousPlayers(St,hn,me,Ie,g.toState).forEach(Xn=>{const On=Xn.getRealPlayer();On.beforeDestroy&&On.beforeDestroy(),Xn.destroy(),pn.push(Xn)})}Ro(J,g.fromStyles)}_buildAnimation(p,g,D,H,J,me){const Ie=g.triggerName,tt=g.element,St=[],hn=new Set,pn=new Set,Kn=g.timelines.map(On=>{const Yn=On.element;hn.add(Yn);const Fr=Yn[us];if(Fr&&Fr.removedBeforeQueried)return new Hn(On.duration,On.delay);const Sr=Yn!==tt,zi=function Qt(M){const p=[];return An(M,p),p}((D.get(Yn)||Gi).map(Wi=>Wi.getRealPlayer())).filter(Wi=>!!Wi.element&&Wi.element===Yn),es=J.get(Yn),Cs=me.get(Yn),Ba=vi(0,this._normalizer,0,On.keyframes,es,Cs),ls=this._buildPlayer(On,Ba,zi);if(On.subTimeline&&H&&pn.add(Yn),Sr){const Wi=new Aa(p,Ie,Yn);Wi.setRealPlayer(ls),St.push(Wi)}return ls});St.forEach(On=>{$i(this.playersByQueriedElement,On.element,[]).push(On),On.onDone(()=>function fi(M,p,g){let D=M.get(p);if(D){if(D.length){const H=D.indexOf(g);D.splice(H,1)}0==D.length&&M.delete(p)}return D}(this.playersByQueriedElement,On.element,On))}),hn.forEach(On=>Le(On,eo));const Xn=Li(Kn);return Xn.onDestroy(()=>{hn.forEach(On=>rt(On,eo)),to(tt,g.toStyles)}),pn.forEach(On=>{$i(H,On,[]).push(Xn)}),Xn}_buildPlayer(p,g,D){return g.length>0?this.driver.animate(p.element,g,p.duration,p.delay,p.easing,D):new Hn(p.duration,p.delay)}}class Aa{constructor(p,g,D){this.namespaceId=p,this.triggerName=g,this.element=D,this._player=new Hn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((g,D)=>{g.forEach(H=>Es(p,D,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const g=this._player;g.triggerCallback&&p.onStart(()=>g.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,g){$i(this._queuedCallbacks,p,[]).push(g)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const g=this._player;g.triggerCallback&&g.triggerCallback(p)}}function Is(M){return M&&1===M.nodeType}function F(M,p){const g=M.style.display;return M.style.display=p??"none",g}function W(M,p,g,D,H){const J=[];g.forEach(tt=>J.push(F(tt)));const me=[];D.forEach((tt,St)=>{const hn=new Map;tt.forEach(pn=>{const Kn=p.computeStyle(St,pn,H);hn.set(pn,Kn),(!Kn||0==Kn.length)&&(St[us]=si,me.push(St))}),M.set(St,hn)});let Ie=0;return g.forEach(tt=>F(tt,J[Ie++])),me}function ce(M,p){const g=new Map;if(M.forEach(Ie=>g.set(Ie,[])),0==p.length)return g;const H=new Set(p),J=new Map;function me(Ie){if(!Ie)return 1;let tt=J.get(Ie);if(tt)return tt;const St=Ie.parentNode;return tt=g.has(St)?St:H.has(St)?1:me(St),J.set(Ie,tt),tt}return p.forEach(Ie=>{const tt=me(Ie);1!==tt&&g.get(tt).push(Ie)}),g}function Le(M,p){M.classList?.add(p)}function rt(M,p){M.classList?.remove(p)}function At(M,p,g){Li(g).onDone(()=>M.processLeaveNode(p))}function An(M,p){for(let g=0;g<M.length;g++){const D=M[g];D instanceof Nr?An(D.players,p):p.push(D)}}function kn(M,p,g){const D=g.get(M);if(!D)return!1;let H=p.get(M);return H?D.forEach(J=>H.add(J)):p.set(M,D),g.delete(M),!0}class Dn{constructor(p,g,D){this.bodyNode=p,this._driver=g,this._normalizer=D,this._triggerCache={},this.onRemovalComplete=(H,J)=>{},this._transitionEngine=new js(p,g,D),this._timelineEngine=new ma(p,g,D),this._transitionEngine.onRemovalComplete=(H,J)=>this.onRemovalComplete(H,J)}registerTrigger(p,g,D,H,J){const me=p+"-"+H;let Ie=this._triggerCache[me];if(!Ie){const tt=[],hn=pa(this._driver,J,tt,[]);if(tt.length)throw function Tt(M,p){return new f.vHH(3404,!1)}();Ie=function Oi(M,p,g){return new Zo(M,p,g)}(H,hn,this._normalizer),this._triggerCache[me]=Ie}this._transitionEngine.registerTrigger(g,H,Ie)}register(p,g){this._transitionEngine.register(p,g)}destroy(p,g){this._transitionEngine.destroy(p,g)}onInsert(p,g,D,H){this._transitionEngine.insertNode(p,g,D,H)}onRemove(p,g,D,H){this._transitionEngine.removeNode(p,g,H||!1,D)}disableAnimations(p,g){this._transitionEngine.markElementAsDisabled(p,g)}process(p,g,D,H){if("@"==D.charAt(0)){const[J,me]=di(D);this._timelineEngine.command(J,g,me,H)}else this._transitionEngine.trigger(p,g,D,H)}listen(p,g,D,H,J){if("@"==D.charAt(0)){const[me,Ie]=di(D);return this._timelineEngine.listen(me,g,Ie,J)}return this._transitionEngine.listen(p,g,D,H,J)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Wr=(()=>{class M{constructor(g,D,H){this._element=g,this._startStyles=D,this._endStyles=H,this._state=0;let J=M.initialStylesByElement.get(g);J||M.initialStylesByElement.set(g,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&to(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(to(this._element,this._initialStyles),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(M.initialStylesByElement.delete(this._element),this._startStyles&&(Ro(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),to(this._element,this._initialStyles),this._state=3)}}return M.initialStylesByElement=new WeakMap,M})();function Io(M){let p=null;return M.forEach((g,D)=>{(function so(M){return"display"===M||"position"===M})(D)&&(p=p||new Map,p.set(D,g))}),p}class Qo{constructor(p,g,D,H){this.element=p,this.keyframes=g,this.options=D,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=D.duration,this._delay=D.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const g=[];return p.forEach(D=>{g.push(Object.fromEntries(D))}),g}_triggerWebAnimation(p,g,D){return p.animate(this._convertKeyframesToObject(g),D)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((D,H)=>{"offset"!==H&&p.set(H,this._finished?D:ka(this.element,H))}),this.currentSnapshot=p}triggerCallback(p){const g="start"===p?this._onStartFns:this._onDoneFns;g.forEach(D=>D()),g.length=0}}class ya{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,g){return!1}containsElement(p,g){return Go(p,g)}getParentElement(p){return Da(p)}query(p,g,D){return su(p,g,D)}computeStyle(p,g,D){return window.getComputedStyle(p)[g]}animate(p,g,D,H,J,me=[]){const tt={duration:D,delay:H,fill:0==H?"both":"forwards"};J&&(tt.easing=J);const St=new Map,hn=me.filter(Xn=>Xn instanceof Qo);(function Ko(M,p){return 0===M||0===p})(D,H)&&hn.forEach(Xn=>{Xn.currentSnapshot.forEach((On,Yn)=>St.set(Yn,On))});let pn=function Ca(M){return M.length?M[0]instanceof Map?M:M.map(p=>Eo(p)):[]}(g).map(Xn=>Qi(Xn));pn=function da(M,p,g){if(g.size&&p.length){let D=p[0],H=[];if(g.forEach((J,me)=>{D.has(me)||H.push(me),D.set(me,J)}),H.length)for(let J=1;J<p.length;J++){let me=p[J];H.forEach(Ie=>me.set(Ie,ka(M,Ie)))}}return p}(p,pn,St);const Kn=function Jr(M,p){let g=null,D=null;return Array.isArray(p)&&p.length?(g=Io(p[0]),p.length>1&&(D=Io(p[p.length-1]))):p instanceof Map&&(g=Io(p)),g||D?new Wr(M,g,D):null}(p,pn);return new Qo(p,pn,tt,Kn)}}let Jo=(()=>{class M extends Po{constructor(g,D){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(D.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(g){const D=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(g)?Zi(g):g;return Vo(this._renderer,null,D,"register",[H]),new oo(D,this._renderer)}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(f.FYo),f.LFG(Xt.K0))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();class oo extends class _s{}{constructor(p,g){super(),this._id=p,this._renderer=g}create(p,g){return new $s(this._id,p,g||{},this._renderer)}}class $s{constructor(p,g,D,H){this.id=p,this.element=g,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",D)}_listen(p,g){return this._renderer.listen(this.element,`@@${this.id}:${p}`,g)}_command(p,...g){return Vo(this._renderer,this.element,this.id,p,g)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vo(M,p,g,D,H){return M.setProperty(p,`@@${g}:${D}`,H)}const Ua="@.disabled";let gu=(()=>{class M{constructor(g,D,H){this.delegate=g,this.engine=D,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),D.onRemovalComplete=(J,me)=>{const Ie=me?.parentNode(J);Ie&&me.removeChild(Ie,J)}}createRenderer(g,D){const J=this.delegate.createRenderer(g,D);if(!(g&&D&&D.data&&D.data.animation)){let hn=this._rendererCache.get(J);return hn||(hn=new mu("",J,this.engine),this._rendererCache.set(J,hn)),hn}const me=D.id,Ie=D.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,g);const tt=hn=>{Array.isArray(hn)?hn.forEach(tt):this.engine.registerTrigger(me,Ie,g,hn.name,hn)};return D.data.animation.forEach(tt),new ic(this,Ie,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,D,H){g>=0&&g<this._microtaskId?this._zone.run(()=>D(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[me,Ie]=J;me(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([D,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(f.FYo),f.LFG(Dn),f.LFG(f.R0b))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();class mu{constructor(p,g,D){this.namespaceId=p,this.delegate=g,this.engine=D,this.destroyNode=this.delegate.destroyNode?H=>g.destroyNode(H):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,g){return this.delegate.createElement(p,g)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,g){this.delegate.appendChild(p,g),this.engine.onInsert(this.namespaceId,g,p,!1)}insertBefore(p,g,D,H=!0){this.delegate.insertBefore(p,g,D),this.engine.onInsert(this.namespaceId,g,p,H)}removeChild(p,g,D){this.engine.onRemove(this.namespaceId,g,this.delegate,D)}selectRootElement(p,g){return this.delegate.selectRootElement(p,g)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,g,D,H){this.delegate.setAttribute(p,g,D,H)}removeAttribute(p,g,D){this.delegate.removeAttribute(p,g,D)}addClass(p,g){this.delegate.addClass(p,g)}removeClass(p,g){this.delegate.removeClass(p,g)}setStyle(p,g,D,H){this.delegate.setStyle(p,g,D,H)}removeStyle(p,g,D){this.delegate.removeStyle(p,g,D)}setProperty(p,g,D){"@"==g.charAt(0)&&g==Ua?this.disableAnimations(p,!!D):this.delegate.setProperty(p,g,D)}setValue(p,g){this.delegate.setValue(p,g)}listen(p,g,D){return this.delegate.listen(p,g,D)}disableAnimations(p,g){this.engine.disableAnimations(p,g)}}class ic extends mu{constructor(p,g,D,H){super(g,D,H),this.factory=p,this.namespaceId=g}setProperty(p,g,D){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Ua?this.disableAnimations(p,D=void 0===D||!!D):this.engine.process(this.namespaceId,p,g.slice(1),D):this.delegate.setProperty(p,g,D)}listen(p,g,D){if("@"==g.charAt(0)){const H=function Nl(M){switch(M){case"body":return document.body;case"document":return document;case"window":return window;default:return M}}(p);let J=g.slice(1),me="";return"@"!=J.charAt(0)&&([J,me]=function Ou(M){const p=M.indexOf(".");return[M.substring(0,p),M.slice(p+1)]}(J)),this.engine.listen(this.namespaceId,H,J,me,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,D,Ie)})}return this.delegate.listen(p,g,D)}}const yu=[{provide:Po,useClass:Jo},{provide:zu,useFactory:function Ol(){return new Wu}},{provide:Dn,useClass:(()=>{class M extends Dn{constructor(g,D,H){super(g.body,D,H)}ngOnDestroy(){this.flush()}}return M.\u0275fac=function(g){return new(g||M)(f.LFG(Xt.K0),f.LFG(Xs),f.LFG(zu))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})()},{provide:f.FYo,useFactory:function Hs(M,p,g){return new gu(M,p,g)},deps:[_.se,Dn,f.R0b]}],ai=[{provide:Xs,useFactory:()=>new ya},{provide:f.QbO,useValue:"BrowserAnimations"},...yu],Ld=[{provide:Xs,useClass:ni},{provide:f.QbO,useValue:"NoopAnimations"},...yu];let sc=(()=>{class M{static withConfig(g){return{ngModule:M,providers:g.disableAnimations?Ld:ai}}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({providers:ai,imports:[_.b2]}),M})();var Rl=j(2340),eu=j(2011);let Ku=(()=>{class M{}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=f.oAB({type:M,bootstrap:[Ss]}),M.\u0275inj=f.cJS({providers:[Ft],imports:[_.b2,sa,sc,eu.hO.initializeApp(Rl.N.firebaseConfig),(0,te.hX)(()=>(0,te.ZF)(Rl.N.firebaseConfig)),Mt(()=>(0,Ye.n)()),gs.yb,$.UX,$.u5,Re.XF,_e.JF]}),M})();Rl.N.production&&(0,f.G48)(),_.q6().bootstrapModule(Ku).catch(M=>console.error(M))},5867:(en,Ke,j)=>{j.d(Ke,{C6:()=>_.getApps,KN:()=>_.registerVersion,Mq:()=>_.getApp,ZF:()=>_.initializeApp});var _=j(9681);(0,_.registerVersion)("firebase","9.8.4","app")},127:(en,Ke,j)=>{j.d(Ke,{Z:()=>_.Z});var _=j(3942);_.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(en,Ke,j)=>{j.r(Ke);var _=j(5861),f=j(3942),$=j(3673),_e=j(2090),Re=(j(9681),j(1877),j(4859));function ke(){return window}function te(){return(te=(0,_.Z)(function*(ze,he,pe){var lt;const{BuildInfo:Ft}=ke();(0,$.aq)(he.sessionId,"AuthEvent did not contain a session ID");const Xt=yield Qe(he.sessionId),pt={};return(0,$.ar)()?pt.ibi=Ft.packageName:(0,$.as)()?pt.apn=Ft.packageName:(0,$.at)(ze,"operation-not-supported-in-this-environment"),Ft.displayName&&(pt.appDisplayName=Ft.displayName),pt.sessionId=Xt,(0,$.au)(ze,pe,he.type,void 0,null!==(lt=he.eventId)&&void 0!==lt?lt:void 0,pt)})).apply(this,arguments)}function _t(){return(_t=(0,_.Z)(function*(ze){const{BuildInfo:he}=ke(),pe={};(0,$.ar)()?pe.iosBundleId=he.packageName:(0,$.as)()?pe.androidPackageName=he.packageName:(0,$.at)(ze,"operation-not-supported-in-this-environment"),yield(0,$.av)(ze,pe)})).apply(this,arguments)}function $t(){return($t=(0,_.Z)(function*(ze,he,pe){const{cordova:lt}=ke();let Ft=()=>{};try{yield new Promise((Xt,pt)=>{let Dt=null;function Se(){var Ne;Xt();const gt=null===(Ne=lt.plugins.browsertab)||void 0===Ne?void 0:Ne.close;"function"==typeof gt&&gt(),"function"==typeof pe?.close&&pe.close()}function ge(){Dt||(Dt=window.setTimeout(()=>{pt((0,$.aw)(ze,"redirect-cancelled-by-user"))},2e3))}function ue(){"visible"===document?.visibilityState&&ge()}he.addPassiveListener(Se),document.addEventListener("resume",ge,!1),(0,$.as)()&&document.addEventListener("visibilitychange",ue,!1),Ft=()=>{he.removePassiveListener(Se),document.removeEventListener("resume",ge,!1),document.removeEventListener("visibilitychange",ue,!1),Dt&&window.clearTimeout(Dt)}})}finally{Ft()}})).apply(this,arguments)}function Qe(ze){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,_.Z)(function*(ze){const he=Gt(ze),pe=yield crypto.subtle.digest("SHA-256",he);return Array.from(new Uint8Array(pe)).map(Ft=>Ft.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gt(ze){if((0,$.aq)(/[0-9a-zA-Z]+/.test(ze),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ze);const he=new ArrayBuffer(ze.length),pe=new Uint8Array(he);for(let lt=0;lt<ze.length;lt++)pe[lt]=ze.charCodeAt(lt);return pe}class ct extends $.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(he=>{this.resolveInialized=he})}addPassiveListener(he){this.passiveListeners.add(he)}removePassiveListener(he){this.passiveListeners.delete(he)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(he){return this.resolveInialized(),this.passiveListeners.forEach(pe=>pe(he)),super.onEvent(he)}initialized(){var he=this;return(0,_.Z)(function*(){yield he.initPromise})()}}function ae(ze){return $e.apply(this,arguments)}function $e(){return($e=(0,_.Z)(function*(ze){const he=yield Be()._get(Te(ze));return he&&(yield Be()._remove(Te(ze))),he})).apply(this,arguments)}function oe(){const ze=[],he="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let pe=0;pe<20;pe++){const lt=Math.floor(Math.random()*he.length);ze.push(he.charAt(lt))}return ze.join("")}function Be(){return(0,$.ay)($.b)}function Te(ze){return(0,$.az)("authEvent",ze.config.apiKey,ze.name)}function Mt(ze){if(!ze?.includes("?"))return{};const[he,...pe]=ze.split("?");return(0,_e.zd)(pe.join("?"))}function Bt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.aw)("no-auth-event")}}function mn(){var ze;return(null===(ze=self?.location)||void 0===ze?void 0:ze.protocol)||null}function Bn(ze=(0,_e.z$)()){return!("file:"!==mn()&&"ionic:"!==mn()&&"capacitor:"!==mn()||!ze.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const ze=self.localStorage,he=$.aI();if(ze)return ze.setItem(he,"1"),ze.removeItem(he),!function br(ze=(0,_e.z$)()){return function gr(){return(0,_e.w1)()&&11===document?.documentMode}()||function mr(ze=(0,_e.z$)()){return/Edge\/\d+/.test(ze)}(ze)}()||(0,_e.hl)()}catch{return yr()&&(0,_e.hl)()}return!1}function yr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _r(){return(function Fn(){return"http:"===mn()||"https:"===mn()}()||(0,_e.ru)()||Bn())&&!function ar(){return(0,_e.b$)()||(0,_e.UG)()}()&&Mr()&&!yr()}function ir(){return Bn()&&typeof document<"u"}function sr(){return(sr=(0,_.Z)(function*(){return!!ir()&&new Promise(ze=>{const he=setTimeout(()=>{ze(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(he),ze(!0)})})})).apply(this,arguments)}const Tn={LOCAL:"local",NONE:"none",SESSION:"session"},kr=$.ax,jr="persistence";function dt(ze){return De.apply(this,arguments)}function De(){return(De=(0,_.Z)(function*(ze){yield ze._initializationPromise;const he=ft(),pe=$.az(jr,ze.config.apiKey,ze.name);he&&he.setItem(pe,ze._getPersistence())})).apply(this,arguments)}function ft(){var ze;try{return(null===(ze=function xn(){return typeof window<"u"?window:null}())||void 0===ze?void 0:ze.sessionStorage)||null}catch{return null}}const je=$.ax;class vt{constructor(){this.browserResolver=$.ay($.k),this.cordovaResolver=$.ay(class sn{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(he){var pe=this;return(0,_.Z)(function*(){const lt=he._key();let Ft=pe.eventManagers.get(lt);return Ft||(Ft=new ct(he),pe.eventManagers.set(lt,Ft),pe.attachCallbackListeners(he,Ft)),Ft})()}_openPopup(he){(0,$.at)(he,"operation-not-supported-in-this-environment")}_openRedirect(he,pe,lt,Ft){var Xt=this;return(0,_.Z)(function*(){!function Je(ze){var he,pe,lt,Ft,Xt,pt,Dt,Se,ge,ue;const Ne=ke();(0,$.ax)("function"==typeof(null===(he=Ne?.universalLinks)||void 0===he?void 0:he.subscribe),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.ax)(typeof(null===(pe=Ne?.BuildInfo)||void 0===pe?void 0:pe.packageName)<"u",ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.ax)("function"==typeof(null===(Xt=null===(Ft=null===(lt=Ne?.cordova)||void 0===lt?void 0:lt.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===Xt?void 0:Xt.openUrl),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(Se=null===(Dt=null===(pt=Ne?.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Dt?void 0:Dt.browsertab)||void 0===Se?void 0:Se.isAvailable),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.ax)("function"==typeof(null===(ue=null===(ge=Ne?.cordova)||void 0===ge?void 0:ge.InAppBrowser)||void 0===ue?void 0:ue.open),ze,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(he);const pt=yield Xt._initialize(he);yield pt.initialized(),pt.resetRedirect(),(0,$.aD)(),yield Xt._originValidation(he);const Dt=function ot(ze,he,pe=null){return{type:he,eventId:pe,urlResponse:null,sessionId:oe(),postBody:null,tenantId:ze.tenantId,error:(0,$.aw)(ze,"no-auth-event")}}(he,lt,Ft);yield function wt(ze,he){return Be()._set(Te(ze),he)}(he,Dt);const Se=yield function le(ze,he,pe){return te.apply(this,arguments)}(he,Dt,pe),ge=yield function Ye(ze){const{cordova:he}=ke();return new Promise(pe=>{he.plugins.browsertab.isAvailable(lt=>{let Ft=null;lt?he.plugins.browsertab.openUrl(ze):Ft=he.InAppBrowser.open(ze,(0,$.ap)()?"_blank":"_system","location=yes"),pe(Ft)})})}(Se);return function et(ze,he,pe){return $t.apply(this,arguments)}(he,pt,ge)})()}_isIframeWebStorageSupported(he,pe){throw new Error("Method not implemented.")}_originValidation(he){const pe=he._key();return this.originValidationPromises[pe]||(this.originValidationPromises[pe]=function ve(ze){return _t.apply(this,arguments)}(he)),this.originValidationPromises[pe]}attachCallbackListeners(he,pe){const{universalLinks:lt,handleOpenURL:Ft,BuildInfo:Xt}=ke(),pt=setTimeout((0,_.Z)(function*(){yield ae(he),pe.onEvent(Bt())}),500),Dt=function(){var ue=(0,_.Z)(function*(Ne){clearTimeout(pt);const gt=yield ae(he);let Zt=null;gt&&Ne?.url&&(Zt=function at(ze,he){var pe,lt;const Ft=function Ge(ze){const he=Mt(ze),pe=he.link?decodeURIComponent(he.link):void 0,lt=Mt(pe).link,Ft=he.deep_link_id?decodeURIComponent(he.deep_link_id):void 0;return Mt(Ft).link||Ft||lt||pe||ze}(he);if(Ft.includes("/__/auth/callback")){const Xt=Mt(Ft),pt=Xt.firebaseError?function Xe(ze){try{return JSON.parse(ze)}catch{return null}}(decodeURIComponent(Xt.firebaseError)):null,Dt=null===(lt=null===(pe=pt?.code)||void 0===pe?void 0:pe.split("auth/"))||void 0===lt?void 0:lt[1],Se=Dt?(0,$.aw)(Dt):null;return Se?{type:ze.type,eventId:ze.eventId,tenantId:ze.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:ze.type,eventId:ze.eventId,tenantId:ze.tenantId,sessionId:ze.sessionId,urlResponse:Ft,postBody:null}}return null}(gt,Ne.url)),pe.onEvent(Zt||Bt())});return function(gt){return ue.apply(this,arguments)}}();typeof lt<"u"&&"function"==typeof lt.subscribe&&lt.subscribe(null,Dt);const Se=Ft,ge=`${Xt.packageName.toLowerCase()}://`;ke().handleOpenURL=function(){var ue=(0,_.Z)(function*(Ne){if(Ne.toLowerCase().startsWith(ge)&&Dt({url:Ne}),"function"==typeof Se)try{Se(Ne)}catch(gt){console.error(gt)}});return function(Ne){return ue.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aB,this._overrideRedirectResult=$.aC}_initialize(he){var pe=this;return(0,_.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._initialize(he)})()}_openPopup(he,pe,lt,Ft){var Xt=this;return(0,_.Z)(function*(){return yield Xt.selectUnderlyingResolver(),Xt.assertedUnderlyingResolver._openPopup(he,pe,lt,Ft)})()}_openRedirect(he,pe,lt,Ft){var Xt=this;return(0,_.Z)(function*(){return yield Xt.selectUnderlyingResolver(),Xt.assertedUnderlyingResolver._openRedirect(he,pe,lt,Ft)})()}_isIframeWebStorageSupported(he,pe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(he,pe)}_originValidation(he){return this.assertedUnderlyingResolver._originValidation(he)}get _shouldInitProactively(){return ir()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var he=this;return(0,_.Z)(function*(){if(he.underlyingResolver)return;const pe=yield function rn(){return sr.apply(this,arguments)}();he.underlyingResolver=pe?he.cordovaResolver:he.browserResolver})()}}function Kt(ze){return ze.unwrap()}function Vt(ze){return nr(ze)}function nr(ze){const{_tokenResponse:he}=ze instanceof _e.ZR?ze.customData:ze;if(!he)return null;if(!(ze instanceof _e.ZR)&&"temporaryProof"in he&&"phoneNumber"in he)return $.P.credentialFromResult(ze);const pe=he.providerId;if(!pe||pe===$.o.PASSWORD)return null;let lt;switch(pe){case $.o.GOOGLE:lt=$.Q;break;case $.o.FACEBOOK:lt=$.N;break;case $.o.GITHUB:lt=$.T;break;case $.o.TWITTER:lt=$.W;break;default:const{oauthIdToken:Ft,oauthAccessToken:Xt,oauthTokenSecret:pt,pendingToken:Dt,nonce:Se}=he;return Xt||pt||Ft||Dt?Dt?pe.startsWith("saml.")?$.aL._create(pe,Dt):$.J._fromParams({providerId:pe,signInMethod:pe,pendingToken:Dt,idToken:Ft,accessToken:Xt}):new $.U(pe).credential({idToken:Ft,accessToken:Xt,rawNonce:Se}):null}return ze instanceof _e.ZR?lt.credentialFromError(ze):lt.credentialFromResult(ze)}function Zn(ze,he){return he.catch(pe=>{throw pe instanceof _e.ZR&&function Qn(ze,he){var pe,lt;const Ft=null===(pe=he.customData)||void 0===pe?void 0:pe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(lt=he)||void 0===lt?void 0:lt.code))he.resolver=new ie(ze,$.an(ze,he));else if(Ft){const Xt=nr(he),pt=he;Xt&&(pt.credential=Xt,pt.tenantId=Ft.tenantId||void 0,pt.email=Ft.email||void 0,pt.phoneNumber=Ft.phoneNumber||void 0)}}(ze,pe),pe}).then(pe=>{const Ft=pe.user;return{operationType:pe.operationType,credential:Vt(pe),additionalUserInfo:$.al(pe),user:Fe.getOrCreate(Ft)}})}function Mn(ze,he){return ye.apply(this,arguments)}function ye(){return(ye=(0,_.Z)(function*(ze,he){const pe=yield he;return{verificationId:pe.verificationId,confirm:lt=>Zn(ze,pe.confirm(lt))}})).apply(this,arguments)}class ie{constructor(he,pe){this.resolver=pe,this.auth=function jn(ze){return ze.wrapped()}(he)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(he){return Zn(Kt(this.auth),this.resolver.resolveSignIn(he))}}class Fe{constructor(he){this._delegate=he,this.multiFactor=$.ao(he)}static getOrCreate(he){return Fe.USER_MAP.has(he)||Fe.USER_MAP.set(he,new Fe(he)),Fe.USER_MAP.get(he)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(he){return this._delegate.getIdTokenResult(he)}getIdToken(he){return this._delegate.getIdToken(he)}linkAndRetrieveDataWithCredential(he){return this.linkWithCredential(he)}linkWithCredential(he){var pe=this;return(0,_.Z)(function*(){return Zn(pe.auth,$.Z(pe._delegate,he))})()}linkWithPhoneNumber(he,pe){var lt=this;return(0,_.Z)(function*(){return Mn(lt.auth,$.l(lt._delegate,he,pe))})()}linkWithPopup(he){var pe=this;return(0,_.Z)(function*(){return Zn(pe.auth,$.d(pe._delegate,he,vt))})()}linkWithRedirect(he){var pe=this;return(0,_.Z)(function*(){return yield dt($.aE(pe.auth)),$.g(pe._delegate,he,vt)})()}reauthenticateAndRetrieveDataWithCredential(he){return this.reauthenticateWithCredential(he)}reauthenticateWithCredential(he){var pe=this;return(0,_.Z)(function*(){return Zn(pe.auth,$._(pe._delegate,he))})()}reauthenticateWithPhoneNumber(he,pe){return Mn(this.auth,$.r(this._delegate,he,pe))}reauthenticateWithPopup(he){return Zn(this.auth,$.e(this._delegate,he,vt))}reauthenticateWithRedirect(he){var pe=this;return(0,_.Z)(function*(){return yield dt($.aE(pe.auth)),$.h(pe._delegate,he,vt)})()}sendEmailVerification(he){return $.ab(this._delegate,he)}unlink(he){var pe=this;return(0,_.Z)(function*(){return yield $.ak(pe._delegate,he),pe})()}updateEmail(he){return $.ag(this._delegate,he)}updatePassword(he){return $.ah(this._delegate,he)}updatePhoneNumber(he){return $.u(this._delegate,he)}updateProfile(he){return $.af(this._delegate,he)}verifyBeforeUpdateEmail(he,pe){return $.ac(this._delegate,he,pe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fe.USER_MAP=new WeakMap;const Ve=$.ax;let se=(()=>{class ze{constructor(pe,lt){if(this.app=pe,lt.isInitialized())return this._delegate=lt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ft}=pe.options;Ve(Ft,"invalid-api-key",{appName:pe.name}),Ve(Ft,"invalid-api-key",{appName:pe.name});const Xt=typeof window<"u"?vt:void 0;this._delegate=lt.initialize({options:{persistence:bt(Ft,pe.name),popupRedirectResolver:Xt}}),this._delegate._updateErrorMap($.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(pe){this._delegate.languageCode=pe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(pe){this._delegate.tenantId=pe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(pe,lt){$.G(this._delegate,pe,lt)}applyActionCode(pe){return $.a2(this._delegate,pe)}checkActionCode(pe){return $.a3(this._delegate,pe)}confirmPasswordReset(pe,lt){return $.a1(this._delegate,pe,lt)}createUserWithEmailAndPassword(pe,lt){var Ft=this;return(0,_.Z)(function*(){return Zn(Ft._delegate,$.a5(Ft._delegate,pe,lt))})()}fetchProvidersForEmail(pe){return this.fetchSignInMethodsForEmail(pe)}fetchSignInMethodsForEmail(pe){return $.aa(this._delegate,pe)}isSignInWithEmailLink(pe){return $.a8(this._delegate,pe)}getRedirectResult(){var pe=this;return(0,_.Z)(function*(){Ve(_r(),pe._delegate,"operation-not-supported-in-this-environment");const lt=yield $.j(pe._delegate,vt);return lt?Zn(pe._delegate,Promise.resolve(lt)):{credential:null,user:null}})()}addFrameworkForLogging(pe){!function Wn(ze,he){(0,$.aE)(ze)._logFramework(he)}(this._delegate,pe)}onAuthStateChanged(pe,lt,Ft){const{next:Xt,error:pt,complete:Dt}=ht(pe,lt,Ft);return this._delegate.onAuthStateChanged(Xt,pt,Dt)}onIdTokenChanged(pe,lt,Ft){const{next:Xt,error:pt,complete:Dt}=ht(pe,lt,Ft);return this._delegate.onIdTokenChanged(Xt,pt,Dt)}sendSignInLinkToEmail(pe,lt){return $.a7(this._delegate,pe,lt)}sendPasswordResetEmail(pe,lt){return $.a0(this._delegate,pe,lt||void 0)}setPersistence(pe){var lt=this;return(0,_.Z)(function*(){let Ft;switch(function li(ze,he){kr(Object.values(Tn).includes(he),ze,"invalid-persistence-type"),(0,_e.b$)()?kr(he!==Tn.SESSION,ze,"unsupported-persistence-type"):(0,_e.UG)()?kr(he===Tn.NONE,ze,"unsupported-persistence-type"):yr()?kr(he===Tn.NONE||he===Tn.LOCAL&&(0,_e.hl)(),ze,"unsupported-persistence-type"):kr(he===Tn.NONE||Mr(),ze,"unsupported-persistence-type")}(lt._delegate,pe),pe){case Tn.SESSION:Ft=$.a;break;case Tn.LOCAL:Ft=(yield $.ay($.i)._isAvailable())?$.i:$.b;break;case Tn.NONE:Ft=$.L;break;default:return $.at("argument-error",{appName:lt._delegate.name})}return lt._delegate.setPersistence(Ft)})()}signInAndRetrieveDataWithCredential(pe){return this.signInWithCredential(pe)}signInAnonymously(){return Zn(this._delegate,$.X(this._delegate))}signInWithCredential(pe){return Zn(this._delegate,$.Y(this._delegate,pe))}signInWithCustomToken(pe){return Zn(this._delegate,$.$(this._delegate,pe))}signInWithEmailAndPassword(pe,lt){return Zn(this._delegate,$.a6(this._delegate,pe,lt))}signInWithEmailLink(pe,lt){return Zn(this._delegate,$.a9(this._delegate,pe,lt))}signInWithPhoneNumber(pe,lt){return Mn(this._delegate,$.s(this._delegate,pe,lt))}signInWithPopup(pe){var lt=this;return(0,_.Z)(function*(){return Ve(_r(),lt._delegate,"operation-not-supported-in-this-environment"),Zn(lt._delegate,$.c(lt._delegate,pe,vt))})()}signInWithRedirect(pe){var lt=this;return(0,_.Z)(function*(){return Ve(_r(),lt._delegate,"operation-not-supported-in-this-environment"),yield dt(lt._delegate),$.f(lt._delegate,pe,vt)})()}updateCurrentUser(pe){return this._delegate.updateCurrentUser(pe)}verifyPasswordResetCode(pe){return $.a4(this._delegate,pe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ze.Persistence=Tn,ze})();function ht(ze,he,pe){let lt=ze;"function"!=typeof ze&&({next:lt,error:he,complete:pe}=ze);const Ft=lt;return{next:pt=>Ft(pt&&Fe.getOrCreate(pt)),error:he,complete:pe}}function bt(ze,he){const pe=function Pe(ze,he){const pe=ft();if(!pe)return[];const lt=$.az(jr,ze,he);switch(pe.getItem(lt)){case Tn.NONE:return[$.L];case Tn.LOCAL:return[$.i,$.a];case Tn.SESSION:return[$.a];default:return[]}}(ze,he);if(typeof self<"u"&&!pe.includes($.i)&&pe.push($.i),typeof window<"u")for(const lt of[$.b,$.a])pe.includes(lt)||pe.push(lt);return pe.includes($.L)||pe.push($.L),pe}class Ot{constructor(){this.providerId="phone",this._delegate=new $.P(Kt(f.Z.auth()))}static credential(he,pe){return $.P.credential(he,pe)}verifyPhoneNumber(he,pe){return this._delegate.verifyPhoneNumber(he,pe)}unwrap(){return this._delegate}}Ot.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Ot.PROVIDER_ID=$.P.PROVIDER_ID;const wn=$.ax;class $n{constructor(he,pe,lt=f.Z.app()){var Ft;wn(null===(Ft=lt.options)||void 0===Ft?void 0:Ft.apiKey,"invalid-api-key",{appName:lt.name}),this._delegate=new $.R(he,pe,lt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ln(ze){ze.INTERNAL.registerComponent(new Re.wA("auth-compat",he=>{const pe=he.getProvider("app-compat").getImmediate(),lt=he.getProvider("auth");return new se(pe,lt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.M,FacebookAuthProvider:$.N,GithubAuthProvider:$.T,GoogleAuthProvider:$.Q,OAuthProvider:$.U,SAMLAuthProvider:$.V,PhoneAuthProvider:Ot,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:$n,TwitterAuthProvider:$.W,Auth:se,AuthCredential:$.H,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ze.registerVersion("@firebase/auth-compat","0.2.17")}(f.Z)},9751:(en,Ke,j)=>{j.d(Ke,{y:()=>ke});var _=j(2961),f=j(727),$=j(8822),_e=j(9635),fe=j(2416),Ae=j(576),Re=j(2806);let ke=(()=>{class ve{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const et=new ve;return et.source=this,et.operator=Ye,et}subscribe(Ye,et,$t){const Je=function te(ve){return ve&&ve instanceof _.Lv||function le(ve){return ve&&(0,Ae.m)(ve.next)&&(0,Ae.m)(ve.error)&&(0,Ae.m)(ve.complete)}(ve)&&(0,f.Nn)(ve)}(Ye)?Ye:new _.Hp(Ye,et,$t);return(0,Re.x)(()=>{const{operator:Qe,source:Wt}=this;Je.add(Qe?Qe.call(Je,Wt):Wt?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(et){Ye.error(et)}}forEach(Ye,et){return new(et=Ue(et))(($t,Je)=>{const Qe=new _.Hp({next:Wt=>{try{Ye(Wt)}catch(Gt){Je(Gt),Qe.unsubscribe()}},error:Je,complete:$t});this.subscribe(Qe)})}_subscribe(Ye){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Ye)}[$.L](){return this}pipe(...Ye){return(0,_e.U)(Ye)(this)}toPromise(Ye){return new(Ye=Ue(Ye))((et,$t)=>{let Je;this.subscribe(Qe=>Je=Qe,Qe=>$t(Qe),()=>et(Je))})}}return ve.create=_t=>new ve(_t),ve})();function Ue(ve){var _t;return null!==(_t=ve??fe.v.Promise)&&void 0!==_t?_t:Promise}},7579:(en,Ke,j)=>{j.d(Ke,{x:()=>Re});var _=j(9751),f=j(727);const _e=(0,j(3888).d)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=j(8737),Ae=j(2806);let Re=(()=>{class Ue extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ve=new ke(this,this);return ve.operator=te,ve}_throwIfClosed(){if(this.closed)throw new _e}next(te){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(te)}})}error(te){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ve}=this;for(;ve.length;)ve.shift().error(te)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ve,isStopped:_t,observers:Ye}=this;return ve||_t?f.Lc:(this.currentObservers=null,Ye.push(te),new f.w0(()=>{this.currentObservers=null,(0,fe.P)(Ye,te)}))}_checkFinalizedStatuses(te){const{hasError:ve,thrownError:_t,isStopped:Ye}=this;ve?te.error(_t):Ye&&te.complete()}asObservable(){const te=new _.y;return te.source=this,te}}return Ue.create=(le,te)=>new ke(le,te),Ue})();class ke extends Re{constructor(le,te){super(),this.destination=le,this.source=te}next(le){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ve||ve.call(te,le)}error(le){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ve||ve.call(te,le)}complete(){var le,te;null===(te=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===te||te.call(le)}_subscribe(le){var te,ve;return null!==(ve=null===(te=this.source)||void 0===te?void 0:te.subscribe(le))&&void 0!==ve?ve:f.Lc}}},2961:(en,Ke,j)=>{j.d(Ke,{Hp:()=>$t,Lv:()=>ve});var _=j(576),f=j(727),$=j(2416),_e=j(7849);function fe(){}const Ae=Ue("C",void 0,void 0);function Ue(de,ct,ot){return{kind:de,value:ct,error:ot}}var le=j(3410),te=j(2806);class ve extends f.w0{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,f.Nn)(ct)&&ct.add(this)):this.destination=Gt}static create(ct,ot,wt){return new $t(ct,ot,wt)}next(ct){this.isStopped?Wt(function ke(de){return Ue("N",de,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?Wt(function Re(de){return Ue("E",void 0,de)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?Wt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function Ye(de,ct){return _t.call(de,ct)}class et{constructor(ct){this.partialObserver=ct}next(ct){const{partialObserver:ot}=this;if(ot.next)try{ot.next(ct)}catch(wt){Je(wt)}}error(ct){const{partialObserver:ot}=this;if(ot.error)try{ot.error(ct)}catch(wt){Je(wt)}else Je(ct)}complete(){const{partialObserver:ct}=this;if(ct.complete)try{ct.complete()}catch(ot){Je(ot)}}}class $t extends ve{constructor(ct,ot,wt){let ae;if(super(),(0,_.m)(ct)||!ct)ae={next:ct??void 0,error:ot??void 0,complete:wt??void 0};else{let $e;this&&$.v.useDeprecatedNextContext?($e=Object.create(ct),$e.unsubscribe=()=>this.unsubscribe(),ae={next:ct.next&&Ye(ct.next,$e),error:ct.error&&Ye(ct.error,$e),complete:ct.complete&&Ye(ct.complete,$e)}):ae=ct}this.destination=new et(ae)}}function Je(de){$.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(de):(0,_e.h)(de)}function Wt(de,ct){const{onStoppedNotification:ot}=$.v;ot&&le.z.setTimeout(()=>ot(de,ct))}const Gt={closed:!0,next:fe,error:function Qe(de){throw de},complete:fe}},727:(en,Ke,j)=>{j.d(Ke,{Lc:()=>Ae,w0:()=>fe,Nn:()=>Re});var _=j(576);const $=(0,j(3888).d)(Ue=>function(te){Ue(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ve,_t)=>`${_t+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var _e=j(8737);class fe{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ye of te)Ye.remove(this);else te.remove(this);const{initialTeardown:ve}=this;if((0,_.m)(ve))try{ve()}catch(Ye){le=Ye instanceof $?Ye.errors:[Ye]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const Ye of _t)try{ke(Ye)}catch(et){le=le??[],et instanceof $?le=[...le,...et.errors]:le.push(et)}}if(le)throw new $(le)}}add(le){var te;if(le&&le!==this)if(this.closed)ke(le);else{if(le instanceof fe){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(le)}}_hasParent(le){const{_parentage:te}=this;return te===le||Array.isArray(te)&&te.includes(le)}_addParent(le){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(le),te):te?[te,le]:le}_removeParent(le){const{_parentage:te}=this;te===le?this._parentage=null:Array.isArray(te)&&(0,_e.P)(te,le)}remove(le){const{_finalizers:te}=this;te&&(0,_e.P)(te,le),le instanceof fe&&le._removeParent(this)}}fe.EMPTY=(()=>{const Ue=new fe;return Ue.closed=!0,Ue})();const Ae=fe.EMPTY;function Re(Ue){return Ue instanceof fe||Ue&&"closed"in Ue&&(0,_.m)(Ue.remove)&&(0,_.m)(Ue.add)&&(0,_.m)(Ue.unsubscribe)}function ke(Ue){(0,_.m)(Ue)?Ue():Ue.unsubscribe()}},2416:(en,Ke,j)=>{j.d(Ke,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(en,Ke,j)=>{j.d(Ke,{z:()=>fe});var _=j(8189),$=j(7669),_e=j(8996);function fe(...Ae){return function f(){return(0,_.J)(1)}()((0,_e.D)(Ae,(0,$.yG)(Ae)))}},515:(en,Ke,j)=>{j.d(Ke,{E:()=>f});const f=new(j(9751).y)(fe=>fe.complete())},8996:(en,Ke,j)=>{j.d(Ke,{D:()=>ct});var _=j(8421),f=j(5363),$=j(9468),Ae=j(9751),ke=j(2202),Ue=j(576),le=j(9672);function ve(ot,wt){if(!ot)throw new Error("Iterable cannot be null");return new Ae.y(ae=>{(0,le.f)(ae,wt,()=>{const $e=ot[Symbol.asyncIterator]();(0,le.f)(ae,wt,()=>{$e.next().then(at=>{at.done?ae.complete():ae.next(at.value)})},0,!0)})})}var _t=j(3670),Ye=j(8239),et=j(1144),$t=j(6495),Je=j(2206),Qe=j(4532),Wt=j(3260);function ct(ot,wt){return wt?function de(ot,wt){if(null!=ot){if((0,_t.c)(ot))return function _e(ot,wt){return(0,_.Xf)(ot).pipe((0,$.R)(wt),(0,f.Q)(wt))}(ot,wt);if((0,et.z)(ot))return function Re(ot,wt){return new Ae.y(ae=>{let $e=0;return wt.schedule(function(){$e===ot.length?ae.complete():(ae.next(ot[$e++]),ae.closed||this.schedule())})})}(ot,wt);if((0,Ye.t)(ot))return function fe(ot,wt){return(0,_.Xf)(ot).pipe((0,$.R)(wt),(0,f.Q)(wt))}(ot,wt);if((0,Je.D)(ot))return ve(ot,wt);if((0,$t.T)(ot))return function te(ot,wt){return new Ae.y(ae=>{let $e;return(0,le.f)(ae,wt,()=>{$e=ot[ke.h](),(0,le.f)(ae,wt,()=>{let at,oe;try{({value:at,done:oe}=$e.next())}catch(Be){return void ae.error(Be)}oe?ae.complete():ae.next(at)},0,!0)}),()=>(0,Ue.m)($e?.return)&&$e.return()})}(ot,wt);if((0,Wt.L)(ot))return function Gt(ot,wt){return ve((0,Wt.Q)(ot),wt)}(ot,wt)}throw(0,Qe.z)(ot)}(ot,wt):(0,_.Xf)(ot)}},8421:(en,Ke,j)=>{j.d(Ke,{Xf:()=>_t});var _=j(655),f=j(1144),$=j(8239),_e=j(9751),fe=j(3670),Ae=j(2206),Re=j(4532),ke=j(6495),Ue=j(3260),le=j(576),te=j(7849),ve=j(8822);function _t(de){if(de instanceof _e.y)return de;if(null!=de){if((0,fe.c)(de))return function Ye(de){return new _e.y(ct=>{const ot=de[ve.L]();if((0,le.m)(ot.subscribe))return ot.subscribe(ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,f.z)(de))return function et(de){return new _e.y(ct=>{for(let ot=0;ot<de.length&&!ct.closed;ot++)ct.next(de[ot]);ct.complete()})}(de);if((0,$.t)(de))return function $t(de){return new _e.y(ct=>{de.then(ot=>{ct.closed||(ct.next(ot),ct.complete())},ot=>ct.error(ot)).then(null,te.h)})}(de);if((0,Ae.D)(de))return Qe(de);if((0,ke.T)(de))return function Je(de){return new _e.y(ct=>{for(const ot of de)if(ct.next(ot),ct.closed)return;ct.complete()})}(de);if((0,Ue.L)(de))return function Wt(de){return Qe((0,Ue.Q)(de))}(de)}throw(0,Re.z)(de)}function Qe(de){return new _e.y(ct=>{(function Gt(de,ct){var ot,wt,ae,$e;return(0,_.mG)(this,void 0,void 0,function*(){try{for(ot=(0,_.KL)(de);!(wt=yield ot.next()).done;)if(ct.next(wt.value),ct.closed)return}catch(at){ae={error:at}}finally{try{wt&&!wt.done&&($e=ot.return)&&(yield $e.call(ot))}finally{if(ae)throw ae.error}}ct.complete()})})(de,ct).catch(ot=>ct.error(ot))})}},6451:(en,Ke,j)=>{j.d(Ke,{T:()=>Ae});var _=j(8189),f=j(8421),$=j(515),_e=j(7669),fe=j(8996);function Ae(...Re){const ke=(0,_e.yG)(Re),Ue=(0,_e._6)(Re,1/0),le=Re;return le.length?1===le.length?(0,f.Xf)(le[0]):(0,_.J)(Ue)((0,fe.D)(le,ke)):$.E}},9646:(en,Ke,j)=>{j.d(Ke,{of:()=>$});var _=j(7669),f=j(8996);function $(..._e){const fe=(0,_.yG)(_e);return(0,f.D)(_e,fe)}},5403:(en,Ke,j)=>{j.d(Ke,{x:()=>f});var _=j(2961);function f(_e,fe,Ae,Re,ke){return new $(_e,fe,Ae,Re,ke)}class $ extends _.Lv{constructor(fe,Ae,Re,ke,Ue,le){super(fe),this.onFinalize=Ue,this.shouldUnsubscribe=le,this._next=Ae?function(te){try{Ae(te)}catch(ve){fe.error(ve)}}:super._next,this._error=ke?function(te){try{ke(te)}catch(ve){fe.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(te){fe.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4351:(en,Ke,j)=>{j.d(Ke,{b:()=>$});var _=j(5577),f=j(576);function $(_e,fe){return(0,f.m)(fe)?(0,_.z)(_e,fe,1):(0,_.z)(_e,1)}},6590:(en,Ke,j)=>{j.d(Ke,{d:()=>$});var _=j(4482),f=j(5403);function $(_e){return(0,_.e)((fe,Ae)=>{let Re=!1;fe.subscribe((0,f.x)(Ae,ke=>{Re=!0,Ae.next(ke)},()=>{Re||Ae.next(_e),Ae.complete()}))})}},9300:(en,Ke,j)=>{j.d(Ke,{h:()=>$});var _=j(4482),f=j(5403);function $(_e,fe){return(0,_.e)((Ae,Re)=>{let ke=0;Ae.subscribe((0,f.x)(Re,Ue=>_e.call(fe,Ue,ke++)&&Re.next(Ue)))})}},590:(en,Ke,j)=>{j.d(Ke,{P:()=>Re});var _=j(6805),f=j(9300),$=j(5698),_e=j(6590),fe=j(8068),Ae=j(4671);function Re(ke,Ue){const le=arguments.length>=2;return te=>te.pipe(ke?(0,f.h)((ve,_t)=>ke(ve,_t,te)):Ae.y,(0,$.q)(1),le?(0,_e.d)(Ue):(0,fe.T)(()=>new _.K))}},4004:(en,Ke,j)=>{j.d(Ke,{U:()=>$});var _=j(4482),f=j(5403);function $(_e,fe){return(0,_.e)((Ae,Re)=>{let ke=0;Ae.subscribe((0,f.x)(Re,Ue=>{Re.next(_e.call(fe,Ue,ke++))}))})}},8189:(en,Ke,j)=>{j.d(Ke,{J:()=>$});var _=j(5577),f=j(4671);function $(_e=1/0){return(0,_.z)(f.y,_e)}},5577:(en,Ke,j)=>{j.d(Ke,{z:()=>ke});var _=j(4004),f=j(8421),$=j(4482),_e=j(9672),fe=j(5403),Re=j(576);function ke(Ue,le,te=1/0){return(0,Re.m)(le)?ke((ve,_t)=>(0,_.U)((Ye,et)=>le(ve,Ye,_t,et))((0,f.Xf)(Ue(ve,_t))),te):("number"==typeof le&&(te=le),(0,$.e)((ve,_t)=>function Ae(Ue,le,te,ve,_t,Ye,et,$t){const Je=[];let Qe=0,Wt=0,Gt=!1;const de=()=>{Gt&&!Je.length&&!Qe&&le.complete()},ct=wt=>Qe<ve?ot(wt):Je.push(wt),ot=wt=>{Ye&&le.next(wt),Qe++;let ae=!1;(0,f.Xf)(te(wt,Wt++)).subscribe((0,fe.x)(le,$e=>{_t?.($e),Ye?ct($e):le.next($e)},()=>{ae=!0},void 0,()=>{if(ae)try{for(Qe--;Je.length&&Qe<ve;){const $e=Je.shift();et?(0,_e.f)(le,et,()=>ot($e)):ot($e)}de()}catch($e){le.error($e)}}))};return Ue.subscribe((0,fe.x)(le,ct,()=>{Gt=!0,de()})),()=>{$t?.()}}(ve,_t,Ue,te)))}},5363:(en,Ke,j)=>{j.d(Ke,{Q:()=>_e});var _=j(9672),f=j(4482),$=j(5403);function _e(fe,Ae=0){return(0,f.e)((Re,ke)=>{Re.subscribe((0,$.x)(ke,Ue=>(0,_.f)(ke,fe,()=>ke.next(Ue),Ae),()=>(0,_.f)(ke,fe,()=>ke.complete(),Ae),Ue=>(0,_.f)(ke,fe,()=>ke.error(Ue),Ae)))})}},5026:(en,Ke,j)=>{j.d(Ke,{R:()=>_e});var _=j(4482),f=j(5403);function $(fe,Ae,Re,ke,Ue){return(le,te)=>{let ve=Re,_t=Ae,Ye=0;le.subscribe((0,f.x)(te,et=>{const $t=Ye++;_t=ve?fe(_t,et,$t):(ve=!0,et),ke&&te.next(_t)},Ue&&(()=>{ve&&te.next(_t),te.complete()})))}}function _e(fe,Ae){return(0,_.e)($(fe,Ae,arguments.length>=2,!0))}},3099:(en,Ke,j)=>{j.d(Ke,{B:()=>Ae});var _=j(8996),f=j(5698),$=j(7579),_e=j(2961),fe=j(4482);function Ae(ke={}){const{connector:Ue=(()=>new $.x),resetOnError:le=!0,resetOnComplete:te=!0,resetOnRefCountZero:ve=!0}=ke;return _t=>{let Ye=null,et=null,$t=null,Je=0,Qe=!1,Wt=!1;const Gt=()=>{et?.unsubscribe(),et=null},de=()=>{Gt(),Ye=$t=null,Qe=Wt=!1},ct=()=>{const ot=Ye;de(),ot?.unsubscribe()};return(0,fe.e)((ot,wt)=>{Je++,!Wt&&!Qe&&Gt();const ae=$t=$t??Ue();wt.add(()=>{Je--,0===Je&&!Wt&&!Qe&&(et=Re(ct,ve))}),ae.subscribe(wt),Ye||(Ye=new _e.Hp({next:$e=>ae.next($e),error:$e=>{Wt=!0,Gt(),et=Re(de,le,$e),ae.error($e)},complete:()=>{Qe=!0,Gt(),et=Re(de,te),ae.complete()}}),(0,_.D)(ot).subscribe(Ye))})(_t)}}function Re(ke,Ue,...le){return!0===Ue?(ke(),null):!1===Ue?null:Ue(...le).pipe((0,f.q)(1)).subscribe(()=>ke())}},8675:(en,Ke,j)=>{j.d(Ke,{O:()=>_e});var _=j(7272),f=j(7669),$=j(4482);function _e(...fe){const Ae=(0,f.yG)(fe);return(0,$.e)((Re,ke)=>{(Ae?(0,_.z)(fe,Re,Ae):(0,_.z)(fe,Re)).subscribe(ke)})}},9468:(en,Ke,j)=>{j.d(Ke,{R:()=>f});var _=j(4482);function f($,_e=0){return(0,_.e)((fe,Ae)=>{Ae.add($.schedule(()=>fe.subscribe(Ae),_e))})}},3900:(en,Ke,j)=>{j.d(Ke,{w:()=>_e});var _=j(8421),f=j(4482),$=j(5403);function _e(fe,Ae){return(0,f.e)((Re,ke)=>{let Ue=null,le=0,te=!1;const ve=()=>te&&!Ue&&ke.complete();Re.subscribe((0,$.x)(ke,_t=>{Ue?.unsubscribe();let Ye=0;const et=le++;(0,_.Xf)(fe(_t,et)).subscribe(Ue=(0,$.x)(ke,$t=>ke.next(Ae?Ae(_t,$t,et,Ye++):$t),()=>{Ue=null,ve()}))},()=>{te=!0,ve()}))})}},5698:(en,Ke,j)=>{j.d(Ke,{q:()=>_e});var _=j(515),f=j(4482),$=j(5403);function _e(fe){return fe<=0?()=>_.E:(0,f.e)((Ae,Re)=>{let ke=0;Ae.subscribe((0,$.x)(Re,Ue=>{++ke<=fe&&(Re.next(Ue),fe<=ke&&Re.complete())}))})}},8505:(en,Ke,j)=>{j.d(Ke,{b:()=>fe});var _=j(576),f=j(4482),$=j(5403),_e=j(4671);function fe(Ae,Re,ke){const Ue=(0,_.m)(Ae)||Re||ke?{next:Ae,error:Re,complete:ke}:Ae;return Ue?(0,f.e)((le,te)=>{var ve;null===(ve=Ue.subscribe)||void 0===ve||ve.call(Ue);let _t=!0;le.subscribe((0,$.x)(te,Ye=>{var et;null===(et=Ue.next)||void 0===et||et.call(Ue,Ye),te.next(Ye)},()=>{var Ye;_t=!1,null===(Ye=Ue.complete)||void 0===Ye||Ye.call(Ue),te.complete()},Ye=>{var et;_t=!1,null===(et=Ue.error)||void 0===et||et.call(Ue,Ye),te.error(Ye)},()=>{var Ye,et;_t&&(null===(Ye=Ue.unsubscribe)||void 0===Ye||Ye.call(Ue)),null===(et=Ue.finalize)||void 0===et||et.call(Ue)}))}):_e.y}},8068:(en,Ke,j)=>{j.d(Ke,{T:()=>_e});var _=j(6805),f=j(4482),$=j(5403);function _e(Ae=fe){return(0,f.e)((Re,ke)=>{let Ue=!1;Re.subscribe((0,$.x)(ke,le=>{Ue=!0,ke.next(le)},()=>Ue?ke.complete():ke.error(Ae())))})}function fe(){return new _.K}},4408:(en,Ke,j)=>{j.d(Ke,{o:()=>fe});var _=j(727);class f extends _.w0{constructor(Re,ke){super()}schedule(Re,ke=0){return this}}const $={setInterval(Ae,Re,...ke){const{delegate:Ue}=$;return Ue?.setInterval?Ue.setInterval(Ae,Re,...ke):setInterval(Ae,Re,...ke)},clearInterval(Ae){const{delegate:Re}=$;return(Re?.clearInterval||clearInterval)(Ae)},delegate:void 0};var _e=j(8737);class fe extends f{constructor(Re,ke){super(Re,ke),this.scheduler=Re,this.work=ke,this.pending=!1}schedule(Re,ke=0){if(this.closed)return this;this.state=Re;const Ue=this.id,le=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(le,Ue,ke)),this.pending=!0,this.delay=ke,this.id=this.id||this.requestAsyncId(le,this.id,ke),this}requestAsyncId(Re,ke,Ue=0){return $.setInterval(Re.flush.bind(Re,this),Ue)}recycleAsyncId(Re,ke,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return ke;$.clearInterval(ke)}execute(Re,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(Re,ke);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ke){let le,Ue=!1;try{this.work(Re)}catch(te){Ue=!0,le=te||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:Re,scheduler:ke}=this,{actions:Ue}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Ue,this),null!=Re&&(this.id=this.recycleAsyncId(ke,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(en,Ke,j)=>{j.d(Ke,{v:()=>$});var _=j(6063);class f{constructor(fe,Ae=f.now){this.schedulerActionCtor=fe,this.now=Ae}schedule(fe,Ae=0,Re){return new this.schedulerActionCtor(this,fe).schedule(Re,Ae)}}f.now=_.l.now;class $ extends f{constructor(fe,Ae=f.now){super(fe,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Ae}=this;if(this._active)return void Ae.push(fe);let Re;this._active=!0;do{if(Re=fe.execute(fe.state,fe.delay))break}while(fe=Ae.shift());if(this._active=!1,Re){for(;fe=Ae.shift();)fe.unsubscribe();throw Re}}}},4986:(en,Ke,j)=>{j.d(Ke,{z:()=>$});var _=j(4408);const $=new(j(7565).v)(_.o)},6063:(en,Ke,j)=>{j.d(Ke,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(en,Ke,j)=>{j.d(Ke,{z:()=>_});const _={setTimeout(f,$,..._e){const{delegate:fe}=_;return fe?.setTimeout?fe.setTimeout(f,$,..._e):setTimeout(f,$,..._e)},clearTimeout(f){const{delegate:$}=_;return($?.clearTimeout||clearTimeout)(f)},delegate:void 0}},2202:(en,Ke,j)=>{j.d(Ke,{h:()=>f});const f=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(en,Ke,j)=>{j.d(Ke,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(en,Ke,j)=>{j.d(Ke,{K:()=>f});const f=(0,j(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(en,Ke,j)=>{j.d(Ke,{_6:()=>Ae,jO:()=>_e,yG:()=>fe});var _=j(576);function $(Re){return Re[Re.length-1]}function _e(Re){return(0,_.m)($(Re))?Re.pop():void 0}function fe(Re){return function f(Re){return Re&&(0,_.m)(Re.schedule)}($(Re))?Re.pop():void 0}function Ae(Re,ke){return"number"==typeof $(Re)?Re.pop():ke}},4742:(en,Ke,j)=>{j.d(Ke,{D:()=>fe});const{isArray:_}=Array,{getPrototypeOf:f,prototype:$,keys:_e}=Object;function fe(Re){if(1===Re.length){const ke=Re[0];if(_(ke))return{args:ke,keys:null};if(function Ae(Re){return Re&&"object"==typeof Re&&f(Re)===$}(ke)){const Ue=_e(ke);return{args:Ue.map(le=>ke[le]),keys:Ue}}}return{args:Re,keys:null}}},8737:(en,Ke,j)=>{function _(f,$){if(f){const _e=f.indexOf($);0<=_e&&f.splice(_e,1)}}j.d(Ke,{P:()=>_})},3888:(en,Ke,j)=>{function _(f){const _e=f(fe=>{Error.call(fe),fe.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}j.d(Ke,{d:()=>_})},1810:(en,Ke,j)=>{function _(f,$){return f.reduce((_e,fe,Ae)=>(_e[fe]=$[Ae],_e),{})}j.d(Ke,{n:()=>_})},2806:(en,Ke,j)=>{j.d(Ke,{O:()=>_e,x:()=>$});var _=j(2416);let f=null;function $(fe){if(_.v.useDeprecatedSynchronousErrorHandling){const Ae=!f;if(Ae&&(f={errorThrown:!1,error:null}),fe(),Ae){const{errorThrown:Re,error:ke}=f;if(f=null,Re)throw ke}}else fe()}function _e(fe){_.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=fe)}},9672:(en,Ke,j)=>{function _(f,$,_e,fe=0,Ae=!1){const Re=$.schedule(function(){_e(),Ae?f.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(f.add(Re),!Ae)return Re}j.d(Ke,{f:()=>_})},4671:(en,Ke,j)=>{function _(f){return f}j.d(Ke,{y:()=>_})},1144:(en,Ke,j)=>{j.d(Ke,{z:()=>_});const _=f=>f&&"number"==typeof f.length&&"function"!=typeof f},2206:(en,Ke,j)=>{j.d(Ke,{D:()=>f});var _=j(576);function f($){return Symbol.asyncIterator&&(0,_.m)($?.[Symbol.asyncIterator])}},576:(en,Ke,j)=>{function _(f){return"function"==typeof f}j.d(Ke,{m:()=>_})},3670:(en,Ke,j)=>{j.d(Ke,{c:()=>$});var _=j(8822),f=j(576);function $(_e){return(0,f.m)(_e[_.L])}},6495:(en,Ke,j)=>{j.d(Ke,{T:()=>$});var _=j(2202),f=j(576);function $(_e){return(0,f.m)(_e?.[_.h])}},8239:(en,Ke,j)=>{j.d(Ke,{t:()=>f});var _=j(576);function f($){return(0,_.m)($?.then)}},3260:(en,Ke,j)=>{j.d(Ke,{L:()=>_e,Q:()=>$});var _=j(655),f=j(576);function $(fe){return(0,_.FC)(this,arguments,function*(){const Re=fe.getReader();try{for(;;){const{value:ke,done:Ue}=yield(0,_.qq)(Re.read());if(Ue)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ke)}}finally{Re.releaseLock()}})}function _e(fe){return(0,f.m)(fe?.getReader)}},4482:(en,Ke,j)=>{j.d(Ke,{A:()=>f,e:()=>$});var _=j(576);function f(_e){return(0,_.m)(_e?.lift)}function $(_e){return fe=>{if(f(fe))return fe.lift(function(Ae){try{return _e(Ae,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(en,Ke,j)=>{j.d(Ke,{Z:()=>_e});var _=j(4004);const{isArray:f}=Array;function _e(fe){return(0,_.U)(Ae=>function $(fe,Ae){return f(Ae)?fe(...Ae):fe(Ae)}(fe,Ae))}},9635:(en,Ke,j)=>{j.d(Ke,{U:()=>$,z:()=>f});var _=j(4671);function f(..._e){return $(_e)}function $(_e){return 0===_e.length?_.y:1===_e.length?_e[0]:function(Ae){return _e.reduce((Re,ke)=>ke(Re),Ae)}}},7849:(en,Ke,j)=>{j.d(Ke,{h:()=>$});var _=j(2416),f=j(3410);function $(_e){f.z.setTimeout(()=>{const{onUnhandledError:fe}=_.v;if(!fe)throw _e;fe(_e)})}},4532:(en,Ke,j)=>{function _(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ke,{z:()=>_})},655:(en,Ke,j)=>{function _e(oe,Be){var Te={};for(var Xe in oe)Object.prototype.hasOwnProperty.call(oe,Xe)&&Be.indexOf(Xe)<0&&(Te[Xe]=oe[Xe]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(Xe=Object.getOwnPropertySymbols(oe);Ge<Xe.length;Ge++)Be.indexOf(Xe[Ge])<0&&Object.prototype.propertyIsEnumerable.call(oe,Xe[Ge])&&(Te[Xe[Ge]]=oe[Xe[Ge]])}return Te}function ke(oe,Be,Te,Xe){return new(Te||(Te=Promise))(function(Mt,on){function sn(Wn){try{Bt(Xe.next(Wn))}catch(Sn){on(Sn)}}function Rn(Wn){try{Bt(Xe.throw(Wn))}catch(Sn){on(Sn)}}function Bt(Wn){Wn.done?Mt(Wn.value):function Ge(Mt){return Mt instanceof Te?Mt:new Te(function(on){on(Mt)})}(Wn.value).then(sn,Rn)}Bt((Xe=Xe.apply(oe,Be||[])).next())})}function Je(oe){return this instanceof Je?(this.v=oe,this):new Je(oe)}function Qe(oe,Be,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Xe=Te.apply(oe,Be||[]),Mt=[];return Ge={},on("next"),on("throw"),on("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function on(tr){Xe[tr]&&(Ge[tr]=function(En){return new Promise(function(mn,Fn){Mt.push([tr,En,mn,Fn])>1||sn(tr,En)})})}function sn(tr,En){try{!function Rn(tr){tr.value instanceof Je?Promise.resolve(tr.value.v).then(Bt,Wn):Sn(Mt[0][2],tr)}(Xe[tr](En))}catch(mn){Sn(Mt[0][3],mn)}}function Bt(tr){sn("next",tr)}function Wn(tr){sn("throw",tr)}function Sn(tr,En){tr(En),Mt.shift(),Mt.length&&sn(Mt[0][0],Mt[0][1])}}function Gt(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Be=oe[Symbol.asyncIterator];return Be?Be.call(oe):(oe=function ve(oe){var Be="function"==typeof Symbol&&Symbol.iterator,Te=Be&&oe[Be],Xe=0;if(Te)return Te.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Xe>=oe.length&&(oe=void 0),{value:oe&&oe[Xe++],done:!oe}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),Te={},Xe("next"),Xe("throw"),Xe("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Xe(Mt){Te[Mt]=oe[Mt]&&function(on){return new Promise(function(sn,Rn){!function Ge(Mt,on,sn,Rn){Promise.resolve(Rn).then(function(Bt){Mt({value:Bt,done:sn})},on)}(sn,Rn,(on=oe[Mt](on)).done,on.value)})}}}j.d(Ke,{FC:()=>Qe,KL:()=>Gt,_T:()=>_e,mG:()=>ke,qq:()=>Je})},6895:(en,Ke,j)=>{j.d(Ke,{Do:()=>de,EM:()=>xs,HT:()=>fe,JF:()=>vr,K0:()=>Re,Mx:()=>ao,O5:()=>He,Ov:()=>Si,PM:()=>Vs,RF:()=>Jn,S$:()=>Je,V_:()=>le,Ye:()=>ct,b0:()=>Gt,bD:()=>Zi,ez:()=>ba,lw:()=>ke,mk:()=>uo,mr:()=>Wt,n9:()=>Pr,q:()=>$,sg:()=>Ki,w_:()=>Ae});var _=j(4650);let f=null;function $(){return f}function fe(R){f||(f=R)}class Ae{}const Re=new _.OlP("DocumentToken");let ke=(()=>{class R{historyGo(k){throw new Error("Not implemented")}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275prov=_.Yz7({token:R,factory:function(){return function Ue(){return(0,_.LFG)(te)}()},providedIn:"platform"}),R})();const le=new _.OlP("Location Initialized");let te=(()=>{class R extends ke{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(k){const Q=$().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",k,!1),()=>Q.removeEventListener("popstate",k)}onHashChange(k){const Q=$().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",k,!1),()=>Q.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,Q,Ce){ve()?this._history.pushState(k,Q,Ce):this.location.hash=Ce}replaceState(k,Q,Ce){ve()?this._history.replaceState(k,Q,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return R.\u0275fac=function(k){return new(k||R)(_.LFG(Re))},R.\u0275prov=_.Yz7({token:R,factory:function(){return function _t(){return new te((0,_.LFG)(Re))}()},providedIn:"platform"}),R})();function ve(){return!!window.history.pushState}function Ye(R,K){if(0==R.length)return K;if(0==K.length)return R;let k=0;return R.endsWith("/")&&k++,K.startsWith("/")&&k++,2==k?R+K.substring(1):1==k?R+K:R+"/"+K}function et(R){const K=R.match(/#|\?|$/),k=K&&K.index||R.length;return R.slice(0,k-("/"===R[k-1]?1:0))+R.slice(k)}function $t(R){return R&&"?"!==R[0]?"?"+R:R}let Je=(()=>{class R{historyGo(k){throw new Error("Not implemented")}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275prov=_.Yz7({token:R,factory:function(){return function Qe(){const R=(0,_.LFG)(Re).location;return new Gt((0,_.LFG)(ke),R&&R.origin||"")}()},providedIn:"root"}),R})();const Wt=new _.OlP("appBaseHref");let Gt=(()=>{class R extends Je{constructor(k,Q){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Ye(this._baseHref,k)}path(k=!1){const Q=this._platformLocation.pathname+$t(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&k?`${Q}${Ce}`:Q}pushState(k,Q,Ce,We){const Ct=this.prepareExternalUrl(Ce+$t(We));this._platformLocation.pushState(k,Q,Ct)}replaceState(k,Q,Ce,We){const Ct=this.prepareExternalUrl(Ce+$t(We));this._platformLocation.replaceState(k,Q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return R.\u0275fac=function(k){return new(k||R)(_.LFG(ke),_.LFG(Wt,8))},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})(),de=(()=>{class R extends Je{constructor(k,Q){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(k){const Q=Ye(this._baseHref,k);return Q.length>0?"#"+Q:Q}pushState(k,Q,Ce,We){let Ct=this.prepareExternalUrl(Ce+$t(We));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(k,Q,Ct)}replaceState(k,Q,Ce,We){let Ct=this.prepareExternalUrl(Ce+$t(We));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(k,Q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return R.\u0275fac=function(k){return new(k||R)(_.LFG(ke),_.LFG(Wt,8))},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})(),ct=(()=>{class R{constructor(k){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Q=this._locationStrategy.getBaseHref();this._baseHref=et(ae(Q)),this._locationStrategy.onPopState(Ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ce.state,type:Ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Q=""){return this.path()==this.normalize(k+$t(Q))}normalize(k){return R.stripTrailingSlash(function wt(R,K){return R&&K.startsWith(R)?K.substring(R.length):K}(this._baseHref,ae(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Q="",Ce=null){this._locationStrategy.pushState(Ce,"",k,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+$t(Q)),Ce)}replaceState(k,Q="",Ce=null){this._locationStrategy.replaceState(Ce,"",k,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+$t(Q)),Ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Q){this._urlChangeListeners.forEach(Ce=>Ce(k,Q))}subscribe(k,Q,Ce){return this._subject.subscribe({next:k,error:Q,complete:Ce})}}return R.normalizeQueryParams=$t,R.joinWithSlash=Ye,R.stripTrailingSlash=et,R.\u0275fac=function(k){return new(k||R)(_.LFG(Je))},R.\u0275prov=_.Yz7({token:R,factory:function(){return function ot(){return new ct((0,_.LFG)(Je))}()},providedIn:"root"}),R})();function ae(R){return R.replace(/\/index.html$/,"")}function ao(R,K){K=encodeURIComponent(K);for(const k of R.split(";")){const Q=k.indexOf("="),[Ce,We]=-1==Q?[k,""]:[k.slice(0,Q),k.slice(Q+1)];if(Ce.trim()===K)return decodeURIComponent(We)}return null}let uo=(()=>{class R{constructor(k,Q,Ce,We){this._iterableDiffers=k,this._keyValueDiffers=Q,this._ngEl=Ce,this._renderer=We,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),k.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),k.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),k.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(k).forEach(Q=>this._toggleClass(Q,!!k[Q])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(k).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(k,Q){(k=k.trim())&&k.split(/\s+/g).forEach(Ce=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return R.\u0275fac=function(k){return new(k||R)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},R.\u0275dir=_.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class ki{constructor(K,k,Q,Ce){this.$implicit=K,this.ngForOf=k,this.index=Q,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class R{constructor(k,Q,Ce){this._viewContainer=k,this._template=Q,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Q=this._viewContainer;k.forEachOperation((Ce,We,Ct)=>{if(null==Ce.previousIndex)Q.createEmbeddedView(this._template,new ki(Ce.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)Q.remove(null===We?void 0:We);else if(null!==We){const Ht=Q.get(We);Q.move(Ht,Ct),Oe(Ht,Ce)}});for(let Ce=0,We=Q.length;Ce<We;Ce++){const Ht=Q.get(Ce).context;Ht.index=Ce,Ht.count=We,Ht.ngForOf=this._ngForOf}k.forEachIdentityChange(Ce=>{Oe(Q.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(k,Q){return!0}}return R.\u0275fac=function(k){return new(k||R)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},R.\u0275dir=_.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Oe(R,K){R.context.$implicit=K.item}let He=(()=>{class R{constructor(k,Q){this._viewContainer=k,this._context=new mt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){xt("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){xt("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Q){return!0}}return R.\u0275fac=function(k){return new(k||R)(_.Y36(_.s_b),_.Y36(_.Rgc))},R.\u0275dir=_.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class mt{constructor(){this.$implicit=null,this.ngIf=null}}function xt(R,K){if(K&&!K.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,_.AaK)(K)}'.`)}class tn{constructor(K,k){this._viewContainerRef=K,this._templateRef=k,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let Jn=(()=>{class R{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(k){this._ngSwitch=k,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(k){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(k)}_matchCase(k){const Q=k==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(k){if(this._defaultViews&&k!==this._defaultUsed){this._defaultUsed=k;for(let Q=0;Q<this._defaultViews.length;Q++)this._defaultViews[Q].enforceState(k)}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275dir=_.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),R})(),Pr=(()=>{class R{constructor(k,Q,Ce){this.ngSwitch=Ce,Ce._addCase(),this._view=new tn(k,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(k){return new(k||R)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Jn,9))},R.\u0275dir=_.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),R})();class na{createSubscription(K,k){return K.subscribe({next:k,error:Q=>{throw Q}})}dispose(K){K.unsubscribe()}}class Ai{createSubscription(K,k){return K.then(k,Q=>{throw Q})}dispose(K){}}const lo=new Ai,jo=new na;let Si=(()=>{class R{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,Q=>this._updateLatestValue(k,Q))}_selectStrategy(k){if((0,_.QGY)(k))return lo;if((0,_.F4k)(k))return jo;throw function Di(R,K){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,Q){k===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}}return R.\u0275fac=function(k){return new(k||R)(_.Y36(_.sBO,16))},R.\u0275pipe=_.Yjl({name:"async",type:R,pure:!1}),R})(),ba=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=_.oAB({type:R}),R.\u0275inj=_.cJS({}),R})();const Zi="browser";function Vs(R){return"server"===R}let xs=(()=>{class R{}return R.\u0275prov=(0,_.Yz7)({token:R,providedIn:"root",factory:()=>new No((0,_.LFG)(Re),window)}),R})();class No{constructor(K,k){this.document=K,this.window=k,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const k=function Nr(R,K){const k=R.getElementById(K)||R.getElementsByName(K)[0];if(k)return k;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const Q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ce=Q.currentNode;for(;Ce;){const We=Ce.shadowRoot;if(We){const Ct=We.getElementById(K)||We.querySelector(`[name="${K}"]`);if(Ct)return Ct}Ce=Q.nextNode()}}return null}(this.document,K);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=K)}}scrollToElement(K){const k=K.getBoundingClientRect(),Q=k.left+this.window.pageXOffset,Ce=k.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(Q-We[0],Ce-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Hn(this.window.history)||Hn(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hn(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class vr{}},529:(en,Ke,j)=>{j.d(Ke,{JF:()=>kr});var _=j(6895),f=j(4650),$=j(9646),_e=j(9751),fe=j(4351),Ae=j(9300),Re=j(4004);class ke{}class Ue{}class le{constructor(De){this.normalizedNames=new Map,this.lazyUpdate=null,De?this.lazyInit="string"==typeof De?()=>{this.headers=new Map,De.split("\n").forEach(Pe=>{const ft=Pe.indexOf(":");if(ft>0){const je=Pe.slice(0,ft),vt=je.toLowerCase(),Kt=Pe.slice(ft+1).trim();this.maybeSetNormalizedName(je,vt),this.headers.has(vt)?this.headers.get(vt).push(Kt):this.headers.set(vt,[Kt])}})}:()=>{this.headers=new Map,Object.keys(De).forEach(Pe=>{let ft=De[Pe];const je=Pe.toLowerCase();"string"==typeof ft&&(ft=[ft]),ft.length>0&&(this.headers.set(je,ft),this.maybeSetNormalizedName(Pe,je))})}:this.headers=new Map}has(De){return this.init(),this.headers.has(De.toLowerCase())}get(De){this.init();const Pe=this.headers.get(De.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(De){return this.init(),this.headers.get(De.toLowerCase())||null}append(De,Pe){return this.clone({name:De,value:Pe,op:"a"})}set(De,Pe){return this.clone({name:De,value:Pe,op:"s"})}delete(De,Pe){return this.clone({name:De,value:Pe,op:"d"})}maybeSetNormalizedName(De,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,De)}init(){this.lazyInit&&(this.lazyInit instanceof le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(De=>this.applyUpdate(De)),this.lazyUpdate=null))}copyFrom(De){De.init(),Array.from(De.headers.keys()).forEach(Pe=>{this.headers.set(Pe,De.headers.get(Pe)),this.normalizedNames.set(Pe,De.normalizedNames.get(Pe))})}clone(De){const Pe=new le;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof le?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([De]),Pe}applyUpdate(De){const Pe=De.name.toLowerCase();switch(De.op){case"a":case"s":let ft=De.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(De.name,Pe);const je=("a"===De.op?this.headers.get(Pe):void 0)||[];je.push(...ft),this.headers.set(Pe,je);break;case"d":const vt=De.value;if(vt){let Kt=this.headers.get(Pe);if(!Kt)return;Kt=Kt.filter(jn=>-1===vt.indexOf(jn)),0===Kt.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,Kt)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}forEach(De){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>De(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class te{encodeKey(De){return et(De)}encodeValue(De){return et(De)}decodeKey(De){return decodeURIComponent(De)}decodeValue(De){return decodeURIComponent(De)}}const _t=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function et(dt){return encodeURIComponent(dt).replace(_t,(De,Pe)=>Ye[Pe]??De)}function $t(dt){return`${dt}`}class Je{constructor(De={}){if(this.updates=null,this.cloneFrom=null,this.encoder=De.encoder||new te,De.fromString){if(De.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ve(dt,De){const Pe=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(je=>{const vt=je.indexOf("="),[Kt,jn]=-1==vt?[De.decodeKey(je),""]:[De.decodeKey(je.slice(0,vt)),De.decodeValue(je.slice(vt+1))],Vt=Pe.get(Kt)||[];Vt.push(jn),Pe.set(Kt,Vt)}),Pe}(De.fromString,this.encoder)}else De.fromObject?(this.map=new Map,Object.keys(De.fromObject).forEach(Pe=>{const ft=De.fromObject[Pe],je=Array.isArray(ft)?ft.map($t):[$t(ft)];this.map.set(Pe,je)})):this.map=null}has(De){return this.init(),this.map.has(De)}get(De){this.init();const Pe=this.map.get(De);return Pe?Pe[0]:null}getAll(De){return this.init(),this.map.get(De)||null}keys(){return this.init(),Array.from(this.map.keys())}append(De,Pe){return this.clone({param:De,value:Pe,op:"a"})}appendAll(De){const Pe=[];return Object.keys(De).forEach(ft=>{const je=De[ft];Array.isArray(je)?je.forEach(vt=>{Pe.push({param:ft,value:vt,op:"a"})}):Pe.push({param:ft,value:je,op:"a"})}),this.clone(Pe)}set(De,Pe){return this.clone({param:De,value:Pe,op:"s"})}delete(De,Pe){return this.clone({param:De,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(De=>{const Pe=this.encoder.encodeKey(De);return this.map.get(De).map(ft=>Pe+"="+this.encoder.encodeValue(ft)).join("&")}).filter(De=>""!==De).join("&")}clone(De){const Pe=new Je({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(De),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(De=>this.map.set(De,this.cloneFrom.map.get(De))),this.updates.forEach(De=>{switch(De.op){case"a":case"s":const Pe=("a"===De.op?this.map.get(De.param):void 0)||[];Pe.push($t(De.value)),this.map.set(De.param,Pe);break;case"d":if(void 0===De.value){this.map.delete(De.param);break}{let ft=this.map.get(De.param)||[];const je=ft.indexOf($t(De.value));-1!==je&&ft.splice(je,1),ft.length>0?this.map.set(De.param,ft):this.map.delete(De.param)}}}),this.cloneFrom=this.updates=null)}}class Wt{constructor(){this.map=new Map}set(De,Pe){return this.map.set(De,Pe),this}get(De){return this.map.has(De)||this.map.set(De,De.defaultValue()),this.map.get(De)}delete(De){return this.map.delete(De),this}has(De){return this.map.has(De)}keys(){return this.map.keys()}}function de(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function ct(dt){return typeof Blob<"u"&&dt instanceof Blob}function ot(dt){return typeof FormData<"u"&&dt instanceof FormData}class ae{constructor(De,Pe,ft,je){let vt;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=De.toUpperCase(),function Gt(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||je?(this.body=void 0!==ft?ft:null,vt=je):vt=ft,vt&&(this.reportProgress=!!vt.reportProgress,this.withCredentials=!!vt.withCredentials,vt.responseType&&(this.responseType=vt.responseType),vt.headers&&(this.headers=vt.headers),vt.context&&(this.context=vt.context),vt.params&&(this.params=vt.params)),this.headers||(this.headers=new le),this.context||(this.context=new Wt),this.params){const Kt=this.params.toString();if(0===Kt.length)this.urlWithParams=Pe;else{const jn=Pe.indexOf("?");this.urlWithParams=Pe+(-1===jn?"?":jn<Pe.length-1?"&":"")+Kt}}else this.params=new Je,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:de(this.body)||ct(this.body)||ot(this.body)||function wt(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:ct(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(De={}){const Pe=De.method||this.method,ft=De.url||this.url,je=De.responseType||this.responseType,vt=void 0!==De.body?De.body:this.body,Kt=void 0!==De.withCredentials?De.withCredentials:this.withCredentials,jn=void 0!==De.reportProgress?De.reportProgress:this.reportProgress;let Vt=De.headers||this.headers,Qn=De.params||this.params;const nr=De.context??this.context;return void 0!==De.setHeaders&&(Vt=Object.keys(De.setHeaders).reduce((Zn,Mn)=>Zn.set(Mn,De.setHeaders[Mn]),Vt)),De.setParams&&(Qn=Object.keys(De.setParams).reduce((Zn,Mn)=>Zn.set(Mn,De.setParams[Mn]),Qn)),new ae(Pe,ft,vt,{params:Qn,headers:Vt,context:nr,reportProgress:jn,responseType:je,withCredentials:Kt})}}var $e=(()=>(($e=$e||{})[$e.Sent=0]="Sent",$e[$e.UploadProgress=1]="UploadProgress",$e[$e.ResponseHeader=2]="ResponseHeader",$e[$e.DownloadProgress=3]="DownloadProgress",$e[$e.Response=4]="Response",$e[$e.User=5]="User",$e))();class at{constructor(De,Pe=200,ft="OK"){this.headers=De.headers||new le,this.status=void 0!==De.status?De.status:Pe,this.statusText=De.statusText||ft,this.url=De.url||null,this.ok=this.status>=200&&this.status<300}}class oe extends at{constructor(De={}){super(De),this.type=$e.ResponseHeader}clone(De={}){return new oe({headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class Be extends at{constructor(De={}){super(De),this.type=$e.Response,this.body=void 0!==De.body?De.body:null}clone(De={}){return new Be({body:void 0!==De.body?De.body:this.body,headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class Te extends at{constructor(De){super(De,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${De.url||"(unknown url)"}`:`Http failure response for ${De.url||"(unknown url)"}: ${De.status} ${De.statusText}`,this.error=De.error||null}}function Xe(dt,De){return{body:De,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let Ge=(()=>{class dt{constructor(Pe){this.handler=Pe}request(Pe,ft,je={}){let vt;if(Pe instanceof ae)vt=Pe;else{let Vt,Qn;Vt=je.headers instanceof le?je.headers:new le(je.headers),je.params&&(Qn=je.params instanceof Je?je.params:new Je({fromObject:je.params})),vt=new ae(Pe,ft,void 0!==je.body?je.body:null,{headers:Vt,context:je.context,params:Qn,reportProgress:je.reportProgress,responseType:je.responseType||"json",withCredentials:je.withCredentials})}const Kt=(0,$.of)(vt).pipe((0,fe.b)(Vt=>this.handler.handle(Vt)));if(Pe instanceof ae||"events"===je.observe)return Kt;const jn=Kt.pipe((0,Ae.h)(Vt=>Vt instanceof Be));switch(je.observe||"body"){case"body":switch(vt.responseType){case"arraybuffer":return jn.pipe((0,Re.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vt.body}));case"blob":return jn.pipe((0,Re.U)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof Blob))throw new Error("Response is not a Blob.");return Vt.body}));case"text":return jn.pipe((0,Re.U)(Vt=>{if(null!==Vt.body&&"string"!=typeof Vt.body)throw new Error("Response is not a string.");return Vt.body}));default:return jn.pipe((0,Re.U)(Vt=>Vt.body))}case"response":return jn;default:throw new Error(`Unreachable: unhandled observe type ${je.observe}}`)}}delete(Pe,ft={}){return this.request("DELETE",Pe,ft)}get(Pe,ft={}){return this.request("GET",Pe,ft)}head(Pe,ft={}){return this.request("HEAD",Pe,ft)}jsonp(Pe,ft){return this.request("JSONP",Pe,{params:(new Je).append(ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,ft={}){return this.request("OPTIONS",Pe,ft)}patch(Pe,ft,je={}){return this.request("PATCH",Pe,Xe(je,ft))}post(Pe,ft,je={}){return this.request("POST",Pe,Xe(je,ft))}put(Pe,ft,je={}){return this.request("PUT",Pe,Xe(je,ft))}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(f.LFG(ke))},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class Mt{constructor(De,Pe){this.next=De,this.interceptor=Pe}handle(De){return this.interceptor.intercept(De,this.next)}}const on=new f.OlP("HTTP_INTERCEPTORS");let sn=(()=>{class dt{intercept(Pe,ft){return ft.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const ar=/^\)\]\}',?\n/;let mr=(()=>{class dt{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e.y(ft=>{const je=this.xhrFactory.build();if(je.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(je.withCredentials=!0),Pe.headers.forEach((ye,ie)=>je.setRequestHeader(ye,ie.join(","))),Pe.headers.has("Accept")||je.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const ye=Pe.detectContentTypeHeader();null!==ye&&je.setRequestHeader("Content-Type",ye)}if(Pe.responseType){const ye=Pe.responseType.toLowerCase();je.responseType="json"!==ye?ye:"text"}const vt=Pe.serializeBody();let Kt=null;const jn=()=>{if(null!==Kt)return Kt;const ye=je.statusText||"OK",ie=new le(je.getAllResponseHeaders()),Fe=function gr(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(je)||Pe.url;return Kt=new oe({headers:ie,status:je.status,statusText:ye,url:Fe}),Kt},Vt=()=>{let{headers:ye,status:ie,statusText:Fe,url:Ve}=jn(),se=null;204!==ie&&(se=typeof je.response>"u"?je.responseText:je.response),0===ie&&(ie=se?200:0);let ht=ie>=200&&ie<300;if("json"===Pe.responseType&&"string"==typeof se){const bt=se;se=se.replace(ar,"");try{se=""!==se?JSON.parse(se):null}catch(Ot){se=bt,ht&&(ht=!1,se={error:Ot,text:se})}}ht?(ft.next(new Be({body:se,headers:ye,status:ie,statusText:Fe,url:Ve||void 0})),ft.complete()):ft.error(new Te({error:se,headers:ye,status:ie,statusText:Fe,url:Ve||void 0}))},Qn=ye=>{const{url:ie}=jn(),Fe=new Te({error:ye,status:je.status||0,statusText:je.statusText||"Unknown Error",url:ie||void 0});ft.error(Fe)};let nr=!1;const Zn=ye=>{nr||(ft.next(jn()),nr=!0);let ie={type:$e.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(ie.total=ye.total),"text"===Pe.responseType&&!!je.responseText&&(ie.partialText=je.responseText),ft.next(ie)},Mn=ye=>{let ie={type:$e.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(ie.total=ye.total),ft.next(ie)};return je.addEventListener("load",Vt),je.addEventListener("error",Qn),je.addEventListener("timeout",Qn),je.addEventListener("abort",Qn),Pe.reportProgress&&(je.addEventListener("progress",Zn),null!==vt&&je.upload&&je.upload.addEventListener("progress",Mn)),je.send(vt),ft.next({type:$e.Sent}),()=>{je.removeEventListener("error",Qn),je.removeEventListener("abort",Qn),je.removeEventListener("load",Vt),je.removeEventListener("timeout",Qn),Pe.reportProgress&&(je.removeEventListener("progress",Zn),null!==vt&&je.upload&&je.upload.removeEventListener("progress",Mn)),je.readyState!==je.DONE&&je.abort()}})}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(f.LFG(_.JF))},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const br=new f.OlP("XSRF_COOKIE_NAME"),Mr=new f.OlP("XSRF_HEADER_NAME");class yr{}let _r=(()=>{class dt{constructor(Pe,ft,je){this.doc=Pe,this.platform=ft,this.cookieName=je,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(f.LFG(_.K0),f.LFG(f.Lbi),f.LFG(br))},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),ir=(()=>{class dt{constructor(Pe,ft){this.tokenService=Pe,this.headerName=ft}intercept(Pe,ft){const je=Pe.url.toLowerCase();if("GET"===Pe.method||"HEAD"===Pe.method||je.startsWith("http://")||je.startsWith("https://"))return ft.handle(Pe);const vt=this.tokenService.getToken();return null!==vt&&!Pe.headers.has(this.headerName)&&(Pe=Pe.clone({headers:Pe.headers.set(this.headerName,vt)})),ft.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(f.LFG(yr),f.LFG(Mr))},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),rn=(()=>{class dt{constructor(Pe,ft){this.backend=Pe,this.injector=ft,this.chain=null}handle(Pe){if(null===this.chain){const ft=this.injector.get(on,[]);this.chain=ft.reduceRight((je,vt)=>new Mt(je,vt),this.backend)}return this.chain.handle(Pe)}}return dt.\u0275fac=function(Pe){return new(Pe||dt)(f.LFG(Ue),f.LFG(f.zs3))},dt.\u0275prov=f.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Tn=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:ir,useClass:sn}]}}static withOptions(Pe={}){return{ngModule:dt,providers:[Pe.cookieName?{provide:br,useValue:Pe.cookieName}:[],Pe.headerName?{provide:Mr,useValue:Pe.headerName}:[]]}}}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275mod=f.oAB({type:dt}),dt.\u0275inj=f.cJS({providers:[ir,{provide:on,useExisting:ir,multi:!0},{provide:yr,useClass:_r},{provide:br,useValue:"XSRF-TOKEN"},{provide:Mr,useValue:"X-XSRF-TOKEN"}]}),dt})(),kr=(()=>{class dt{}return dt.\u0275fac=function(Pe){return new(Pe||dt)},dt.\u0275mod=f.oAB({type:dt}),dt.\u0275inj=f.cJS({providers:[Ge,{provide:ke,useClass:rn},mr,{provide:Ue,useExisting:mr}],imports:[Tn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),dt})()},4650:(en,Ke,j)=>{j.d(Ke,{$8M:()=>Y,$Z:()=>hh,AFp:()=>zE,ALo:()=>dE,AaK:()=>ke,BQk:()=>Oc,CHM:()=>aa,CRH:()=>wE,CZH:()=>$y,CqO:()=>Wp,D6c:()=>eI,EJc:()=>gD,EpF:()=>Gp,F$t:()=>Ad,F4k:()=>zp,FYo:()=>eE,FiY:()=>Jo,G48:()=>FD,GfV:()=>tE,Gpc:()=>te,Hsn:()=>Cl,JOm:()=>wu,KtG:()=>ua,LFG:()=>gn,LSH:()=>fl,Lbi:()=>dD,MAs:()=>Km,MMx:()=>Vv,NdJ:()=>Id,OlP:()=>_n,Oqu:()=>Kh,PXZ:()=>MD,Q6J:()=>rl,QGY:()=>il,QP$:()=>uf,QbO:()=>hD,Qsj:()=>rb,R0b:()=>xu,RDi:()=>po,Rgc:()=>pg,SBq:()=>cg,Sil:()=>yD,Suo:()=>EE,TTD:()=>rs,TgZ:()=>Dd,W1O:()=>CE,X6Q:()=>kD,XFs:()=>rn,Xpm:()=>Ve,Y36:()=>Hl,YKP:()=>J0,YNc:()=>$p,Yjl:()=>ze,Yz7:()=>En,ZZ4:()=>u0,_Bn:()=>Y0,_UZ:()=>Hp,_Vd:()=>lg,_c5:()=>JD,_uU:()=>vv,aQg:()=>l0,c2e:()=>fD,cJS:()=>Fn,cg1:()=>Xh,dDg:()=>CD,deG:()=>qt,dqk:()=>je,eFA:()=>rw,ekj:()=>Qp,eoX:()=>XE,g9A:()=>qE,h0i:()=>Rd,hGG:()=>XD,hM9:()=>hb,hij:()=>Zh,iGM:()=>vE,ifc:()=>ft,ip1:()=>GE,kL8:()=>Cy,l5B:()=>sE,lG2:()=>Ln,lcZ:()=>hE,lqb:()=>Uu,lri:()=>QE,n5z:()=>w,oAB:()=>wn,oxw:()=>Rc,q4F:()=>nE,qLn:()=>xa,qOj:()=>Lh,qZA:()=>Nc,rWj:()=>JE,s9C:()=>Au,sBO:()=>LD,sIi:()=>Dl,s_b:()=>Uy,soG:()=>Hy,tBr:()=>ya,tb:()=>KE,tp0:()=>$s,uIk:()=>Uh,vHH:()=>et,vpe:()=>Ml,wAp:()=>zn,xi3:()=>fE,xp6:()=>Pf,ynx:()=>jh,z2F:()=>Gy,zSh:()=>kf,zs3:()=>Bu});var _=j(7579),f=j(727),$=j(9751),_e=j(6451),fe=j(3099);function Ae(n){for(let r in n)if(n[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ue(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const le=Ae({__forward_ref__:Ae});function te(n){return n.__forward_ref__=te,n.toString=function(){return ke(this())},n}function ve(n){return _t(n)?n():n}function _t(n){return"function"==typeof n&&n.hasOwnProperty(le)&&n.__forward_ref__===te}class et extends Error{constructor(r,s){super(function $t(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Je(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n,r){throw new et(-201,!1)}function Rn(n,r){null==n&&function Bt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function En(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bn(n){return ar(n,Mr)||ar(n,_r)}function ar(n,r){return n.hasOwnProperty(r)?n[r]:null}function br(n){return n&&(n.hasOwnProperty(yr)||n.hasOwnProperty(ir))?n[yr]:null}const Mr=Ae({\u0275prov:Ae}),yr=Ae({\u0275inj:Ae}),_r=Ae({ngInjectableDef:Ae}),ir=Ae({ngInjectorDef:Ae});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let sr;function Tn(n){const r=sr;return sr=n,r}function kr(n,r,s){const a=Bn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&rn.Optional?null:void 0!==r?r:void ct(ke(n))}function li(n){return{toString:n}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),ft=(()=>{return(n=ft||(ft={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ft;var n})();const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},Vt=[],Qn=Ae({\u0275cmp:Ae}),nr=Ae({\u0275dir:Ae}),Zn=Ae({\u0275pipe:Ae}),Mn=Ae({\u0275mod:Ae}),ye=Ae({\u0275fac:Ae}),ie=Ae({__NG_ELEMENT_ID__:Ae});let Fe=0;function Ve(n){return li(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,id:"c"+Fe++,styles:n.styles||Vt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.dependencies,v=n.features;return l.inputs=Gn(n.inputs,a),l.outputs=Gn(n.outputs),v&&v.forEach(C=>C(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(ht).filter(bt):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(lt).filter(bt):null,l})}function ht(n){return he(n)||pe(n)}function bt(n){return null!==n}const Ot={};function wn(n){return li(()=>{const r={type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ot[n.id]=n.type),r})}function Gn(n,r){if(null==n)return jn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Ln=Ve;function ze(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function he(n){return n[Qn]||null}function pe(n){return n[nr]||null}function lt(n){return n[Zn]||null}function Ft(n,r){const s=n[Mn]||null;if(!s&&!0===r)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return s}function mt(n){return Array.isArray(n)&&"object"==typeof n[1]}function xt(n){return Array.isArray(n)&&!0===n[1]}function tn(n){return 0!=(8&n.flags)}function Jn(n){return 2==(2&n.flags)}function Pr(n){return 1==(1&n.flags)}function Pn(n){return null!==n.template}function Ci(n){return 0!=(256&n[2])}function mi(n,r){return n.hasOwnProperty(ye)?n[ye]:null}class yi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function rs(){return Ss}function Ss(n){return n.type.prototype.ngOnChanges&&(n.setInput=_s),Po}function Po(){const n=ho(this),r=n?.current;if(r){const s=n.previous;if(s===jn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function _s(n,r,s,a){const l=ho(n)||function Ms(n,r){return n[Mi]=r}(n,{previous:jn,current:null}),d=l.current||(l.current={}),v=l.previous,C=this.declaredInputs[s],S=v[C];d[C]=new yi(S&&S.currentValue,r,v===jn),n[a]=r}rs.ngInherit=!0;const Mi="__ngSimpleChanges__";function ho(n){return n[Mi]||null}let fo;function po(n){fo=n}function Hn(n){return!!n.listen}const Nr={createRenderer:(n,r)=>function xs(){return void 0!==fo?fo:typeof document<"u"?document:void 0}()};function vr(n){for(;Array.isArray(n);)n=n[0];return n}function k(n,r){return vr(r[n])}function Q(n,r){return vr(r[n.index])}function We(n,r){return n.data[r]}function Ct(n,r){return n[r]}function Ht(n,r){const s=r[n];return mt(s)?s:s[0]}function Ar(n){return 4==(4&n[2])}function qn(n){return 64==(64&n[2])}function Nn(n,r){return null==r?null:n[r]}function Gr(n){n[18]=0}function dr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const fn={lFrame:yo(null),bindingsEnabled:!0};function is(){return fn.bindingsEnabled}function Tt(){return fn.lFrame.lView}function rr(){return fn.lFrame.tView}function aa(n){return fn.lFrame.contextLView=n,n[8]}function ua(n){return fn.lFrame.contextLView=null,n}function _i(){let n=$o();for(;null!==n&&64===n.type;)n=n.parent;return n}function $o(){return fn.lFrame.currentTNode}function O(n,r){const s=fn.lFrame;s.currentTNode=n,s.isParent=r}function P(){return fn.lFrame.isParent}function Z(){fn.lFrame.isParent=!1}function Dr(){const n=fn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function vi(){return fn.lFrame.bindingIndex++}function $i(n,r){const s=fn.lFrame;s.bindingIndex=s.bindingRootIndex=n,mo(r)}function mo(n){fn.lFrame.currentDirectiveIndex=n}function la(){return fn.lFrame.currentQueryIndex}function Da(n){fn.lFrame.currentQueryIndex=n}function ll(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ca(n,r,s){if(s&rn.SkipSelf){let l=r,d=n;for(;!(l=l.parent,null!==l||s&rn.Host||(l=ll(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,n=d}const a=fn.lFrame=Na();return a.currentTNode=r,a.lView=n,!0}function ws(n){const r=Na(),s=n[1];fn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Na(){const n=fn.lFrame,r=null===n?null:n.child;return null===r?yo(n):r}function yo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function iu(){const n=fn.lFrame;return fn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _o=iu;function Go(){const n=iu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ni(){return fn.lFrame.selectedIndex}function Xs(n){fn.lFrame.selectedIndex=n}function Yr(){const n=fn.lFrame;return We(n.tView,n.selectedIndex)}function eo(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:B,ngOnDestroy:q}=d;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),S&&(n.viewHooks||(n.viewHooks=[])).push(-s,S),B&&((n.viewHooks||(n.viewHooks=[])).push(s,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,B)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function Ns(n,r,s){ri(n,r,3,s)}function ss(n,r,s,a){(3&n[2])===s&&ri(n,r,s,a)}function vo(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ri(n,r,s,a){const d=a??-1,v=r.length-1;let C=0;for(let S=void 0!==a?65535&n[18]:0;S<v;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=a&&C>=a)break}else r[S]<0&&(n[18]+=65536),(C<d||-1==d)&&(au(n,s,r,S),n[18]=(4294901760&n[18])+S+2),S++}function au(n,r,s,a){const l=s[a]<0,d=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class Eo{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Vi(n,r,s){const a=Hn(n);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const v=s[l++],C=s[l++],S=s[l++];a?n.setAttribute(r,C,S,v):r.setAttributeNS(v,C,S)}else{const v=d,C=s[++l];no(v)?a&&n.setProperty(r,v,C):a?n.setAttribute(r,v,C):r.setAttribute(v,C),l++}}return l}function Hi(n){return 3===n||4===n||6===n}function no(n){return 64===n.charCodeAt(0)}function Wo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||ko(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function ko(n,r,s,a,l){let d=0,v=n.length;if(-1===r)v=-1;else for(;d<n.length;){const C=n[d++];if("number"==typeof C){if(C===r){v=-1;break}if(C>r){v=d-1;break}}}for(;d<n.length;){const C=n[d];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[d+1]=l));if(a===n[d+1])return void(n[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==v&&(n.splice(v,0,r),d=v+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==l&&n.splice(d++,0,l)}function ro(n){return-1!==n}function qo(n){return 32767&n}function Ko(n,r){let s=function Ei(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let da=!0;function wi(n){const r=da;return da=n,r}let Fo=0;const Ji={};function Ta(n,r){const s=Qr(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,kt(a.data,n),kt(r,null),kt(a.blueprint,null));const l=Pi(n,r),d=n.injectorIndex;if(ro(l)){const v=qo(l),C=Ko(l,r),S=C[1].data;for(let B=0;B<8;B++)r[d+B]=C[v+B]|S[v+B]}return r[d+8]=l,d}function kt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Qr(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Pi(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=U(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Lo(n,r,s){!function bs(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ie)&&(a=s[ie]),null==a&&(a=s[ie]=Fo++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function In(n,r,s){if(s&rn.Optional)return n;ct()}function fa(n,r,s,a){if(s&rn.Optional&&void 0===a&&(a=null),0==(s&(rn.Self|rn.Host))){const l=n[9],d=Tn(void 0);try{return l?l.get(r,a,s&rn.Optional):kr(r,a,s&rn.Optional)}finally{Tn(d)}}return In(a,0,s)}function Jt(n,r,s,a=rn.Default,l){if(null!==n){if(1024&r[2]){const v=function N(n,r,s,a,l){let d=n,v=r;for(;null!==d&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=ut(d,v,s,a|rn.Self,Ji);if(C!==Ji)return C;let S=d.parent;if(!S){const B=v[21];if(B){const q=B.get(s,Ji,a);if(q!==Ji)return q}S=U(v),v=v[15]}d=S}return l}(n,r,s,a,Ji);if(v!==Ji)return v}const d=ut(n,r,s,a,Ji);if(d!==Ji)return d}return fa(r,s,a,l)}function ut(n,r,s,a,l){const d=function lu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ie)?n[ie]:void 0;return"number"==typeof r?r>=0?255&r:I:r}(s);if("function"==typeof d){if(!ca(r,n,a))return a&rn.Host?In(l,0,a):fa(r,s,a,l);try{const v=d(a);if(null!=v||a&rn.Optional)return v;ct()}finally{_o()}}else if("number"==typeof d){let v=null,C=Qr(n,r),S=-1,B=a&rn.Host?r[16][6]:null;for((-1===C||a&rn.SkipSelf)&&(S=-1===C?Pi(n,r):r[C+8],-1!==S&&Ja(a,!1)?(v=r[1],C=qo(S),r=Ko(S,r)):C=-1);-1!==C;){const q=r[1];if(cu(d,C,q.data)){const re=Nt(C,r,s,v,a,B);if(re!==Ji)return re}S=r[C+8],-1!==S&&Ja(a,r[1].data[C+8]===B)&&cu(d,C,r)?(v=q,C=qo(S),r=Ko(S,r)):C=-1}}return l}function Nt(n,r,s,a,l,d){const v=r[1],C=v.data[n+8],q=hi(C,v,s,null==a?Jn(C)&&da:a!=v&&0!=(3&C.type),l&rn.Host&&d===C);return null!==q?pa(r,v,q,C):Ji}function hi(n,r,s,a,l){const d=n.providerIndexes,v=r.data,C=1048575&d,S=n.directiveStart,q=d>>20,xe=l?C+q:n.directiveEnd;for(let Ze=a?C:C+q;Ze<xe;Ze++){const Pt=v[Ze];if(Ze<S&&s===Pt||Ze>=S&&Pt.type===s)return Ze}if(l){const Ze=v[S];if(Ze&&Pn(Ze)&&Ze.type===s)return S}return null}function pa(n,r,s,a){let l=n[s];const d=r.data;if(function Ca(n){return n instanceof Eo}(l)){const v=l;v.resolving&&function Wt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new et(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Je(n)}(d[s]));const C=wi(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?Tn(v.injectImpl):null;ca(n,a,rn.Default);try{l=n[s]=v.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Qa(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const v=Ss(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==S&&Tn(S),wi(C),v.resolving=!1,_o()}}return l}function cu(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ja(n,r){return!(n&rn.Self||n&rn.Host&&r)}class Fa{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Jt(this._tNode,this._lView,r,a,s)}}function I(){return new Fa(_i(),Tt())}function w(n){return li(()=>{const r=n.prototype.constructor,s=r[ye]||E(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const d=l[ye]||E(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function E(n){return _t(n)?()=>{const r=E(ve(n));return r&&r()}:mi(n)}function U(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Y(n){return function dn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(Hi(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(_i(),n)}const Ee="__parameters__";function nn(n,r,s){return li(()=>{const a=function jt(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const v=new l(...d);return C.annotation=v,C;function C(S,B,q){const re=S.hasOwnProperty(Ee)?S[Ee]:Object.defineProperty(S,Ee,{value:[]})[Ee];for(;re.length<=q;)re.push(null);return(re[q]=re[q]||[]).push(v),S}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class _n{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=En({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qt=new _n("AnalyzeForEntryComponents");function Xi(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Xi(a,r)):r!==n&&r.push(a)}return r}function Oi(n,r){n.forEach(s=>Array.isArray(s)?Oi(s,r):r(s))}function Zo(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Do(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Os(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function zr(n,r,s){let a=Gi(n,r);return a>=0?n[1|a]=s:(a=~a,function Va(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Nu(n,r){const s=Gi(n,r);if(s>=0)return n[1|s]}function Gi(n,r){return function si(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const d=a+(l-a>>1),v=n[d<<s];if(r===v)return d<<s;v>r?l=d:a=d+1}return~(l<<s)}(n,r,1)}const Is={},x="__NG_DI_FLAG__",F="ngTempTokenPath",ce=/\n/gm,rt="__source";let At;function Qt(n){const r=At;return At=n,r}function An(n,r=rn.Default){if(void 0===At)throw new et(-203,!1);return null===At?kr(n,void 0,r):At.get(n,r&rn.Optional?null:void 0,r)}function gn(n,r=rn.Default){return(function xn(){return sr}()||An)(ve(n),r)}function Jr(n){const r=[];for(let s=0;s<n.length;s++){const a=ve(n[s]);if(Array.isArray(a)){if(0===a.length)throw new et(900,!1);let l,d=rn.Default;for(let v=0;v<a.length;v++){const C=a[v],S=Io(C);"number"==typeof S?-1===S?l=C.token:d|=S:l=C}r.push(gn(l,d))}else r.push(gn(a))}return r}function Wr(n,r){return n[x]=r,n.prototype[x]=r,n}function Io(n){return n[x]}const ya=Wr(nn("Inject",n=>({token:n})),-1),Jo=Wr(nn("Optional"),8),$s=Wr(nn("SkipSelf"),4);class Fr{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ls(n){return n instanceof Fr?n.changingThisBreaksApplicationSecurity:n}const It=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Rs=(()=>((Rs=Rs||{})[Rs.NONE=0]="NONE",Rs[Rs.HTML=1]="HTML",Rs[Rs.STYLE=2]="STYLE",Rs[Rs.SCRIPT=3]="SCRIPT",Rs[Rs.URL=4]="URL",Rs[Rs.RESOURCE_URL=5]="RESOURCE_URL",Rs))();function fl(n){const r=function Ao(){const n=Tt();return n&&n[12]}();return r?r.sanitize(Rs.URL,n)||"":function Wi(n,r){const s=function Co(n){return n instanceof Fr&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ls(n):function pr(n){return(n=String(n)).match(It)||n.match(Cn)?n:"unsafe:"+n}(Je(n))}function Gd(n){return n.ngOriginalError}class xa{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gd(r);for(;s&&Gd(s);)s=Gd(s);return s||null}}const Fl=new Map;let Wd=0;const hf="__ngContext__";function zs(n,r){mt(r)?(n[hf]=r[20],function Tg(n){Fl.set(n[20],n)}(r)):n[hf]=r}function ac(n){const r=n[hf];return"number"==typeof r?function cf(n){return Fl.get(n)||null}(r):r||null}function ff(n){const r=ac(n);return r?mt(r)?r:r.lView:null}const xg=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(je))();function Eu(n){return n instanceof Function?n():n}var wu=(()=>((wu=wu||{})[wu.Important=1]="Important",wu[wu.DashCase=2]="DashCase",wu))();function Ef(n,r){return undefined(n,r)}function zc(n){const r=n[3];return xt(r)?r[3]:r}function qd(n){return Rg(n[13])}function Bo(n){return Rg(n[4])}function Rg(n){for(;null!==n&&!xt(n);)n=n[4];return n}function _a(n,r,s,a,l){if(null!=a){let d,v=!1;xt(a)?d=a:mt(a)&&(v=!0,a=a[0]);const C=vr(a);0===n&&null!==s?null==l?Bg(r,s,C):pl(r,s,C,l||null,!0):1===n&&null!==s?pl(r,s,C,l||null,!0):2===n?function gl(n,r,s){const a=lc(n,r);a&&function jg(n,r,s,a){Hn(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,C,v):3===n&&r.destroyNode(C),null!=d&&function Tf(n,r,s,a,l){const d=s[7];d!==vr(s)&&_a(r,n,a,d,l);for(let C=10;C<s.length;C++){const S=s[C];Ju(S[1],S,n,r,a,d)}}(r,n,d,s,l)}}function wf(n,r,s){if(Hn(n))return n.createElement(r,s);{const a=null!==s?function qa(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Fg(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,dr(l,-1)),s.splice(a,1)}function bf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Fg(l,a),r>0&&(n[s-1][4]=a[4]);const d=Do(n,10+r);!function s_(n,r){Ju(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=d[19];null!==v&&v.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Lg(n,r){if(!(128&r[2])){const s=r[11];Hn(s)&&s.destroyNode&&Ju(n,r,s,3,null,null),function u_(n){let r=n[13];if(!r)return Df(n[1],n);for(;r;){let s=null;if(mt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)mt(r)&&Df(r[1],r),r=r[3];null===r&&(r=n),mt(r)&&Df(r[1],r),s=r&&r[4]}r=s}}(r)}}function Df(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function h_(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Eo)){const d=s[a+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=l[d[v]],S=d[v+1];try{S.call(C)}finally{}}else try{d.call(l)}finally{}}}}(n,r),function d_(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const v=s[d+1],C="function"==typeof v?v(r):vr(r[v]),S=a[l=s[d+2]],B=s[d+3];"boolean"==typeof B?C.removeEventListener(s[d],S,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),d+=2}else{const v=a[l=s[d+1]];s[d].call(v)}if(null!==a){for(let d=l+1;d<a.length;d++)a[d]();r[7]=null}}(n,r),1===r[1].type&&Hn(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&xt(r[3])){s!==r[3]&&Fg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Jy(n){Fl.delete(n[20])}(r)}}function Vg(n,r,s){return function Ug(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===ft.None||l===ft.Emulated)return null}return Q(a,s)}(n,r.parent,s)}function pl(n,r,s,a,l){Hn(n)?n.insertBefore(r,s,a,l):($g(r)?r.content:r).insertBefore(s,a,l)}function Bg(n,r,s){Hn(n)?n.appendChild(r,s):($g(r)?r.content:r).appendChild(s)}function If(n,r,s,a,l){null!==a?pl(n,r,s,a,l):Bg(n,r,s)}function $g(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function lc(n,r){return Hn(n)?n.parentNode(r):r.parentNode}function Zd(n,r,s){return Qd(n,r,s)}let Qd=function Yd(n,r,s){return 40&n.type?Q(n,s):null};function Jd(n,r,s,a){const l=Vg(n,a,r),d=r[11],C=Zd(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let S=0;S<s.length;S++)If(d,l,s[S],C,!1);else If(d,l,s,C,!1)}function qc(n,r){if(null!==r){const s=r.type;if(3&s)return Q(r,n);if(4&s)return Yu(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return qc(n,a);{const l=n[r.index];return xt(l)?Yu(-1,l):vr(l)}}if(32&s)return Ef(r,n)()||vr(n[r.index]);{const a=Kc(n,r);return null!==a?Array.isArray(a)?a[0]:qc(zc(n[16]),a):qc(n,r.next)}}return null}function Kc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Yu(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return qc(a,l)}return r[7]}function Qu(n,r,s,a,l,d,v){for(;null!=s;){const C=a[s.index],S=s.type;if(v&&0===r&&(C&&zs(vr(C),a),s.flags|=4),64!=(64&s.flags))if(8&S)Qu(n,r,s.child,a,l,d,!1),_a(r,n,l,C,d);else if(32&S){const B=Ef(s,a);let q;for(;q=B();)_a(r,n,l,q,d);_a(r,n,l,C,d)}else 16&S?Xd(n,r,a,s,l,d):_a(r,n,l,C,d);s=v?s.projectionNext:s.next}}function Ju(n,r,s,a,l,d){Qu(s,a,n.firstChild,r,l,d,!1)}function Xd(n,r,s,a,l,d){const v=s[16],S=v[6].projection[a.projection];if(Array.isArray(S))for(let B=0;B<S.length;B++)_a(r,n,l,S[B],d);else Qu(n,r,S,v[3],l,d,!0)}function Af(n,r,s){Hn(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Sf(n,r,s){Hn(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Mf(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||n.charCodeAt(l+d)<=32)return l}s=l+1}}const Zc="ng-template";function Yc(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Mf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function ml(n){return 4===n.type&&n.value!==Zc}function p_(n,r,s){return r===(4!==n.type||s?n.value:Zc)}function zg(n,r,s){let a=4;const l=n.attrs||[],d=function Vl(n){for(let r=0;r<n.length;r++)if(Hi(n[r]))return r;return n.length}(l);let v=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!v)if(4&a){if(a=2|1&a,""!==S&&!p_(n,S,s)||""===S&&1===r.length){if(bu(a))return!1;v=!0}}else{const B=8&a?S:r[++C];if(8&a&&null!==n.attrs){if(!Yc(n.attrs,B,s)){if(bu(a))return!1;v=!0}continue}const re=g_(8&a?"class":S,l,ml(n),s);if(-1===re){if(bu(a))return!1;v=!0;continue}if(""!==B){let xe;xe=re>d?"":l[re+1].toLowerCase();const Ze=8&a?xe:null;if(Ze&&-1!==Mf(Ze,B,0)||2&a&&B!==xe){if(bu(a))return!1;v=!0}}}}else{if(!v&&!bu(a)&&!bu(S))return!1;if(v&&bu(S))continue;v=!1,a=S|1&a}}return bu(a)||v}function bu(n){return 0==(1&n)}function g_(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=d?1:2}return-1}return function Ul(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Wg(n,r,s=!1){for(let a=0;a<r.length;a++)if(zg(n,r[a],s))return!0;return!1}function qg(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function Kg(n,r){return n?":not("+r.trim()+")":r}function m_(n){let r=n[0],s=1,a=2,l="",d=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const C=n[++s];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!bu(v)&&(r+=Kg(d,l),l=""),a=v,d=d||!bu(a);s++}return""!==l&&(r+=Kg(d,l)),r}const hr={};function Pf(n){cc(rr(),Tt(),ni()+n,!1)}function cc(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&Ns(r,d,s)}else{const d=n.preOrderHooks;null!==d&&ss(r,d,0,s)}Xs(s)}const Xu=new _n("ENVIRONMENT_INITIALIZER"),Bl=new _n("INJECTOR_DEF_TYPES");function Yg(...n){return{\u0275providers:yl(0,n)}}function yl(n,...r){const s=[],a=new Set;let l;return Oi(r,d=>{const v=d;_l(v,s,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&Qg(l,s),s}function Qg(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];Oi(l,d=>{r.push(d)})}}function _l(n,r,s,a){if(!(n=ve(n)))return!1;let l=null,d=br(n);const v=!d&&he(n);if(d||v){if(v&&!v.standalone)return!1;l=n}else{const S=n.ngModule;if(d=br(S),!d)return!1;l=S}const C=a.has(l);if(v){if(C)return!1;if(a.add(l),v.dependencies){const S="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const B of S)_l(B,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let B;a.add(l);try{Oi(d.imports,q=>{_l(q,r,s,a)&&(B||(B=[]),B.push(q))})}finally{}void 0!==B&&Qg(B,r)}if(!C){const B=mi(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:Vt},{provide:Bl,useValue:l,multi:!0},{provide:Xu,useValue:()=>gn(l),multi:!0})}const S=d.providers;null==S||C||Oi(S,q=>{r.push(q)})}}return l!==n&&void 0!==n.providers}const vl=Ae({provide:String,useValue:Ae});function rh(n){return null!==n&&"object"==typeof n&&vl in n}function jl(n){return"function"==typeof n}const dc=new _n("INJECTOR",-1);class Rf{get(r,s=Is){if(s===Is){const a=new Error(`NullInjectorError: No provider for ${ke(r)}!`);throw a.name="NullInjectorError",a}return s}}const kf=new _n("Set Injector scope."),ed={},E_={};let ih;function el(){return void 0===ih&&(ih=new Rf),ih}class Uu{}class Ff extends Uu{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vf(r,v=>this.processProvider(v)),this.records.set(dc,hc(void 0,this)),l.has("environment")&&this.records.set(Uu,hc(void 0,this));const d=this.records.get(kf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Bl.multi,Vt,rn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}get(r,s=Is,a=rn.Default){this.assertNotDestroyed();const l=Qt(this),d=Tn(void 0);try{if(!(a&rn.SkipSelf)){let C=this.records.get(r);if(void 0===C){const S=function b_(n){return"function"==typeof n||"object"==typeof n&&n instanceof _n}(r)&&Bn(r);C=S&&this.injectableDefInScope(S)?hc(sh(r),ed):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&rn.Self?el():this.parent).get(r,s=a&rn.Optional&&s===Is?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[F]=v[F]||[]).unshift(ke(r)),l)throw v;return function so(n,r,s,a){const l=n[F];throw r[rt]&&l.unshift(r[rt]),n.message=function Qo(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ke(r);if(Array.isArray(r))l=r.map(ke).join(" -> ");else if("object"==typeof r){let d=[];for(let v in r)if(r.hasOwnProperty(v)){let C=r[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):ke(C)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(ce,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[F]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{Tn(d),Qt(l)}}resolveInjectorInitializers(){const r=Qt(this),s=Tn(void 0);try{const a=this.get(Xu.multi,Vt,rn.Self);for(const l of a)l()}finally{Qt(r),Tn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(ke(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(r){let s=jl(r=ve(r))?r:ve(r&&r.provide);const a=function em(n){return rh(n)?hc(void 0,n.useValue):hc(tm(n),ed)}(r);if(jl(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=hc(void 0,ed,!0),l.factory=()=>Jr(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ed&&(s.value=E_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function xo(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ve(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function sh(n){const r=Bn(n),s=null!==r?r.factory:mi(n);if(null!==s)return s;if(n instanceof _n)throw new et(204,!1);if(n instanceof Function)return function w_(n){const r=n.length;if(r>0)throw Os(r,"?"),new et(204,!1);const s=function gr(n){const r=n&&(n[Mr]||n[_r]);if(r){const s=function mr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new et(204,!1)}function tm(n,r,s){let a;if(jl(n)){const l=ve(n);return mi(l)||sh(l)}if(rh(n))a=()=>ve(n.useValue);else if(function Xg(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Jr(n.deps||[]));else if(function Jg(n){return!(!n||!n.useExisting)}(n))a=()=>gn(ve(n.useExisting));else{const l=ve(n&&(n.useClass||n.provide));if(!function Lf(n){return!!n.deps}(n))return mi(l)||sh(l);a=()=>new l(...Jr(n.deps))}return a}function hc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function D_(n){return!!n.\u0275providers}function Vf(n,r){for(const s of n)Array.isArray(s)?Vf(s,r):D_(s)?Vf(s.\u0275providers,r):r(s)}function nm(n,r=null,s=null,a){const l=Uf(n,r,s,a);return l.resolveInjectorInitializers(),l}function Uf(n,r=null,s=null,a,l=new Set){const d=[s||Vt,Yg(n)];return a=a||("object"==typeof n?void 0:ke(n)),new Ff(d,r||el(),a||null,l)}let Bu=(()=>{class n{static create(s,a){if(Array.isArray(s))return nm({name:""},a,s,"");{const l=s.name??"";return nm({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=Is,n.NULL=new Rf,n.\u0275prov=En({token:n,providedIn:"any",factory:()=>gn(dc)}),n.__NG_ELEMENT_ID__=-1,n})();function Hl(n,r=rn.Default){const s=Tt();return null===s?gn(n,r):Jt(_i(),s,ve(n),r)}function hh(){throw new Error("invalid")}function mh(n,r){return n<<17|r<<2}function Du(n){return n>>17&32767}function Qf(n){return 2|n}function Ha(n){return(131068&n)>>2}function od(n,r){return-131069&n|r<<2}function ad(n){return 1|n}function wh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const v=n.data[d];Da(l),v.contentQueries(2,r[d],d)}}}function Wl(n,r,s,a,l,d,v,C,S,B,q){const re=r.blueprint.slice();return re[0]=l,re[2]=76|a,(null!==q||n&&1024&n[2])&&(re[2]|=1024),Gr(re),re[3]=re[15]=n,re[8]=s,re[10]=v||n&&n[10],re[11]=C||n&&n[11],re[12]=S||n&&n[12]||null,re[9]=B||n&&n[9]||null,re[6]=d,re[20]=function Cg(){return Wd++}(),re[21]=q,re[16]=2==r.type?n[16]:re,re}function Ec(n,r,s,a,l){let d=n.data[r];if(null===d)d=function lp(n,r,s,a,l){const d=$o(),v=P(),S=n.data[r]=function hp(n,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=S),null!==d&&(v?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(n,r,s,a,l),function Js(){return fn.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const v=function L(){const n=fn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return O(d,!0),d}function wl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function ql(n,r,s){ws(r);try{const a=n.viewQuery;null!==a&&Dp(1,a,s);const l=n.template;null!==l&&Em(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wh(n,r),n.staticViewQueries&&Dp(2,n.viewQuery,s);const d=n.components;null!==d&&function up(n,r){for(let s=0;s<r.length;s++)q_(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Go()}}function wc(n,r,s,a){const l=r[2];if(128!=(128&l)){ws(r);try{Gr(r),function Li(n){return fn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Em(n,r,s,2,a);const v=3==(3&l);if(v){const B=n.preOrderCheckHooks;null!==B&&Ns(r,B,null)}else{const B=n.preOrderHooks;null!==B&&ss(r,B,0,null),vo(r,0)}if(function wp(n){for(let r=qd(n);null!==r;r=Bo(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&dr(d,1),l[2]|=512}}}(r),function z_(n){for(let r=qd(n);null!==r;r=Bo(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];qn(a)&&wc(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&wh(n,r),v){const B=n.contentCheckHooks;null!==B&&Ns(r,B)}else{const B=n.contentHooks;null!==B&&ss(r,B,1),vo(r,1)}!function L_(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Xs(~l);else{const d=l,v=s[++a],C=s[++a];$i(v,d),C(2,r[d])}}}finally{Xs(-1)}}(n,r);const C=n.components;null!==C&&function ap(n,r){for(let s=0;s<r.length;s++)W_(n,r[s])}(r,C);const S=n.viewQuery;if(null!==S&&Dp(2,S,a),v){const B=n.viewCheckHooks;null!==B&&Ns(r,B)}else{const B=n.viewHooks;null!==B&&ss(r,B,2),vo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,dr(r[3],-1))}finally{Go()}}}function vm(n,r,s,a){const l=r[10],v=Ar(r);try{!v&&l.begin&&l.begin(),v&&ql(n,r,a),wc(n,r,s,a)}finally{!v&&l.end&&l.end()}}function Em(n,r,s,a,l){const d=ni(),v=2&a;try{Xs(-1),v&&r.length>22&&cc(n,r,22,!1),s(a,l)}finally{Xs(d)}}function cp(n,r,s){if(tn(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const v=n.data[d];v.contentQueries&&v.contentQueries(1,s[d],d)}}}function bh(n,r,s){!is()||(function $_(n,r,s,a){const l=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||Ta(s,r),zs(a,r);const v=s.initialInputs;for(let C=l;C<d;C++){const S=n.data[C],B=Pn(S);B&&H_(r,s,S);const q=pa(r,n,C,s);zs(q,r),null!==v&&Ep(0,C-l,q,S,0,v),B&&(Ht(s.index,r)[8]=q)}}(n,r,s,Q(s,r)),128==(128&s.flags)&&function mp(n,r,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,v=function di(){return fn.lFrame.currentDirectiveIndex}();try{Xs(d);for(let C=a;C<l;C++){const S=n.data[C],B=r[C];mo(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Cm(S,B)}}finally{Xs(-1),mo(v)}}(n,r,s))}function Dh(n,r,s=Q){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const v=a[d+1],C=-1===v?s(r,n):n[v];n[l++]=C}}}function dp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ih(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ih(n,r,s,a,l,d,v,C,S,B){const q=22+a,re=q+l,xe=function V_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:hr);return s}(q,re),Ze="function"==typeof B?B():B;return xe[1]={type:n,blueprint:xe,template:s,queries:null,viewQuery:C,declTNode:r,data:xe.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:Ze,incompleteFirstPass:!1}}function Th(n,r,s,a){const l=Ph(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&Nm(n).push(a,l.length-1))}function bm(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function va(n,r,s,a,l,d,v,C){const S=Q(r,s);let q,B=r.inputs;!C&&null!=B&&(q=B[a])?(Om(n,s,q,a,l),Jn(r)&&function Dm(n,r){const s=Ht(r,n);16&s[2]||(s[2]|=32)}(s,r.index)):3&r.type&&(a=function U_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,Hn(d)?d.setProperty(S,a,l):no(a)||(S.setProperty?S.setProperty(a,l):S[a]=l))}function hd(n,r,s,a){let l=!1;if(is()){const d=function yp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];Wg(s,v.selectors,!1)&&(l||(l=[]),Lo(Ta(s,r),n,v.type),Pn(v)?(Ah(n,s),l.unshift(v)):l.push(v))}return l}(n,r,s),v=null===a?null:{"":-1};if(null!==d){l=!0,vp(s,n.data.length,d.length);for(let q=0;q<d.length;q++){const re=d[q];re.providersResolver&&re.providersResolver(re)}let C=!1,S=!1,B=wl(n,r,d.length,null);for(let q=0;q<d.length;q++){const re=d[q];s.mergedAttrs=Wo(s.mergedAttrs,re.hostAttrs),Sh(n,s,r,B,re),bc(B,re,v),null!==re.contentQueries&&(s.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=128);const xe=re.type.prototype;!C&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!S&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),B++}!function fp(n,r){const a=r.directiveEnd,l=n.data,d=r.attrs,v=[];let C=null,S=null;for(let B=r.directiveStart;B<a;B++){const q=l[B],re=q.inputs,xe=null===d||ml(r)?null:G_(re,d);v.push(xe),C=bm(re,B,C),S=bm(q.outputs,B,S)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=C,r.outputs=S}(n,s)}v&&function _p(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new et(-301,!1);a.push(r[l],d)}}}(s,a,v)}return s.mergedAttrs=Wo(s.mergedAttrs,s.attrs),l}function Im(n,r,s,a,l,d){const v=d.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const S=~r.index;(function gp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=S&&C.push(S),C.push(a,l,v)}}function Cm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ah(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function bc(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Pn(r)&&(s[""]=n)}}function vp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Sh(n,r,s,a,l){n.data[a]=l;const d=l.factory||(l.factory=mi(l.type)),v=new Eo(d,Pn(l),Hl);n.blueprint[a]=v,s[a]=v,Im(n,r,0,a,wl(n,s,l.hostVars,hr),l)}function H_(n,r,s){const a=Q(r,n),l=dp(s),d=n[10],v=Mh(n,Wl(n,l,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));n[r.index]=v}function tu(n,r,s,a,l,d){const v=Q(n,r);!function Iu(n,r,s,a,l,d,v){if(null==d)Hn(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const C=null==v?Je(d):v(d,a||"",l);Hn(n)?n.setAttribute(r,l,C,s):s?r.setAttributeNS(s,l,C):r.setAttribute(l,C)}}(r[11],v,d,n.value,s,a,l)}function Ep(n,r,s,a,l,d){const v=d[r];if(null!==v){const C=a.setInput;for(let S=0;S<v.length;){const B=v[S++],q=v[S++],re=v[S++];null!==C?a.setInput(s,re,B,q):s[q]=re}}}function G_(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Am(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function W_(n,r){const s=Ht(r,n);if(qn(s)){const a=s[1];48&s[2]?wc(a,s,a.template,s[8]):s[5]>0&&fd(s)}}function fd(n){for(let a=qd(n);null!==a;a=Bo(a))for(let l=10;l<a.length;l++){const d=a[l];if(512&d[2]){const v=d[1];wc(v,d,v.template,d[8])}else d[5]>0&&fd(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Ht(s[a],n);qn(l)&&l[5]>0&&fd(l)}}function q_(n,r){const s=Ht(r,n),a=s[1];(function bp(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),ql(a,s,s[8])}function Mh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function pd(n){for(;n;){n[2]|=32;const r=zc(n);if(Ci(n)&&!r)return n;n=r}return null}function Mm(n){!function gd(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=ff(s);if(null!==a){const l=a[1];vm(l,a,l.template,s)}}}(n[8])}function Dp(n,r,s){Da(0),r(n,s)}const Ip=(()=>Promise.resolve(null))();function Ph(n){return n[7]||(n[7]=[])}function Nm(n){return n.cleanup||(n.cleanup=[])}function Tp(n,r){const s=n[9],a=s?s.get(xa,null):null;a&&a.handleError(r)}function Om(n,r,s,a,l){for(let d=0;d<s.length;){const v=s[d++],C=s[d++],S=r[v],B=n.data[v];null!==B.setInput?B.setInput(S,l,a,C):S[C]=l}}function Cu(n,r,s){const a=k(r,n);!function Wc(n,r,s){Hn(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function md(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,d=0;if(null!==r)for(let v=0;v<r.length;v++){const C=r[v];"number"==typeof C?d=C:1==d?l=Ue(l,C):2==d&&(a=Ue(a,C+": "+r[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function Fp(){const n=_i();eo(Tt()[1],n)}function Lh(n){let r=function Lp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Pn(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new et(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const v=n;v.inputs=Rr(n.inputs),v.declaredInputs=Rr(n.declaredInputs),v.outputs=Rr(n.outputs);const C=l.hostBindings;C&&_d(n,C);const S=l.viewQuery,B=l.contentQueries;if(S&&Bm(n,S),B&&jm(n,B),Re(n.inputs,l.inputs),Re(n.declaredInputs,l.declaredInputs),Re(n.outputs,l.outputs),Pn(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let v=0;v<d.length;v++){const C=d[v];C&&C.ngInherit&&C(n),C===Lh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Vh(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Wo(l.hostAttrs,s=Wo(s,l.hostAttrs))}}(a)}function Rr(n){return n===jn?{}:n===Vt?[]:n}function Bm(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function jm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function _d(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let za=null;function bl(){if(!za){const n=je.Symbol;if(n&&n.iterator)za=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(za=a)}}}return za}function Dl(n){return!!Vp(n)&&(Array.isArray(n)||!(n instanceof Map)&&bl()in n)}function Vp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $u(n,r,s){return n[r]=s}function Ir(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Dc(n,r,s,a){const l=Ir(n,r,s);return Ir(n,r+1,a)||l}function Uh(n,r,s,a){const l=Tt();return Ir(l,vi(),r)&&(rr(),tu(Yr(),l,n,r,s,a)),Uh}function Cc(n,r,s,a){return Ir(n,vi(),s)?r+Je(s)+a:hr}function $p(n,r,s,a,l,d,v,C){const S=Tt(),B=rr(),q=n+22,re=B.firstCreatePass?function qm(n,r,s,a,l,d,v,C,S){const B=r.consts,q=Ec(r,n,4,v||null,Nn(B,C));hd(r,s,q,Nn(B,S)),eo(r,q);const re=q.tViews=Ih(2,q,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,q),re.queries=r.queries.embeddedTView(q)),q}(q,B,S,r,s,a,l,d,v):B.data[q];O(re,!1);const xe=S[11].createComment("");Jd(B,S,xe,re),zs(xe,S),Mh(S,S[q]=Am(xe,S,xe,re)),Pr(re)&&bh(B,S,re),null!=v&&Dh(S,re,C)}function Km(n){return Ct(function an(){return fn.lFrame.contextLView}(),22+n)}function rl(n,r,s){const a=Tt();return Ir(a,vi(),r)&&va(rr(),Yr(),a,n,r,a[11],s,!1),rl}function Pc(n,r,s,a,l){const v=l?"class":"style";Om(n,s,r.inputs[v],v,a)}function Dd(n,r,s,a){const l=Tt(),d=rr(),v=22+n,C=l[11],S=l[v]=wf(C,r,function Ia(){return fn.lFrame.currentNamespace}()),B=d.firstCreatePass?function bd(n,r,s,a,l,d,v){const C=r.consts,B=Ec(r,n,2,l,Nn(C,d));return hd(r,s,B,Nn(C,v)),null!==B.attrs&&md(B,B.attrs,!1),null!==B.mergedAttrs&&md(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(v,d,l,0,r,s,a):d.data[v];O(B,!0);const q=B.mergedAttrs;null!==q&&Vi(C,S,q);const re=B.classes;null!==re&&Sf(C,S,re);const xe=B.styles;return null!==xe&&Af(C,S,xe),64!=(64&B.flags)&&Jd(d,l,S,B),0===function Yi(){return fn.lFrame.elementDepthCount}()&&zs(S,l),function ti(){fn.lFrame.elementDepthCount++}(),Pr(B)&&(bh(d,l,B),cp(d,B,l)),null!==a&&Dh(l,B),Dd}function Nc(){let n=_i();P()?Z():(n=n.parent,O(n,!1));const r=n;!function Oo(){fn.lFrame.elementDepthCount--}();const s=rr();return s.firstCreatePass&&(eo(s,n),tn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function uu(n){return 0!=(16&n.flags)}(r)&&Pc(s,r,Tt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function to(n){return 0!=(32&n.flags)}(r)&&Pc(s,r,Tt(),r.stylesWithoutHost,!1),Nc}function Hp(n,r,s,a){return Dd(n,r,s,a),Nc(),Hp}function jh(n,r,s){const a=Tt(),l=rr(),d=n+22,v=l.firstCreatePass?function tv(n,r,s,a,l){const d=r.consts,v=Nn(d,a),C=Ec(r,n,8,"ng-container",v);return null!==v&&md(C,v,!0),hd(r,s,C,Nn(d,l)),null!==r.queries&&r.queries.elementStart(r,C),C}(d,l,a,r,s):l.data[d];O(v,!0);const C=a[d]=a[11].createComment("");return Jd(l,a,C,v),zs(C,a),Pr(v)&&(bh(l,a,v),cp(l,v,a)),null!=s&&Dh(a,v),jh}function Oc(){let n=_i();const r=rr();return P()?Z():(n=n.parent,O(n,!1)),r.firstCreatePass&&(eo(r,n),tn(n)&&r.queries.elementEnd(n)),Oc}function Gp(){return Tt()}function il(n){return!!n&&"function"==typeof n.then}function zp(n){return!!n&&"function"==typeof n.subscribe}const Wp=zp;function Id(n,r,s,a){const l=Tt(),d=rr(),v=_i();return function Cd(n,r,s,a,l,d,v,C){const S=Pr(a),q=n.firstCreatePass&&Nm(n),re=r[8],xe=Ph(r);let Ze=!0;if(3&a.type||C){const ln=Q(a,r),vn=C?C(ln):ln,er=xe.length,Ut=C?Un=>C(vr(Un[a.index])):a.index;if(Hn(s)){let Un=null;if(!C&&S&&(Un=function nv(n,r,s,a){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const v=l[d];if(v===s&&l[d+1]===a){const C=r[7],S=l[d+2];return C.length>S?C[S]:null}"string"==typeof v&&(d+=2)}return null}(n,r,l,a.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=d,Un.__ngLastListenerFn__=d,Ze=!1;else{d=Gh(a,r,re,d,!1);const ei=s.listen(vn,l,d);xe.push(d,ei),q&&q.push(l,Ut,er,er+1)}}else d=Gh(a,r,re,d,!0),vn.addEventListener(l,d,v),xe.push(d),q&&q.push(l,Ut,er,v)}else d=Gh(a,r,re,d,!1);const Pt=a.outputs;let zt;if(Ze&&null!==Pt&&(zt=Pt[l])){const ln=zt.length;if(ln)for(let vn=0;vn<ln;vn+=2){const fs=r[zt[vn]][zt[vn+1]].subscribe(d),Fd=xe.length;xe.push(d,fs),q&&q.push(l,a.index,Fd,-(Fd+1))}}}(d,l,l[11],v,n,r,!!s,a),Id}function Td(n,r,s,a){try{return!1!==s(a)}catch(l){return Tp(n,l),!1}}function Gh(n,r,s,a,l){return function d(v){if(v===Function)return a;pd(2&n.flags?Ht(n.index,r):r);let S=Td(r,0,a,v),B=d.__ngNextListenerFn__;for(;B;)S=Td(r,0,B,v)&&S,B=B.__ngNextListenerFn__;return l&&!1===S&&(v.preventDefault(),v.returnValue=!1),S}}function Rc(n=1){return function su(n){return(fn.lFrame.contextLView=function ou(n,r){for(;n>0;)r=r[15],n--;return r}(n,fn.lFrame.contextLView))[8]}(n)}function rv(n,r){let s=null;const a=function Qc(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===a?Wg(n,d,!0):qg(a,d))return l}else s=l}return s}function Ad(n){const r=Tt()[16][6];if(!r.projection){const a=r.projection=Os(n?n.length:1,null),l=a.slice();let d=r.child;for(;null!==d;){const v=n?rv(d,n):0;null!==v&&(l[v]?l[v].projectionNext=d:a[v]=d,l[v]=d),d=d.next}}}function Cl(n,r=0,s){const a=Tt(),l=rr(),d=Ec(l,22+n,16,null,s||null);null===d.projection&&(d.projection=r),Z(),64!=(64&d.flags)&&function Hg(n,r,s){Xd(r[11],0,r,s,Vg(n,s,r),Zd(s.parent||r[6],s,r))}(l,a,d)}function Au(n,r,s){return Zl(n,"",r,"",s),Au}function Zl(n,r,s,a,l){const d=Tt(),v=Cc(d,r,s,a);return v!==hr&&va(rr(),Yr(),d,n,v,d[11],l,!1),Zl}function Xm(n,r,s,a,l){const d=n[s+1],v=null===r;let C=a?Du(d):Ha(d),S=!1;for(;0!==C&&(!1===S||v);){const q=n[C+1];sv(n[C],r)&&(S=!0,n[C+1]=a?ad(q):Qf(q)),C=a?Du(q):Ha(q)}S&&(n[s+1]=a?Qf(d):ad(d))}function sv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Gi(n,r)>=0}function Qp(n,r){return function Su(n,r,s,a){const l=Tt(),d=rr(),v=function Es(n){const r=fn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function Xp(n,r,s,a){const l=n.data;if(null===l[s+1]){const d=l[ni()],v=function Jp(n,r){return r>=n.expandoStartIndex}(n,s);(function _v(n,r){return 0!=(n.flags&(r?16:32))})(d,a)&&null===r&&!v&&(r=!1),r=function hv(n,r,s,a){const l=function Ka(n){const r=fn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Ql(s=Tl(null,n,r,s,a),r.attrs,a),d=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(s=Tl(l,n,r,s,a),null===d){let S=function fv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ha(a))return n[Du(a)]}(n,r,a);void 0!==S&&Array.isArray(S)&&(S=Tl(null,n,r,S[1],a),S=Ql(S,r.attrs,a),function sy(n,r,s,a){n[Du(s?r.classBindings:r.styleBindings)]=a}(n,r,a,S))}else d=function pv(n,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Ql(a,n[d].hostAttrs,s);return Ql(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function iv(n,r,s,a,l,d){let v=d?r.classBindings:r.styleBindings,C=Du(v),S=Ha(v);n[a]=s;let q,B=!1;if(Array.isArray(s)){const re=s;q=re[1],(null===q||Gi(re,q)>0)&&(B=!0)}else q=s;if(l)if(0!==S){const xe=Du(n[C+1]);n[a+1]=mh(xe,C),0!==xe&&(n[xe+1]=od(n[xe+1],a)),n[C+1]=function x_(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=mh(C,0),0!==C&&(n[C+1]=od(n[C+1],a)),C=a;else n[a+1]=mh(S,0),0===C?C=a:n[S+1]=od(n[S+1],a),S=a;B&&(n[a+1]=Qf(n[a+1])),Xm(n,q,a,!0),Xm(n,q,a,!1),function Jm(n,r,s,a,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&Gi(d,r)>=0&&(s[a+1]=ad(s[a+1]))}(r,q,n,a,d),v=mh(C,S),d?r.classBindings=v:r.styleBindings=v}(l,d,r,s,v,a)}}(d,n,v,a),r!==hr&&Ir(l,v,r)&&function ay(n,r,s,a,l,d,v,C){if(!(3&r.type))return;const S=n.data,B=S[C+1];qh(function Gl(n){return 1==(1&n)}(B)?uy(S,r,s,l,Ha(B),v):void 0)||(qh(d)||function fm(n){return 2==(2&n)}(B)&&(d=uy(S,null,s,l,C,v)),function Gg(n,r,s,a,l){const d=Hn(n);if(r)l?d?n.addClass(s,a):s.classList.add(a):d?n.removeClass(s,a):s.classList.remove(a);else{let v=-1===a.indexOf("-")?void 0:wu.DashCase;if(null==l)d?n.removeStyle(s,a,v):s.style.removeProperty(a);else{const C="string"==typeof l&&l.endsWith("!important");C&&(l=l.slice(0,-10),v|=wu.Important),d?n.setStyle(s,a,l,v):s.style.setProperty(a,l,C?"important":"")}}}(a,v,k(ni(),s),l,d))}(d,d.data[ni()],l,l[11],n,l[v+1]=function yv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ke(ls(n)))),n}(r,s),a,v)}(n,r,null,!0),Qp}function Tl(n,r,s,a,l){let d=null;const v=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<v&&(d=r[C],a=Ql(a,d.hostAttrs,l),d!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function Ql(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const v=r[d];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zr(n,v,!!s||r[++d]))}return void 0===n?null:n}function uy(n,r,s,a,l,d){const v=null===r;let C;for(;l>0;){const S=n[l],B=Array.isArray(S),q=B?S[1]:S,re=null===q;let xe=s[l+1];xe===hr&&(xe=re?Vt:void 0);let Ze=re?Nu(xe,a):q===a?xe:void 0;if(B&&!qh(Ze)&&(Ze=Nu(S,a)),qh(Ze)&&(C=Ze,v))return C;const Pt=n[l+1];l=v?Du(Pt):Ha(Pt)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(C=Nu(S,a))}return C}function qh(n){return void 0!==n}function vv(n,r=""){const s=Tt(),a=rr(),l=n+22,d=a.firstCreatePass?Ec(a,l,1,r,null):a.data[l],v=s[l]=function Kd(n,r){return Hn(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Jd(a,s,v,d),O(d,!1)}function Kh(n){return Zh("",n,""),Kh}function Zh(n,r,s){const a=Tt(),l=Cc(a,n,r,s);return l!==hr&&Cu(a,ni(),l),Zh}const Sl=void 0;var Dv=["en",[["a","p"],["AM","PM"],Sl],[["AM","PM"],Sl,Sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sl,"{1} 'at' {0}",Sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ec={};function Xh(n){const r=function Ty(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=sg(r);if(s)return s;const a=r.split("-")[0];if(s=sg(a),s)return s;if("en"===a)return Dv;throw new Error(`Missing locale data for the locale "${n}".`)}function Cy(n){return Xh(n)[zn.PluralCase]}function sg(n){return n in ec||(ec[n]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[n]),ec[n]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const tc="en-US";let tf=tc;function xv(n,r,s,a,l){if(n=ve(n),Array.isArray(n))for(let d=0;d<n.length;d++)xv(n[d],r,s,a,l);else{const d=rr(),v=Tt();let C=jl(n)?n:ve(n.provide),S=tm(n);const B=_i(),q=1048575&B.providerIndexes,re=B.directiveStart,xe=B.providerIndexes>>20;if(jl(n)||!n.multi){const Ze=new Eo(S,l,Hl),Pt=Nv(C,r,l?q:q+xe,re);-1===Pt?(Lo(Ta(B,v),d,C),Pv(d,n,r.length),r.push(C),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Ze),v.push(Ze)):(s[Pt]=Ze,v[Pt]=Ze)}else{const Ze=Nv(C,r,q+xe,re),Pt=Nv(C,r,q,q+xe),zt=Ze>=0&&s[Ze],ln=Pt>=0&&s[Pt];if(l&&!ln||!l&&!zt){Lo(Ta(B,v),d,C);const vn=function Qw(n,r,s,a,l){const d=new Eo(n,s,Hl);return d.multi=[],d.index=r,d.componentProviders=0,Z0(d,l,a&&!s),d}(l?Yw:Zw,s.length,l,a,S);!l&&ln&&(s[Pt].providerFactory=vn),Pv(d,n,r.length,0),r.push(C),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(vn),v.push(vn)}else Pv(d,n,Ze>-1?Ze:Pt,Z0(s[l?Pt:Ze],S,!l&&a));!l&&a&&ln&&s[Pt].componentProviders++}}}function Pv(n,r,s,a){const l=jl(r),d=function v_(n){return!!n.useClass}(r);if(l||d){const S=(d?ve(r.useClass):r).prototype.ngOnDestroy;if(S){const B=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=B.indexOf(s);-1===q?B.push(s,[a,S]):B[q+1].push(a,S)}else B.push(s,S)}}}function Z0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Nv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function Zw(n,r,s,a){return Ov(this.multi,[])}function Yw(n,r,s,a){const l=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=pa(s,s[1],this.providerFactory.index,a);d=C.slice(0,v),Ov(l,d);for(let S=v;S<C.length;S++)d.push(C[S])}else d=[],Ov(l,d);return d}function Ov(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Y0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function Kw(n,r,s){const a=rr();if(a.firstCreatePass){const l=Pn(n);xv(s,a.data,a.blueprint,l,!0),xv(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Xw{resolveComponentFactory(r){throw function Jw(n){const r=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let lg=(()=>{class n{}return n.NULL=new Xw,n})();class Rd{}class J0{}class X0{}function tb(){return sf(_i(),Tt())}function sf(n,r){return new cg(Q(n,r))}let cg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=tb,n})();function nb(n){return n instanceof cg?n.nativeElement:n}class eE{}let rb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sb(){const n=Tt(),s=Ht(_i().index,n);return function ib(n){return n[11]}(mt(s)?s:n)}(),n})(),ob=(()=>{class n{}return n.\u0275prov=En({token:n,providedIn:"root",factory:()=>null}),n})();class tE{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const nE=new tE("14.0.3"),Rv={};function Ly(n,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(vr(d)),xt(d))for(let C=10;C<d.length;C++){const S=d[C],B=S[1].firstChild;null!==B&&Ly(S[1],S,B,a)}const v=s.type;if(8&v)Ly(n,r,s.child,a);else if(32&v){const C=Ef(s,r);let S;for(;S=C();)a.push(S)}else if(16&v){const C=Kc(r,s);if(Array.isArray(C))a.push(...C);else{const S=zc(r[16]);Ly(S[1],S,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class dg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ly(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(xt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(bf(r,a),Do(s,a))}this._attachedToViewContainer=!1}Lg(this._lView[1],this._lView)}onDestroy(r){Th(this._lView[1],this._lView,null,r)}markForCheck(){pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xh(n,r,s){const a=r[10];a.begin&&a.begin();try{wc(n,r,n.template,s)}catch(l){throw Tp(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a_(n,r){Ju(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=r}}class ab extends dg{constructor(r){super(r),this._view=r}detectChanges(){Mm(this._view)}checkNoChanges(){}get context(){return null}}class kv extends lg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=he(r);return new Fv(s,this.ngModule)}}function rE(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class lb{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Rv,a);return l!==Rv||s===Rv?l:this.parentInjector.get(r,s,a)}}class Fv extends X0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function xf(n){return n.map(m_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return rE(this.componentDef.inputs)}get outputs(){return rE(this.componentDef.outputs)}create(r,s,a,l){let d=(l=l||this.ngModule)instanceof Uu?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new lb(r,d):r,C=v.get(eE,Nr),S=v.get(ob,null),B=C.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",re=a?function Ch(n,r,s){if(Hn(n))return n.selectRootElement(r,s===ft.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(B,a,this.componentDef.encapsulation):wf(C.createRenderer(null,this.componentDef),q,function ub(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(q)),xe=this.componentDef.onPush?288:272,Ze=function kp(n,r){return{components:[],scheduler:n||xg,clean:Ip,playerHandler:r||null,flags:0}}(),Pt=Ih(0,null,null,1,0,null,null,null,null,null),zt=Wl(null,Pt,Ze,xe,null,null,C,B,S,v,null);let ln,vn;ws(zt);try{const er=function Vm(n,r,s,a,l,d){const v=s[1];s[22]=n;const S=Ec(v,22,2,"#host",null),B=S.mergedAttrs=r.hostAttrs;null!==B&&(md(S,B,!0),null!==n&&(Vi(l,n,B),null!==S.classes&&Sf(l,n,S.classes),null!==S.styles&&Af(l,n,S.styles)));const q=a.createRenderer(n,r),re=Wl(s,dp(r),null,r.onPush?32:16,s[22],S,a,q,d||null,null,null);return v.firstCreatePass&&(Lo(Ta(S,s),v,r.type),Ah(v,S),vp(S,s.length,1)),Mh(s,re),s[22]=re}(re,this.componentDef,zt,C,B);if(re)if(a)Vi(B,re,["ng-version",nE.full]);else{const{attrs:Ut,classes:Un}=function eh(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===l?""!==d&&r.push(d,n[++a]):8===l&&s.push(d);else{if(!bu(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ut&&Vi(B,re,Ut),Un&&Un.length>0&&Sf(B,re,Un.join(" "))}if(vn=We(Pt,22),void 0!==s){const Ut=vn.projection=[];for(let Un=0;Un<this.ngContentSelectors.length;Un++){const ei=s[Un];Ut.push(null!=ei?Array.from(ei):null)}}ln=function Um(n,r,s,a,l){const d=s[1],v=function j_(n,r,s){const a=_i();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Sh(n,a,r,wl(n,r,1,null),s));const l=pa(r,n,a.directiveStart,a);zs(l,r);const d=Q(a,r);return d&&zs(d,r),l}(d,s,r);if(a.components.push(v),n[8]=v,null!==l)for(const S of l)S(v,r);if(r.contentQueries){const S=_i();r.contentQueries(1,v,S.directiveStart)}const C=_i();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Xs(C.index),Im(s[1],C,0,C.directiveStart,C.directiveEnd,r),Cm(r,v)),v}(er,this.componentDef,zt,Ze,[Fp]),ql(Pt,zt,null)}finally{Go()}return new db(this.componentType,ln,sf(vn,zt),zt,vn)}}class db extends class eb{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new ab(l),this.componentType=r}get injector(){return new Fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function hb(n,r){return new iE(n,r??null)}class iE extends Rd{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const a=Ft(r);this._bootstrapComponents=Eu(a.bootstrap),this._r3Injector=Uf(r,s,[{provide:Rd,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],ke(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(r)}get(r,s=Bu.THROW_IF_NOT_FOUND,a=rn.Default){return r===Bu||r===Rd||r===dc?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Lv extends J0{constructor(r){super(),this.moduleType=r}create(r){return new iE(this.moduleType,r)}}class fb extends Rd{constructor(r,s,a){super(),this.componentFactoryResolver=new kv(this),this.instance=null;const l=new Ff([...r,{provide:Rd,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],s||el(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Vv(n,r=null,s=null){return new fb(n,r,s).injector}function sE(n,r,s,a,l,d,v){return function lE(n,r,s,a,l,d,v,C,S){const B=r+s;return function ui(n,r,s,a,l,d){const v=Dc(n,r,s,a);return Dc(n,r+2,l,d)||v}(n,B,l,d,v,C)?$u(n,B+4,S?a.call(S,l,d,v,C):a(l,d,v,C)):hg(n,B+4)}(Tt(),Dr(),n,r,s,a,l,d,v)}function hg(n,r){const s=n[r];return s===hr?void 0:s}function dE(n,r){const s=rr();let a;const l=n+22;s.firstCreatePass?(a=function Tb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=mi(a.type)),v=Tn(Hl);try{const C=wi(!1),S=d();return wi(C),function Bh(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Tt(),l,S),S}finally{Tn(v)}}function hE(n,r,s){const a=n+22,l=Tt(),d=Ct(l,a);return fg(l,a)?function oE(n,r,s,a,l,d){const v=r+s;return Ir(n,v,l)?$u(n,v+1,d?a.call(d,l):a(l)):hg(n,v+1)}(l,Dr(),r,d.transform,s,d):d.transform(s)}function fE(n,r,s,a){const l=n+22,d=Tt(),v=Ct(d,l);return fg(d,l)?function aE(n,r,s,a,l,d,v){const C=r+s;return Dc(n,C,l,d)?$u(n,C+2,v?a.call(v,l,d):a(l,d)):hg(n,C+2)}(d,Dr(),r,v.transform,s,a,v):v.transform(s,a)}function fg(n,r){return n[1].data[r].pure}function Uv(n){return r=>{setTimeout(n,void 0,r)}}const Ml=class xb extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,d=s||(()=>null),v=a;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),d=S.error?.bind(S),v=S.complete?.bind(S)}this.__isAsync&&(d=Uv(d),l&&(l=Uv(l)),v&&(v=Uv(v)));const C=super.subscribe({next:l,error:d,complete:v});return r instanceof f.w0&&r.add(C),C}};function Pb(){return this._results[bl()]()}class Bv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=bl(),a=Bv.prototype;a[s]||(a[s]=Pb)}get changes(){return this._changes||(this._changes=new Ml)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Xi(r);(this._changesDetected=!function nt(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rb,n})();const Nb=pg,Ob=class extends Nb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=Wl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),ql(a,l,r),new dg(l)}};function Rb(){return Vy(_i(),Tt())}function Vy(n,r){return 4&n.type?new Ob(r,n,sf(n,r)):null}let Uy=(()=>{class n{}return n.__NG_ELEMENT_ID__=kb,n})();function kb(){return mE(_i(),Tt())}const Fb=Uy,pE=class extends Fb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new Fa(this._hostTNode,this._hostLView)}get parentInjector(){const r=Pi(this._hostTNode,this._hostLView);if(ro(r)){const s=Ko(r,this._hostLView),a=qo(r);return new Fa(s[1].data[a+8],s)}return new Fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=gE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const v=r.createEmbeddedView(s||{},d);return this.insert(v,l),v}createComponent(r,s,a,l,d){const v=r&&!function Ds(n){return"function"==typeof n}(r);let C;if(v)C=s;else{const re=s||{};C=re.index,a=re.injector,l=re.projectableNodes,d=re.environmentInjector||re.ngModuleRef}const S=v?r:new Fv(he(r)),B=a||this.parentInjector;if(!d&&null==S.ngModule){const xe=(v?B:this.parentInjector).get(Uu,null);xe&&(d=xe)}const q=S.create(B,l,void 0,d);return this.insert(q.hostView,C),q}insert(r,s){const a=r._lView,l=a[1];if(function cr(n){return xt(n[3])}(a)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const re=a[3],xe=new pE(re,re[6],re[3]);xe.detach(xe.indexOf(r))}}const d=this._adjustIndex(s),v=this._lContainer;!function l_(n,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Zo(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function c_(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=64}(l,a,v,d);const C=Yu(d,v),S=a[11],B=lc(S,v[7]);return null!==B&&function o_(n,r,s,a,l,d){a[0]=l,a[6]=r,Ju(n,a,s,1,l,d)}(l,v[6],S,a,B,C),r.attachToViewContainerRef(),Zo(jv(v),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=gE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=bf(this._lContainer,s);a&&(Do(jv(this._lContainer),s),Lg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=bf(this._lContainer,s);return a&&null!=Do(jv(this._lContainer),s)?new dg(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function gE(n){return n[8]}function jv(n){return n[8]||(n[8]=[])}function mE(n,r){let s;const a=r[n.index];if(xt(a))s=a;else{let l;if(8&n.type)l=vr(a);else{const d=r[11];l=d.createComment("");const v=Q(n,r);pl(d,lc(d,v),l,function Mo(n,r){return Hn(n)?n.nextSibling(r):r.nextSibling}(d,v),!1)}r[n.index]=s=Am(a,r,l,n),Mh(r,s)}return new pE(s,n,r)}class $v{constructor(r){this.queryList=r,this.matches=null}clone(){return new $v(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const v=s.getByIndex(d);l.push(this.queries[v.indexInDeclarationView].clone())}return new Hv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==IE(r,s).matches&&this.queries[s].setDirty()}}class yE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Gv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Gv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new zv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,Ub(s,d)),this.matchTNodeWithReadOption(r,s,hi(s,r,d,!1,!1))}else a===pg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,hi(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===cg||l===Uy||l===pg&&4&s.type)this.addMatch(s.index,-2);else{const d=hi(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Ub(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function jb(n,r,s,a){return-1===s?function Bb(n,r){return 11&n.type?sf(n,r):4&n.type?Vy(n,r):null}(r,n):-2===s?function $b(n,r,s){return s===cg?sf(r,n):s===pg?Vy(r,n):s===Uy?mE(r,n):void 0}(n,r,a):pa(n,n[1],s,r)}function _E(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=n.data,v=s.matches,C=[];for(let S=0;S<v.length;S+=2){const B=v[S];C.push(B<0?null:jb(r,d[B],v[S+1],s.metadata.read))}l.matches=C}return l.matches}function Wv(n,r,s,a){const l=n.queries.getByIndex(s),d=l.matches;if(null!==d){const v=_E(n,r,l,s);for(let C=0;C<d.length;C+=2){const S=d[C];if(S>0)a.push(v[C/2]);else{const B=d[C+1],q=r[-S];for(let re=10;re<q.length;re++){const xe=q[re];xe[17]===xe[3]&&Wv(xe[1],xe,B,a)}if(null!==q[9]){const re=q[9];for(let xe=0;xe<re.length;xe++){const Ze=re[xe];Wv(Ze[1],Ze,B,a)}}}}}return a}function vE(n){const r=Tt(),s=rr(),a=la();Da(a+1);const l=IE(s,a);if(n.dirty&&Ar(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?Wv(s,r,a,[]):_E(s,r,l,a);n.reset(d,nb),n.notifyOnChanges()}return!0}return!1}function EE(n,r,s,a){const l=rr();if(l.firstCreatePass){const d=_i();(function DE(n,r,s){null===n.queries&&(n.queries=new Gv),n.queries.track(new zv(r,s))})(l,new yE(r,s,a),d.index),function zb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function bE(n,r,s){const a=new Bv(4==(4&s));Th(n,r,a,a.destroy),null===r[19]&&(r[19]=new Hv),r[19].queries.push(new $v(a))}(l,Tt(),s)}function wE(){return function Gb(n,r){return n[19].queries[r].queryList}(Tt(),la())}function IE(n,r){return n.queries.getByIndex(r)}function CE(n,r){return Vy(n,r)}function uf(n){const r=he(n)||pe(n)||lt(n);return null!==r&&r.standalone}function jy(...n){}const GE=new _n("Application Initializer");let $y=(()=>{class n{constructor(s){this.appInits=s,this.resolve=jy,this.reject=jy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(il(d))s.push(d);else if(Wp(d)){const v=new Promise((C,S)=>{d.subscribe({complete:C,error:S})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(gn(GE,8))},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new _n("AppId",{providedIn:"root",factory:function WE(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qE=new _n("Platform Initializer"),dD=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KE=new _n("appBootstrapListener"),hD=new _n("AnimationModuleType");let fD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hy=new _n("LocaleId",{providedIn:"root",factory:()=>function Dn(n,r=rn.Default){return gn(n,r)}(Hy,rn.Optional|rn.SkipSelf)||function pD(){return typeof $localize<"u"&&$localize.locale||tc}()}),gD=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let yD=(()=>{class n{compileModuleSync(s){return new Lv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Eu(Ft(s).declarations).reduce((v,C)=>{const S=he(C);return S&&v.push(new Fv(S)),v},[]);return new mD(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vD=(()=>Promise.resolve(0))();function Jv(n){typeof Zone>"u"?vD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ml(!1),this.onMicrotaskEmpty=new Ml(!1),this.onStable=new Ml(!1),this.onError=new Ml(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ED(){let n=je.requestAnimationFrame,r=je.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function DD(n){const r=()=>{!function bD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Xv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,v,C)=>{try{return ZE(n),s.invokeTask(l,d,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),YE(n)}},onInvoke:(s,a,l,d,v,C,S)=>{try{return ZE(n),s.invoke(l,d,v,C,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),YE(n)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,e0(n),Xv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+l,r,wD,jy,jy);try{return d.runTask(v,s,a)}finally{d.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const wD={};function Xv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YE(n){n._nesting--,Xv(n)}class ID{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ml,this.onMicrotaskEmpty=new Ml,this.onStable=new Ml,this.onError=new Ml}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const QE=new _n(""),JE=new _n("");let t0,CD=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function TD(n){t0=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xu.assertNotInAngularZone(),Jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(gn(xu),gn(XE),gn(JE))},n.\u0275prov=En({token:n,factory:n.\u0275fac}),n})(),XE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return t0?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Uc=null;const ew=new _n("AllowMultipleToken"),tw=new _n("PlatformOnDestroy");class MD{constructor(r,s){this.name=r,this.token=s}}function rw(n,r,s=[]){const a=`Platform: ${r}`,l=new _n(a);return(d=[])=>{let v=n0();if(!v||v.injector.get(ew,!1)){const C=[...s,...d,{provide:l,useValue:!0}];n?n(C):function xD(n){if(Uc&&!Uc.get(ew,!1))throw new et(400,!1);Uc=n;const r=n.get(sw);(function nw(n){const r=n.get(qE,null);r&&r.forEach(s=>s())})(n)}(function iw(n=[],r){return Bu.create({name:r,providers:[{provide:kf,useValue:"platform"},{provide:tw,useValue:()=>Uc=null},...n]})}(C,a))}return function ND(n){const r=n0();if(!r)throw new et(401,!1);return r}()}}function n0(){return Uc?.get(sw)??null}let sw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function OD(n,r){let s;return s="noop"===n?new ID:("zone.js"===n?void 0:n)||new xu(r),s}(a?.ngZone,function ow(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:xu,useValue:l}];return l.run(()=>{const v=Bu.create({providers:d,parent:this.injector,name:s.moduleType.name}),C=s.create(v),S=C.injector.get(xa,null);if(!S)throw new et(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:q=>{S.handleError(q)}});C.onDestroy(()=>{zy(this._modules,C),B.unsubscribe()})}),function aw(n,r,s){try{const a=s();return il(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(S,l,()=>{const B=C.injector.get($y);return B.runInitializers(),B.donePromise.then(()=>(function Pd(n){Rn(n,"Expected localeId to be defined"),"string"==typeof n&&(tf=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Hy,tc)||tc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(s,a=[]){const l=uw({},a);return function AD(n,r,s){const a=new Lv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Gy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new et(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._injector.get(tw,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(gn(Bu))},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function uw(n,r){return Array.isArray(r)?r.reduce(uw,n):{...n,...r}}let Gy=(()=>{class n{constructor(s,a,l,d){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new $.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),C=new $.y(S=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{xu.assertNotInAngularZone(),Jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{B.unsubscribe(),q.unsubscribe()}});this.isStable=(0,_e.T)(v,C.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof X0;if(!this._initStatus.done)throw!l&&uf(s),new et(405,false);let d;d=l?s:this._injector.get(lg).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const v=function SD(n){return n.isBoundToModule}(d)?void 0:this._injector.get(Rd),S=d.create(Bu.NULL,[],a||d.selector,v),B=S.location.nativeElement,q=S.injector.get(QE,null);return q?.registerApplication(B),S.onDestroy(()=>{this.detachView(S.hostView),zy(this.components,S),q?.unregisterApplication(B)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;zy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(KE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>zy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new et(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(gn(xu),gn(Bu),gn(xa),gn($y))},n.\u0275prov=En({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let cw=!0,dw=!1;function kD(){return dw=!0,cw}function FD(){if(dw)throw new Error("Cannot enable prod mode after platform setup.");cw=!1}let LD=(()=>{class n{}return n.__NG_ELEMENT_ID__=VD,n})();function VD(n){return function UD(n,r,s){if(Jn(n)&&!s){const a=Ht(n.index,r);return new dg(a,a)}return 47&n.type?new dg(r[16],r):null}(_i(),Tt(),16==(16&n))}class gw{constructor(){}supports(r){return Dl(r)}create(r){return new zD(r)}}const GD=(n,r)=>r;class zD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||GD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const v=!a||s&&s.currentIndex<yw(a,l,d)?s:a,C=yw(v,l,d),S=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{d||(d=[]);const B=C-l,q=S-l;if(B!=q){for(let xe=0;xe<B;xe++){const Ze=xe<d.length?d[xe]:d[xe]=0,Pt=Ze+xe;q<=Pt&&Pt<B&&(d[xe]=Ze+1)}d[v.previousIndex]=q-B}}C!==S&&r(v,C,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Dl(r))throw new et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)d=r[C],v=this._trackByFn(C,d),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,d,v,C)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,v,C),a=!0),s=s._next}else l=0,function Hm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[bl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{v=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,C,v,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new WD(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new mw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class WD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class mw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new qD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class _w{constructor(){}supports(r){return r instanceof Map||Vp(r)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Vp(r)))throw new et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,v=l._next;return d&&(d._next=v),v&&(v._prev=d),l._next=null,l._prev=null,l}const a=new ZD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ZD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new u0([new gw])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||vw()),deps:[[n,new $s,new Jo]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new et(901,!1)}}return n.\u0275prov=En({token:n,providedIn:"root",factory:vw}),n})();function Ew(){return new l0([new _w])}let l0=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ew()),deps:[[n,new $s,new Jo]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new et(901,!1)}}return n.\u0275prov=En({token:n,providedIn:"root",factory:Ew}),n})();const JD=rw(null,"core",[]);let XD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(gn(Gy))},n.\u0275mod=wn({type:n}),n.\u0275inj=Fn({}),n})();function eI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(en,Ke,j)=>{j.d(Ke,{Fj:()=>de,qu:()=>aa,NI:()=>Jn,u:()=>Ms,sg:()=>yi,u5:()=>ti,nD:()=>Nn,wO:()=>qn,JJ:()=>dt,JL:()=>De,On:()=>lo,YN:()=>Ys,UX:()=>Oo,Q7:()=>Ce,EJ:()=>Ls,kI:()=>at,_Y:()=>jo,Kr:()=>xs});var _=j(4650),f=j(6895),$=j(9751),_e=j(4742),fe=j(8421),Ae=j(7669),Re=j(5403),ke=j(3268),Ue=j(1810),te=j(8996),ve=j(4004);let _t=(()=>{class L{constructor(P,Z){this._renderer=P,this._elementRef=Z,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(P,Z){this._renderer.setProperty(this._elementRef.nativeElement,P,Z)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(_.Qsj),_.Y36(_.SBq))},L.\u0275dir=_.lG2({type:L}),L})(),Ye=(()=>{class L extends _t{}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,features:[_.qOj]}),L})();const et=new _.OlP("NgValueAccessor"),Qe={provide:et,useExisting:(0,_.Gpc)(()=>de),multi:!0},Gt=new _.OlP("CompositionEventMode");let de=(()=>{class L extends _t{constructor(P,Z,st){super(P,Z),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wt(){const L=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Gt,8))},L.\u0275dir=_.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,Z){1&P&&_.NdJ("input",function(an){return Z._handleInput(an.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(an){return Z._compositionEnd(an.target.value)})},features:[_._Bn([Qe]),_.qOj]}),L})();function ct(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function ot(L){return null!=L&&"number"==typeof L.length}const wt=new _.OlP("NgValidators"),ae=new _.OlP("NgAsyncValidators"),$e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class at{static min(O){return function oe(L){return O=>{if(ct(O.value)||ct(L))return null;const P=parseFloat(O.value);return!isNaN(P)&&P<L?{min:{min:L,actual:O.value}}:null}}(O)}static max(O){return function Be(L){return O=>{if(ct(O.value)||ct(L))return null;const P=parseFloat(O.value);return!isNaN(P)&&P>L?{max:{max:L,actual:O.value}}:null}}(O)}static required(O){return Te(O)}static requiredTrue(O){return function Xe(L){return!0===L.value?null:{required:!0}}(O)}static email(O){return function Ge(L){return ct(L.value)||$e.test(L.value)?null:{email:!0}}(O)}static minLength(O){return Mt(O)}static maxLength(O){return on(O)}static pattern(O){return function sn(L){if(!L)return Rn;let O,P;return"string"==typeof L?(P="","^"!==L.charAt(0)&&(P+="^"),P+=L,"$"!==L.charAt(L.length-1)&&(P+="$"),O=new RegExp(P)):(P=L.toString(),O=L),Z=>{if(ct(Z.value))return null;const st=Z.value;return O.test(st)?null:{pattern:{requiredPattern:P,actualValue:st}}}}(O)}static nullValidator(O){return null}static compose(O){return Fn(O)}static composeAsync(O){return ar(O)}}function Te(L){return ct(L.value)?{required:!0}:null}function Mt(L){return O=>ct(O.value)||!ot(O.value)?null:O.value.length<L?{minlength:{requiredLength:L,actualLength:O.value.length}}:null}function on(L){return O=>ot(O.value)&&O.value.length>L?{maxlength:{requiredLength:L,actualLength:O.value.length}}:null}function Rn(L){return null}function Bt(L){return null!=L}function Wn(L){const O=(0,_.QGY)(L)?(0,te.D)(L):L;return(0,_.CqO)(O),O}function Sn(L){let O={};return L.forEach(P=>{O=null!=P?{...O,...P}:O}),0===Object.keys(O).length?null:O}function tr(L,O){return O.map(P=>P(L))}function mn(L){return L.map(O=>function En(L){return!L.validate}(O)?O:P=>O.validate(P))}function Fn(L){if(!L)return null;const O=L.filter(Bt);return 0==O.length?null:function(P){return Sn(tr(P,O))}}function Bn(L){return null!=L?Fn(mn(L)):null}function ar(L){if(!L)return null;const O=L.filter(Bt);return 0==O.length?null:function(P){return function le(...L){const O=(0,Ae.jO)(L),{args:P,keys:Z}=(0,_e.D)(L),st=new $.y(an=>{const{length:Or}=P;if(!Or)return void an.complete();const Kr=new Array(Or);let Dr=Or,Zr=Or;for(let Li=0;Li<Or;Li++){let vi=!1;(0,fe.Xf)(P[Li]).subscribe((0,Re.x)(an,Es=>{vi||(vi=!0,Zr--),Kr[Li]=Es},()=>Dr--,void 0,()=>{(!Dr||!vi)&&(Zr||an.next(Z?(0,Ue.n)(Z,Kr):Kr),an.complete())}))}});return O?st.pipe((0,ke.Z)(O)):st}(tr(P,O).map(Wn)).pipe((0,ve.U)(Sn))}}function gr(L){return null!=L?ar(mn(L)):null}function mr(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function br(L){return L._rawValidators}function Mr(L){return L._rawAsyncValidators}function yr(L){return L?Array.isArray(L)?L:[L]:[]}function _r(L,O){return Array.isArray(L)?L.includes(O):L===O}function ir(L,O){const P=yr(O);return yr(L).forEach(st=>{_r(P,st)||P.push(st)}),P}function rn(L,O){return yr(O).filter(P=>!_r(L,P))}class sr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Bn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=gr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,P){return!!this.control&&this.control.hasError(O,P)}getError(O,P){return this.control?this.control.getError(O,P):null}}class xn extends sr{get formDirective(){return null}get path(){return null}}class Tn extends sr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dt=(()=>{class L extends kr{constructor(P){super(P)}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(Tn,2))},L.\u0275dir=_.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,Z){2&P&&_.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[_.qOj]}),L})(),De=(()=>{class L extends kr{constructor(P){super(P)}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(xn,10))},L.\u0275dir=_.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,Z){2&P&&_.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[_.qOj]}),L})();const Ot="VALID",wn="INVALID",$n="PENDING",Gn="DISABLED";function Ln(L){return(lt(L)?L.validators:L)||null}function ze(L){return Array.isArray(L)?Bn(L):L||null}function he(L,O){return(lt(O)?O.asyncValidators:L)||null}function pe(L){return Array.isArray(L)?gr(L):L||null}function lt(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function Ft(L,O,P){const Z=L.controls;if(!(O?Object.keys(Z):Z).length)throw new _.vHH(1e3,"");if(!Z[P])throw new _.vHH(1001,"")}function Xt(L,O,P){L._forEachChild((Z,st)=>{if(void 0===P[st])throw new _.vHH(1002,"")})}class pt{constructor(O,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=P,this._composedValidatorFn=ze(this._rawValidators),this._composedAsyncValidatorFn=pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Ot}get invalid(){return this.status===wn}get pending(){return this.status==$n}get disabled(){return this.status===Gn}get enabled(){return this.status!==Gn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=ze(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=pe(O)}addValidators(O){this.setValidators(ir(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(ir(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(rn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(rn(O,this._rawAsyncValidators))}hasValidator(O){return _r(this._rawValidators,O)}hasAsyncValidator(O){return _r(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=$n,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const P=this._parentMarkedDirty(O.onlySelf);this.status=Gn,this.errors=null,this._forEachChild(Z=>{Z.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:P}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(O={}){const P=this._parentMarkedDirty(O.onlySelf);this.status=Ot,this._forEachChild(Z=>{Z.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:P}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===$n)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gn:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=$n,this._hasOwnPendingAsyncValidator=!0;const P=Wn(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,P={}){this.errors=O,this._updateControlsErrors(!1!==P.emitEvent)}get(O){let P=O;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((Z,st)=>Z&&Z._find(st),this)}getError(O,P){const Z=P?this.get(P):this;return Z&&Z.errors?Z.errors[O]:null}hasError(O,P){return!!this.getError(O,P)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Gn:this.errors?wn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($n)?$n:this._anyControlsHaveStatus(wn)?wn:Ot}_anyControlsHaveStatus(O){return this._anyControls(P=>P.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){lt(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}}class Dt extends pt{constructor(O,P,Z){super(Ln(P),he(Z,P)),this.controls=O,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,P){return this.controls[O]?this.controls[O]:(this.controls[O]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(O,P,Z={}){this.registerControl(O,P),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(O,P={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(O,P,Z={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],P&&this.registerControl(O,P),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,P={}){Xt(this,0,O),Object.keys(O).forEach(Z=>{Ft(this,!0,Z),this.controls[Z].setValue(O[Z],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(O,P={}){null!=O&&(Object.keys(O).forEach(Z=>{const st=this.controls[Z];st&&st.patchValue(O[Z],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(O={},P={}){this._forEachChild((Z,st)=>{Z.reset(O[st],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(O,P,Z)=>(O[Z]=P.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(P,Z)=>!!Z._syncPendingControls()||P);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(P=>{const Z=this.controls[P];Z&&O(Z,P)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[P,Z]of Object.entries(this.controls))if(this.contains(P)&&O(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,Z,st)=>((Z.enabled||this.disabled)&&(P[st]=Z.value),P))}_reduceChildren(O,P){let Z=O;return this._forEachChild((st,an)=>{Z=P(Z,st,an)}),Z}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}function gt(L,O){return[...O.path,L]}function Zt(L,O){fr(L,O),O.valueAccessor.writeValue(L.value),L.disabled&&O.valueAccessor.setDisabledState?.(!0),function $r(L,O){O.valueAccessor.registerOnChange(P=>{L._pendingValue=P,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&xr(L,O)})}(L,O),function ps(L,O){const P=(Z,st)=>{O.valueAccessor.writeValue(Z),st&&O.viewToModelUpdate(Z)};L.registerOnChange(P),O._registerOnDestroy(()=>{L._unregisterOnChange(P)})}(L,O),function gi(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&xr(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function cn(L,O){if(O.valueAccessor.setDisabledState){const P=Z=>{O.valueAccessor.setDisabledState(Z)};L.registerOnDisabledChange(P),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(P)})}}(L,O)}function Vn(L,O,P=!0){const Z=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Z),O.valueAccessor.registerOnTouched(Z)),ur(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function or(L,O){L.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(O)})}function fr(L,O){const P=br(L);null!==O.validator?L.setValidators(mr(P,O.validator)):"function"==typeof P&&L.setValidators([P]);const Z=Mr(L);null!==O.asyncValidator?L.setAsyncValidators(mr(Z,O.asyncValidator)):"function"==typeof Z&&L.setAsyncValidators([Z]);const st=()=>L.updateValueAndValidity();or(O._rawValidators,st),or(O._rawAsyncValidators,st)}function ur(L,O){let P=!1;if(null!==L){if(null!==O.validator){const st=br(L);if(Array.isArray(st)&&st.length>0){const an=st.filter(Or=>Or!==O.validator);an.length!==st.length&&(P=!0,L.setValidators(an))}}if(null!==O.asyncValidator){const st=Mr(L);if(Array.isArray(st)&&st.length>0){const an=st.filter(Or=>Or!==O.asyncValidator);an.length!==st.length&&(P=!0,L.setAsyncValidators(an))}}}const Z=()=>{};return or(O._rawValidators,Z),or(O._rawAsyncValidators,Z),P}function xr(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function uo(L,O){if(!L.hasOwnProperty("model"))return!1;const P=L.model;return!!P.isFirstChange()||!Object.is(O,P.currentValue)}function ki(L,O){if(!O)return null;let P,Z,st;return Array.isArray(O),O.forEach(an=>{an.constructor===de?P=an:function Bi(L){return Object.getPrototypeOf(L.constructor)===Ye}(an)?Z=an:st=an}),st||Z||P||null}function xt(L,O){const P=L.indexOf(O);P>-1&&L.splice(P,1)}function tn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Jn=class extends pt{constructor(O=null,P,Z){super(Ln(P),he(Z,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lt(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=tn(O)?O.value:O)}setValue(O,P={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(O,P={}){this.setValue(O,P)}reset(O=this.defaultValue,P={}){this._applyFormState(O),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){xt(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){xt(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){tn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},na={provide:Tn,useExisting:(0,_.Gpc)(()=>lo)},Ai=(()=>Promise.resolve(null))();let lo=(()=>{class L extends Tn{constructor(P,Z,st,an,Or){super(),this._changeDetectorRef=Or,this.control=new Jn,this._registered=!1,this.update=new _.vpe,this._parent=P,this._setValidators(Z),this._setAsyncValidators(st),this.valueAccessor=ki(0,an)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const Z=P.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),uo(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Ai.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const Z=P.isDisabled.currentValue,st=0!==Z&&(0,_.D6c)(Z);Ai.then(()=>{st&&!this.control.disabled?this.control.disable():!st&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?gt(P,this._parent):[P]}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(xn,9),_.Y36(wt,10),_.Y36(ae,10),_.Y36(et,10),_.Y36(_.sBO,8))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([na]),_.qOj,_.TTD]}),L})(),jo=(()=>{class L{}return L.\u0275fac=function(P){return new(P||L)},L.\u0275dir=_.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),ra=(()=>{class L{}return L.\u0275fac=function(P){return new(P||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({}),L})();const sa=new _.OlP("NgModelWithFormControlWarning"),mi={provide:xn,useExisting:(0,_.Gpc)(()=>yi)};let yi=(()=>{class L extends xn{constructor(P,Z){super(),this.validators=P,this.asyncValidators=Z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(P),this._setAsyncValidators(Z)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ur(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const Z=this.form.get(P.path);return Zt(Z,P),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),Z}getControl(P){return this.form.get(P.path)}removeControl(P){Vn(P.control||null,P,!1),function Ki(L,O){const P=L.indexOf(O);P>-1&&L.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,Z){this.form.get(P.path).setValue(Z)}onSubmit(P){return this.submitted=!0,function Ks(L,O){L._syncPendingControls(),O.forEach(P=>{const Z=P.control;"submit"===Z.updateOn&&Z._pendingChange&&(P.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),!1}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const Z=P.control,st=this.form.get(P.path);Z!==st&&(Vn(Z||null,P),(L=>L instanceof Jn)(st)&&(Zt(st,P),P.control=st))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const Z=this.form.get(P.path);(function ts(L,O){fr(L,O)})(Z,P),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const Z=this.form.get(P.path);Z&&function Hr(L,O){return ur(L,O)}(Z,P)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fr(this.form,this),this._oldForm&&ur(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(wt,10),_.Y36(ae,10))},L.\u0275dir=_.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(P,Z){1&P&&_.NdJ("submit",function(an){return Z.onSubmit(an)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([mi]),_.qOj,_.TTD]}),L})();const ho={provide:Tn,useExisting:(0,_.Gpc)(()=>Ms)};let Ms=(()=>{class L extends Tn{constructor(P,Z,st,an,Or){super(),this._ngModelWarningConfig=Or,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(Z),this._setAsyncValidators(st),this.valueAccessor=ki(0,an)}set isDisabled(P){}ngOnChanges(P){this._added||this._setUpControl(),uo(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(P){return new(P||L)(_.Y36(xn,13),_.Y36(wt,10),_.Y36(ae,10),_.Y36(et,10),_.Y36(sa,8))},L.\u0275dir=_.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([ho]),_.qOj,_.TTD]}),L})();const ba={provide:et,useExisting:(0,_.Gpc)(()=>Ls),multi:!0};function Zi(L,O){return null==L?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let Ls=(()=>{class L extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const st=Zi(this._getOptionId(P),P);this.setProperty("value",st)}registerOnChange(P){this.onChange=Z=>{this.value=this._getOptionValue(Z),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),P))return Z;return null}_getOptionValue(P){const Z=function Tr(L){return L.split(":")[0]}(P);return this._optionMap.has(Z)?this._optionMap.get(Z):P}}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(P,Z){1&P&&_.NdJ("change",function(an){return Z.onChange(an.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([ba]),_.qOj]}),L})(),Ys=(()=>{class L{constructor(P,Z,st){this._element=P,this._renderer=Z,this._select=st,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(Zi(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(Ls,9))},L.\u0275dir=_.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const xi={provide:et,useExisting:(0,_.Gpc)(()=>po),multi:!0};function Vs(L,O){return null==L?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let po=(()=>{class L extends Ye{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let Z;if(this.value=P,Array.isArray(P)){const st=P.map(an=>this._getOptionId(an));Z=(an,Or)=>{an._setSelected(st.indexOf(Or.toString())>-1)}}else Z=(st,an)=>{st._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(P){this.onChange=Z=>{const st=[],an=Z.selectedOptions;if(void 0!==an){const Or=an;for(let Kr=0;Kr<Or.length;Kr++){const Zr=this._getOptionValue(Or[Kr].value);st.push(Zr)}}else{const Or=Z.options;for(let Kr=0;Kr<Or.length;Kr++){const Dr=Or[Kr];if(Dr.selected){const Zr=this._getOptionValue(Dr.value);st.push(Zr)}}}this.value=st,P(st)}}_registerOption(P){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,P),Z}_getOptionId(P){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,P))return Z;return null}_getOptionValue(P){const Z=function qa(L){return L.split(":")[0]}(P);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:P}}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(P,Z){1&P&&_.NdJ("change",function(an){return Z.onChange(an.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[_._Bn([xi]),_.qOj]}),L})(),xs=(()=>{class L{constructor(P,Z,st){this._element=P,this._renderer=Z,this._select=st,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(Vs(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(Vs(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(P){return new(P||L)(_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(po,9))},L.\u0275dir=_.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();function No(L){return"number"==typeof L?L:parseInt(L,10)}let Nr=(()=>{class L{constructor(){this._validator=Rn}ngOnChanges(P){if(this.inputName in P){const Z=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):Rn,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}}return L.\u0275fac=function(P){return new(P||L)},L.\u0275dir=_.lG2({type:L,features:[_.TTD]}),L})();const k={provide:wt,useExisting:(0,_.Gpc)(()=>Ce),multi:!0};let Ce=(()=>{class L extends Nr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=P=>Te}enabled(P){return P}}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(P,Z){2&P&&_.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([k]),_.qOj]}),L})();const Ar={provide:wt,useExisting:(0,_.Gpc)(()=>qn),multi:!0};let qn=(()=>{class L extends Nr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=P=>No(P),this.createValidator=P=>Mt(P)}}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(P,Z){2&P&&_.uIk("minlength",Z._enabled?Z.minlength:null)},inputs:{minlength:"minlength"},features:[_._Bn([Ar]),_.qOj]}),L})();const cr={provide:wt,useExisting:(0,_.Gpc)(()=>Nn),multi:!0};let Nn=(()=>{class L extends Nr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=P=>No(P),this.createValidator=P=>on(P)}}return L.\u0275fac=function(){let O;return function(Z){return(O||(O=_.n5z(L)))(Z||L)}}(),L.\u0275dir=_.lG2({type:L,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(P,Z){2&P&&_.uIk("maxlength",Z._enabled?Z.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_._Bn([cr]),_.qOj]}),L})(),Yi=(()=>{class L{}return L.\u0275fac=function(P){return new(P||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({imports:[ra]}),L})(),ti=(()=>{class L{}return L.\u0275fac=function(P){return new(P||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({imports:[Yi]}),L})(),Oo=(()=>{class L{static withConfig(P){return{ngModule:L,providers:[{provide:sa,useValue:P.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(P){return new(P||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({imports:[Yi]}),L})();class is extends pt{constructor(O,P,Z){super(Ln(P),he(Z,P)),this.controls=O,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[this._adjustIndex(O)]}push(O,P={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(O,P,Z={}){this.controls.splice(O,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(O,P={}){let Z=this._adjustIndex(O);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(O,P,Z={}){let st=this._adjustIndex(O);st<0&&(st=0),this.controls[st]&&this.controls[st]._registerOnCollectionChange(()=>{}),this.controls.splice(st,1),P&&(this.controls.splice(st,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,P={}){Xt(this,0,O),O.forEach((Z,st)=>{Ft(this,!1,st),this.at(st).setValue(Z,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(O,P={}){null!=O&&(O.forEach((Z,st)=>{this.at(st)&&this.at(st).patchValue(Z,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(O=[],P={}){this._forEachChild((Z,st)=>{Z.reset(O[st],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(O=>O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_adjustIndex(O){return O<0?O+this.length:O}_syncPendingControls(){let O=this.controls.reduce((P,Z)=>!!Z._syncPendingControls()||P,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((P,Z)=>{O(P,Z)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(P=>P.enabled&&O(P))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}_find(O){return this.at(O)??null}}function Tt(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let aa=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new L;return P.useNonNullable=!0,P}group(P,Z=null){const st=this._reduceControls(P);let Kr,an=null,Or=null;return null!==Z&&(Tt(Z)?(an=null!=Z.validators?Z.validators:null,Or=null!=Z.asyncValidators?Z.asyncValidators:null,Kr=null!=Z.updateOn?Z.updateOn:void 0):(an=null!=Z.validator?Z.validator:null,Or=null!=Z.asyncValidator?Z.asyncValidator:null)),new Dt(st,{asyncValidators:Or,updateOn:Kr,validators:an})}control(P,Z,st){let an={};return this.useNonNullable?(Tt(Z)?an=Z:(an.validators=Z,an.asyncValidators=st),new Jn(P,{...an,nonNullable:!0})):new Jn(P,Z,st)}array(P,Z,st){const an=P.map(Or=>this._createControl(Or));return new is(an,Z,st)}_reduceControls(P){const Z={};return Object.keys(P).forEach(st=>{Z[st]=this._createControl(P[st])}),Z}_createControl(P){return P instanceof Jn||P instanceof pt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return L.\u0275fac=function(P){return new(P||L)},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac,providedIn:Oo}),L})()},1481:(en,Ke,j)=>{j.d(Ke,{Dx:()=>Pe,b2:()=>kr,q6:()=>rn,se:()=>Xe});var _=j(6895),f=j(4650);class $ extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends ${static makeCurrent(){(0,_.HT)(new _e)}onAndCancel(ge,ue,Ne){return ge.addEventListener(ue,Ne,!1),()=>{ge.removeEventListener(ue,Ne,!1)}}dispatchEvent(ge,ue){ge.dispatchEvent(ue)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,ue){return(ue=ue||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,ue){return"window"===ue?window:"document"===ue?ge:"body"===ue?ge.body:null}getBaseHref(ge){const ue=function Ae(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==ue?null:function ke(Se){Re=Re||document.createElement("a"),Re.setAttribute("href",Se);const ge=Re.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(ue)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,_.Mx)(document.cookie,ge)}}let Re,fe=null;const Ue=new f.OlP("TRANSITION_ID"),te=[{provide:f.ip1,useFactory:function le(Se,ge,ue){return()=>{ue.get(f.CZH).donePromise.then(()=>{const Ne=(0,_.q)(),gt=ge.querySelectorAll(`style[ng-transition="${Se}"]`);for(let Zt=0;Zt<gt.length;Zt++)Ne.remove(gt[Zt])})}},deps:[Ue,_.K0,f.zs3],multi:!0}];let _t=(()=>{class Se{build(){return new XMLHttpRequest}}return Se.\u0275fac=function(ue){return new(ue||Se)},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Ye=new f.OlP("EventManagerPlugins");let et=(()=>{class Se{constructor(ue,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,ue.forEach(gt=>gt.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,Ne,gt){return this._findPluginFor(Ne).addEventListener(ue,Ne,gt)}addGlobalEventListener(ue,Ne,gt){return this._findPluginFor(Ne).addGlobalEventListener(ue,Ne,gt)}getZone(){return this._zone}_findPluginFor(ue){const Ne=this._eventNameToPlugin.get(ue);if(Ne)return Ne;const gt=this._plugins;for(let Zt=0;Zt<gt.length;Zt++){const Vn=gt[Zt];if(Vn.supports(ue))return this._eventNameToPlugin.set(ue,Vn),Vn}throw new Error(`No event manager plugin found for event ${ue}`)}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(Ye),f.LFG(f.R0b))},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();class $t{constructor(ge){this._doc=ge}addGlobalEventListener(ge,ue,Ne){const gt=(0,_.q)().getGlobalEventTarget(this._doc,ge);if(!gt)throw new Error(`Unsupported event target ${gt} for event ${ue}`);return this.addEventListener(gt,ue,Ne)}}let Je=(()=>{class Se{constructor(){this._stylesSet=new Set}addStyles(ue){const Ne=new Set;ue.forEach(gt=>{this._stylesSet.has(gt)||(this._stylesSet.add(gt),Ne.add(gt))}),this.onStylesAdded(Ne)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return Se.\u0275fac=function(ue){return new(ue||Se)},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})(),Qe=(()=>{class Se extends Je{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,Ne,gt){ue.forEach(Zt=>{const Vn=this._doc.createElement("style");Vn.textContent=Zt,gt.push(Ne.appendChild(Vn))})}addHost(ue){const Ne=[];this._addStylesToHost(this._stylesSet,ue,Ne),this._hostNodes.set(ue,Ne)}removeHost(ue){const Ne=this._hostNodes.get(ue);Ne&&Ne.forEach(Wt),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((Ne,gt)=>{this._addStylesToHost(ue,gt,Ne)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(Wt))}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(_.K0))},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();function Wt(Se){(0,_.q)().remove(Se)}const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},de=/%COMP%/g;function oe(Se,ge,ue){for(let Ne=0;Ne<ge.length;Ne++){let gt=ge[Ne];Array.isArray(gt)?oe(Se,gt,ue):(gt=gt.replace(de,Se),ue.push(gt))}return ue}function Be(Se){return ge=>{if("__ngUnwrap__"===ge)return Se;!1===Se(ge)&&(ge.preventDefault(),ge.returnValue=!1)}}let Xe=(()=>{class Se{constructor(ue,Ne,gt){this.eventManager=ue,this.sharedStylesHost=Ne,this.appId=gt,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(ue)}createRenderer(ue,Ne){if(!ue||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case f.ifc.Emulated:{let gt=this.rendererByCompId.get(Ne.id);return gt||(gt=new Rn(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,gt)),gt.applyToHost(ue),gt}case 1:case f.ifc.ShadowDom:return new Bt(this.eventManager,this.sharedStylesHost,ue,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const gt=oe(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(gt),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(et),f.LFG(Qe),f.LFG(f.AFp))},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();class Ge{constructor(ge){this.eventManager=ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,ue){return ue?document.createElementNS(Gt[ue]||ue,ge):document.createElement(ge)}createComment(ge){return document.createComment(ge)}createText(ge){return document.createTextNode(ge)}appendChild(ge,ue){(sn(ge)?ge.content:ge).appendChild(ue)}insertBefore(ge,ue,Ne){ge&&(sn(ge)?ge.content:ge).insertBefore(ue,Ne)}removeChild(ge,ue){ge&&ge.removeChild(ue)}selectRootElement(ge,ue){let Ne="string"==typeof ge?document.querySelector(ge):ge;if(!Ne)throw new Error(`The selector "${ge}" did not match any elements`);return ue||(Ne.textContent=""),Ne}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,ue,Ne,gt){if(gt){ue=gt+":"+ue;const Zt=Gt[gt];Zt?ge.setAttributeNS(Zt,ue,Ne):ge.setAttribute(ue,Ne)}else ge.setAttribute(ue,Ne)}removeAttribute(ge,ue,Ne){if(Ne){const gt=Gt[Ne];gt?ge.removeAttributeNS(gt,ue):ge.removeAttribute(`${Ne}:${ue}`)}else ge.removeAttribute(ue)}addClass(ge,ue){ge.classList.add(ue)}removeClass(ge,ue){ge.classList.remove(ue)}setStyle(ge,ue,Ne,gt){gt&(f.JOm.DashCase|f.JOm.Important)?ge.style.setProperty(ue,Ne,gt&f.JOm.Important?"important":""):ge.style[ue]=Ne}removeStyle(ge,ue,Ne){Ne&f.JOm.DashCase?ge.style.removeProperty(ue):ge.style[ue]=""}setProperty(ge,ue,Ne){ge[ue]=Ne}setValue(ge,ue){ge.nodeValue=ue}listen(ge,ue,Ne){return"string"==typeof ge?this.eventManager.addGlobalEventListener(ge,ue,Be(Ne)):this.eventManager.addEventListener(ge,ue,Be(Ne))}}function sn(Se){return"TEMPLATE"===Se.tagName&&void 0!==Se.content}class Rn extends Ge{constructor(ge,ue,Ne,gt){super(ge),this.component=Ne;const Zt=oe(gt+"-"+Ne.id,Ne.styles,[]);ue.addStyles(Zt),this.contentAttr=function $e(Se){return"_ngcontent-%COMP%".replace(de,Se)}(gt+"-"+Ne.id),this.hostAttr=function at(Se){return"_nghost-%COMP%".replace(de,Se)}(gt+"-"+Ne.id)}applyToHost(ge){super.setAttribute(ge,this.hostAttr,"")}createElement(ge,ue){const Ne=super.createElement(ge,ue);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class Bt extends Ge{constructor(ge,ue,Ne,gt){super(ge),this.sharedStylesHost=ue,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=oe(gt.id,gt.styles,[]);for(let Vn=0;Vn<Zt.length;Vn++){const or=document.createElement("style");or.textContent=Zt[Vn],this.shadowRoot.appendChild(or)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ge,ue){return super.appendChild(this.nodeOrShadowRoot(ge),ue)}insertBefore(ge,ue,Ne){return super.insertBefore(this.nodeOrShadowRoot(ge),ue,Ne)}removeChild(ge,ue){return super.removeChild(this.nodeOrShadowRoot(ge),ue)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}}let Wn=(()=>{class Se extends $t{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,Ne,gt){return ue.addEventListener(Ne,gt,!1),()=>this.removeEventListener(ue,Ne,gt)}removeEventListener(ue,Ne,gt){return ue.removeEventListener(Ne,gt)}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(_.K0))},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const Sn=["alt","control","meta","shift"],En={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fn={alt:Se=>Se.altKey,control:Se=>Se.ctrlKey,meta:Se=>Se.metaKey,shift:Se=>Se.shiftKey};let Bn=(()=>{class Se extends $t{constructor(ue){super(ue)}supports(ue){return null!=Se.parseEventName(ue)}addEventListener(ue,Ne,gt){const Zt=Se.parseEventName(Ne),Vn=Se.eventCallback(Zt.fullKey,gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ue,Zt.domEventName,Vn))}static parseEventName(ue){const Ne=ue.toLowerCase().split("."),gt=Ne.shift();if(0===Ne.length||"keydown"!==gt&&"keyup"!==gt)return null;const Zt=Se._normalizeKey(Ne.pop());let Vn="";if(Sn.forEach(cn=>{const fr=Ne.indexOf(cn);fr>-1&&(Ne.splice(fr,1),Vn+=cn+".")}),Vn+=Zt,0!=Ne.length||0===Zt.length)return null;const or={};return or.domEventName=gt,or.fullKey=Vn,or}static getEventFullKey(ue){let Ne="",gt=function ar(Se){let ge=Se.key;if(null==ge){if(ge=Se.keyIdentifier,null==ge)return"Unidentified";ge.startsWith("U+")&&(ge=String.fromCharCode(parseInt(ge.substring(2),16)),3===Se.location&&mn.hasOwnProperty(ge)&&(ge=mn[ge]))}return En[ge]||ge}(ue);return gt=gt.toLowerCase()," "===gt?gt="space":"."===gt&&(gt="dot"),Sn.forEach(Zt=>{Zt!=gt&&Fn[Zt](ue)&&(Ne+=Zt+".")}),Ne+=gt,Ne}static eventCallback(ue,Ne,gt){return Zt=>{Se.getEventFullKey(Zt)===ue&&gt.runGuarded(()=>Ne(Zt))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(_.K0))},Se.\u0275prov=f.Yz7({token:Se,factory:Se.\u0275fac}),Se})();const rn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:_.bD},{provide:f.g9A,useValue:function Mr(){_e.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function _r(){return(0,f.RDi)(document),document},deps:[]}]),sr=new f.OlP(""),xn=[{provide:f.rWj,useClass:class ve{addToWindow(ge){f.dqk.getAngularTestability=(Ne,gt=!0)=>{const Zt=ge.findTestabilityInTree(Ne,gt);if(null==Zt)throw new Error("Could not find testability for element.");return Zt},f.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(Ne=>{const gt=f.dqk.getAllAngularTestabilities();let Zt=gt.length,Vn=!1;const or=function(cn){Vn=Vn||cn,Zt--,0==Zt&&Ne(Vn)};gt.forEach(function(cn){cn.whenStable(or)})})}findTestabilityInTree(ge,ue,Ne){return null==ue?null:ge.getTestability(ue)??(Ne?(0,_.q)().isShadowRoot(ue)?this.findTestabilityInTree(ge,ue.host,!0):this.findTestabilityInTree(ge,ue.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Tn=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function yr(){return new f.qLn},deps:[]},{provide:Ye,useClass:Wn,multi:!0,deps:[_.K0,f.R0b,f.Lbi]},{provide:Ye,useClass:Bn,multi:!0,deps:[_.K0]},{provide:Xe,useClass:Xe,deps:[et,Qe,f.AFp]},{provide:f.FYo,useExisting:Xe},{provide:Je,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[_.K0]},{provide:et,useClass:et,deps:[Ye,f.R0b]},{provide:_.JF,useClass:_t,deps:[]},[]];let kr=(()=>{class Se{constructor(ue){}static withServerTransition(ue){return{ngModule:Se,providers:[{provide:f.AFp,useValue:ue.appId},{provide:Ue,useExisting:f.AFp},te]}}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(sr,12))},Se.\u0275mod=f.oAB({type:Se}),Se.\u0275inj=f.cJS({providers:[...Tn,...xn],imports:[_.ez,f.hGG]}),Se})(),Pe=(()=>{class Se{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return Se.\u0275fac=function(ue){return new(ue||Se)(f.LFG(_.K0))},Se.\u0275prov=f.Yz7({token:Se,factory:function(ue){let Ne=null;return Ne=ue?new ue:function De(){return new Pe((0,f.LFG)(_.K0))}(),Ne},providedIn:"root"}),Se})();typeof window<"u"&&window},5072:(en,Ke,j)=>{j.d(Ke,{gz:()=>Pr,F0:()=>Hi,rH:()=>ko,yS:()=>ro,Bz:()=>Pi,lC:()=>Ms});var _=j(6895),f=j(4650),$=j(7579);class _e extends $.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const E=super._subscribe(w);return!E.closed&&w.next(this._value),E}getValue(){const{hasError:w,thrownError:E,_value:N}=this;if(w)throw E;return this._throwIfClosed(),N}next(w){super.next(this._value=w)}}var fe=j(9751),Ae=j(4742),Re=j(8996),ke=j(4671),Ue=j(3268),le=j(7669),te=j(1810),ve=j(5403),_t=j(9672);function Ye(...I){const w=(0,le.yG)(I),E=(0,le.jO)(I),{args:N,keys:U}=(0,Ae.D)(I);if(0===N.length)return(0,Re.D)([],w);const Y=new fe.y(function et(I,w,E=ke.y){return N=>{$t(w,()=>{const{length:U}=I,Y=new Array(U);let X=U,Ee=U;for(let yt=0;yt<U;yt++)$t(w,()=>{const Rt=(0,Re.D)(I[yt],w);let jt=!1;Rt.subscribe((0,ve.x)(N,nn=>{Y[yt]=nn,jt||(jt=!0,Ee--),Ee||N.next(E(Y.slice()))},()=>{--X||N.complete()}))},N)},N)}}(N,w,U?X=>(0,te.n)(U,X):ke.y));return E?Y.pipe((0,Ue.Z)(E)):Y}function $t(I,w,E){I?(0,_t.f)(E,I,w):w()}var Je=j(576);function Qe(I,w){const E=(0,Je.m)(I)?I:()=>I,N=U=>U.error(E());return new fe.y(w?U=>w.schedule(N,0,U):N)}var Wt=j(8421);function Gt(I){return new fe.y(w=>{(0,Wt.Xf)(I()).subscribe(w)})}var de=j(727),ct=j(4482);function ot(){return(0,ct.e)((I,w)=>{let E=null;I._refCount++;const N=(0,ve.x)(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(E=null);const U=I._connection,Y=E;E=null,U&&(!Y||U===Y)&&U.unsubscribe(),w.unsubscribe()});I.subscribe(N),N.closed||(E=I.connect())})}class wt extends fe.y{constructor(w,E){super(),this.source=w,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ct.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new de.w0;const E=this.getSubject();w.add(this.source.subscribe((0,ve.x)(E,void 0,()=>{this._teardown(),E.complete()},N=>{this._teardown(),E.error(N)},()=>this._teardown()))),w.closed&&(this._connection=null,w=de.w0.EMPTY)}return w}refCount(){return ot()(this)}}var ae=j(9646),$e=j(6805),at=j(7272),oe=j(515);function Be(I){return(0,ct.e)((w,E)=>{let Y,N=null,U=!1;N=w.subscribe((0,ve.x)(E,void 0,void 0,X=>{Y=(0,Wt.Xf)(I(X,Be(I)(w))),N?(N.unsubscribe(),N=null,Y.subscribe(E)):U=!0})),U&&(N.unsubscribe(),N=null,Y.subscribe(E))})}var Te=j(9300);function Xe(I){return I<=0?()=>oe.E:(0,ct.e)((w,E)=>{let N=[];w.subscribe((0,ve.x)(E,U=>{N.push(U),I<N.length&&N.shift()},()=>{for(const U of N)E.next(U);E.complete()},void 0,()=>{N=null}))})}var Ge=j(8068),Mt=j(6590),sn=j(4004);function Bt(I){return(0,ct.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(I)}})}var Wn=j(3900),Sn=j(5698),tr=j(8675),En=j(5026),mn=j(4351),Fn=j(590),Bn=j(5577),ar=j(8505),gr=j(8189),mr=j(1481);class br{constructor(w,E){this.id=w,this.url=E}}class Mr extends br{constructor(w,E,N="imperative",U=null){super(w,E),this.type=0,this.navigationTrigger=N,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yr extends br{constructor(w,E,N){super(w,E),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends br{constructor(w,E,N){super(w,E),this.reason=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ir extends br{constructor(w,E,N){super(w,E),this.error=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rn extends br{constructor(w,E,N,U){super(w,E),this.urlAfterRedirects=N,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends br{constructor(w,E,N,U){super(w,E),this.urlAfterRedirects=N,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends br{constructor(w,E,N,U,Y){super(w,E),this.urlAfterRedirects=N,this.state=U,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tn extends br{constructor(w,E,N,U){super(w,E),this.urlAfterRedirects=N,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends br{constructor(w,E,N,U){super(w,E),this.urlAfterRedirects=N,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class li{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dt{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(w,E,N){this.routerEvent=w,this.position=E,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kt="primary";class jn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E[0]:E}return null}getAll(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Vt(I){return new jn(I)}const Qn="ngNavigationCancelingError";function nr(I){const w=Error("NavigationCancelingError: "+I);return w[Qn]=!0,w}function Mn(I,w,E){const N=E.path.split("/");if(N.length>I.length||"full"===E.pathMatch&&(w.hasChildren()||N.length<I.length))return null;const U={};for(let Y=0;Y<N.length;Y++){const X=N[Y],Ee=I[Y];if(X.startsWith(":"))U[X.substring(1)]=Ee;else if(X!==Ee.path)return null}return{consumed:I.slice(0,N.length),posParams:U}}function ie(I,w){const E=I?Object.keys(I):void 0,N=w?Object.keys(w):void 0;if(!E||!N||E.length!=N.length)return!1;let U;for(let Y=0;Y<E.length;Y++)if(U=E[Y],!Fe(I[U],w[U]))return!1;return!0}function Fe(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const E=[...I].sort(),N=[...w].sort();return E.every((U,Y)=>N[Y]===U)}return I===w}function Ve(I){return Array.prototype.concat.apply([],I)}function se(I){return I.length>0?I[I.length-1]:null}function bt(I,w){for(const E in I)I.hasOwnProperty(E)&&w(I[E],E)}function Ot(I){return(0,f.CqO)(I)?I:(0,f.QGY)(I)?(0,Re.D)(Promise.resolve(I)):(0,ae.of)(I)}const $n={exact:function he(I,w,E){if(!ue(I.segments,w.segments)||!Xt(I.segments,w.segments,E)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const N in w.children)if(!I.children[N]||!he(I.children[N],w.children[N],E))return!1;return!0},subset:lt},Gn={exact:function ze(I,w){return ie(I,w)},subset:function pe(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(E=>Fe(I[E],w[E]))},ignored:()=>!0};function Ln(I,w,E){return $n[E.paths](I.root,w.root,E.matrixParams)&&Gn[E.queryParams](I.queryParams,w.queryParams)&&!("exact"===E.fragment&&I.fragment!==w.fragment)}function lt(I,w,E){return Ft(I,w,w.segments,E)}function Ft(I,w,E,N){if(I.segments.length>E.length){const U=I.segments.slice(0,E.length);return!(!ue(U,E)||w.hasChildren()||!Xt(U,E,N))}if(I.segments.length===E.length){if(!ue(I.segments,E)||!Xt(I.segments,E,N))return!1;for(const U in w.children)if(!I.children[U]||!lt(I.children[U],w.children[U],N))return!1;return!0}{const U=E.slice(0,I.segments.length),Y=E.slice(I.segments.length);return!!(ue(I.segments,U)&&Xt(I.segments,U,N)&&I.children[Kt])&&Ft(I.children[Kt],w,Y,N)}}function Xt(I,w,E){return w.every((N,U)=>Gn[E](I[U].parameters,N.parameters))}class pt{constructor(w,E,N){this.root=w,this.queryParams=E,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return Vn.serialize(this)}}class Dt{constructor(w,E){this.segments=w,this.children=E,this.parent=null,bt(E,(N,U)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class Se{constructor(w,E){this.path=w,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap}toString(){return ts(this)}}function ue(I,w){return I.length===w.length&&I.every((E,N)=>E.path===w[N].path)}class gt{}class Zt{parse(w){const E=new ki(w);return new pt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(w){const E=`/${cn(w.root,!0)}`,N=function Ts(I){const w=Object.keys(I).map(E=>{const N=I[E];return Array.isArray(N)?N.map(U=>`${ur(E)}=${ur(U)}`).join("&"):`${ur(E)}=${ur(N)}`}).filter(E=>!!E);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${E}${N}${"string"==typeof w.fragment?`#${function $r(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Vn=new Zt;function or(I){return I.segments.map(w=>ts(w)).join("/")}function cn(I,w){if(!I.hasChildren())return or(I);if(w){const E=I.children[Kt]?cn(I.children[Kt],!1):"",N=[];return bt(I.children,(U,Y)=>{Y!==Kt&&N.push(`${Y}:${cn(U,!1)}`)}),N.length>0?`${E}(${N.join("//")})`:E}{const E=function Ne(I,w){let E=[];return bt(I.children,(N,U)=>{U===Kt&&(E=E.concat(w(N,U)))}),bt(I.children,(N,U)=>{U!==Kt&&(E=E.concat(w(N,U)))}),E}(I,(N,U)=>U===Kt?[cn(I.children[Kt],!1)]:[`${U}:${cn(N,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Kt]?`${or(I)}/${E[0]}`:`${or(I)}/(${E.join("//")})`}}function fr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ur(I){return fr(I).replace(/%3B/gi,";")}function gi(I){return fr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xr(I){return decodeURIComponent(I)}function ps(I){return xr(I.replace(/\+/g,"%20"))}function ts(I){return`${gi(I.path)}${function Hr(I){return Object.keys(I).map(w=>`;${gi(w)}=${gi(I[w])}`).join("")}(I.parameters)}`}const ci=/^[^\/()?;=#]+/;function lr(I){const w=I.match(ci);return w?w[0]:""}const ao=/^[^=?&#]+/,Bi=/^[^&#]+/;class ki{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(w.length>0||Object.keys(E).length>0)&&(N[Kt]=new Dt(w,E)),N}parseSegment(){const w=lr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new Se(xr(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const E=lr(this.remaining);if(!E)return;this.capture(E);let N="";if(this.consumeOptional("=")){const U=lr(this.remaining);U&&(N=U,this.capture(N))}w[xr(E)]=xr(N)}parseQueryParam(w){const E=function uo(I){const w=I.match(ao);return w?w[0]:""}(this.remaining);if(!E)return;this.capture(E);let N="";if(this.consumeOptional("=")){const X=function Ks(I){const w=I.match(Bi);return w?w[0]:""}(this.remaining);X&&(N=X,this.capture(N))}const U=ps(E),Y=ps(N);if(w.hasOwnProperty(U)){let X=w[U];Array.isArray(X)||(X=[X],w[U]=X),X.push(Y)}else w[U]=Y}parseParens(w){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=lr(this.remaining),U=this.remaining[N.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let Y;N.indexOf(":")>-1?(Y=N.slice(0,N.indexOf(":")),this.capture(Y),this.capture(":")):w&&(Y=Kt);const X=this.parseChildren();E[Y]=1===Object.keys(X).length?X[Kt]:new Dt([],X),this.consumeOptional("//")}return E}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class Ki{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const E=this.pathFromRoot(w);return E.length>1?E[E.length-2]:null}children(w){const E=Oe(w,this._root);return E?E.children.map(N=>N.value):[]}firstChild(w){const E=Oe(w,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(w){const E=Me(w,this._root);return E.length<2?[]:E[E.length-2].children.map(U=>U.value).filter(U=>U!==w)}pathFromRoot(w){return Me(w,this._root).map(E=>E.value)}}function Oe(I,w){if(I===w.value)return w;for(const E of w.children){const N=Oe(I,E);if(N)return N}return null}function Me(I,w){if(I===w.value)return[w];for(const E of w.children){const N=Me(I,E);if(N.length)return N.unshift(w),N}return[]}class He{constructor(w,E){this.value=w,this.children=E}toString(){return`TreeNode(${this.value})`}}function mt(I){const w={};return I&&I.children.forEach(E=>w[E.value.outlet]=E),w}class xt extends Ki{constructor(w,E){super(w),this.snapshot=E,Zs(this,w)}toString(){return this.snapshot.toString()}}function tn(I,w){const E=function Jn(I,w){const X=new gs([],{},{},"",{},Kt,w,null,I.root,-1,{});return new As("",new He(X,[]))}(I,w),N=new _e([new Se("",{})]),U=new _e({}),Y=new _e({}),X=new _e({}),Ee=new _e(""),yt=new Pr(N,U,X,Ee,Y,Kt,w,E.root);return yt.snapshot=E.root,new xt(new He(yt,[]),E)}class Pr{constructor(w,E,N,U,Y,X,Ee,yt){this.url=w,this.params=E,this.queryParams=N,this.fragment=U,this.data=Y,this.outlet=X,this.component=Ee,this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(w=>Vt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(w=>Vt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pn(I,w="emptyOnly"){const E=I.pathFromRoot;let N=0;if("always"!==w)for(N=E.length-1;N>=1;){const U=E[N],Y=E[N-1];if(U.routeConfig&&""===U.routeConfig.path)N--;else{if(Y.component)break;N--}}return function Ci(I){return I.reduce((w,E)=>({params:{...w.params,...E.params},data:{...w.data,...E.data},resolve:{...E.data,...w.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(N))}class gs{constructor(w,E,N,U,Y,X,Ee,yt,Rt,jt,nn,yn){this.url=w,this.params=E,this.queryParams=N,this.fragment=U,this.data=Y,this.outlet=X,this.component=Ee,this.routeConfig=yt,this._urlSegment=Rt,this._lastPathIndex=jt,this._correctedLastPathIndex=yn??jt,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class As extends Ki{constructor(w,E){super(E),this.url=w,Zs(this,E)}toString(){return ns(this._root)}}function Zs(I,w){w.value._routerState=I,w.children.forEach(E=>Zs(I,E))}function ns(I){const w=I.children.length>0?` { ${I.children.map(ns).join(", ")} } `:"";return`${I.value}${w}`}function Ti(I){if(I.snapshot){const w=I.snapshot,E=I._futureSnapshot;I.snapshot=E,ie(w.queryParams,E.queryParams)||I.queryParams.next(E.queryParams),w.fragment!==E.fragment&&I.fragment.next(E.fragment),ie(w.params,E.params)||I.params.next(E.params),function ye(I,w){if(I.length!==w.length)return!1;for(let E=0;E<I.length;++E)if(!ie(I[E],w[E]))return!1;return!0}(w.url,E.url)||I.url.next(E.url),ie(w.data,E.data)||I.data.next(E.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Di(I,w){const E=ie(I.params,w.params)&&function ge(I,w){return ue(I,w)&&I.every((E,N)=>ie(E.parameters,w[N].parameters))}(I.url,w.url);return E&&!(!I.parent!=!w.parent)&&(!I.parent||Di(I.parent,w.parent))}function Ai(I,w,E){if(E&&I.shouldReuseRoute(w.value,E.value.snapshot)){const N=E.value;N._futureSnapshot=w.value;const U=function lo(I,w,E){return w.children.map(N=>{for(const U of E.children)if(I.shouldReuseRoute(N.value,U.value.snapshot))return Ai(I,N,U);return Ai(I,N)})}(I,w,E);return new He(N,U)}{if(I.shouldAttach(w.value)){const Y=I.retrieve(w.value);if(null!==Y){const X=Y.route;return X.value._futureSnapshot=w.value,X.children=w.children.map(Ee=>Ai(I,Ee)),X}}const N=function jo(I){return new Pr(new _e(I.url),new _e(I.params),new _e(I.queryParams),new _e(I.fragment),new _e(I.data),I.outlet,I.component,I)}(w.value),U=w.children.map(Y=>Ai(I,Y));return new He(N,U)}}function ms(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Fi(I){return"object"==typeof I&&null!=I&&I.outlets}function co(I,w,E,N,U){let Y={};if(N&&bt(N,(Ee,yt)=>{Y[yt]=Array.isArray(Ee)?Ee.map(Rt=>`${Rt}`):`${Ee}`}),I===w)return new pt(E,Y,U);const X=ra(I,w,E);return new pt(X,Y,U)}function ra(I,w,E){const N={};return bt(I.children,(U,Y)=>{N[Y]=U===w?E:ra(U,w,E)}),new Dt(I.segments,N)}class ia{constructor(w,E,N){if(this.isAbsolute=w,this.numberOfDoubleDots=E,this.commands=N,w&&N.length>0&&ms(N[0]))throw new Error("Root segment cannot have matrix parameters");const U=N.find(Fi);if(U&&U!==se(N))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ji{constructor(w,E,N){this.segmentGroup=w,this.processChildren=E,this.index=N}}function oa(I,w,E){if(I||(I=new Dt([],{})),0===I.segments.length&&I.hasChildren())return mi(I,w,E);const N=function yi(I,w,E){let N=0,U=w;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<I.segments.length;){if(N>=E.length)return Y;const X=I.segments[U],Ee=E[N];if(Fi(Ee))break;const yt=`${Ee}`,Rt=N<E.length-1?E[N+1]:null;if(U>0&&void 0===yt)break;if(yt&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!_s(yt,Rt,X))return Y;N+=2}else{if(!_s(yt,{},X))return Y;N++}U++}return{match:!0,pathIndex:U,commandIndex:N}}(I,w,E),U=E.slice(N.commandIndex);if(N.match&&N.pathIndex<I.segments.length){const Y=new Dt(I.segments.slice(0,N.pathIndex),{});return Y.children[Kt]=new Dt(I.segments.slice(N.pathIndex),I.children),mi(Y,0,U)}return N.match&&0===U.length?new Dt(I.segments,{}):N.match&&!I.hasChildren()?rs(I,w,E):N.match?mi(I,0,U):rs(I,w,E)}function mi(I,w,E){if(0===E.length)return new Dt(I.segments,{});{const N=function Fs(I){return Fi(I[0])?I[0].outlets:{[Kt]:I}}(E),U={};return bt(N,(Y,X)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[X]=oa(I.children[X],w,Y))}),bt(I.children,(Y,X)=>{void 0===N[X]&&(U[X]=Y)}),new Dt(I.segments,U)}}function rs(I,w,E){const N=I.segments.slice(0,w);let U=0;for(;U<E.length;){const Y=E[U];if(Fi(Y)){const yt=Ss(Y.outlets);return new Dt(N,yt)}if(0===U&&ms(E[0])){N.push(new Se(I.segments[w].path,Po(E[0]))),U++;continue}const X=Fi(Y)?Y.outlets[Kt]:`${Y}`,Ee=U<E.length-1?E[U+1]:null;X&&Ee&&ms(Ee)?(N.push(new Se(X,Po(Ee))),U+=2):(N.push(new Se(X,{})),U++)}return new Dt(N,{})}function Ss(I){const w={};return bt(I,(E,N)=>{"string"==typeof E&&(E=[E]),null!==E&&(w[N]=rs(new Dt([],{}),0,E))}),w}function Po(I){const w={};return bt(I,(E,N)=>w[N]=`${E}`),w}function _s(I,w,E){return I==E.path&&ie(w,E.parameters)}class Mi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ho,this.attachRef=null}}class ho{constructor(){this.contexts=new Map}onChildOutletCreated(w,E){const N=this.getOrCreateContext(w);N.outlet=E,this.contexts.set(w,N)}onChildOutletDestroyed(w){const E=this.getContext(w);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let E=this.getContext(w);return E||(E=new Mi,this.contexts.set(w,E)),E}getContext(w){return this.contexts.get(w)||null}}let Ms=(()=>{class I{constructor(E,N,U,Y,X){this.parentContexts=E,this.location=N,this.changeDetector=Y,this.environmentInjector=X,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=U||Kt,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,N){this.activated=E,this._activatedRoute=N,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,N){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const U=this.location,X=E._futureSnapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,yt=new ba(E,Ee,U.injector);if(N&&function Zi(I){return!!I.resolveComponentFactory}(N)){const Rt=N.resolveComponentFactory(X);this.activated=U.createComponent(Rt,U.length,yt)}else this.activated=U.createComponent(X,{index:U.length,injector:yt,environmentInjector:N??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(E){return new(E||I)(f.Y36(ho),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},I.\u0275dir=f.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class ba{constructor(w,E,N){this.route=w,this.childContexts=E,this.parent=N}get(w,E){return w===Pr?this.route:w===ho?this.childContexts:this.parent.get(w,E)}}let Tr=(()=>{class I{}return I.\u0275fac=function(E){return new(E||I)},I.\u0275cmp=f.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,N){1&E&&f._UZ(0,"router-outlet")},dependencies:[Ms],encapsulation:2}),I})();function Ls(I,w){return I.providers&&!I._injector&&(I._injector=(0,f.MMx)(I.providers,w,`Route: ${I.path}`)),I._injector??w}function Hn(I){const w=I.children&&I.children.map(Hn),E=w?{...I,children:w}:{...I};return!E.component&&!E.loadComponent&&(w||E.loadChildren)&&E.outlet&&E.outlet!==Kt&&(E.component=Tr),E}function Nr(I){return I.outlet||Kt}function Qs(I,w){const E=I.filter(N=>Nr(N)===w);return E.push(...I.filter(N=>Nr(N)!==w)),E}function vr(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let w=I.parent;w;w=w.parent){const E=w.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class K{constructor(w,E,N,U){this.routeReuseStrategy=w,this.futureState=E,this.currState=N,this.forwardEvent=U}activate(w){const E=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,N,w),Ti(this.futureState.root),this.activateChildRoutes(E,N,w)}deactivateChildRoutes(w,E,N){const U=mt(E);w.children.forEach(Y=>{const X=Y.value.outlet;this.deactivateRoutes(Y,U[X],N),delete U[X]}),bt(U,(Y,X)=>{this.deactivateRouteAndItsChildren(Y,N)})}deactivateRoutes(w,E,N){const U=w.value,Y=E?E.value:null;if(U===Y)if(U.component){const X=N.getContext(U.outlet);X&&this.deactivateChildRoutes(w,E,X.children)}else this.deactivateChildRoutes(w,E,N);else Y&&this.deactivateRouteAndItsChildren(E,N)}deactivateRouteAndItsChildren(w,E){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,E):this.deactivateRouteAndOutlet(w,E)}detachAndStoreRouteSubtree(w,E){const N=E.getContext(w.value.outlet),U=N&&w.value.component?N.children:E,Y=mt(w);for(const X of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[X],U);if(N&&N.outlet){const X=N.outlet.detach(),Ee=N.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:X,route:w,contexts:Ee})}}deactivateRouteAndOutlet(w,E){const N=E.getContext(w.value.outlet),U=N&&w.value.component?N.children:E,Y=mt(w);for(const X of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[X],U);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(w,E,N){const U=mt(E);w.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],N),this.forwardEvent(new ft(Y.value.snapshot))}),w.children.length&&this.forwardEvent(new De(w.value.snapshot))}activateRoutes(w,E,N){const U=w.value,Y=E?E.value:null;if(Ti(U),U===Y)if(U.component){const X=N.getOrCreateContext(U.outlet);this.activateChildRoutes(w,E,X.children)}else this.activateChildRoutes(w,E,N);else if(U.component){const X=N.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Ee=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),X.children.onOutletReAttached(Ee.contexts),X.attachRef=Ee.componentRef,X.route=Ee.route.value,X.outlet&&X.outlet.attach(Ee.componentRef,Ee.route.value),Ti(Ee.route.value),this.activateChildRoutes(w,null,X.children)}else{const Ee=vr(U.snapshot),yt=Ee?.get(f._Vd)??null;X.attachRef=null,X.route=U,X.resolver=yt,X.injector=Ee,X.outlet&&X.outlet.activateWith(U,X.injector),this.activateChildRoutes(w,null,X.children)}}else this.activateChildRoutes(w,null,N)}}function k(I){return"function"==typeof I}function Ce(I){return I instanceof pt}const qn=Symbol("INITIAL_VALUE");function cr(){return(0,Wn.w)(I=>Ye(I.map(w=>w.pipe((0,Sn.q)(1),(0,tr.O)(qn)))).pipe((0,En.R)((w,E)=>{let N=!1;return E.reduce((U,Y,X)=>U!==qn?U:(Y===qn&&(N=!0),N||!1!==Y&&X!==E.length-1&&!Ce(Y)?U:Y),w)},qn),(0,Te.h)(w=>w!==qn),(0,sn.U)(w=>Ce(w)?w:!0===w),(0,Sn.q)(1)))}const Nn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gr(I,w,E){if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||E.length>0)?{...Nn}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const U=(w.matcher||Mn)(E,I,w);if(!U)return{...Nn};const Y={};bt(U.posParams,(Ee,yt)=>{Y[yt]=Ee.path});const X=U.consumed.length>0?{...Y,...U.consumed[U.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:U.consumed,remainingSegments:E.slice(U.consumed.length),parameters:X,positionalParamSegments:U.posParams??{}}}function dr(I,w,E,N,U="corrected"){if(E.length>0&&function vs(I,w,E){return E.some(N=>ti(I,w,N)&&Nr(N)!==Kt)}(I,E,N)){const X=new Dt(w,function Ps(I,w,E,N){const U={};U[Kt]=N,N._sourceSegment=I,N._segmentIndexShift=w.length;for(const Y of E)if(""===Y.path&&Nr(Y)!==Kt){const X=new Dt([],{});X._sourceSegment=I,X._segmentIndexShift=w.length,U[Nr(Y)]=X}return U}(I,w,N,new Dt(E,I.children)));return X._sourceSegment=I,X._segmentIndexShift=w.length,{segmentGroup:X,slicedSegments:[]}}if(0===E.length&&function Yi(I,w,E){return E.some(N=>ti(I,w,N))}(I,E,N)){const X=new Dt(I.segments,function fn(I,w,E,N,U,Y){const X={};for(const Ee of N)if(ti(I,E,Ee)&&!U[Nr(Ee)]){const yt=new Dt([],{});yt._sourceSegment=I,yt._segmentIndexShift="legacy"===Y?I.segments.length:w.length,X[Nr(Ee)]=yt}return{...U,...X}}(I,w,E,N,I.children,U));return X._sourceSegment=I,X._segmentIndexShift=w.length,{segmentGroup:X,slicedSegments:E}}const Y=new Dt(I.segments,I.children);return Y._sourceSegment=I,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:E}}function ti(I,w,E){return(!(I.hasChildren()||w.length>0)||"full"!==E.pathMatch)&&""===E.path}function Oo(I,w,E,N){return!!(Nr(I)===N||N!==Kt&&ti(w,E,I))&&("**"===I.path||Gr(w,I,E).matched)}function is(I,w,E){return 0===w.length&&!I.children[E]}class go{constructor(w){this.segmentGroup=w||null}}class Us{constructor(w){this.urlTree=w}}function Tt(I){return Qe(new go(I))}function rr(I){return Qe(new Us(I))}class $o{constructor(w,E,N,U,Y){this.injector=w,this.configLoader=E,this.urlSerializer=N,this.urlTree=U,this.config=Y,this.allowRedirects=!0}apply(){const w=dr(this.urlTree.root,[],[],this.config).segmentGroup,E=new Dt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,E,Kt).pipe((0,sn.U)(Y=>this.createUrlTree(O(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Be(Y=>{if(Y instanceof Us)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof go?this.noMatchError(Y):Y}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Kt).pipe((0,sn.U)(U=>this.createUrlTree(O(U),w.queryParams,w.fragment))).pipe(Be(U=>{throw U instanceof go?this.noMatchError(U):U}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,E,N){const U=w.segments.length>0?new Dt([],{[Kt]:w}):w;return new pt(U,E,N)}expandSegmentGroup(w,E,N,U){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(w,E,N).pipe((0,sn.U)(Y=>new Dt([],Y))):this.expandSegment(w,N,E,N.segments,U,!0)}expandChildren(w,E,N){const U=[];for(const Y of Object.keys(N.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,Re.D)(U).pipe((0,mn.b)(Y=>{const X=N.children[Y],Ee=Qs(E,Y);return this.expandSegmentGroup(w,Ee,X,Y).pipe((0,sn.U)(yt=>({segment:yt,outlet:Y})))}),(0,En.R)((Y,X)=>(Y[X.outlet]=X.segment,Y),{}),function on(I,w){const E=arguments.length>=2;return N=>N.pipe(I?(0,Te.h)((U,Y)=>I(U,Y,N)):ke.y,Xe(1),E?(0,Mt.d)(w):(0,Ge.T)(()=>new $e.K))}())}expandSegment(w,E,N,U,Y,X){return(0,Re.D)(N).pipe((0,mn.b)(Ee=>this.expandSegmentAgainstRoute(w,E,N,Ee,U,Y,X).pipe(Be(Rt=>{if(Rt instanceof go)return(0,ae.of)(null);throw Rt}))),(0,Fn.P)(Ee=>!!Ee),Be((Ee,yt)=>{if(Ee instanceof $e.K||"EmptyError"===Ee.name)return is(E,U,Y)?(0,ae.of)(new Dt([],{})):Tt(E);throw Ee}))}expandSegmentAgainstRoute(w,E,N,U,Y,X,Ee){return Oo(U,E,Y,X)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(w,E,U,Y,X):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,E,N,U,Y,X):Tt(E):Tt(E)}expandSegmentAgainstRouteUsingRedirect(w,E,N,U,Y,X){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,N,U,X):this.expandRegularSegmentAgainstRouteUsingRedirect(w,E,N,U,Y,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,E,N,U){const Y=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?rr(Y):this.lineralizeSegments(N,Y).pipe((0,Bn.z)(X=>{const Ee=new Dt(X,{});return this.expandSegment(w,Ee,E,X,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,E,N,U,Y,X){const{matched:Ee,consumedSegments:yt,remainingSegments:Rt,positionalParamSegments:jt}=Gr(E,U,Y);if(!Ee)return Tt(E);const nn=this.applyRedirectCommands(yt,U.redirectTo,jt);return U.redirectTo.startsWith("/")?rr(nn):this.lineralizeSegments(U,nn).pipe((0,Bn.z)(yn=>this.expandSegment(w,E,N,yn.concat(Rt),X,!1)))}matchSegmentAgainstRoute(w,E,N,U,Y){if("**"===N.path)return w=Ls(N,w),N.loadChildren?(N._loadedRoutes?(0,ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):this.configLoader.loadChildren(w,N)).pipe((0,sn.U)(nn=>(N._loadedRoutes=nn.routes,N._loadedInjector=nn.injector,new Dt(U,{})))):(0,ae.of)(new Dt(U,{}));const{matched:X,consumedSegments:Ee,remainingSegments:yt}=Gr(E,N,U);return X?(w=Ls(N,w),this.getChildConfig(w,N,U).pipe((0,Bn.z)(jt=>{const nn=jt.injector??w,yn=jt.routes,{segmentGroup:bi,slicedSegments:_n}=dr(E,Ee,yt,yn),qt=new Dt(bi.segments,bi.children);if(0===_n.length&&qt.hasChildren())return this.expandChildren(nn,yn,qt).pipe((0,sn.U)(du=>new Dt(Ee,du)));if(0===yn.length&&0===_n.length)return(0,ae.of)(new Dt(Ee,{}));const wo=Nr(N)===Y;return this.expandSegment(nn,qt,yn,_n,wo?Kt:Y,!0).pipe((0,sn.U)(io=>new Dt(Ee.concat(io.segments),io.children)))}))):Tt(E)}getChildConfig(w,E,N){return E.children?(0,ae.of)({routes:E.children,injector:w}):E.loadChildren?void 0!==E._loadedRoutes?(0,ae.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):this.runCanLoadGuards(w,E,N).pipe((0,Bn.z)(U=>U?this.configLoader.loadChildren(w,E).pipe((0,ar.b)(Y=>{E._loadedRoutes=Y.routes,E._loadedInjector=Y.injector})):function ua(I){return Qe(nr(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))}(E))):(0,ae.of)({routes:[],injector:w})}runCanLoadGuards(w,E,N){const U=E.canLoad;if(!U||0===U.length)return(0,ae.of)(!0);const Y=U.map(X=>{const Ee=w.get(X);let yt;if(function We(I){return I&&k(I.canLoad)}(Ee))yt=Ee.canLoad(E,N);else{if(!k(Ee))throw new Error("Invalid CanLoad guard");yt=Ee(E,N)}return Ot(yt)});return(0,ae.of)(Y).pipe(cr(),(0,ar.b)(X=>{if(!Ce(X))return;const Ee=nr(`Redirecting to "${this.urlSerializer.serialize(X)}"`);throw Ee.url=X,Ee}),(0,sn.U)(X=>!0===X))}lineralizeSegments(w,E){let N=[],U=E.root;for(;;){if(N=N.concat(U.segments),0===U.numberOfChildren)return(0,ae.of)(N);if(U.numberOfChildren>1||!U.children[Kt])return Qe(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));U=U.children[Kt]}}applyRedirectCommands(w,E,N){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),w,N)}applyRedirectCreatreUrlTree(w,E,N,U){const Y=this.createSegmentGroup(w,E.root,N,U);return new pt(Y,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(w,E){const N={};return bt(w,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const Ee=U.substring(1);N[Y]=E[Ee]}else N[Y]=U}),N}createSegmentGroup(w,E,N,U){const Y=this.createSegments(w,E.segments,N,U);let X={};return bt(E.children,(Ee,yt)=>{X[yt]=this.createSegmentGroup(w,Ee,N,U)}),new Dt(Y,X)}createSegments(w,E,N,U){return E.map(Y=>Y.path.startsWith(":")?this.findPosParam(w,Y,U):this.findOrReturn(Y,N))}findPosParam(w,E,N){const U=N[E.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${w}'. Cannot find '${E.path}'.`);return U}findOrReturn(w,E){let N=0;for(const U of E){if(U.path===w.path)return E.splice(N),U;N++}return w}}function O(I){const w={};for(const N of Object.keys(I.children)){const Y=O(I.children[N]);(Y.segments.length>0||Y.hasChildren())&&(w[N]=Y)}return function L(I){if(1===I.numberOfChildren&&I.children[Kt]){const w=I.children[Kt];return new Dt(I.segments.concat(w.segments),w.children)}return I}(new Dt(I.segments,w))}class Z{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class st{constructor(w,E){this.component=w,this.route=E}}function an(I,w,E){const N=I._root;return Dr(N,w?w._root:null,E,[N.value])}function Kr(I,w,E){return(vr(w)??E).get(I)}function Dr(I,w,E,N,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=mt(w);return I.children.forEach(X=>{(function Zr(I,w,E,N,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=I.value,X=w?w.value:null,Ee=E?E.getContext(I.value.outlet):null;if(X&&Y.routeConfig===X.routeConfig){const yt=function Li(I,w,E){if("function"==typeof E)return E(I,w);switch(E){case"pathParamsChange":return!ue(I.url,w.url);case"pathParamsOrQueryParamsChange":return!ue(I.url,w.url)||!ie(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Di(I,w)||!ie(I.queryParams,w.queryParams);default:return!Di(I,w)}}(X,Y,Y.routeConfig.runGuardsAndResolvers);yt?U.canActivateChecks.push(new Z(N)):(Y.data=X.data,Y._resolvedData=X._resolvedData),Dr(I,w,Y.component?Ee?Ee.children:null:E,N,U),yt&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&U.canDeactivateChecks.push(new st(Ee.outlet.component,X))}else X&&vi(w,Ee,U),U.canActivateChecks.push(new Z(N)),Dr(I,null,Y.component?Ee?Ee.children:null:E,N,U)})(X,Y[X.value.outlet],E,N.concat([X.value]),U),delete Y[X.value.outlet]}),bt(Y,(X,Ee)=>vi(X,E.getContext(Ee),U)),U}function vi(I,w,E){const N=mt(I),U=I.value;bt(N,(Y,X)=>{vi(Y,U.component?w?w.children.getContext(X):null:w,E)}),E.canDeactivateChecks.push(new st(U.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,U))}class ll{}function ca(I){return new fe.y(w=>w.error(I))}class Na{constructor(w,E,N,U,Y,X){this.rootComponentType=w,this.config=E,this.urlTree=N,this.url=U,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=X}recognize(){const w=dr(this.urlTree.root,[],[],this.config.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,w,Kt);if(null===E)return null;const N=new gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new He(N,E),Y=new As(this.url,U);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(w){const E=w.value,N=Pn(E,this.paramsInheritanceStrategy);E.params=Object.freeze(N.params),E.data=Object.freeze(N.data),w.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(w,E,N){return 0===E.segments.length&&E.hasChildren()?this.processChildren(w,E):this.processSegment(w,E,E.segments,N)}processChildren(w,E){const N=[];for(const Y of Object.keys(E.children)){const X=E.children[Y],Ee=Qs(w,Y),yt=this.processSegmentGroup(Ee,X,Y);if(null===yt)return null;N.push(...yt)}const U=Go(N);return function yo(I){I.sort((w,E)=>w.value.outlet===Kt?-1:E.value.outlet===Kt?1:w.value.outlet.localeCompare(E.value.outlet))}(U),U}processSegment(w,E,N,U){for(const Y of w){const X=this.processSegmentAgainstRoute(Y,E,N,U);if(null!==X)return X}return is(E,N,U)?[]:null}processSegmentAgainstRoute(w,E,N,U){if(w.redirectTo||!Oo(w,E,N,U))return null;let Y,X=[],Ee=[];if("**"===w.path){const bi=N.length>0?se(N).parameters:{},_n=ni(E)+N.length;Y=new gs(N,bi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yr(w),Nr(w),w.component??w._loadedComponent??null,w,ou(E),_n,Za(w),_n)}else{const bi=Gr(E,w,N);if(!bi.matched)return null;X=bi.consumedSegments,Ee=bi.remainingSegments;const _n=ni(E)+X.length;Y=new gs(X,bi.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yr(w),Nr(w),w.component??w._loadedComponent??null,w,ou(E),_n,Za(w),_n)}const yt=function iu(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(w),{segmentGroup:Rt,slicedSegments:jt}=dr(E,X,Ee,yt.filter(bi=>void 0===bi.redirectTo),this.relativeLinkResolution);if(0===jt.length&&Rt.hasChildren()){const bi=this.processChildren(yt,Rt);return null===bi?null:[new He(Y,bi)]}if(0===yt.length&&0===jt.length)return[new He(Y,[])];const nn=Nr(w)===U,yn=this.processSegment(yt,Rt,jt,nn?Kt:U);return null===yn?null:[new He(Y,yn)]}}function _o(I){const w=I.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Go(I){const w=[],E=new Set;for(const N of I){if(!_o(N)){w.push(N);continue}const U=w.find(Y=>N.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...N.children),E.add(U)):w.push(N)}for(const N of E){const U=Go(N.children);w.push(new He(N.value,U))}return w.filter(N=>!E.has(N))}function ou(I){let w=I;for(;w._sourceSegment;)w=w._sourceSegment;return w}function ni(I){let w=I,E=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,E+=w._segmentIndexShift??0;return E-1}function Yr(I){return I.data||{}}function Za(I){return I.resolve||{}}const Oa=Symbol("RouteTitle");function ss(I){return"string"==typeof I.title||null===I.title}function vo(I){return(0,Wn.w)(w=>{const E=I(w);return E?(0,Re.D)(E).pipe((0,sn.U)(()=>w)):(0,ae.of)(w)})}class os extends class au{shouldDetach(w){return!1}store(w,E){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,E){return w.routeConfig===E.routeConfig}}{}const Ca=new f.OlP("ROUTES");let Bs=(()=>{class I{constructor(E,N){this.injector=E,this.compiler=N,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,ae.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const N=Ot(E.loadComponent()).pipe((0,ar.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Y}),Bt(()=>{this.componentLoaders.delete(E)})),U=new wt(N,()=>new $.x).pipe(ot());return this.componentLoaders.set(E,U),U}loadChildren(E,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,ae.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const Y=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,sn.U)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(N);let yt,Rt,jt=!1;Array.isArray(Ee)?Rt=Ee:(yt=Ee.create(E).injector,Rt=Ve(yt.get(Ca,[],f.XFs.Self|f.XFs.Optional)));return{routes:Rt.map(Hn),injector:yt}}),Bt(()=>{this.childrenLoaders.delete(N)})),X=new wt(Y,()=>new $.x).pipe(ot());return this.childrenLoaders.set(N,X),X}loadModuleFactoryOrRoutes(E){return Ot(E()).pipe((0,Bn.z)(N=>N instanceof f.YKP||Array.isArray(N)?(0,ae.of)(N):(0,Re.D)(this.compiler.compileModuleAsync(N))))}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(f.zs3),f.LFG(f.Sil))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();class zo{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,E){return w}}function to(I){throw I}function Ro(I,w,E){return w.parse("/")}const as={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class I{constructor(E,N,U,Y,X,Ee,yt){this.rootComponentType=E,this.urlSerializer=N,this.rootContexts=U,this.location=Y,this.config=yt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $.x,this.errorHandler=to,this.malformedUriErrorHandler=Ro,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ae.of)(void 0),this.urlHandlingStrategy=new zo,this.routeReuseStrategy=new os,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=X.get(Bs),this.configLoader.onLoadEndListener=yn=>this.triggerEvent(new li(yn)),this.configLoader.onLoadStartListener=yn=>this.triggerEvent(new jr(yn)),this.ngModule=X.get(f.h0i),this.console=X.get(f.c2e);const nn=X.get(f.R0b);this.isNgZoneEnabled=nn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(yt),this.currentUrlTree=function wn(){return new pt(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tn(this.currentUrlTree,this.rootComponentType),this.transitions=new _e({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const N=this.events;return E.pipe((0,Te.h)(U=>0!==U.id),(0,sn.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,Wn.w)(U=>{let Y=!1,X=!1;return(0,ae.of)(U).pipe((0,ar.b)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.rawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Wn.w)(Ee=>{const yt=this.browserUrlTree.toString(),Rt=!this.navigated||Ee.extractedUrl.toString()!==yt||yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Rt)&&this.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl))return Wo(Ee.source)&&(this.browserUrlTree=Ee.extractedUrl),(0,ae.of)(Ee).pipe((0,Wn.w)(nn=>{const yn=this.transitions.getValue();return N.next(new Mr(nn.id,this.serializeUrl(nn.extractedUrl),nn.source,nn.restoredState)),yn!==this.transitions.getValue()?oe.E:Promise.resolve(nn)}),function P(I,w,E,N){return(0,Wn.w)(U=>function _i(I,w,E,N,U){return new $o(I,w,E,N,U).apply()}(I,w,E,U.extractedUrl,N).pipe((0,sn.U)(Y=>({...U,urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(nn=>{this.currentNavigation={...this.currentNavigation,finalUrl:nn.urlAfterRedirects}}),function Ya(I,w,E,N,U){return(0,Bn.z)(Y=>function ws(I,w,E,N,U="emptyOnly",Y="legacy"){try{const X=new Na(I,w,E,N,U,Y).recognize();return null===X?ca(new ll):(0,ae.of)(X)}catch(X){return ca(X)}}(I,w,Y.urlAfterRedirects,E(Y.urlAfterRedirects),N,U).pipe((0,sn.U)(X=>({...Y,targetSnapshot:X}))))}(this.rootComponentType,this.config,nn=>this.serializeUrl(nn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(nn=>{if("eager"===this.urlUpdateStrategy){if(!nn.extras.skipLocationChange){const bi=this.urlHandlingStrategy.merge(nn.urlAfterRedirects,nn.rawUrl);this.setBrowserUrl(bi,nn)}this.browserUrlTree=nn.urlAfterRedirects}const yn=new rn(nn.id,this.serializeUrl(nn.extractedUrl),this.serializeUrl(nn.urlAfterRedirects),nn.targetSnapshot);N.next(yn)}));if(Rt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:yn,extractedUrl:bi,source:_n,restoredState:qt,extras:wo}=Ee,Xa=new Mr(yn,this.serializeUrl(bi),_n,qt);N.next(Xa);const io=tn(bi,this.rootComponentType).snapshot;return(0,ae.of)({...Ee,targetSnapshot:io,urlAfterRedirects:bi,extras:{...wo,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=Ee.rawUrl,Ee.resolve(null),oe.E}),(0,ar.b)(Ee=>{const yt=new sr(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot);this.triggerEvent(yt)}),(0,sn.U)(Ee=>({...Ee,guards:an(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)})),function Es(I,w){return(0,Bn.z)(E=>{const{targetSnapshot:N,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:X}}=E;return 0===X.length&&0===Y.length?(0,ae.of)({...E,guardsResult:!0}):function Js(I,w,E,N){return(0,Re.D)(I).pipe((0,Bn.z)(U=>function la(I,w,E,N,U){const Y=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ae.of)(!0);const X=Y.map(Ee=>{const yt=Kr(Ee,w,U);let Rt;if(function Ar(I){return I&&k(I.canDeactivate)}(yt))Rt=Ot(yt.canDeactivate(I,w,E,N));else{if(!k(yt))throw new Error("Invalid CanDeactivate guard");Rt=Ot(yt(I,w,E,N))}return Rt.pipe((0,Fn.P)())});return(0,ae.of)(X).pipe(cr())}(U.component,U.route,E,w,N)),(0,Fn.P)(U=>!0!==U,!0))}(X,N,U,I).pipe((0,Bn.z)(Ee=>Ee&&function Q(I){return"boolean"==typeof I}(Ee)?function Ho(I,w,E,N){return(0,Re.D)(w).pipe((0,mn.b)(U=>(0,at.z)(function di(I,w){return null!==I&&w&&w(new dt(I)),(0,ae.of)(!0)}(U.route.parent,N),function $i(I,w){return null!==I&&w&&w(new Pe(I)),(0,ae.of)(!0)}(U.route,N),function Ka(I,w,E){const N=w[w.length-1],Y=w.slice(0,w.length-1).reverse().map(X=>function Or(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(X)).filter(X=>null!==X).map(X=>Gt(()=>{const Ee=X.guards.map(yt=>{const Rt=Kr(yt,X.node,E);let jt;if(function Ht(I){return I&&k(I.canActivateChild)}(Rt))jt=Ot(Rt.canActivateChild(N,I));else{if(!k(Rt))throw new Error("Invalid CanActivateChild guard");jt=Ot(Rt(N,I))}return jt.pipe((0,Fn.P)())});return(0,ae.of)(Ee).pipe(cr())}));return(0,ae.of)(Y).pipe(cr())}(I,U.path,E),function mo(I,w,E){const N=w.routeConfig?w.routeConfig.canActivate:null;if(!N||0===N.length)return(0,ae.of)(!0);const U=N.map(Y=>Gt(()=>{const X=Kr(Y,w,E);let Ee;if(function Ct(I){return I&&k(I.canActivate)}(X))Ee=Ot(X.canActivate(w,I));else{if(!k(X))throw new Error("Invalid CanActivate guard");Ee=Ot(X(w,I))}return Ee.pipe((0,Fn.P)())}));return(0,ae.of)(U).pipe(cr())}(I,U.route,E))),(0,Fn.P)(U=>!0!==U,!0))}(N,Y,I,w):(0,ae.of)(Ee)),(0,sn.U)(Ee=>({...E,guardsResult:Ee})))})}(this.ngModule.injector,Ee=>this.triggerEvent(Ee)),(0,ar.b)(Ee=>{if(Ce(Ee.guardsResult)){const Rt=nr(`Redirecting to "${this.serializeUrl(Ee.guardsResult)}"`);throw Rt.url=Ee.guardsResult,Rt}const yt=new xn(Ee.id,this.serializeUrl(Ee.extractedUrl),this.serializeUrl(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.triggerEvent(yt)}),(0,Te.h)(Ee=>!!Ee.guardsResult||(this.restoreHistory(Ee),this.cancelNavigationTransition(Ee,""),!1)),vo(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,ae.of)(Ee).pipe((0,ar.b)(yt=>{const Rt=new Tn(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Rt)}),(0,Wn.w)(yt=>{let Rt=!1;return(0,ae.of)(yt).pipe(function Ra(I,w){return(0,Bn.z)(E=>{const{targetSnapshot:N,guards:{canActivateChecks:U}}=E;if(!U.length)return(0,ae.of)(E);let Y=0;return(0,Re.D)(U).pipe((0,mn.b)(X=>function Ia(I,w,E,N){const U=I.routeConfig,Y=I._resolve;return void 0!==U?.title&&!ss(U)&&(Y[Oa]=U.title),function Qa(I,w,E,N){const U=function eo(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===U.length)return(0,ae.of)({});const Y={};return(0,Re.D)(U).pipe((0,Bn.z)(X=>function Ns(I,w,E,N){const U=Kr(I,w,N);return Ot(U.resolve?U.resolve(w,E):U(w,E))}(I[X],w,E,N).pipe((0,Fn.P)(),(0,ar.b)(Ee=>{Y[X]=Ee}))),Xe(1),function Rn(I){return(0,sn.U)(()=>I)}(Y),Be(X=>X instanceof $e.K?oe.E:Qe(X)))}(Y,I,w,N).pipe((0,sn.U)(X=>(I._resolvedData=X,I.data=Pn(I,E).resolve,U&&ss(U)&&(I.data[Oa]=U.title),null)))}(X.route,N,I,w)),(0,ar.b)(()=>Y++),Xe(1),(0,Bn.z)(X=>Y===U.length?(0,ae.of)(E):oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>Rt=!0,complete:()=>{Rt||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"At least one route resolver didn't emit any value."))}}))}),(0,ar.b)(yt=>{const Rt=new kr(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(Rt)}))}),vo(()=>this.afterPreactivation()),vo(Ee=>{const yt=Rt=>{const jt=[];Rt.routeConfig?.loadComponent&&!Rt.routeConfig._loadedComponent&&jt.push(this.configLoader.loadComponent(Rt.routeConfig).pipe((0,ar.b)(nn=>{Rt.component=nn}),(0,sn.U)(()=>{})));for(const nn of Rt.children)jt.push(...yt(nn));return jt};return Ye(yt(Ee.targetSnapshot.root)).pipe((0,Mt.d)(),(0,Sn.q)(1))}),(0,sn.U)(Ee=>{const yt=function na(I,w,E){const N=Ai(I,w._root,E?E._root:void 0);return new xt(N,w)}(this.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return{...Ee,targetRouterState:yt}}),(0,ar.b)(Ee=>{this.currentUrlTree=Ee.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ee.urlAfterRedirects,Ee.rawUrl),this.routerState=Ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ee),this.browserUrlTree=Ee.urlAfterRedirects)}),((I,w,E)=>(0,sn.U)(N=>(new K(w,N.targetRouterState,N.currentRouterState,E).activate(I),N)))(this.rootContexts,this.routeReuseStrategy,Ee=>this.triggerEvent(Ee)),(0,ar.b)({next(){Y=!0},complete(){Y=!0}}),Bt(()=>{Y||X||this.cancelNavigationTransition(U,`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),Be(Ee=>{if(X=!0,function Zn(I){return I&&I[Qn]}(Ee)){const yt=Ce(Ee.url);yt||(this.navigated=!0,this.restoreHistory(U,!0));const Rt=new _r(U.id,this.serializeUrl(U.extractedUrl),Ee.message);if(N.next(Rt),yt){const jt=this.urlHandlingStrategy.merge(Ee.url,this.rawUrlTree),nn={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wo(U.source)};this.scheduleNavigation(jt,"imperative",null,nn,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const yt=new ir(U.id,this.serializeUrl(U.extractedUrl),Ee);N.next(yt);try{U.resolve(this.errorHandler(Ee))}catch(Rt){U.reject(Rt)}}return oe.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const N="popstate"===E.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{const U={replaceUrl:!0},Y=E.state?.navigationId?E.state:null;if(Y){const Ee={...Y};delete Ee.navigationId,delete Ee.\u0275routerPageId,0!==Object.keys(Ee).length&&(U.state=Ee)}const X=this.parseUrl(E.url);this.scheduleNavigation(X,N,Y,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Hn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,N={}){const{relativeTo:U,queryParams:Y,fragment:X,queryParamsHandling:Ee,preserveFragment:yt}=N,Rt=U||this.routerState.root,jt=yt?this.currentUrlTree.fragment:X;let nn=null;switch(Ee){case"merge":nn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":nn=this.currentUrlTree.queryParams;break;default:nn=Y||null}return null!==nn&&(nn=this.removeEmptyProps(nn)),function Si(I,w,E,N,U){if(0===E.length)return co(w.root,w.root,w.root,N,U);const Y=function ys(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new ia(!0,0,I);let w=0,E=!1;const N=I.reduce((U,Y,X)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ee={};return bt(Y.outlets,(yt,Rt)=>{Ee[Rt]="string"==typeof yt?yt.split("/"):yt}),[...U,{outlets:Ee}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===X?(Y.split("/").forEach((Ee,yt)=>{0==yt&&"."===Ee||(0==yt&&""===Ee?E=!0:".."===Ee?w++:""!=Ee&&U.push(Ee))}),U):[...U,Y]},[]);return new ia(E,w,N)}(E);return Y.toRoot()?co(w.root,w.root,new Dt([],{}),N,U):function X(yt){const Rt=function ks(I,w,E,N){return I.isAbsolute?new ji(w.root,!0,0):-1===N?new ji(E,E===w.root,0):function sa(I,w,E){let N=I,U=w,Y=E;for(;Y>U;){if(Y-=U,N=N.parent,!N)throw new Error("Invalid number of '../'");U=N.segments.length}return new ji(N,!1,U-Y)}(E,N+(ms(I.commands[0])?0:1),I.numberOfDoubleDots)}(Y,w,I.snapshot?._urlSegment,yt),jt=Rt.processChildren?mi(Rt.segmentGroup,Rt.index,Y.commands):oa(Rt.segmentGroup,Rt.index,Y.commands);return co(w.root,Rt.segmentGroup,jt,N,U)}(I.snapshot?._lastPathIndex)}(Rt,this.currentUrlTree,E,nn,jt??null)}navigateByUrl(E,N={skipLocationChange:!1}){const U=Ce(E)?E:this.parseUrl(E),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,N)}navigate(E,N={skipLocationChange:!1}){return function no(I){for(let w=0;w<I.length;w++){const E=I[w];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${w}`)}}(E),this.navigateByUrl(this.createUrlTree(E,N),N)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let N;try{N=this.urlSerializer.parse(E)}catch(U){N=this.malformedUriErrorHandler(U,this.urlSerializer,E)}return N}isActive(E,N){let U;if(U=!0===N?{...as}:!1===N?{...Vi}:N,Ce(E))return Ln(this.currentUrlTree,E,U);const Y=this.parseUrl(E);return Ln(this.currentUrlTree,Y,U)}removeEmptyProps(E){return Object.keys(E).reduce((N,U)=>{const Y=E[U];return null!=Y&&(N[U]=Y),N},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new yr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,N,U,Y,X){if(this.disposed)return Promise.resolve(!1);let Ee,yt,Rt;X?(Ee=X.resolve,yt=X.reject,Rt=X.promise):Rt=new Promise((yn,bi)=>{Ee=yn,yt=bi});const jt=++this.navigationId;let nn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),nn=U&&U.\u0275routerPageId?U.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):nn=0,this.setTransition({id:jt,targetPageId:nn,source:N,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Y,resolve:Ee,reject:yt,promise:Rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rt.catch(yn=>Promise.reject(yn))}setBrowserUrl(E,N){const U=this.urlSerializer.serialize(E),Y={...N.extras.state,...this.generateNgRouterState(N.id,N.targetPageId)};this.location.isCurrentPathEqualTo(U)||N.extras.replaceUrl?this.location.replaceState(U,"",Y):this.location.go(U,"",Y)}restoreHistory(E,N=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,N){const U=new _r(E.id,this.serializeUrl(E.extractedUrl),N);this.triggerEvent(U),E.resolve(!1)}generateNgRouterState(E,N){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:N}:{navigationId:E}}}return I.\u0275fac=function(E){f.$Z()},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();function Wo(I){return"imperative"!==I}let ko=(()=>{class I{constructor(E,N,U,Y,X){this.router=E,this.route=N,this.tabIndexAttribute=U,this.renderer=Y,this.el=X,this.commands=null,this.onChanges=new $.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const N=this.renderer,U=this.el.nativeElement;null!==E?N.setAttribute(U,"tabindex",E):N.removeAttribute(U,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:(0,f.D6c)(this.skipLocationChange),replaceUrl:(0,f.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,f.D6c)(this.preserveFragment)})}}return I.\u0275fac=function(E){return new(E||I)(f.Y36(Hi),f.Y36(Pr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},I.\u0275dir=f.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,N){1&E&&f.NdJ("click",function(){return N.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),I})(),ro=(()=>{class I{constructor(E,N,U){this.router=E,this.route=N,this.locationStrategy=U,this.commands=null,this.href=null,this.onChanges=new $.x,this.subscription=E.events.subscribe(Y=>{Y instanceof yr&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,N,U,Y,X){if(0!==E||N||U||Y||X||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ee={skipLocationChange:(0,f.D6c)(this.skipLocationChange),replaceUrl:(0,f.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ee),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,f.D6c)(this.preserveFragment)})}}return I.\u0275fac=function(E){return new(E||I)(f.Y36(Hi),f.Y36(Pr),f.Y36(_.S$))},I.\u0275dir=f.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,N){1&E&&f.NdJ("click",function(Y){return N.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&E&&f.uIk("target",N.target)("href",N.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),I})();class Ko{buildTitle(w){let E,N=w.root;for(;void 0!==N;)E=this.getResolvedTitleForRoute(N)??E,N=N.children.find(U=>U.outlet===Kt);return E}getResolvedTitleForRoute(w){return w.data[Oa]}}let da=(()=>{class I extends Ko{constructor(E){super(),this.title=E}updateTitle(E){const N=this.buildTitle(E);void 0!==N&&this.title.setTitle(N)}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(mr.Dx))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class wi{}class ha{preload(w,E){return(0,ae.of)(null)}}let ii=(()=>{class I{constructor(E,N,U,Y,X){this.router=E,this.injector=U,this.preloadingStrategy=Y,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.h)(E=>E instanceof yr),(0,mn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,N){const U=[];for(const Y of N){Y.providers&&!Y._injector&&(Y._injector=(0,f.MMx)(Y.providers,E,`Route: ${Y.path}`));const X=Y._injector??E,Ee=Y._loadedInjector??X;Y.loadChildren&&!Y._loadedRoutes||Y.loadComponent&&!Y._loadedComponent?U.push(this.preloadConfig(X,Y)):(Y.children||Y._loadedRoutes)&&U.push(this.processRoutes(Ee,Y.children??Y._loadedRoutes))}return(0,Re.D)(U).pipe((0,gr.J)())}preloadConfig(E,N){return this.preloadingStrategy.preload(N,()=>{let U;U=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(E,N):(0,ae.of)(null);const Y=U.pipe((0,Bn.z)(X=>null===X?(0,ae.of)(void 0):(N._loadedRoutes=X.routes,N._loadedInjector=X.injector,this.processRoutes(X.injector??E,X.routes))));if(N.loadComponent&&!N._loadedComponent){const X=this.loader.loadComponent(N);return(0,Re.D)([Y,X]).pipe((0,gr.J)())}return Y})}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(Hi),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(wi),f.LFG(Bs))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})(),Fo=(()=>{class I{constructor(E,N,U={}){this.router=E,this.viewportScroller=N,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Mr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof yr&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof je&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,N){this.router.triggerEvent(new je(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(E){f.$Z()},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();const bs=new f.OlP("ROUTER_CONFIGURATION"),Ta=new f.OlP("ROUTER_FORROOT_GUARD"),kt=[_.Ye,{provide:gt,useClass:Zt},{provide:Hi,useFactory:function Jt(I,w,E,N,U,Y,X={},Ee,yt,Rt,jt){const nn=new Hi(null,I,w,E,N,U,Ve(Y));return Rt&&(nn.urlHandlingStrategy=Rt),jt&&(nn.routeReuseStrategy=jt),nn.titleStrategy=yt??Ee,function ut(I,w){I.errorHandler&&(w.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(w.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(w.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(w.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(w.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(w.canceledNavigationResolution=I.canceledNavigationResolution)}(X,nn),nn},deps:[gt,ho,_.Ye,f.zs3,f.Sil,Ca,bs,da,[Ko,new f.FiY],[class Qi{},new f.FiY],[class ri{},new f.FiY]]},ho,{provide:Pr,useFactory:function Nt(I){return I.routerState.root},deps:[Hi]},ii,ha,class ka{preload(w,E){return E().pipe(Be(()=>(0,ae.of)(null)))}},{provide:bs,useValue:{enableTracing:!1}},Bs];function Qr(){return new f.PXZ("Router",Hi)}let Pi=(()=>{class I{constructor(E,N){}static forRoot(E,N){return{ngModule:I,providers:[kt,fa(E),{provide:Ta,useFactory:In,deps:[[Hi,new f.FiY,new f.tp0]]},{provide:bs,useValue:N||{}},{provide:_.S$,useFactory:dn,deps:[_.lw,[new f.tBr(_.mr),new f.FiY],bs]},{provide:Fo,useFactory:Lo,deps:[Hi,_.EM,bs]},{provide:wi,useExisting:N&&N.preloadingStrategy?N.preloadingStrategy:ha},{provide:f.PXZ,multi:!0,useFactory:Qr},[hi,{provide:f.ip1,multi:!0,useFactory:pa,deps:[hi]},{provide:cu,useFactory:lu,deps:[hi]},{provide:f.tb,multi:!0,useExisting:cu}]]}}static forChild(E){return{ngModule:I,providers:[fa(E)]}}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(Ta,8),f.LFG(Hi,8))},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({}),I})();function Lo(I,w,E){return E.scrollOffset&&w.setOffset(E.scrollOffset),new Fo(I,w,E)}function dn(I,w,E={}){return E.useHash?new _.Do(I,w):new _.b0(I,w)}function In(I){return"guarded"}function fa(I){return[{provide:f.deG,multi:!0,useValue:I},{provide:Ca,multi:!0,useValue:I}]}let hi=(()=>{class I{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $.x}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let N=null;const U=new Promise(Ee=>N=Ee),Y=this.injector.get(Hi),X=this.injector.get(bs);return"disabled"===X.initialNavigation?(Y.setUpLocationChangeListener(),N(!0)):"enabledBlocking"===X.initialNavigation?(Y.afterPreactivation=()=>this.initNavigation?(0,ae.of)(void 0):(this.initNavigation=!0,N(!0),this.resultOfPreactivationDone),Y.initialNavigation()):N(!0),U})}bootstrapListener(E){const N=this.injector.get(bs),U=this.injector.get(ii),Y=this.injector.get(Fo),X=this.injector.get(Hi),Ee=this.injector.get(f.z2F);E===Ee.components[0]&&(("enabledNonBlocking"===N.initialNavigation||void 0===N.initialNavigation)&&X.initialNavigation(),U.setUpPreloading(),Y.init(),X.resetRootComponentType(Ee.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(E){return new(E||I)(f.LFG(f.zs3))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})();function pa(I){return I.appInitializer.bind(I)}function lu(I){return I.bootstrapListener.bind(I)}const cu=new f.OlP("Router Initializer")},3942:(en,Ke,j)=>{j.d(Ke,{Z:()=>et});var _=j(2090),f=j(4859),$=j(9681),_e=j(1877);class fe{constructor(Je,Qe){this._delegate=Je,this.firebase=Qe,(0,$._addComponent)(Je,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Je,Qe=$._DEFAULT_ENTRY_NAME){var Wt;this._delegate.checkDestroyed();const Gt=this._delegate.container.getProvider(Je);return!Gt.isInitialized()&&"EXPLICIT"===(null===(Wt=Gt.getComponent())||void 0===Wt?void 0:Wt.instantiationMode)&&Gt.initialize(),Gt.getImmediate({identifier:Qe})}_removeServiceInstance(Je,Qe=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Qe)}_addComponent(Je){(0,$._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,$._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Ue(){const $t=function ke($t){const Je={},Qe={__esModule:!0,initializeApp:function de(ae,$e={}){const at=$.initializeApp(ae,$e);if((0,_.r3)(Je,at.name))return Je[at.name];const oe=new $t(at,Qe);return Je[at.name]=oe,oe},app:Gt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function ot(ae){const $e=ae.name,at=$e.replace("-compat","");if($._registerComponent(ae)&&"PUBLIC"===ae.type){const oe=(Be=Gt())=>{if("function"!=typeof Be[at])throw Re.create("invalid-app-argument",{appName:$e});return Be[at]()};void 0!==ae.serviceProps&&(0,_.ZB)(oe,ae.serviceProps),Qe[at]=oe,$t.prototype[at]=function(...Be){return this._getService.bind(this,$e).apply(this,ae.multipleInstances?Be:[])}}return"PUBLIC"===ae.type?Qe[at]:null},removeApp:function Wt(ae){delete Je[ae]},useAsService:function wt(ae,$e){return"serverAuth"===$e?null:$e},modularAPIs:$}};function Gt(ae){if(!(0,_.r3)(Je,ae=ae||$._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:ae});return Je[ae]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function ct(){return Object.keys(Je).map(ae=>Je[ae])}}),Gt.App=$t,Qe}(fe);return $t.INTERNAL=Object.assign(Object.assign({},$t.INTERNAL),{createFirebaseNamespace:Ue,extendNamespace:function Je(Qe){(0,_.ZB)($t,Qe)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),$t}(),te=new _e.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $t=self.firebase.SDK_VERSION;$t&&$t.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=le;!function Ye($t){(0,$.registerVersion)("@firebase/app-compat","0.1.28",$t)}()},9681:(en,Ke,j)=>{j.r(Ke),j.d(Ke,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>tr,_addOrOverwriteComponent:()=>En,_apps:()=>Wn,_clearComponents:()=>ar,_components:()=>Sn,_getProvider:()=>Fn,_registerComponent:()=>mn,_removeServiceInstance:()=>Bn,deleteApp:()=>rn,getApp:()=>_r,getApps:()=>ir,initializeApp:()=>yr,onLog:()=>Tn,registerVersion:()=>xn,setLogLevel:()=>kr});var _=j(5861),f=j(4859),$=j(1877),_e=j(2090),fe=j(8766);class Ae{constructor(se){this.container=se}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Re(Ve){return"VERSION"===Ve.getComponent()?.type}(ht)){const bt=ht.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(ht=>ht).join(" ")}}const ke="@firebase/app",le=new $.Yd("@firebase/app"),Rn="[DEFAULT]",Bt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wn=new Map,Sn=new Map;function tr(Ve,se){try{Ve.container.addComponent(se)}catch(ht){le.debug(`Component ${se.name} failed to register with FirebaseApp ${Ve.name}`,ht)}}function En(Ve,se){Ve.container.addOrOverwriteComponent(se)}function mn(Ve){const se=Ve.name;if(Sn.has(se))return le.debug(`There were multiple attempts to register component ${se}.`),!1;Sn.set(se,Ve);for(const ht of Wn.values())tr(ht,Ve);return!0}function Fn(Ve,se){const ht=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),Ve.container.getProvider(se)}function Bn(Ve,se,ht=Rn){Fn(Ve,se).clearInstance(ht)}function ar(){Sn.clear()}const mr=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class br{constructor(se,ht,bt){this._isDeleted=!1,this._options=Object.assign({},se),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this.checkDestroyed(),this._automaticDataCollectionEnabled=se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(se){this._isDeleted=se}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Mr="9.8.4";function yr(Ve,se={}){"object"!=typeof se&&(se={name:se});const ht=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},se),bt=ht.name;if("string"!=typeof bt||!bt)throw mr.create("bad-app-name",{appName:String(bt)});const Ot=Wn.get(bt);if(Ot){if((0,_e.vZ)(Ve,Ot.options)&&(0,_e.vZ)(ht,Ot.config))return Ot;throw mr.create("duplicate-app",{appName:bt})}const wn=new f.H0(bt);for(const Gn of Sn.values())wn.addComponent(Gn);const $n=new br(Ve,ht,wn);return Wn.set(bt,$n),$n}function _r(Ve=Rn){const se=Wn.get(Ve);if(!se)throw mr.create("no-app",{appName:Ve});return se}function ir(){return Array.from(Wn.values())}function rn(Ve){return sr.apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(Ve){const se=Ve.name;Wn.has(se)&&(Wn.delete(se),yield Promise.all(Ve.container.getProviders().map(ht=>ht.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function xn(Ve,se,ht){var bt;let Ot=null!==(bt=Bt[Ve])&&void 0!==bt?bt:Ve;ht&&(Ot+=`-${ht}`);const wn=Ot.match(/\s|\//),$n=se.match(/\s|\//);if(wn||$n){const Gn=[`Unable to register library "${Ot}" with version "${se}":`];return wn&&Gn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),wn&&$n&&Gn.push("and"),$n&&Gn.push(`version name "${se}" contains illegal characters (whitespace or "/")`),void le.warn(Gn.join(" "))}mn(new f.wA(`${Ot}-version`,()=>({library:Ot,version:se}),"VERSION"))}function Tn(Ve,se){if(null!==Ve&&"function"!=typeof Ve)throw mr.create("invalid-log-argument");(0,$.Am)(Ve,se)}function kr(Ve){(0,$.Ub)(Ve)}const dt="firebase-heartbeat-store";let De=null;function Pe(){return De||(De=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(Ve,se)=>{0===se&&Ve.createObjectStore(dt)}}).catch(Ve=>{throw mr.create("storage-open",{originalErrorMessage:Ve.message})})),De}function je(){return(je=(0,_.Z)(function*(Ve){var se;try{return(yield Pe()).transaction(dt).objectStore(dt).get(jn(Ve))}catch(ht){throw mr.create("storage-get",{originalErrorMessage:null===(se=ht)||void 0===se?void 0:se.message})}})).apply(this,arguments)}function vt(Ve,se){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,_.Z)(function*(Ve,se){var ht;try{const Ot=(yield Pe()).transaction(dt,"readwrite");return yield Ot.objectStore(dt).put(se,jn(Ve)),Ot.done}catch(bt){throw mr.create("storage-set",{originalErrorMessage:null===(ht=bt)||void 0===ht?void 0:ht.message})}})).apply(this,arguments)}function jn(Ve){return`${Ve.name}!${Ve.options.appId}`}class nr{constructor(se){this.container=se,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new ye(ht),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var se=this;return(0,_.Z)(function*(){const bt=se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Zn();if(null===se._heartbeatsCache&&(se._heartbeatsCache=yield se._heartbeatsCachePromise),se._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!se._heartbeatsCache.heartbeats.some(wn=>wn.date===Ot))return se._heartbeatsCache.heartbeats.push({date:Ot,agent:bt}),se._heartbeatsCache.heartbeats=se._heartbeatsCache.heartbeats.filter(wn=>{const $n=new Date(wn.date).valueOf();return Date.now()-$n<=2592e6}),se._storage.overwrite(se._heartbeatsCache)})()}getHeartbeatsHeader(){var se=this;return(0,_.Z)(function*(){if(null===se._heartbeatsCache&&(yield se._heartbeatsCachePromise),null===se._heartbeatsCache||0===se._heartbeatsCache.heartbeats.length)return"";const ht=Zn(),{heartbeatsToSend:bt,unsentEntries:Ot}=function Mn(Ve,se=1024){const ht=[];let bt=Ve.slice();for(const Ot of Ve){const wn=ht.find($n=>$n.agent===Ot.agent);if(wn){if(wn.dates.push(Ot.date),ie(ht)>se){wn.dates.pop();break}}else if(ht.push({agent:Ot.agent,dates:[Ot.date]}),ie(ht)>se){ht.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:bt}}(se._heartbeatsCache.heartbeats),wn=(0,_e.L)(JSON.stringify({version:2,heartbeats:bt}));return se._heartbeatsCache.lastSentHeartbeatDate=ht,Ot.length>0?(se._heartbeatsCache.heartbeats=Ot,yield se._storage.overwrite(se._heartbeatsCache)):(se._heartbeatsCache.heartbeats=[],se._storage.overwrite(se._heartbeatsCache)),wn})()}}function Zn(){return(new Date).toISOString().substring(0,10)}class ye{constructor(se){this.app=se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var se=this;return(0,_.Z)(function*(){return(yield se._canUseIndexedDBPromise)&&(yield function ft(Ve){return je.apply(this,arguments)}(se.app))||{heartbeats:[]}})()}overwrite(se){var ht=this;return(0,_.Z)(function*(){var bt;if(yield ht._canUseIndexedDBPromise){const wn=yield ht.read();return vt(ht.app,{lastSentHeartbeatDate:null!==(bt=se.lastSentHeartbeatDate)&&void 0!==bt?bt:wn.lastSentHeartbeatDate,heartbeats:se.heartbeats})}})()}add(se){var ht=this;return(0,_.Z)(function*(){var bt;if(yield ht._canUseIndexedDBPromise){const wn=yield ht.read();return vt(ht.app,{lastSentHeartbeatDate:null!==(bt=se.lastSentHeartbeatDate)&&void 0!==bt?bt:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...se.heartbeats]})}})()}}function ie(Ve){return(0,_e.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function Fe(Ve){mn(new f.wA("platform-logger",se=>new Ae(se),"PRIVATE")),mn(new f.wA("heartbeat",se=>new nr(se),"PRIVATE")),xn(ke,"0.7.27",Ve),xn(ke,"0.7.27","esm2017"),xn("fire-js","")}("")},4859:(en,Ke,j)=>{j.d(Ke,{H0:()=>ke,wA:()=>$});var _=j(5861),f=j(2090);class ${constructor(le,te,ve){this.name=le,this.instanceFactory=te,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const _e="[DEFAULT]";class fe{constructor(le,te){this.name=le,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const te=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(te)){const ve=new f.BH;if(this.instancesDeferred.set(te,ve),this.isInitialized(te)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:te});_t&&ve.resolve(_t)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(le){var te;const ve=this.normalizeInstanceIdentifier(le?.identifier),_t=null!==(te=le?.optional)&&void 0!==te&&te;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Ye){if(_t)return null;throw Ye}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Re(Ue){return"EAGER"===Ue.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[te,ve]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(te);try{const Ye=this.getOrInitializeService({instanceIdentifier:_t});ve.resolve(Ye)}catch{}}}}clearInstance(le=_e){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,_.Z)(function*(){const te=Array.from(le.instances.values());yield Promise.all([...te.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...te.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=_e){return this.instances.has(le)}getOptions(le=_e){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:te={}}=le,ve=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:ve,options:te});for(const[Ye,et]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Ye)&&et.resolve(_t);return _t}onInit(le,te){var ve;const _t=this.normalizeInstanceIdentifier(te),Ye=null!==(ve=this.onInitCallbacks.get(_t))&&void 0!==ve?ve:new Set;Ye.add(le),this.onInitCallbacks.set(_t,Ye);const et=this.instances.get(_t);return et&&le(et,_t),()=>{Ye.delete(le)}}invokeOnInitCallbacks(le,te){const ve=this.onInitCallbacks.get(te);if(ve)for(const _t of ve)try{_t(le,te)}catch{}}getOrInitializeService({instanceIdentifier:le,options:te={}}){let ve=this.instances.get(le);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=le,Ue===_e?void 0:Ue),options:te}),this.instances.set(le,ve),this.instancesOptions.set(le,te),this.invokeOnInitCallbacks(ve,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,ve)}catch{}var Ue;return ve||null}normalizeInstanceIdentifier(le=_e){return this.component?this.component.multipleInstances?le:_e:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const te=this.getProvider(le.name);if(te.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);te.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const te=new fe(le,this);return this.providers.set(le,te),te}getProviders(){return Array.from(this.providers.values())}}},1877:(en,Ke,j)=>{j.d(Ke,{Am:()=>Ue,Ub:()=>ke,Yd:()=>Re,in:()=>f});const _=[];var f=(()=>{return(le=f||(f={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",f;var le})();const $={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},_e=f.INFO,fe={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},Ae=(le,te,...ve)=>{if(te<le.logLevel)return;const _t=(new Date).toISOString(),Ye=fe[te];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Ye](`[${_t}]  ${le.name}:`,...ve)};class Re{constructor(te){this.name=te,this._logLevel=_e,this._logHandler=Ae,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in f))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?$[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...te),this._logHandler(this,f.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...te),this._logHandler(this,f.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,f.INFO,...te),this._logHandler(this,f.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,f.WARN,...te),this._logHandler(this,f.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...te),this._logHandler(this,f.ERROR,...te)}}function ke(le){_.forEach(te=>{te.setLogLevel(le)})}function Ue(le,te){for(const ve of _){let _t=null;te&&te.level&&(_t=$[te.level]),ve.userLogHandler=null===le?null:(Ye,et,...$t)=>{const Je=$t.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");et>=(_t??Ye.logLevel)&&le({level:f[et].toLowerCase(),message:Je,args:$t,type:Ye.name})}}}},8766:(en,Ke,j)=>{j.d(Ke,{Lj:()=>de,X3:()=>Gt});var _=j(5861);let $,_e;const Re=new WeakMap,ke=new WeakMap,Ue=new WeakMap,le=new WeakMap,te=new WeakMap;let Ye={get($e,at,oe){if($e instanceof IDBTransaction){if("done"===at)return ke.get($e);if("objectStoreNames"===at)return $e.objectStoreNames||Ue.get($e);if("store"===at)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return Qe($e[at])},set:($e,at,oe)=>($e[at]=oe,!0),has:($e,at)=>$e instanceof IDBTransaction&&("done"===at||"store"===at)||at in $e};function Je($e){return"function"==typeof $e?function $t($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...at){return $e.apply(Wt(this),at),Qe(Re.get(this))}:function(...at){return Qe($e.apply(Wt(this),at))}:function(at,...oe){const Be=$e.call(Wt(this),at,...oe);return Ue.set(Be,at.sort?at.sort():[at]),Qe(Be)}}($e):($e instanceof IDBTransaction&&function _t($e){if(ke.has($e))return;const at=new Promise((oe,Be)=>{const Te=()=>{$e.removeEventListener("complete",Xe),$e.removeEventListener("error",Ge),$e.removeEventListener("abort",Ge)},Xe=()=>{oe(),Te()},Ge=()=>{Be($e.error||new DOMException("AbortError","AbortError")),Te()};$e.addEventListener("complete",Xe),$e.addEventListener("error",Ge),$e.addEventListener("abort",Ge)});ke.set($e,at)}($e),(($e,at)=>at.some(oe=>$e instanceof oe))($e,function fe(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,Ye):$e)}function Qe($e){if($e instanceof IDBRequest)return function ve($e){const at=new Promise((oe,Be)=>{const Te=()=>{$e.removeEventListener("success",Xe),$e.removeEventListener("error",Ge)},Xe=()=>{oe(Qe($e.result)),Te()},Ge=()=>{Be($e.error),Te()};$e.addEventListener("success",Xe),$e.addEventListener("error",Ge)});return at.then(oe=>{oe instanceof IDBCursor&&Re.set(oe,$e)}).catch(()=>{}),te.set(at,$e),at}($e);if(le.has($e))return le.get($e);const at=Je($e);return at!==$e&&(le.set($e,at),te.set(at,$e)),at}const Wt=$e=>te.get($e);function Gt($e,at,{blocked:oe,upgrade:Be,blocking:Te,terminated:Xe}={}){const Ge=indexedDB.open($e,at),Mt=Qe(Ge);return Be&&Ge.addEventListener("upgradeneeded",on=>{Be(Qe(Ge.result),on.oldVersion,on.newVersion,Qe(Ge.transaction))}),oe&&Ge.addEventListener("blocked",()=>oe()),Mt.then(on=>{Xe&&on.addEventListener("close",()=>Xe()),Te&&on.addEventListener("versionchange",()=>Te())}).catch(()=>{}),Mt}function de($e,{blocked:at}={}){const oe=indexedDB.deleteDatabase($e);return at&&oe.addEventListener("blocked",()=>at()),Qe(oe).then(()=>{})}const ct=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],wt=new Map;function ae($e,at){if(!($e instanceof IDBDatabase)||at in $e||"string"!=typeof at)return;if(wt.get(at))return wt.get(at);const oe=at.replace(/FromIndex$/,""),Be=at!==oe,Te=ot.includes(oe);if(!(oe in(Be?IDBIndex:IDBObjectStore).prototype)||!Te&&!ct.includes(oe))return;const Xe=function(){var Ge=(0,_.Z)(function*(Mt,...on){const sn=this.transaction(Mt,Te?"readwrite":"readonly");let Rn=sn.store;return Be&&(Rn=Rn.index(on.shift())),(yield Promise.all([Rn[oe](...on),Te&&sn.done]))[0]});return function(on){return Ge.apply(this,arguments)}}();return wt.set(at,Xe),Xe}!function et($e){Ye=$e(Ye)}($e=>({...$e,get:(at,oe,Be)=>ae(at,oe)||$e.get(at,oe,Be),has:(at,oe)=>!!ae(at,oe)||$e.has(at,oe)}))},8768:(en,Ke,j)=>{j.d(Ke,{V:()=>Re,XF:()=>ke,s:()=>Ae});var _=j(4650),f=j(7579),$=j(6895);function _e(Ue,le){if(1&Ue){const te=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){_.CHM(te);const _t=_.oxw();return _.KtG(_t.closeToast())}),_._uU(1,"\xd7"),_.qZA()}}const fe=function(Ue,le,te,ve){return{"fa-times-circle":Ue,"fa-check-circle":le,"fa-exclamation-circle":te,"fa-info-circle":ve}};let Ae=(()=>{class Ue{constructor(){this.toastDetails$=new f.x}success(te){this.toastDetails$.next({type:"success",detail:te.detail,position:te.position,summary:te.summary,duration:te.duration,sticky:te.sticky})}error(te){this.toastDetails$.next({type:"error",detail:te.detail,position:te.position,summary:te.summary,duration:te.duration,sticky:te.sticky})}info(te){this.toastDetails$.next({type:"info",detail:te.detail,position:te.position,summary:te.summary,duration:te.duration,sticky:te.sticky})}warning(te){this.toastDetails$.next({type:"warning",detail:te.detail,summary:te.summary,position:te.position,duration:te.duration,sticky:te.sticky})}}return Ue.\u0275fac=function(te){return new(te||Ue)},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),Re=(()=>{class Ue{constructor(te){this.toastService=te,this.show=!1}ngOnInit(){this.toastService.toastDetails$.subscribe(te=>{this.show=!0,clearTimeout(this.timeoutRef),this.toastDetails=te,this.toastDetails.duration&&(this.timeoutRef=setTimeout(()=>{this.show=!1},this.toastDetails.duration)),this.toastDetails.sticky&&(clearTimeout(this.timeoutRef),this.show=!0),!this.toastDetails.duration&&!this.toastDetails.sticky&&(this.timeoutRef=setTimeout(()=>{this.show=!1},5e3))})}closeToast(){clearTimeout(this.timeoutRef),this.show=!1}loadPosition(){let te="";if(void 0!==this.toastDetails?.position)switch(this.toastDetails.position){case"tr":default:te="toast-right-top";break;case"tl":te="toast-left-top";break;case"br":te="toast-right-bottom";break;case"bl":te="toast-left-bottom"}else te="toast-right-top";if(void 0!==this.toastDetails?.type)switch(this.toastDetails.type){case"success":te+=" success";break;case"error":te+=" error";break;case"info":te+=" info";break;case"warning":te+=" warning";break;default:te="toast-right-top"}return te}}return Ue.\u0275fac=function(te){return new(te||Ue)(_.Y36(Ae))},Ue.\u0275cmp=_.Xpm({type:Ue,selectors:[["lib-ng-toast"]],decls:9,vars:12,consts:[[3,"ngClass"],[1,"container-1"],[1,"fa",3,"ngClass"],[1,"container-2"],["id","close",3,"click",4,"ngIf"],["id","close",3,"click"]],template:function(te,ve){1&te&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"i",2),_.qZA(),_.TgZ(3,"div",3)(4,"p"),_._uU(5),_.qZA(),_.TgZ(6,"p"),_._uU(7),_.qZA()(),_.YNc(8,_e,2,0,"button",4),_.qZA()),2&te&&(_.ekj("active",ve.show),_.Q6J("ngClass",ve.loadPosition()),_.xp6(2),_.Q6J("ngClass",_.l5B(7,fe,"error"===(null==ve.toastDetails?null:ve.toastDetails.type),"success"===(null==ve.toastDetails?null:ve.toastDetails.type),"warning"===(null==ve.toastDetails?null:ve.toastDetails.type),"info"===(null==ve.toastDetails?null:ve.toastDetails.type))),_.xp6(3),_.Oqu(null==ve.toastDetails?null:ve.toastDetails.detail),_.xp6(2),_.Oqu(null==ve.toastDetails?null:ve.toastDetails.summary),_.xp6(1),_.Q6J("ngIf",ve.show))},dependencies:[$.mk,$.O5],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;border:none}.show-toast[_ngcontent-%COMP%]{margin:10px;background-color:#101020;color:#fff;padding:20px;border-radius:5px;cursor:pointer}.toast-right-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;top:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-right-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;bottom:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;top:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;bottom:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.container-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}.fa-times-circle[_ngcontent-%COMP%]{color:#ff355b}.fa-check-circle[_ngcontent-%COMP%]{color:#47d764}.fa-exclamation-circle[_ngcontent-%COMP%]{color:#ffc021}.fa-info-circle[_ngcontent-%COMP%]{color:#2f86eb}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#101020;font-weight:600;font-size:16px;font-family:roboto,sans-serif}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:14px;color:#656565;font-weight:400;font-family:roboto,sans-serif}#close[_ngcontent-%COMP%]{align-self:flex-start;background-color:transparent;font-size:25px;line-height:0;color:#656565;cursor:pointer}"]}),Ue})(),ke=(()=>{class Ue{}return Ue.\u0275fac=function(te){return new(te||Ue)},Ue.\u0275mod=_.oAB({type:Ue}),Ue.\u0275inj=_.cJS({imports:[[$.ez]]}),Ue})()},5861:(en,Ke,j)=>{function _($,_e,fe,Ae,Re,ke,Ue){try{var le=$[ke](Ue),te=le.value}catch(ve){return void fe(ve)}le.done?_e(te):Promise.resolve(te).then(Ae,Re)}function f($){return function(){var _e=this,fe=arguments;return new Promise(function(Ae,Re){var ke=$.apply(_e,fe);function Ue(te){_(ke,Ae,Re,Ue,le,"next",te)}function le(te){_(ke,Ae,Re,Ue,le,"throw",te)}Ue(void 0)})}}j.d(Ke,{Z:()=>f})}},en=>{en(en.s=3875)}]);