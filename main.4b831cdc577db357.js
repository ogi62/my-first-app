"use strict";(self.webpackChunkmy_first_app=self.webpackChunkmy_first_app||[]).push([[179],{7128:(Gt,ze,j)=>{j.d(ze,{nm:()=>rr});var m=j(5813),Ee=(j(4650),j(3692),j(5867),j(5861)),De=j(9681),ke=j(4859),Pe=j(2090),xe=j(1877);const de=new Map,ne={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function ht(Ne){return de.get(Ne)||ne}function Qe(Ne,Ce){de.set(Ne,Ce)}function Je(){return ye}class ot{constructor(Ce,Ve,ut,wt,zt){if(this.operation=Ce,this.retryPolicy=Ve,this.getWaitDuration=ut,this.lowerBound=wt,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=wt,wt>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ce){var Ve=this;return(0,Ee.Z)(function*(){Ve.stop();try{Ve.pending=new Pe.BH,yield function Xe(Ne){return new Promise(Ce=>{setTimeout(Ce,Ne)})}(Ve.getNextRun(Ce)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new Pe.BH,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(ut){Ve.retryPolicy(ut)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(Ce){if(Ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const oe=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function st(Ne){if(!ht(Ne).activated)throw oe.create("use-before-activation",{appName:Ne.name})}function be(Ne,Ce){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Ee.Z)(function*({url:Ne,body:Ce},Ve){var ut,wt;const zt={"Content-Type":"application/json"},Zn=Ve.getImmediate({optional:!0});if(Zn){const gs=yield Zn.getHeartbeatsHeader();gs&&(zt["X-Firebase-Client"]=gs)}const Rr={method:"POST",body:JSON.stringify(Ce),headers:zt};let Tn,Ni;try{Tn=yield fetch(Ne,Rr)}catch(gs){throw oe.create("fetch-network-error",{originalErrorMessage:null===(ut=gs)||void 0===ut?void 0:ut.message})}if(200!==Tn.status)throw oe.create("fetch-status-error",{httpStatus:Tn.status});try{Ni=yield Tn.json()}catch(gs){throw oe.create("fetch-parse-error",{originalErrorMessage:null===(wt=gs)||void 0===wt?void 0:wt.message})}const ps=Ni.ttl.match(/^([\d.]+)(s)$/);if(!ps||!ps[2]||isNaN(Number(ps[1])))throw oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ni.ttl}`});const ks=1e3*Number(ps[1]),Ri=Date.now();return{token:Ni.token,expireTimeMillis:Ri+ks,issuedAtTimeMillis:Ri}})).apply(this,arguments)}function sn(Ne,Ce){const{projectId:Ve,appId:ut,apiKey:wt}=Ne.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ve}/apps/${ut}:exchangeDebugToken?key=${wt}`,body:{debug_token:Ce}}}const Nt="firebase-app-check-store";let In=null;function Jn(){return In||(In=new Promise((Ne,Ce)=>{var Ve;try{const ut=indexedDB.open("firebase-app-check-database",1);ut.onsuccess=wt=>{Ne(wt.target.result)},ut.onerror=wt=>{var zt;Ce(oe.create("storage-open",{originalErrorMessage:null===(zt=wt.target.error)||void 0===zt?void 0:zt.message}))},ut.onupgradeneeded=wt=>{0===wt.oldVersion&&wt.target.result.createObjectStore(Nt,{keyPath:"compositeKey"})}}catch(ut){Ce(oe.create("storage-open",{originalErrorMessage:null===(Ve=ut)||void 0===Ve?void 0:Ve.message}))}}),In)}function _r(){return(_r=(0,Ee.Z)(function*(Ne,Ce){const ut=(yield Jn()).transaction(Nt,"readwrite"),zt=ut.objectStore(Nt).put({compositeKey:Ne,value:Ce});return new Promise((Zn,Rr)=>{zt.onsuccess=Tn=>{Zn()},ut.onerror=Tn=>{var Ni;Rr(oe.create("storage-set",{originalErrorMessage:null===(Ni=Tn.target.error)||void 0===Ni?void 0:Ni.message}))}})})).apply(this,arguments)}const Dr=new xe.Yd("@firebase/app-check");function Qt(Ne,Ce){return(0,Pe.hl)()?function dn(Ne,Ce){return function ar(Ne,Ce){return _r.apply(this,arguments)}(function Qr(Ne){return`${Ne.options.appId}-${Ne.name}`}(Ne),Ce)}(Ne,Ce).catch(Ve=>{Dr.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function Dn(){return Je().enabled}function Gr(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,Ee.Z)(function*(){const Ne=Je();if(Ne.enabled&&Ne.token)return Ne.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Er={error:"UNKNOWN_ERROR"};function Vr(Ne){return Pe.US.encodeString(JSON.stringify(Ne),!1)}function vi(Ne){return xn.apply(this,arguments)}function xn(){return(xn=(0,Ee.Z)(function*(Ne,Ce=!1){const Ve=Ne.app;st(Ve);const ut=ht(Ve);let zt,wt=ut.token;if(!wt){const Tn=yield ut.cachedTokenPromise;Tn&&Wr(Tn)&&(wt=Tn)}if(!Ce&&wt&&Wr(wt))return{token:wt.token};let Rr,Zn=!1;if(Dn()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=be(sn(Ve,yield Gr()),Ne.heartbeatServiceProvider).then(Ni=>(ut.exchangeTokenPromise=void 0,Ni)),Zn=!0);const Tn=yield ut.exchangeTokenPromise;return yield Qt(Ve,Tn),Qe(Ve,Object.assign(Object.assign({},ut),{token:Tn})),{token:Tn.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().then(Tn=>(ut.exchangeTokenPromise=void 0,Tn)),Zn=!0),wt=yield ut.exchangeTokenPromise}catch(Tn){"appCheck/throttled"===Tn.code?Dr.warn(Tn.message):Dr.error(Tn),zt=Tn}return wt?(Rr={token:wt.token},Qe(Ve,Object.assign(Object.assign({},ut),{token:wt})),yield Qt(Ve,wt)):Rr=gr(zt),Zn&&on(Ve,Rr),Rr})).apply(this,arguments)}function qt(Ne,Ce){const Ve=ht(Ne),ut=Ve.tokenObservers.filter(wt=>wt.next!==Ce);0===ut.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Qe(Ne,Object.assign(Object.assign({},Ve),{tokenObservers:ut}))}function hn(Ne){const{app:Ce}=Ne,Ve=ht(Ce);let ut=Ve.tokenRefresher;ut||(ut=function zr(Ne){const{app:Ce}=Ne;return new ot((0,Ee.Z)(function*(){let ut;if(ut=ht(Ce).token?yield vi(Ne,!0):yield vi(Ne),ut.error)throw ut.error}),()=>!0,()=>{const Ve=ht(Ce);if(Ve.token){let ut=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,Ve.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},3e4,96e4)}(Ne),Qe(Ce,Object.assign(Object.assign({},Ve),{tokenRefresher:ut}))),!ut.isRunning()&&Ve.isTokenAutoRefreshEnabled&&ut.start()}function on(Ne,Ce){const Ve=ht(Ne).tokenObservers;for(const ut of Ve)try{"EXTERNAL"===ut.type&&null!=Ce.error?ut.error(Ce.error):ut.next(Ce)}catch{}}function Wr(Ne){return Ne.expireTimeMillis-Date.now()>0}function gr(Ne){return{token:Vr(Er),error:Ne}}class lr{constructor(Ce,Ve){this.app=Ce,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:Ce}=ht(this.app);for(const Ve of Ce)qt(this.app,Ve.next);return Promise.resolve()}}const Rn="app-check-internal";!function tr(){(0,De._registerComponent)(new ke.wA("app-check",Ne=>function Kn(Ne,Ce){return new lr(Ne,Ce)}(Ne.getProvider("app").getImmediate(),Ne.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ne,Ce,Ve)=>{Ne.getProvider(Rn).initialize()})),(0,De._registerComponent)(new ke.wA(Rn,Ne=>function Ae(Ne){return{getToken:Ce=>vi(Ne,Ce),addTokenListener:Ce=>function Ot(Ne,Ce,Ve,ut){const{app:wt}=Ne,zt=ht(wt),Zn={next:Ve,error:ut,type:Ce};if(Qe(wt,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,Zn]})),zt.token&&Wr(zt.token)){const Rr=zt.token;Promise.resolve().then(()=>{Ve({token:Rr.token}),hn(Ne)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>hn(Ne))}(Ne,"INTERNAL",Ce),removeTokenListener:Ce=>qt(Ne.app,Ce)}}(Ne.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)("@firebase/app-check","0.5.10")}();class rr{constructor(){return(0,m.vb)("app-check")}}typeof window<"u"&&window},3692:(Gt,ze,j)=>{j.d(ze,{Ot:()=>he,ZF:()=>nt,hX:()=>ht,z6:()=>Ee});var m=j(5867),v=j(4650),H=j(5813);class he{constructor(ot){return ot}}class Ee{constructor(){return(0,m.C6)()}}const Pe=new v.OlP("angularfire2._apps"),xe={provide:he,useFactory:function ke(ce){return ce&&1===ce.length?ce[0]:new he((0,m.Mq)())},deps:[[new v.FiY,Pe]]},de={provide:Ee,deps:[[new v.FiY,Pe]]};function ne(ce){return(ot,Xe)=>{const Et=ot.runOutsideAngular(()=>ce(Xe));return new he(Et)}}let ye=(()=>{class ce{constructor(Xe){(0,m.KN)("angularfire",H.q4.full,"core"),(0,m.KN)("angularfire",H.q4.full,"app"),(0,m.KN)("angular",v.q4F.full,Xe.toString())}}return ce.\u0275fac=function(Xe){return new(Xe||ce)(v.LFG(v.Lbi))},ce.\u0275mod=v.oAB({type:ce}),ce.\u0275inj=v.cJS({providers:[xe,de]}),ce})();function ht(ce,...ot){return{ngModule:ye,providers:[{provide:Pe,useFactory:ne(ce),multi:!0,deps:[v.R0b,v.zs3,H.HU,...ot]}]}}const nt=(0,H.u3)(m.ZF,!0)},9541:(Gt,ze,j)=>{j.d(ze,{ST:()=>ug,yb:()=>Fy});var m=j(4650),v=j(4986),H=j(9751),he=j(8996),Ee=j(9646),De=j(5813),ke=j(4482),Pe=j(5403);function xe(){return(0,ke.e)((i,e)=>{let t,o=!1;i.subscribe((0,Pe.x)(e,u=>{const c=t;t=u,o&&e.next([c,u]),o=!0}))})}var de=j(4671);function ye(i,e){return i===e}var ie,ht=j(8675),Qe=j(4004),Je=j(5026),Ft=j(9300),nt=j(2011),We=j(6895),Lt=(j(5881),j(3942)),ce=j(5861),ot=j(9681),Xe=j(4859),Et=j(1877),oe=j(2090),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st={},Le=Le||{},be=qe||self;function Ze(){}function $e(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Dt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var nn="closure_uid_"+(1e9*Math.random()>>>0),Pn=0;function Nt(i,e,t){return i.call.apply(i.bind,arguments)}function Hn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function In(i,e,t){return(In=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nt:Hn).apply(null,arguments)}function Jn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function gn(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,c){for(var g=Array(arguments.length-2),C=2;C<arguments.length;C++)g[C-2]=arguments[C];return e.prototype[u].apply(o,g)}}function dn(){this.s=this.s,this.o=this.o}var Vn={};dn.prototype.s=!1,dn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function sn(i){return Object.prototype.hasOwnProperty.call(i,nn)&&i[nn]||(i[nn]=++Pn)}(this);delete Vn[i]}},dn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ar=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},_r=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let c=0;c<o;c++)c in u&&e.call(t,u[c],c,i)};function Nr(i){return Array.prototype.concat.apply([],arguments)}function Qr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Dr(i){return/^[\s\xa0]*$/.test(i)}var nr,vr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ur(i,e){return-1!=i.indexOf(e)}function Qt(i,e){return i<e?-1:i>e?1:0}e:{var Cn=be.navigator;if(Cn){var Dn=Cn.userAgent;if(Dn){nr=Dn;break e}}nr=""}function Gr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Jr(i){const e={};for(const t in i)e[t]=i[t];return e}var _i="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Er(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let c=0;c<_i.length;c++)t=_i[c],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Vr(i){return Vr[" "](i),i}Vr[" "]=Ze;var gr,i,xn=ur(nr,"Opera"),Ot=ur(nr,"Trident")||ur(nr,"MSIE"),qt=ur(nr,"Edge"),hn=qt||Ot,zr=ur(nr,"Gecko")&&!(ur(nr.toLowerCase(),"webkit")&&!ur(nr,"Edge"))&&!(ur(nr,"Trident")||ur(nr,"MSIE"))&&!ur(nr,"Edge"),on=ur(nr.toLowerCase(),"webkit")&&!ur(nr,"Edge");function Wr(){var i=be.document;return i?i.documentMode:void 0}e:{var lr="",Kn=(i=nr,zr?/rv:([^\);]+)(\)|;)/.exec(i):qt?/Edge\/([\d\.]+)/.exec(i):Ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):on?/WebKit\/(\S+)/.exec(i):xn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Kn&&(lr=Kn?Kn[1]:""),Ot){var Ae=Wr();if(null!=Ae&&Ae>parseFloat(lr)){gr=String(Ae);break e}}gr=lr}var le={};var at=be.document&&Ot&&(Wr()||parseInt(gr,10))||void 0,vt=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{be.addEventListener("test",Ze,e),be.removeEventListener("test",Ze,e)}catch{}return i}();function Mt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function mn(i,e){if(Mt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(zr){e:{try{Vr(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Fn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&mn.Z.h.call(this)}}Mt.prototype.h=function(){this.defaultPrevented=!0},gn(mn,Mt);var Fn={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function Ue(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++Nn,this.ca=this.fa=!1}function fe(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function pe(i){this.src=i,this.g={},this.h=0}function it(i,e){var t=e.type;if(t in i.g){var c,o=i.g[t],u=ar(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(fe(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Tt(i,e,t,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==o)return u}return-1}pe.prototype.add=function(i,e,t,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var g=Tt(i,e,o,u);return-1<g?(e=i[g],t||(e.fa=!1)):((e=new Ue(e,this.src,c,!!o,u)).fa=t,i.push(e)),e};var Jt="closure_lm_"+(1e6*Math.random()|0),ct={};function gt(i,e,t,o,u){if(o&&o.once)return se(i,e,t,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)gt(i,e[c],t,o,u);return null}return t=cr(t),i&&i[Un]?i.N(e,t,Dt(o)?!!o.capture:!!o,u):Te(i,e,t,!1,o,u)}function Te(i,e,t,o,u,c){if(!e)throw Error("Invalid event type");var g=Dt(u)?!!u.capture:!!u,C=tr(i);if(C||(i[Jt]=C=new pe(i)),(t=C.add(e,t,o,g,c)).proxy)return t;if(o=function me(){var e=Rn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)vt||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ut(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function se(i,e,t,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)se(i,e[c],t,o,u);return null}return t=cr(t),i&&i[Un]?i.O(e,t,Dt(o)?!!o.capture:!!o,u):Te(i,e,t,!0,o,u)}function Me(i,e,t,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)Me(i,e[c],t,o,u);else o=Dt(o)?!!o.capture:!!o,t=cr(t),i&&i[Un]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Tt(c=i.g[e],t,o,u))&&(fe(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=tr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Tt(e,t,o,u)),(t=-1<i?e[i]:null)&&dt(t))}function dt(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Un])it(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Ut(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=tr(e))?(it(t,i),0==t.h&&(t.src=null,e[Jt]=null)):fe(i)}}}function Ut(i){return i in ct?ct[i]:ct[i]="on"+i}function Rn(i,e){if(i.ca)i=!0;else{e=new mn(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&dt(i),i=t.call(o,e)}return i}function tr(i){return(i=i[Jt])instanceof pe?i:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function cr(i){return"function"==typeof i?i:(i[tn]||(i[tn]=function(e){return i.handleEvent(e)}),i[tn])}function rr(){dn.call(this),this.i=new pe(this),this.P=this,this.I=null}function qr(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Mt(e,i);else if(e instanceof Mt)e.target=e.target||i;else{var u=e;Er(e=new Mt(o,i),u)}if(u=!0,t)for(var c=t.length-1;0<=c;c--){var g=e.g=t[c];u=hi(g,o,!0,e)&&u}if(u=hi(g=e.g=i,o,!0,e)&&u,u=hi(g,o,!1,e)&&u,t)for(c=0;c<t.length;c++)u=hi(g=e.g=t[c],o,!1,e)&&u}function hi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var g=e[c];if(g&&!g.ca&&g.capture==t){var C=g.listener,V=g.ia||g.src;g.fa&&it(i.i,g),u=!1!==C.call(V,o)&&u}}return u&&!o.defaultPrevented}gn(rr,dn),rr.prototype[Un]=!0,rr.prototype.removeEventListener=function(i,e,t,o){Me(this,i,e,t,o)},rr.prototype.M=function(){if(rr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)fe(t[o]);delete i.g[e],i.h--}}this.I=null},rr.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},rr.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var wr=be.JSON.stringify;function fs(){var i=qs;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Do,Kr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Pi,i=>i.reset());class Pi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ei(i){be.setTimeout(()=>{throw i},0)}function sr(i,e){Do||function bo(){var i=be.Promise.resolve(void 0);Do=function(){i.then(Xi)}}(),Is||(Do(),Is=!0),qs.add(i,e)}var Is=!1,qs=new class Wi{constructor(){this.h=this.g=null}add(e,t){const o=Kr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Xi(){for(var i;i=fs();){try{i.h.call(i.g)}catch(t){Ei(t)}var e=Kr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Is=!1}function is(i,e){rr.call(this),this.h=i||1,this.g=e||be,this.j=In(this.kb,this),this.l=Date.now()}function Ne(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ce(i,e,t){if("function"==typeof i)t&&(i=In(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=In(i.handleEvent,i)}return 2147483647<Number(e)?-1:be.setTimeout(i,e||0)}function Ve(i){i.g=Ce(()=>{i.g=null,i.i&&(i.i=!1,Ve(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gn(is,rr),(ie=is.prototype).da=!1,ie.S=null,ie.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qr(this,"tick"),this.da&&(Ne(this),this.start()))}},ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.M=function(){is.Z.M.call(this),Ne(this),delete this.g};class ut extends dn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ve(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(i){dn.call(this),this.h=i,this.g={}}gn(wt,dn);var zt=[];function Zn(i,e,t,o){Array.isArray(t)||(t&&(zt[0]=t.toString()),t=zt);for(var u=0;u<t.length;u++){var c=gt(e,t[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Rr(i){Gr(i.g,function(e,t){this.g.hasOwnProperty(t)&&dt(e)},i),i.g={}}function Tn(){this.g=!0}function ks(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gs(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var g=1;g<u.length;g++)u[g]=""}}}return wr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}wt.prototype.M=function(){wt.Z.M.call(this),Rr(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tn.prototype.Aa=function(){this.g=!1},Tn.prototype.info=function(){};var Vi={},Oi=null;function Vo(){return Oi=Oi||new rr}function Ai(i){Mt.call(this,Vi.Ma,i)}function Co(i){const e=Vo();qr(e,new Ai(e,i))}function ea(i,e){Mt.call(this,Vi.STAT_EVENT,i),this.stat=e}function Ui(i){const e=Vo();qr(e,new ea(e,i))}function Ds(i,e){Mt.call(this,Vi.Na,i),this.size=e}function qi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){i()},e)}Vi.Ma="serverreachability",gn(Ai,Mt),Vi.STAT_EVENT="statevent",gn(ea,Mt),Vi.Na="timingevent",gn(Ds,Mt);var To={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Da={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ba(){}function ki(){}ba.prototype.h=null;var Uo,bs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function So(){Mt.call(this,"d")}function Ks(){Mt.call(this,"c")}function wi(){}function Ii(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new wt(this),this.P=Cs,this.W=new is(i=hn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ss}function ss(){this.i=null,this.g="",this.h=!1}gn(So,Mt),gn(Ks,Mt),gn(wi,ba),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Uo=new wi;var Cs=45e3,Bo={},ms={};function Zs(i,e,t){i.K=1,i.v=yt(O(e)),i.s=t,i.U=!0,Ys(i,null)}function Ys(i,e){i.F=Date.now(),Sr(i),i.A=O(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),eo(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ss,i.g=Tu(i.l,t?e:null,!i.s),0<i.O&&(i.L=new ut(In(i.Ia,i,i.g),i.O)),Zn(i.V,i.g,"readystatechange",i.gb),e=i.H?Jr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Co(1),function Ni(i,e,t,o,u,c){i.info(function(){if(i.g)if(c)for(var g="",C=c.split("&"),V=0;V<C.length;V++){var G=C[V].split("=");if(1<G.length){var ee=G[0];G=G[1];var ve=ee.split("_");g=2<=ve.length&&"type"==ve[1]?g+(ee+"=")+G+"&":g+(ee+"=redacted&")}}else g=null;else g=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ys(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ta(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=_s(i,t),u==ms){4==e&&(i.o=4,Ui(14),o=!1),ks(i.j,i.m,null,"[Incomplete Response]");break}if(u==Bo){i.o=4,Ui(15),ks(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}ks(i.j,i.m,u,null),La(i,u)}ys(i)&&u!=ms&&u!=Bo&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ui(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mi(e),e.L=!0,Ui(11))):(ks(i.j,i.m,t,"[Invalid Chunked Response]"),Ts(i),Si(i))}function _s(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ms:(t=Number(e.substring(t,o)),isNaN(t)?Bo:(o+=1)+t>e.length?ms:(e=e.substr(o,t),i.C=o+t,e))}function Sr(i){i.Y=Date.now()+i.P,Fs(i,i.P)}function Fs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qi(In(i.eb,i),e)}function Qs(i){i.B&&(be.clearTimeout(i.B),i.B=null)}function Si(i){0==i.l.G||i.I||Go(i.l,i)}function Ts(i){Qs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ne(i.W),Rr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function La(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||L(t.i,i)))if(t.I=i.N,!i.J&&L(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;so(t),Sa(t)}io(t),Ui(18)}}else t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=qi(In(t.ab,t),6e3));if(1>=$o(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else po(t,11)}else if((i.J||t.g==i)&&so(t),!Dr(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let G=u[e];if(t.U=G[0],G=G[1],2==t.G)if("c"==G[0]){t.J=G[1],t.la=G[2];const ee=G[3];null!=ee&&(t.ma=ee,t.h.info("VER="+t.ma));const ve=G[4];null!=ve&&(t.za=ve,t.h.info("SVER="+t.za));const Ye=G[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(t.K=o=1.5*Ye,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const pt=i.g;if(pt){const xt=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xt){var c=o.i;!c.g&&(ur(xt,"spdy")||ur(xt,"quic")||ur(xt,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(R(c,c.h),c.h=null))}if(o.D){const Xt=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xt&&(o.sa=Xt,Be(o.F,o.D,Xt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var g=i;if((o=t).oa=oa(o,o.H?o.la:null,o.W),g.J){x(o.i,g);var C=g,V=o.K;V&&C.setTimeout(V),C.B&&(Qs(C),Sr(C)),o.g=g}else ro(o);0<t.l.length&&Cu(t)}else"stop"!=G[0]&&"close"!=G[0]||po(t,7);else 3==t.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?po(t,7):Ur(t):"noop"!=G[0]&&t.j&&t.j.wa(G),t.A=0)}Co(4)}catch{}}function Xs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if($e(i)||"string"==typeof i)_r(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if($e(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function Js(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if($e(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var c=0;c<u;c++)e.call(void 0,o[c],t&&t[c],i)}}function As(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof As)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function jo(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Wn(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)Wn(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function Wn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ie=Ii.prototype).setTimeout=function(i){this.P=i},ie.gb=function(i){i=i.target;const e=this.L;e&&3==Fi(i)?e.l():this.Ia(i)},ie.Ia=function(i){try{if(i==this.g)e:{const ee=Fi(this.g);var e=this.g.Da();const ve=this.g.ba();if(!(3>ee)&&(3!=ee||hn||this.g&&(this.h.h||this.g.ga()||Ps(this.g)))){this.I||4!=ee||7==e||Co(8==e||0>=ve?3:2),Qs(this);var t=this.g.ba();this.N=t;t:if(ys(this)){var o=Ps(this.g);i="";var u=o.length,c=4==Fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),Si(this);var g="";break t}this.h.i=new be.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==t,function ps(i,e,t,o,u,c,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+c+" "+g})}(this.j,this.u,this.A,this.m,this.X,ee,t),this.i){if(this.$&&!this.J){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dr(C)){var G=C;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,Ui(12),Ts(this),Si(this);break e}ks(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,La(this,t)}this.U?(ta(this,ee,g),hn&&this.i&&3==ee&&(Zn(this.V,this.W,"tick",this.fb),this.W.start())):(ks(this.j,this.m,g,null),La(this,g)),4==ee&&Ts(this),this.i&&!this.I&&(4==ee?Go(this.l,this):(this.i=!1,Sr(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Ui(12)):(this.o=0,Ui(13)),Ts(this),Si(this)}}}catch{}},ie.fb=function(){if(this.g){var i=Fi(this.g),e=this.g.ga();this.C<e.length&&(Qs(this),ta(this,i,e),this.i&&4!=i&&Sr(this))}},ie.cancel=function(){this.I=!0,Ts(this)},ie.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ri(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Co(3),Ui(17)),Ts(this),this.o=2,Si(this)):Fs(this,this.Y-i)},(ie=As.prototype).R=function(){jo(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ie.T=function(){return jo(this),this.g.concat()},ie.get=function(i,e){return Wn(this.h,i)?this.h[i]:e},ie.set=function(i,e){Wn(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ie.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],c=this.get(u);i.call(e,c,u,this)}};var Or=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dr(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof dr){this.g=void 0!==e?e:i.g,K(this,i.j),this.s=i.s,k(this,i.i),Q(this,i.m),this.l=i.l,e=i.h;var t=new Bi;t.i=e.i,e.g&&(t.g=new As(e.g),t.h=e.h),we(this,t),this.o=i.o}else i&&(t=String(i).match(Or))?(this.g=!!e,K(this,t[1]||"",!0),this.s=Gn(t[2]||""),k(this,t[3]||"",!0),Q(this,t[4]),this.l=Gn(t[5]||"",!0),we(this,t[6]||"",!0),this.o=Gn(t[7]||"")):(this.g=!!e,this.h=new Bi(null,this.g))}function O(i){return new dr(i)}function K(i,e,t){i.j=t?Gn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function k(i,e,t){i.i=t?Gn(e,!0):e}function Q(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function we(i,e,t){e instanceof Bi?(i.h=e,function mt(i,e){e&&!i.j&&(hr(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(co(this,o),eo(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=ir(e,os)),i.h=new Bi(e,i.g))}function Be(i,e,t){i.h.set(e,t)}function yt(i){return Be(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ir(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Sn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Sn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}dr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ir(e,kr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ir(e,kr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(ir(t,"/"==t.charAt(0)?an:$n,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ir(t,es)),i.join("")};var kr=/[#\/\?@]/g,$n=/[#\?:]/g,an=/[#\?]/g,os=/[#\?@]/g,es=/#/g;function Bi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function hr(i){i.g||(i.g=new As,i.h=0,i.i&&function Mo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var c=i[t].substring(0,o);u=i[t].substring(o+1)}else c=i[t];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function co(i,e){hr(i),e=Ss(i,e),Wn(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Wn((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&jo(i)))}function Ki(i,e){return hr(i),e=Ss(i,e),Wn(i.g.h,e)}function eo(i,e,t){co(i,e),0<t.length&&(i.i=null,i.g.set(Ss(i,e),Qr(t)),i.h+=t.length)}function Ss(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function na(i){this.l=i||Ms,i=be.PerformanceNavigationTiming?0<(i=be.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=Bi.prototype).add=function(i,e){hr(this),this.i=null,i=Ss(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(i,e){hr(this),this.g.forEach(function(t,o){_r(t,function(u){i.call(e,u,o,this)},this)},this)},ie.T=function(){hr(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],c=0;c<u.length;c++)t.push(e[o]);return t},ie.R=function(i){hr(this);var e=[];if("string"==typeof i)Ki(this,i)&&(e=Nr(e,this.g.get(Ss(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Nr(e,i[t])}return e},ie.set=function(i,e){return hr(this),this.i=null,Ki(this,i=Ss(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ie.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var g=u;""!==o[c]&&(g+="="+encodeURIComponent(String(o[c]))),i.push(g)}}return this.i=i.join("&")};var Ms=10;function fi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function $o(i){return i.h?1:i.g?i.g.size:0}function L(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function R(i,e){i.g?i.g.add(e):i.h=e}function x(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Z(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Qr(i.i)}function et(){}function Zt(){this.g=new et}function br(i,e,t){const o=t||"";try{Xs(i,function(u,c){let g=u;Dt(u)&&(g=wr(u)),e.push(o+c+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function mr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function pi(i){this.l=i.$b||null,this.j=i.ib||!1}function xs(i,e){rr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=oi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}na.prototype.cancel=function(){if(this.i=Z(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},et.prototype.stringify=function(i){return be.JSON.stringify(i,void 0)},et.prototype.parse=function(i){return be.JSON.parse(i,void 0)},gn(pi,ba),pi.prototype.g=function(){return new xs(this.l,this.j)},pi.prototype.i=function(i){return function(){return i}}({}),gn(xs,rr);var oi=0;function as(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ls(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ra(i)}function ra(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ie=xs.prototype).open=function(i,e){if(this.readyState!=oi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ra(this)},ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||be).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ls(this)),this.readyState=oi},ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof be.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;as(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ls(this):ra(this),3==this.readyState&&as(this)}},ie.Ua=function(i){this.g&&(this.response=this.responseText=i,Ls(this))},ie.Ta=function(i){this.g&&(this.response=i,Ls(this))},ie.ha=function(){this.g&&Ls(this)},ie.setRequestHeader=function(i,e){this.v.append(i,e)},ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ia=be.JSON.parse;function Fr(i){rr.call(this),this.headers=new As,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ho,this.K=this.L=!1}gn(Fr,rr);var ho="",Ca=/^https?$/i,Ta=["POST","PUT"];function bu(i){return"content-type"==i.toLowerCase()}function sa(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xo(i),no(i)}function xo(i){i.D||(i.D=!0,qr(i,"complete"),qr(i,"error"))}function to(i){if(i.h&&typeof Le<"u"&&(!i.C[1]||4!=Fi(i)||2!=i.ba()))if(i.v&&4==Fi(i))Ce(i.Fa,0,i);else if(qr(i,"readystatechange"),4==Fi(i)){i.h=!1;try{const C=i.ba();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var u=String(i.H).match(Or)[1]||null;if(!u&&be.self&&be.self.location){var c=be.self.location.protocol;u=c.substr(0,c.length-1)}o=!Ca.test(u?u.toLowerCase():"")}t=o}if(t)qr(i,"complete"),qr(i,"success");else{i.m=6;try{var g=2<Fi(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.ba()+"]",xo(i)}}finally{no(i)}}}function no(i,e){if(i.g){Va(i);const t=i.g,o=i.C[0]?Ze:null;i.g=null,i.C=null,e||qr(i,"ready");try{t.onreadystatechange=o}catch{}}}function Va(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(be.clearTimeout(i.A),i.A=null)}function Fi(i){return i.g?i.g.readyState:0}function Ps(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ho:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Aa(i){let e="";return Gr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Be(i,e,t))}function ti(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function fo(i){this.za=0,this.l=[],this.h=new Tn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ti("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ti("baseRetryDelayMs",5e3,i),this.$a=ti("retryDelaySeedMs",1e4,i),this.Ya=ti("forwardChannelMaxRetries",2,i),this.ra=ti("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new na(i&&i.concurrentRequestLimit),this.Ca=new Zt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ur(i){if(Ya(i),3==i.G){var e=i.V++,t=O(i.F);Be(t,"SID",i.J),Be(t,"RID",e),Be(t,"TYPE","terminate"),gi(i,t),(e=new Ii(i,i.h,e,void 0)).K=2,e.v=yt(O(t)),t=!1,be.navigator&&be.navigator.sendBeacon&&(t=be.navigator.sendBeacon(e.v.toString(),"")),!t&&be.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sr(e)}Us(i)}function Sa(i){i.g&&(Mi(i),i.g.cancel(),i.g=null)}function Ya(i){Sa(i),i.u&&(be.clearTimeout(i.u),i.u=null),so(i),i.i.cancel(),i.m&&("number"==typeof i.m&&be.clearTimeout(i.m),i.m=null)}function Ua(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Cu(i)}function Cu(i){fi(i.i)||i.m||(i.m=!0,sr(i.Ha,i),i.C=0)}function ju(i,e){var t;t=e?e.m:i.V++;const o=O(i.F);Be(o,"SID",i.J),Be(o,"RID",t),Be(o,"AID",i.U),gi(i,o),i.o&&i.s&&Za(o,i.o,i.s),t=new Ii(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Vs(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),R(i.i,t),Zs(t,o,e)}function gi(i,e){i.j&&Xs({},function(t,o){Be(e,o,t)})}function Vs(i,e,t){t=Math.min(i.l.length,t);var o=i.j?In(i.j.Oa,i.j,i):null;e:{var u=i.l;let c=-1;for(;;){const g=["count="+t];-1==c?0<t?(c=u[0].h,g.push("ofs="+c)):c=0:g.push("ofs="+c);let C=!0;for(let V=0;V<t;V++){let G=u[V].h;const ee=u[V].g;if(G-=c,0>G)c=Math.max(0,u[V].h-100),C=!1;else try{br(ee,g,"req"+G+"_")}catch{o&&o(ee)}}if(C){o=g.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function ro(i){i.g||i.u||(i.Y=1,sr(i.Ga,i),i.A=0)}function io(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=qi(In(i.Ga,i),Ba(i,i.A)),i.A++,0))}function Mi(i){null!=i.B&&(be.clearTimeout(i.B),i.B=null)}function su(i){i.g=new Ii(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=O(i.oa);Be(e,"RID","rpc"),Be(e,"SID",i.J),Be(e,"CI",i.N?"0":"1"),Be(e,"AID",i.U),gi(i,e),Be(e,"TYPE","xmlhttp"),i.o&&i.s&&Za(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=yt(O(e)),t.s=null,t.U=!0,Ys(t,i)}function so(i){null!=i.v&&(be.clearTimeout(i.v),i.v=null)}function Go(i,e){var t=null;if(i.g==e){so(i),Mi(i),i.g=null;var o=2}else{if(!L(i.i,e))return;t=e.D,x(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;qr(o=Vo(),new Ds(o,t,e,u)),Cu(i)}else ro(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function iu(i,e){return!($o(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=qi(In(i.Ha,i,e),Ba(i,i.C)),i.C++,0)))}(i,e)||2==o&&io(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:po(i,5);break;case 4:po(i,10);break;case 3:po(i,6);break;default:po(i,2)}}function Ba(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function po(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=In(i.jb,i);t||(t=new dr("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||K(t,"https"),yt(t)),function ei(i,e){const t=new Tn;if(be.Image){const o=new Image;o.onload=Jn(mr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Jn(mr,t,o,"TestLoadImage: error",!1,e),o.onabort=Jn(mr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Jn(mr,t,o,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Ui(2);i.G=0,i.j&&i.j.va(e),Us(i),Ya(i)}function Us(i){i.G=0,i.I=-1,i.j&&((0!=Z(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Qr(i.l),i.l.length=0),i.j.ua())}function oa(i,e,t){let o=function kt(i){return i instanceof dr?O(i):new dr(i,void 0)}(t);if(""!=o.i)e&&k(o,e+"."+o.i),Q(o,o.m);else{const u=be.location;o=function Mr(i,e,t,o){var u=new dr(null,void 0);return i&&K(u,i),e&&k(u,e),t&&Q(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Gr(i.aa,function(u,c){Be(o,c,u)}),t=i.sa,(e=i.D)&&t&&Be(o,e,t),Be(o,"VER",i.ma),gi(i,o),o}function Tu(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&i.Ba&&!i.qa?new pi({ib:!0}):i.qa)).L=i.H,e}function Au(){}function Ma(){if(Ot&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function vs(i,e){rr.call(this),this.g=new fo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Dr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new go(this)}function Li(i){So.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ts(){Ks.call(this),this.status=1}function go(i){this.g=i}(ie=Fr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Uo.g(),this.C=function Ao(i){return i.h||(i.h=i.i())}(this.u?this.u:Uo),this.g.onreadystatechange=In(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void sa(this,c)}i=t||"";const u=new As(this.headers);o&&Xs(o,function(c,g){u.set(g,c)}),o=function Ir(i){e:{var e=bu;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=be.FormData&&i instanceof be.FormData,!(0<=ar(Ta,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(c,g){this.g.setRequestHeader(g,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Va(this),0<this.B&&((this.K=function Ho(i){return Ot&&function Oe(){return function vi(i){var e=le;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=vr(String(gr)).split("."),t=vr("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",c=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=Qt(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||Qt(0==u[2].length,0==c[2].length)||Qt(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=In(this.pa,this)):this.A=Ce(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){sa(this,c)}},ie.pa=function(){typeof Le<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,qr(this,"complete"),qr(this,"abort"),no(this))},ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),no(this,!0)),Fr.Z.M.call(this)},ie.Fa=function(){this.s||(this.F||this.v||this.l?to(this):this.cb())},ie.cb=function(){to(this)},ie.ba=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},ie.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ia(e)}},ie.Da=function(){return this.m},ie.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=fo.prototype).ma=8,ie.G=1,ie.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},ie.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Ii(this,this.h,i,void 0);let c=this.s;if(this.P&&(c?(c=Jr(c),Er(c,this.P)):c=this.P),null===this.o&&(u.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vs(this,u,e),Be(t=O(this.F),"RID",i),Be(t,"CVER",22),this.D&&Be(t,"X-HTTP-Session-Id",this.D),gi(this,t),this.o&&c&&Za(t,this.o,c),R(this.i,u),this.Ra&&Be(t,"TYPE","init"),this.ja?(Be(t,"$req",e),Be(t,"SID","null"),u.$=!0,Zs(u,t,null)):Zs(u,t,e),this.G=2}}else 3==this.G&&(i?ju(this,i):0==this.l.length||fi(this.i)||ju(this))},ie.Ga=function(){if(this.u=null,su(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=qi(In(this.bb,this),i)}},ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ui(10),Sa(this),su(this))},ie.ab=function(){null!=this.v&&(this.v=null,Sa(this),io(this),Ui(19))},ie.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ui(2)):(this.h.info("Failed to ping google.com"),Ui(1))},(ie=Au.prototype).xa=function(){},ie.wa=function(){},ie.va=function(){},ie.ua=function(){},ie.Oa=function(){},Ma.prototype.g=function(i,e){return new vs(i,e)},gn(vs,rr),vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),sr(In(i.hb,i,e))),Ui(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=oa(i,null,i.W),Cu(i)},vs.prototype.close=function(){Ur(this.g)},vs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ua(this.g,e)}else this.v?((e={}).__data__=wr(i),Ua(this.g,e)):Ua(this.g,i)},vs.prototype.M=function(){this.g.j=null,delete this.j,Ur(this.g),delete this.g,vs.Z.M.call(this)},gn(Li,So),gn(ts,Ks),gn(go,Au),go.prototype.xa=function(){qr(this.g,"a")},go.prototype.wa=function(i){qr(this.g,new Li(i))},go.prototype.va=function(i){qr(this.g,new ts(i))},go.prototype.ua=function(){qr(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,To.NO_ERROR=0,To.TIMEOUT=8,To.HTTP_ERROR=6,Da.COMPLETE="complete",ki.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",rr.prototype.listen=rr.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var aa=st.createWebChannelTransport=function(){return new Ma},ua=st.getStatEventTarget=function(){return Vo()},oo=st.ErrorCode=To,xa=st.EventType=Da,Di=st.Event=Vi,zo=st.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},la=st.FetchXmlHttpFactory=pi,Po=st.WebChannel=ki,mo=st.XhrIo=Fr;const Pa="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Bs="9.8.4";const ns=new Et.Yd("@firebase/firestore");function Es(){return ns.logLevel}function At(i,...e){if(ns.logLevel<=Et.in.DEBUG){const t=e.map(No);ns.debug(`Firestore (${Bs}): ${i}`,...t)}}function Xr(i,...e){if(ns.logLevel<=Et.in.ERROR){const t=e.map(No);ns.error(`Firestore (${Bs}): ${i}`,...t)}}function ji(i,...e){if(ns.logLevel<=Et.in.WARN){const t=e.map(No);ns.warn(`Firestore (${Bs}): ${i}`,...t)}}function No(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Yt(i="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+i;throw Xr(e),new Error(e)}function yn(i,e){i||Yt()}function Ht(i,e){return i}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ha{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $u{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class ou{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qa{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const c=G=>this.i!==u?(u=this.i,t(G)):Promise.resolve();let g=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new bi,e.enqueueRetryable(()=>c(this.currentUser))};const C=()=>{const G=g;e.enqueueRetryable((0,ce.Z)(function*(){yield G.promise,yield c(o.currentUser)}))},V=G=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(G=>V(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?V(G):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new bi)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(yn("string"==typeof o.accessToken),new ha(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yn(null===e||"string"==typeof e),new mi(e)}}class Na{constructor(e,t,o){this.type="FirstParty",this.user=mi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class D{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Na(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=c=>{null!=c.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const g=c.token!==this.p;return this.p=c.token,At("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?u(c):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yn("string"==typeof t.token),this.p=t.token,new w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function U(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Y{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=U(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<t&&(o+=e.charAt(u[c]%e.length))}return o}}function X(i,e){return i<e?-1:i>e?1:0}function _e(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function lt(i){return i+"\0"}class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new St(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new St(0,0))}static max(){return new Rt(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wt{constructor(e,t,o){void 0===t?t=0:t>e.length&&Yt(),void 0===o?o=e.length-t:o>e.length-t&&Yt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Wt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wt?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const c=e.get(u),g=t.get(u);if(c<g)return-1;if(c>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends Wt{construct(e,t,o){return new fn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ct(tt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Wt{construct(e,t,o){return new _n(e,t,o)}static isValidIdentifier(e){return ai.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const c=()=>{if(0===o.length)throw new Ct(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===C?(g=!g,u++):"."!==C||g?(o+=C,u++):(c(),u++)}if(c(),g)throw new Ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(fn.fromString(e))}static fromName(e){return new $t(fn.fromString(e).popFirst(5))}static empty(){return new $t(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new fn(e.slice()))}}class fa{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Ja(i){return i.fields.find(e=>2===e.kind)}function ao(i){return i.fields.filter(e=>2!==e.kind)}fa.UNKNOWN_ID=-1;class au{constructor(e,t){this.fieldPath=e,this.kind=t}}class us{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new us(0,js.min())}}function Hu(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Rt.fromTimestamp(1e9===o?new St(t+1,0):new St(t,o));return new js(u,$t.empty(),e)}function yo(i){return new js(i.readTime,i.key,-1)}class js{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new js(Rt.min(),$t.empty(),-1)}static max(){return new js(Rt.max(),$t.empty(),-1)}}function Gu(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=$t.comparator(i.documentKey,e.documentKey),0!==t?t:X(i.largestBatchId,e.largestBatchId))}const $i="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ns(i){return uu.apply(this,arguments)}function uu(){return uu=(0,ce.Z)(function*(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==$i)throw i;At("LocalStore","Unexpectedly lost primary lease")}),uu.apply(this,arguments)}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(t,c).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,o)=>{t(e)})}static reject(e){return new Ke((t,o)=>{o(e)})}static waitFor(e){return new Ke((t,o)=>{let u=0,c=0,g=!1;e.forEach(C=>{++u,C.next(()=>{++c,g&&c===u&&t()},V=>o(V))}),g=!0,c===u&&t()})}static or(e){let t=Ke.resolve(!1);for(const o of e)t=t.next(u=>u?Ke.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,c)=>{o.push(t.call(this,u,c))}),this.waitFor(o)}static mapArray(e,t){return new Ke((o,u)=>{const c=e.length,g=new Array(c);let C=0;for(let V=0;V<c;V++){const G=V;t(e[G]).next(ee=>{g[G]=ee,++C,C===c&&o(g)},ee=>u(ee))}})}static doWhile(e,t){return new Ke((o,u)=>{const c=()=>{!0===e()?t().next(()=>{c()},u):o()};c()})}}class rs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new bi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new uo(e,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const u=zu(o.target.error);this.T.reject(new uo(e,u))}}static open(e,t,o,u){try{return new rs(t,e.transaction(u,o))}catch(c){throw new uo(t,c)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(At("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ga(t)}}class xi{constructor(e,t,o){this.name=e,this.version=t,this.P=o,12.2===xi.v((0,oe.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return At("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,oe.hl)())return!1;if(xi.S())return!0;const e=(0,oe.z$)(),t=xi.v(e),o=0<t&&t<10,u=xi.D(e),c=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||c)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var t=this;return(0,ce.Z)(function*(){return t.db||(At("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=g=>{o(g.target.result)},c.onblocked=()=>{u(new uo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=g=>{const C=g.target.error;u("VersionError"===C.name?new Ct(tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Ct(tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new uo(e,C))},c.onupgradeneeded=g=>{At("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.P.O(g.target.result,c.transaction,g.oldVersion,t.version).next(()=>{At("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=o=>t.M(o)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var c=this;return(0,ce.Z)(function*(){const g="readonly"===t;let C=0;for(;;){++C;try{c.db=yield c.k(e);const V=rs.open(c.db,e,g?"readonly":"readwrite",o),G=u(V).next(ee=>(V.R(),ee)).catch(ee=>(V.abort(ee),Ke.reject(ee))).toPromise();return G.catch(()=>{}),yield V.A,G}catch(V){const G=V,ee="FirebaseError"!==G.name&&C<3;if(At("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ee),c.close(),!ee)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ro{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ma(this.$.delete())}}class uo extends Ct{constructor(e,t){super(tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ui(i){return"IndexedDbTransactionError"===i.name}class ga{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(At("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ma(o)}add(e){return At("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(t=>(void 0===t&&(t=null),At("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return At("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return At("SimpleDb","COUNT",this.store.name),ma(this.store.count())}K(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),c=[];return this.G(u,(g,C)=>{c.push(C)}).next(()=>c)}{const u=this.store.getAll(o.range);return new Ke((c,g)=>{u.onerror=C=>{g(C.target.error)},u.onsuccess=C=>{c(C.target.result)}})}}j(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Ke((u,c)=>{o.onerror=g=>{c(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}W(e,t){At("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.H=!1;const u=this.cursor(o);return this.G(u,(c,g,C)=>C.delete())}J(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.G(u,t)}Y(e){const t=this.cursor({});return new Ke((o,u)=>{t.onerror=c=>{const g=zu(c.target.error);u(g)},t.onsuccess=c=>{const g=c.target.result;g?e(g.primaryKey,g.value).next(C=>{C?g.continue():o()}):o()}})}G(e,t){const o=[];return new Ke((u,c)=>{e.onerror=g=>{c(g.target.error)},e.onsuccess=g=>{const C=g.target.result;if(!C)return void u();const V=new Ro(C),G=t(C.primaryKey,C.value,V);if(G instanceof Ke){const ee=G.catch(ve=>(V.done(),Ke.reject(ve)));o.push(ee)}V.isDone?u():null===V.U?C.continue():C.continue(V.U)}}).next(()=>Ke.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(i){return new Ke((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=zu(o.target.error);t(u)}})}let Xa=!1;function zu(i){const e=xi.v((0,oe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xa||(Xa=!0,setTimeout(()=>{throw o},0)),o}}return i}class Uc{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;At("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){t.task=null;try{At("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){ui(o)?At("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ns(o)}yield t.Z(1)}))}}class cl{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,e))})()}et(e,t){const o=new Set;let u=t,c=!0;return Ke.doWhile(()=>!0===c&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return At("IndexBackiller",`Processing collection: ${g}`),this.nt(e,g,u).next(C=>{u-=C,o.add(g)});c=!1})).next(()=>t-u)}nt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(c=>{const g=c.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.st(u,c)).next(C=>(At("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>g.size)}))}st(e,t){let o=e;return t.changes.forEach((u,c)=>{const g=yo(c);Gu(g,o)>0&&(o=g)}),new js(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class xr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Su(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Zi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Mu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}xr.ot=-1;class li{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}}class ja{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?o(e.key,t):1,t&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,t,o,u,c){this.key=e,this.value=t,this.color=o??Ci.RED,this.left=u??Ci.EMPTY,this.right=c??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,c){return new Ci(e??this.key,t??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===c?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Ci.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const e=this.left.check();if(e!==this.right.check())throw Yt();return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Ci(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ra(this.data.getIterator())}getIteratorFrom(e){return new Ra(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class Ra{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lu(i){return i.hasNext()?i.getNext():void 0}class Rs{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new Ar(_n.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _e(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ci(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const nc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(i){if(yn(!!i),"string"==typeof i){let e=0;const t=nc.exec(i);if(yn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:M(i.seconds),nanos:M(i.nanos)}}function M(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function F(i){return"string"==typeof i?ci.fromBase64String(i):ci.fromUint8Array(i)}function W(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ue(i){const e=i.mapValue.fields.__previous_value__;return W(e)?ue(e):e}function Fe(i){const e=$s(i.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}class rt{constructor(e,t,o,u,c,g,C,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=g,this.autoDetectLongPolling=C,this.useFetchStreams=V}}class _t{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _t("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _t&&e.projectId===this.projectId&&e.database===this.database}}function Bt(i){return null==i}function wn(i){return 0===i&&1/i==-1/0}function cn(i){return"number"==typeof i&&Number.isInteger(i)&&!wn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ln={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},En={nullValue:"NULL_VALUE"};function ni(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?W(i)?4:ln(i)?9007199254740991:10:Yt()}function Zr(i,e){if(i===e)return!0;const t=ni(i);if(t!==ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fe(i).isEqual(Fe(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=$s(o.timestampValue),g=$s(u.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,F(i.bytesValue).isEqual(F(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return M(o.geoPointValue.latitude)===M(u.geoPointValue.latitude)&&M(o.geoPointValue.longitude)===M(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return M(o.integerValue)===M(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=M(o.doubleValue),g=M(u.doubleValue);return c===g?wn(c)===wn(g):isNaN(c)&&isNaN(g)}return!1}(i,e);case 9:return _e(i.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(o,u){const c=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Su(c)!==Su(g))return!1;for(const C in c)if(c.hasOwnProperty(C)&&(void 0===g[C]||!Zr(c[C],g[C])))return!1;return!0}(i,e);default:return Yt()}var u}function Wo(i,e){return void 0!==(i.values||[]).find(t=>Zr(t,e))}function N(i,e){if(i===e)return 0;const t=ni(i),o=ni(e);if(t!==o)return X(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return X(i.booleanValue,e.booleanValue);case 2:return function(u,c){const g=M(u.integerValue||u.doubleValue),C=M(c.integerValue||c.doubleValue);return g<C?-1:g>C?1:g===C?0:isNaN(g)?isNaN(C)?0:-1:1}(i,e);case 3:return f(i.timestampValue,e.timestampValue);case 4:return f(Fe(i),Fe(e));case 5:return X(i.stringValue,e.stringValue);case 6:return function(u,c){const g=F(u),C=F(c);return g.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const g=u.split("/"),C=c.split("/");for(let V=0;V<g.length&&V<C.length;V++){const G=X(g[V],C[V]);if(0!==G)return G}return X(g.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const g=X(M(u.latitude),M(c.latitude));return 0!==g?g:X(M(u.longitude),M(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const g=u.values||[],C=c.values||[];for(let V=0;V<g.length&&V<C.length;++V){const G=N(g[V],C[V]);if(G)return G}return X(g.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===Ln.mapValue&&c===Ln.mapValue)return 0;if(u===Ln.mapValue)return 1;if(c===Ln.mapValue)return-1;const g=u.fields||{},C=Object.keys(g),V=c.fields||{},G=Object.keys(V);C.sort(),G.sort();for(let ee=0;ee<C.length&&ee<G.length;++ee){const ve=X(C[ee],G[ee]);if(0!==ve)return ve;const Ye=N(g[C[ee]],V[G[ee]]);if(0!==Ye)return Ye}return X(C.length,G.length)}(i.mapValue,e.mapValue);default:throw Yt()}}function f(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return X(i,e);const t=$s(i),o=$s(e),u=X(t.seconds,o.seconds);return 0!==u?u:X(t.nanos,o.nanos)}function y(i){return T(i)}function T(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=$s(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?F(i.bytesValue).toBase64():"referenceValue"in i?$t.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const g of o.values||[])c?c=!1:u+=",",u+=T(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",g=!0;for(const C of u)g?g=!1:c+=",",c+=`${C}:${T(o.fields[C])}`;return c+"}"}(i.mapValue):Yt();var e}function $(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function J(i){return!!i&&"integerValue"in i}function ge(i){return!!i&&"arrayValue"in i}function Ie(i){return!!i&&"nullValue"in i}function He(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ft(i){return!!i&&"mapValue"in i}function Kt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zi(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Kt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kt(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ln(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function fr(i){return"nullValue"in i?En:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?$(_t.empty(),$t.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Yt()}function Yn(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?$(_t.empty(),$t.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ln:Yt()}function bn(i,e){const t=N(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function zn(i,e){const t=N(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!ft(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kt(t)}setAll(e){let t=_n.emptyPath(),o={},u=[];e.forEach((g,C)=>{if(!t.isImmediateParentOf(C)){const V=this.getFieldsMap(t);this.applyChanges(V,o,u),o={},u=[],t=C.popLast()}g?o[C.lastSegment()]=Kt(g):u.push(C.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,o,u)}delete(e){const t=this.field(e.popLast());ft(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];ft(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Zi(t,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new Qn(Kt(this.value))}}function Br(i){const e=[];return Zi(i.fields,(t,o)=>{const u=new _n([t]);if(ft(o)){const c=Br(o.mapValue).fields;if(0===c.length)e.push(u);else for(const g of c)e.push(u.child(g))}else e.push(u)}),new Rs(e)}class er{constructor(e,t,o,u,c,g){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new er(e,0,Rt.min(),Rt.min(),Qn.empty(),0)}static newFoundDocument(e,t,o){return new er(e,1,t,Rt.min(),o,0)}static newNoDocument(e,t){return new er(e,2,t,Rt.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Rt.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _o{constructor(e,t=null,o=[],u=[],c=null,g=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=g,this.endAt=C,this.ut=null}}function ws(i,e=null,t=[],o=[],u=null,c=null,g=null){return new _o(i,e,t,o,u,c,g)}function qo(i){const e=Ht(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+y(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Bt(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>y(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>y(o)).join(",")),e.ut=t}return e.ut}function Hi(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!_a(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Zr(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qu(i.startAt,e.startAt)&&qu(i.endAt,e.endAt)}function Oo(i){return $t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ko(i,e){return i.filters.filter(t=>t instanceof Gi&&t.field.isEqual(e))}function ko(i,e,t){let o=En,u=!0;for(const c of Ko(i,e)){let g=En,C=!0;switch(c.op){case"<":case"<=":g=fr(c.value);break;case"==":case"in":case">=":g=c.value;break;case">":g=c.value,C=!1;break;case"!=":case"not-in":g=En}bn({value:o,inclusive:u},{value:g,inclusive:C})<0&&(o=g,u=C)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const g=t.position[c];bn({value:o,inclusive:u},{value:g,inclusive:t.inclusive})<0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}function rc(i,e,t){let o=Ln,u=!0;for(const c of Ko(i,e)){let g=Ln,C=!0;switch(c.op){case">=":case">":g=Yn(c.value),C=!1;break;case"==":case"in":case"<=":g=c.value;break;case"<":g=c.value,C=!1;break;case"!=":case"not-in":g=Ln}zn({value:o,inclusive:u},{value:g,inclusive:C})>0&&(o=g,u=C)}if(null!==t)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const g=t.position[c];zn({value:o,inclusive:u},{value:g,inclusive:t.inclusive})>0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}class Gi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,o):new xu(e,t,o):"array-contains"===t?new Mn(e,o):"in"===t?new Bn(e,o):"not-in"===t?new Lr(e,o):"array-contains-any"===t?new Yi(e,o):new Gi(e,t,o)}static ct(e,t,o){return"in"===t?new Wu(e,o):new dl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(N(t,this.value)):null!==t&&ni(this.value)===ni(t)&&this.at(N(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xu extends Gi{constructor(e,t,o){super(e,t,o),this.key=$t.fromName(o.referenceValue)}matches(e){const t=$t.comparator(e.key,this.key);return this.at(t)}}class Wu extends Gi{constructor(e,t){super(e,"in",t),this.keys=un(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dl extends Gi{constructor(e,t){super(e,"not-in",t),this.keys=un(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function un(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>$t.fromName(o.referenceValue))}class Mn extends Gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ge(t)&&Wo(t.arrayValue,this.value)}}class Bn extends Gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wo(this.value.arrayValue,t)}}class Lr extends Gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wo(this.value.arrayValue,t)}}class Yi extends Gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ge(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Wo(this.value.arrayValue,o))}}class Qi{constructor(e,t){this.position=e,this.inclusive=t}}class ls{constructor(e,t="asc"){this.field=e,this.dir=t}}function _a(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ti(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],g=i.position[u];if(o=c.field.isKeyField()?$t.comparator($t.fromName(g.referenceValue),t.key):N(g,t.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function qu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zr(i.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t=null,o=[],u=[],c=null,g="F",C=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=g,this.startAt=C,this.endAt=V,this.lt=null,this.ft=null}}function cs(i,e,t,o,u,c,g,C){return new $a(i,e,t,o,u,c,g,C)}function Zo(i){return new $a(i)}function cu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Yo(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Ku(i){return null!==i.collectionGroup}function hl(i){const e=Ht(i);if(null===e.lt){e.lt=[];const t=Yo(e),o=cu(e);if(null!==t&&null===o)t.isKeyField()||e.lt.push(new ls(t)),e.lt.push(new ls(_n.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e.lt.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ls(_n.keyField(),c))}}}return e.lt}function Ha(i){const e=Ht(i);if(!e.ft)if("F"===e.limitType)e.ft=ws(e.path,e.collectionGroup,hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of hl(e))t.push(new ls(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;e.ft=ws(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.ft}function I(i,e,t){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function h(i,e){return Hi(Ha(i),Ha(e))&&i.limitType===e.limitType}function p(i){return`${qo(Ha(i))}|lt:${i.limitType}`}function A(i){return`Query(target=${function Oa(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${y(o.value)}`;var o}).join(", ")}]`),Bt(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>y(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>y(t)).join(",")),`Target(${e})`}(Ha(i))}; limitType=${i.limitType})`}function z(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):$t.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,c,g){const C=Ti(u,c,g);return u.inclusive?C<=0:C<0}(t.startAt,hl(t),o)||t.endAt&&!function(u,c,g){const C=Ti(u,c,g);return u.inclusive?C>=0:C>0}(t.endAt,hl(t),o)));var t,o}function te(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function je(i){return(e,t)=>{let o=!1;for(const u of hl(i)){const c=bt(u,e,t);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function bt(i,e,t){const o=i.field.isKeyField()?$t.comparator(e.key,t.key):function(u,c,g){const C=c.data.field(u),V=g.data.field(u);return null!==C&&null!==V?N(C,V):Yt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Yt()}}function rn(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wn(e)?"-0":e}}function An(i){return{integerValue:""+i}}function pr(i,e){return cn(e)?An(e):rn(i,e)}class ri{constructor(){this._=void 0}}function Ga(i,e,t){return i instanceof Pu?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(t,e):i instanceof eu?ic(i,e):i instanceof Zu?Bc(i,e):function(o,u){const c=du(o,u),g=Rl(c)+Rl(o._t);return J(c)&&J(o._t)?An(g):rn(o.wt,g)}(i,e)}function lo(i,e,t){return i instanceof eu?ic(i,e):i instanceof Zu?Bc(i,e):t}function du(i,e){return i instanceof fl?J(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pu extends ri{}class eu extends ri{constructor(e){super(),this.elements=e}}function ic(i,e){const t=pl(e);for(const o of i.elements)t.some(u=>Zr(u,o))||t.push(o);return{arrayValue:{values:t}}}class Zu extends ri{constructor(e){super(),this.elements=e}}function Bc(i,e){let t=pl(e);for(const o of i.elements)t=t.filter(u=>!Zr(u,o));return{arrayValue:{values:t}}}class fl extends ri{constructor(e,t){super(),this.wt=e,this._t=t}}function Rl(i){return M(i.integerValue||i.doubleValue)}function pl(i){return ge(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Nu{constructor(e,t){this.field=e,this.transform=t}}class Vd{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Bd{}function yg(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ml(i.key,zi.none()):new gl(i.key,i.data,zi.none());{const t=i.data,o=Qn.empty();let u=new Ar(_n.comparator);for(let c of e.fields)if(!u.has(c)){let g=t.field(c);null===g&&c.length>1&&(c=c.popLast(),g=t.field(c)),null===g?o.delete(c):o.set(c,g),u=u.add(c)}return new Yu(i.key,o,new Rs(u.toArray()),zi.none())}}function Ky(i,e,t){i instanceof gl?function(o,u,c){const g=o.value.clone(),C=vg(o.fieldTransforms,u,c.transformResults);g.setAll(C),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(i,e,t):i instanceof Yu?function(o,u,c){if(!Ud(o.precondition,u))return void u.convertToUnknownDocument(c.version);const g=vg(o.fieldTransforms,u,c.transformResults),C=u.data;C.setAll(Os(o)),C.setAll(g),u.convertToFoundDocument(c.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sc(i,e,t,o){return i instanceof gl?function(u,c,g,C){if(!Ud(u.precondition,c))return g;const V=u.value.clone(),G=Eg(u.fieldTransforms,C,c);return V.setAll(G),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Yu?function(u,c,g,C){if(!Ud(u.precondition,c))return g;const V=Eg(u.fieldTransforms,C,c),G=c.data;return G.setAll(Os(u)),G.setAll(V),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ee=>ee.field))}(i,e,t,o):(g=t,Ud(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g);var c,g}function jd(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=du(o.transform,u||null);null!=c&&(null===t&&(t=Qn.empty()),t.set(o.field,c))}return t||null}function _g(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&_e(t,o,(u,c)=>function mg(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof eu&&o instanceof eu||t instanceof Zu&&o instanceof Zu?_e(t.elements,o.elements,Zr):t instanceof fl&&o instanceof fl?Zr(t._t,o._t):t instanceof Pu&&o instanceof Pu);var t,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class gl extends Bd{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Yu extends Bd{constructor(e,t,o,u,c=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Os(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function vg(i,e,t){const o=new Map;yn(i.length===t.length);for(let u=0;u<t.length;u++){const c=i[u],g=c.transform,C=e.data.field(c.field);o.set(c.field,lo(g,C,t[u]))}return o}function Eg(i,e,t){const o=new Map;for(const u of i){const c=u.transform,g=t.data.field(u.field);o.set(u.field,Ga(c,g,e))}return o}class ml extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $d extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zy{constructor(e){this.count=e}}var Hs,Yr;function wg(i){switch(i){default:return Yt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function Ig(i){if(void 0===i)return Xr("GRPC error has no .code"),tt.UNKNOWN;switch(i){case Hs.OK:return tt.OK;case Hs.CANCELLED:return tt.CANCELLED;case Hs.UNKNOWN:return tt.UNKNOWN;case Hs.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Hs.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Hs.INTERNAL:return tt.INTERNAL;case Hs.UNAVAILABLE:return tt.UNAVAILABLE;case Hs.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Hs.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Hs.NOT_FOUND:return tt.NOT_FOUND;case Hs.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Hs.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Hs.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Hs.ABORTED:return tt.ABORTED;case Hs.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Hs.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Hs.DATA_LOSS:return tt.DATA_LOSS;default:return Yt()}}(Yr=Hs||(Hs={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return Mu(this.inner)}size(){return this.innerSize}}const v0=new li($t.comparator);function vo(){return v0}const Hd=new li($t.comparator);function jc(...i){let e=Hd;for(const t of i)e=e.insert(t.key,t);return e}function Gd(i){let e=Hd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function ka(){return $c()}function Dg(){return $c()}function $c(){return new Ol(i=>i.toString(),(i,e)=>i.isEqual(e))}const Yy=new li($t.comparator),bg=new Ar($t.comparator);function yr(...i){let e=bg;for(const t of i)e=e.add(t);return e}const Qy=new Ar(X);function zd(){return Qy}class Hc{constructor(e,t,o,u,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t)),new Hc(Rt.min(),o,zd(),vo(),yr())}}class kl{constructor(e,t,o,u,c){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new kl(ci.EMPTY_BYTE_STRING,t,yr(),yr(),yr())}}class Wd{constructor(e,t,o,u){this.gt=e,this.removedTargetIds=t,this.key=o,this.yt=u}}class Cg{constructor(e,t){this.targetId=e,this.It=t}}class Tg{constructor(e,t,o=ci.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class cf{constructor(){this.Tt=0,this.Et=Qo(),this.At=ci.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=yr(),t=yr(),o=yr();return this.Et.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Yt()}}),new kl(this.At,this.Rt,e,t,o)}Dt(){this.bt=!1,this.Et=Qo()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Jy{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=vo(),this.Bt=Ag(),this.Lt=new Ar(X)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const o=this.Qt(t);switch(e.state){case 0:this.jt(t)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(e.resumeToken));break;default:Yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((o,u)=>{this.jt(u)&&t(u)})}zt(e){const t=e.targetId,o=e.It.count,u=this.Ht(t);if(u){const c=u.target;if(Oo(c))if(0===o){const g=new $t(c.path);this.Kt(t,g,er.newNoDocument(g,Rt.min()))}else yn(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((c,g)=>{const C=this.Ht(g);if(C){if(c.current&&Oo(C.target)){const V=new $t(C.target.path);null!==this.$t.get(V)||this.Xt(g,V)||this.Kt(g,V,er.newNoDocument(V,e))}c.vt&&(t.set(g,c.St()),c.Dt())}});let o=yr();this.Bt.forEach((c,g)=>{let C=!0;g.forEachWhile(V=>{const G=this.Ht(V);return!G||2===G.purpose||(C=!1,!1)}),C&&(o=o.add(c))}),this.$t.forEach((c,g)=>g.setReadTime(e));const u=new Hc(e,t,this.Lt,this.$t,o);return this.$t=vo(),this.Bt=Ag(),this.Lt=new Ar(X),u}qt(e,t){if(!this.jt(e))return;const o=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,o){if(!this.jt(e))return;const u=this.Qt(e);this.Xt(e,t)?u.Ct(t,1):u.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new cf,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Ar(X),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||At("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new cf),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Ag(){return new li($t.comparator)}function Qo(){return new li($t.comparator)}const df={asc:"ASCENDING",desc:"DESCENDING"},Sg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hf{constructor(e,t){this.databaseId=e,this.dt=t}}function Gs(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oc(i,e){return i.dt?e.toBase64():e.toUint8Array()}function ff(i,e){return Gs(i,e.toTimestamp())}function Eo(i){return yn(!!i),Rt.fromTimestamp(function(e){const t=$s(e);return new St(t.seconds,t.nanos)}(i))}function pf(i,e){return(t=i,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gf(i){const e=fn.fromString(i);return yn(qd(e)),e}function Gc(i,e){return pf(i.databaseId,e.path)}function hu(i,e){const t=gf(e);if(t.get(1)!==i.databaseId.projectId)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new $t(Mg(t))}function mf(i,e){return pf(i.databaseId,e)}function yf(i){const e=gf(i);return 4===e.length?fn.emptyPath():Mg(e)}function zc(i){return new fn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mg(i){return yn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function xg(i,e,t){return{name:Gc(i,e),fields:t.value.mapValue.fields}}function Pg(i,e,t){const o=hu(i,e.name),u=Eo(e.updateTime),c=new Qn({mapValue:{fields:e.fields}}),g=er.newFoundDocument(o,u,c);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Ru(i,e){let t;if(e instanceof gl)t={update:xg(i,e.key,e.value)};else if(e instanceof ml)t={delete:Gc(i,e.key)};else if(e instanceof Yu)t={update:xg(i,e.key,e.data),updateMask:Rg(e.fieldMask)};else{if(!(e instanceof $d))return Yt();t={verify:Gc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const g=c.transform;if(g instanceof Pu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fl)return{fieldPath:c.field.canonicalString(),increment:g._t};throw Yt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:ff(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Yt()),t;var u}function fu(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?zi.updateTime(Eo(u.updateTime)):void 0!==u.exists?zi.exists(u.exists):zi.none():zi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(c,g){let C=null;"setToServerValue"in g?(yn("REQUEST_TIME"===g.setToServerValue),C=new Pu):"appendMissingElements"in g?C=new eu(g.appendMissingElements.values||[]):"removeAllFromArray"in g?C=new Zu(g.removeAllFromArray.values||[]):"increment"in g?C=new fl(c,g.increment):Yt();const V=_n.fromServerFormat(g.fieldPath);return new Nu(V,C)}(i,u)):[];var u;if(e.update){const u=hu(i,e.update.name),c=new Qn({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new Rs((e.updateMask.fieldPaths||[]).map(G=>_n.fromServerFormat(G)));return new Yu(u,c,g,t,o)}return new gl(u,c,t,o)}if(e.delete){const u=hu(i,e.delete);return new ml(u,t)}if(e.verify){const u=hu(i,e.verify);return new $d(u,t)}return Yt()}function n_(i,e){return{documents:[mf(i,e.path)]}}function r_(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=mf(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mf(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const G=V.map(ee=>function(ve){if("=="===ve.op){if(He(ve.value))return{unaryFilter:{field:ac(ve.field),op:"IS_NAN"}};if(Ie(ve.value))return{unaryFilter:{field:ac(ve.field),op:"IS_NULL"}}}else if("!="===ve.op){if(He(ve.value))return{unaryFilter:{field:ac(ve.field),op:"IS_NOT_NAN"}};if(Ie(ve.value))return{unaryFilter:{field:ac(ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(ve.field),op:Ef(ve.op),value:ve.value}}}(ee));return 1===G.length?G[0]:{compositeFilter:{op:"AND",filters:G}}}(e.filters);u&&(t.structuredQuery.where=u);const c=function(V){if(0!==V.length)return V.map(G=>{return{field:ac((ee=G).field),direction:vf(ee.dir)};var ee})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const g=(G=e.limit,i.dt||Bt(G)?G:{value:G});var G,C,V;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function _f(i){let e=yf(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){yn(1===o);const ee=t.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let c=[];t.where&&(c=pu(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(ee=>{return new ls(Fl((ve=ee).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ve.direction));var ve}));let C=null;t.limit&&(C=function(ee){let ve;return ve="object"==typeof ee?ee.value:ee,Bt(ve)?null:ve}(t.limit));let V=null;var ee;t.startAt&&(V=new Qi((ee=t.startAt).values||[],!!ee.before));let G=null;return t.endAt&&(G=function(ee){return new Qi(ee.values||[],!ee.before)}(t.endAt)),cs(e,u,g,c,C,"F",V,G)}function pu(i){return i?void 0!==i.unaryFilter?[Ng(i)]:void 0!==i.fieldFilter?[Wc(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pu(e)).reduce((e,t)=>e.concat(t)):Yt():[]}function vf(i){return df[i]}function Ef(i){return Sg[i]}function ac(i){return{fieldPath:i.canonicalString()}}function Fl(i){return _n.fromServerFormat(i.fieldPath)}function Wc(i){return Gi.create(Fl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ng(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Fl(i.unaryFilter.field);return Gi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fl(i.unaryFilter.field);return Gi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(i.unaryFilter.field);return Gi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fl(i.unaryFilter.field);return Gi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}function Rg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Lo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=i_(e)),e=Og(i.get(t),e);return i_(e)}function Og(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const c=i.charAt(u);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function i_(i){return i+"\x01\x01"}function va(i){const e=i.length;if(yn(e>=2),2===e)return yn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),fn.emptyPath();const t=e-2,o=[];let u="";for(let c=0;c<e;){const g=i.indexOf("\x01",c);switch((g<0||g>t)&&Yt(),i.charAt(g+1)){case"\x01":const C=i.substring(c,g);let V;0===u.length?V=C:(u+=C,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(c,g),u+="\0";break;case"\x11":u+=i.substring(c,g+1);break;default:Yt()}c=g+2}return new fn(o)}const Kd=["userId","batchId"];function qc(i,e){return[i,Lo(e)]}function kg(i,e,t){return[i,Lo(e),t]}const wf={},s_=["prefixPath","collectionGroup","readTime","documentId"],o_=["prefixPath","collectionGroup","documentId"],a_=["collectionGroup","readTime","prefixPath","documentId"],u_=["canonicalId","targetId"],l_=["targetId","path"],c_=["path","targetId"],Fg=["collectionId","parent"],If=["indexId","uid"],Lg=["uid","sequenceNumber"],Df=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d_=["indexId","uid","orderedDocumentKey"],h_=["userId","collectionPath","documentId"],Vg=["userId","collectionPath","largestBatchId"],Ug=["userId","collectionGroup","largestBatchId"],yl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bg=[...yl,"documentOverlays"],bf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jg=bf,$g=[...jg,"indexConfiguration","indexState","indexEntries"];class uc extends pa{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function wo(i,e){const t=Ht(i);return xi.N(t.ee,e)}class Zd{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&Ky(c,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=sc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=sc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Dg();return this.mutations.forEach(u=>{const c=e.get(u.key),g=c.overlayedDocument;let C=this.applyToLocalView(g,c.mutatedFields);C=t.has(u.key)?null:C;const V=yg(g,C);null!==V&&o.set(u.key,V),g.isValidDocument()||g.convertToNoDocument(Rt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yr())}isEqual(e){return this.batchId===e.batchId&&_e(this.mutations,e.mutations,(t,o)=>_g(t,o))&&_e(this.baseMutations,e.baseMutations,(t,o)=>_g(t,o))}}class Yd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){yn(e.mutations.length===o.length);let u=Yy;const c=e.mutations;for(let g=0;g<c.length;g++)u=u.insert(c[g].key,o[g].version);return new Yd(e,t,o,u)}}class Qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ou{constructor(e,t,o,u,c=Rt.min(),g=Rt.min(),C=ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=C}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Cf{constructor(e){this.ne=e}}function Kc(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Gc(u=i.ne,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Gs(u,c.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return Yt();o.unknownDocument={path:t.path.toArray(),version:Qu(e.version)}}var u,c;return o}function Zc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _l(i){const e=new St(i.seconds,i.nanoseconds);return Rt.fromTimestamp(e)}function Ju(i,e){const t=(e.baseMutations||[]).map(c=>fu(i.ne,c));for(let c=0;c<e.mutations.length-1;++c){const g=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(g.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const o=e.mutations.map(c=>fu(i.ne,c)),u=St.fromMillis(e.localWriteTimeMs);return new Zd(e.batchId,u,t,o)}function Xu(i){const e=_l(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?_l(i.lastLimboFreeSnapshotVersion):Rt.min();let o;var u;return void 0!==i.query.documents?(yn(1===(u=i.query).documents.length),o=Ha(Zo(yf(u.documents[0])))):o=Ha(_f(i.query)),new Ou(o,i.targetId,0,i.lastListenSequenceNumber,e,t,ci.fromBase64String(i.resumeToken))}function Hg(i,e){const t=Qu(e.snapshotVersion),o=Qu(e.lastLimboFreeSnapshotVersion);let u;u=Oo(e.target)?n_(i.ne,e.target):r_(i.ne,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qo(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Xd(i){const e=_f({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?I(e,e.limit,"L"):e}function Tf(i,e){return new Qd(e.largestBatchId,fu(i.ne,e.overlayMutation))}function Gg(i,e){const t=e.path.lastSegment();return[i,Lo(e.path.popLast()),t]}function Af(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Qu(o.readTime),documentKey:Lo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Sf{getBundleMetadata(e,t){return Mf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:_l(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Mf(e).put({bundleId:(o=t).id,createTime:Qu(Eo(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return f_(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Xd(u.bundledQuery),readTime:_l(u.readTime)};var u})}saveNamedQuery(e,t){return f_(e).put({name:(o=t).name,readTime:Qu(Eo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Mf(i){return wo(i,"bundles")}function f_(i){return wo(i,"namedQueries")}class Yc{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Yc(e,t.uid||"")}getOverlay(e,t){return Qc(e).get(Gg(this.userId,t)).next(o=>o?Tf(this.wt,o):null)}getOverlays(e,t){const o=ka();return Ke.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((c,g)=>{const C=new Qd(t,g);u.push(this.ie(e,C))}),Ke.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(g=>u.add(Lo(g.getCollectionPath())));const c=[];return u.forEach(g=>{const C=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);c.push(Qc(e).W("collectionPathOverlayIndex",C))}),Ke.waitFor(c)}getOverlaysForCollection(e,t,o){const u=ka(),c=Lo(t),g=IDBKeyRange.bound([this.userId,c,o],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Qc(e).K("collectionPathOverlayIndex",g).next(C=>{for(const V of C){const G=Tf(this.wt,V);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const c=ka();let g;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qc(e).J({index:"collectionGroupOverlayIndex",range:C},(V,G,ee)=>{const ve=Tf(this.wt,G);c.size()<u||ve.largestBatchId===g?(c.set(ve.getKey(),ve),g=ve.largestBatchId):ee.done()}).next(()=>c)}ie(e,t){return Qc(e).put(function(o,u,c){const[g,C,V]=Gg(u,c.mutation.key);return{userId:u,collectionPath:C,documentId:V,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ru(o.ne,c.mutation)}}(this.wt,this.userId,t))}}function Qc(i){return wo(i,"documentOverlays")}class vl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(M(e.integerValue));else if("doubleValue"in e){const o=M(e.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),wn(o)?t.ae(0):t.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(F(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in e?ln(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Yt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const o=e.fields||{};this.ce(t,55);for(const u of Object.keys(o))this.le(u,t),this.oe(o[u],t)}me(e,t){const o=e.values||[];this.ce(t,50);for(const u of o)this.oe(u,t)}_e(e,t){this.ce(t,37),$t.fromName(e).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function p_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function zg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const c=p_(255&t[u]);if(o+=c,8!==c)break}return o}(i);return Math.ceil(e/8)}vl.ye=new vl;class gu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const u=t.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}this.Te()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}ve(e){const t=this.Ve(e),o=zg(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}De(e){const t=this.Ve(e),o=zg(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class g_{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Wg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Jc{constructor(){this.Me=new gu,this.Fe=new g_(this.Me),this.$e=new Wg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Ll{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Ll(this.indexId,this.documentKey,this.arrayValue,o)}}function Vl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=qg(i.arrayValue,e.arrayValue),0!==t?t:(t=qg(i.directionalValue,e.directionalValue),0!==t?t:$t.comparator(i.documentKey,e.documentKey)))}function qg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Kg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const t=Ja(e);if(void 0!==t&&!this.Qe(t))return!1;const o=ao(e);let u=0,c=0;for(;u<o.length&&this.Qe(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Ke){const g=o[u];if(!this.je(this.Ke,g)||!this.We(this.Ue[c++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(c>=this.Ue.length||!this.We(this.Ue[c++],g))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class m_{constructor(){this.ze=new xf}addToCollectionParentIndex(e,t){return this.ze.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(js.min())}updateCollectionGroup(e,t,o){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class xf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Ar(fn.comparator),c=!u.has(o);return this.index[t]=u.add(o),c}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Ar(fn.comparator)).toArray()}}const eh=new Uint8Array(0);class or{constructor(e,t){this.user=e,this.databaseId=t,this.He=new xf,this.Je=new Ol(o=>qo(o),(o,u)=>Hi(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const c={collectionId:o,parent:Lo(u)};return Pf(e).put(c)}return Ke.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[lt(t),""],!1,!0);return Pf(e).K(u).next(c=>{for(const g of c){if(g.collectionId!==t)break;o.push(va(g.parent))}return o})}addFieldIndex(e,t){const o=Xc(e),u={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var g;delete u.indexId;const c=o.add(u);if(t.indexState){const g=ed(e);return c.next(C=>{g.put(Af(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const o=Xc(e),u=ed(e),c=lc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=lc(e);let u=!0;const c=new Map;return Ke.forEach(this.Ye(t),g=>this.Xe(e,g).next(C=>{u&&(u=!!C),c.set(g,C)})).next(()=>{if(u){let g=yr();const C=[];return Ke.forEach(c,(V,G)=>{var ee;At("IndexedDbIndexManager",`Using index ${ee=V,`id=${ee.indexId}|cg=${ee.collectionGroup}|f=${ee.fields.map($r=>`${$r.fieldPath}:${$r.kind}`).join(",")}`} to execute ${qo(t)}`);const ve=function($r,Tr){const Hr=Ja(Tr);if(void 0===Hr)return null;for(const ii of Ko($r,Hr.fieldPath))switch(ii.op){case"array-contains-any":return ii.value.arrayValue.values||[];case"array-contains":return[ii.value]}return null}(G,V),Ye=function($r,Tr){const Hr=new Map;for(const ii of ao(Tr))for(const Ws of Ko($r,ii.fieldPath))switch(Ws.op){case"==":case"in":Hr.set(ii.fieldPath.canonicalString(),Ws.value);break;case"not-in":case"!=":return Hr.set(ii.fieldPath.canonicalString(),Ws.value),Array.from(Hr.values())}return null}(G,V),pt=function($r,Tr){const Hr=[];let ii=!0;for(const Ws of ao(Tr)){const Od=0===Ws.kind?ko($r,Ws.fieldPath,$r.startAt):rc($r,Ws.fieldPath,$r.startAt);Hr.push(Od.value),ii&&(ii=Od.inclusive)}return new Qi(Hr,ii)}(G,V),xt=function($r,Tr){const Hr=[];let ii=!0;for(const Ws of ao(Tr)){const Od=0===Ws.kind?rc($r,Ws.fieldPath,$r.endAt):ko($r,Ws.fieldPath,$r.endAt);Hr.push(Od.value),ii&&(ii=Od.inclusive)}return new Qi(Hr,ii)}(G,V),Xt=this.Ze(V,G,pt),vn=this.Ze(V,G,xt),jr=this.tn(V,G,Ye),yi=this.en(V.indexId,ve,Xt,pt.inclusive,vn,xt.inclusive,jr);return Ke.forEach(yi,$r=>o.j($r,t.limit).next(Tr=>{Tr.forEach(Hr=>{const ii=$t.fromSegments(Hr.documentKey);g.has(ii)||(g=g.add(ii),C.push(ii))})}))}).next(()=>C)}return Ke.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,o,u,c,g,C){const V=(null!=t?t.length:1)*Math.max(o.length,c.length),G=V/(null!=t?t.length:1),ee=[];for(let ve=0;ve<V;++ve){const Ye=t?this.nn(t[ve/G]):eh,pt=this.sn(e,Ye,o[ve%G],u),xt=this.rn(e,Ye,c[ve%G],g),Xt=C.map(vn=>this.sn(e,Ye,vn,!0));ee.push(...this.createRange(pt,xt,Xt))}return ee}sn(e,t,o,u){const c=new Ll(e,$t.empty(),t,o);return u?c:c.Le()}rn(e,t,o,u){const c=new Ll(e,$t.empty(),t,o);return u?c.Le():c}Xe(e,t){const o=new Kg(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(c=>{let g=null;for(const C of c)o.Ge(C)&&(!g||C.fields.length>g.fields.length)&&(g=C);return g})}getIndexType(e,t){let o=2;return Ke.forEach(this.Ye(t),u=>this.Xe(e,u).next(c=>{c?0!==o&&c.fields.length<function(g){let C=new Ar(_n.comparator),V=!1;for(const G of g.filters){const ee=G;ee.field.isKeyField()||("array-contains"===ee.op||"array-contains-any"===ee.op?V=!0:C=C.add(ee.field))}for(const G of g.orderBy)G.field.isKeyField()||(C=C.add(G.field));return C.size+(V?1:0)}(u)&&(o=1):o=0})).next(()=>o)}on(e,t){const o=new Jc;for(const u of ao(e)){const c=t.data.field(u.fieldPath);if(null==c)return null;const g=o.Be(u.kind);vl.ye.re(c,g)}return o.Oe()}nn(e){const t=new Jc;return vl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const o=new Jc;return vl.ye.re($(this.databaseId,t),o.Be(function(u){const c=ao(u);return 0===c.length?0:c[c.length-1].kind}(e))),o.Oe()}tn(e,t,o){if(null===o)return[];let u=[];u.push(new Jc);let c=0;for(const g of ao(e)){const C=o[c++];for(const V of u)if(this.cn(t,g.fieldPath)&&ge(C))u=this.an(u,g,C);else{const G=V.Be(g.kind);vl.ye.re(C,G)}}return this.hn(u)}Ze(e,t,o){return this.tn(e,t,o.position)}hn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Oe();return t}an(e,t,o){const u=[...e],c=[];for(const g of o.arrayValue.values||[])for(const C of u){const V=new Jc;V.seed(C.Oe()),vl.ye.re(g,V.Be(t.kind)),c.push(V)}return c}cn(e,t){return!!e.filters.find(o=>o instanceof Gi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Xc(e),u=ed(e);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(c=>{const g=[];return Ke.forEach(c,C=>u.get([C.indexId,this.uid]).next(V=>{g.push(function(G,ee){const ve=ee?new us(ee.sequenceNumber,new js(_l(ee.readTime),new $t(va(ee.documentKey)),ee.largestBatchId)):us.empty(),Ye=G.fields.map(([pt,xt])=>new au(_n.fromServerFormat(pt),xt));return new fa(G.indexId,G.collectionGroup,Ye,ve)}(C,V))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const c=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==c?c:X(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Xc(e),c=ed(e);return this.ln(e).next(g=>u.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>Ke.forEach(C,V=>c.put(Af(V.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return Ke.forEach(t,(u,c)=>{const g=o.get(u.collectionGroup);return(g?Ke.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(o.set(u.collectionGroup,C),Ke.forEach(C,V=>this.fn(e,u,V).next(G=>{const ee=this.dn(c,V);return G.isEqual(ee)?Ke.resolve():this._n(e,c,V,G,ee)}))))})}wn(e,t,o,u){return lc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(e,t,o,u){return lc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(e,t,o){const u=lc(e);let c=new Ar(Vl);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(g,C)=>{c=c.add(new Ll(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>c)}dn(e,t){let o=new Ar(Vl);const u=this.on(t,e);if(null==u)return o;const c=Ja(t);if(null!=c){const g=e.data.field(c.fieldPath);if(ge(g))for(const C of g.arrayValue.values||[])o=o.add(new Ll(t.indexId,e.key,this.nn(C),u))}else o=o.add(new Ll(t.indexId,e.key,eh,u));return o}_n(e,t,o,u,c){At("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(C,V,G,ee,ve){const Ye=C.getIterator(),pt=V.getIterator();let xt=lu(Ye),Xt=lu(pt);for(;xt||Xt;){let vn=!1,jr=!1;if(xt&&Xt){const yi=G(xt,Xt);yi<0?jr=!0:yi>0&&(vn=!0)}else null!=xt?jr=!0:vn=!0;vn?(ee(Xt),Xt=lu(pt)):jr?(ve(xt),xt=lu(Ye)):(xt=lu(Ye),Xt=lu(pt))}}(u,c,Vl,C=>{g.push(this.wn(e,t,o,C))},C=>{g.push(this.mn(e,t,o,C))}),Ke.waitFor(g)}ln(e){let t=1;return ed(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,c)=>{c.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,C)=>Vl(g,C)).filter((g,C,V)=>!C||0!==Vl(g,V[C-1]));const u=[];u.push(e);for(const g of o){const C=Vl(g,e),V=Vl(g,t);if(0===C)u[0]=e.Le();else if(C>0&&V<0)u.push(g),u.push(g.Le());else if(V>0)break}u.push(t);const c=[];for(let g=0;g<u.length;g+=2)c.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,eh,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,eh,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zg)}getMinOffset(e,t){return Ke.mapArray(this.Ye(t),o=>this.Xe(e,o).next(u=>u||Yt())).next(Zg)}}function Pf(i){return wo(i,"collectionParents")}function lc(i){return wo(i,"indexEntries")}function Xc(i){return wo(i,"indexConfiguration")}function ed(i){return wo(i,"indexState")}function Zg(i){yn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Gu(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new js(e.readTime,e.documentKey,t)}const Nf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Fa(e,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rf(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),c=[],g=IDBKeyRange.only(t.batchId);let C=0;const V=o.J({range:g},(ee,ve,Ye)=>(C++,Ye.delete()));c.push(V.next(()=>{yn(1===C)}));const G=[];for(const ee of t.mutations){const ve=kg(e,ee.key.path,t.batchId);c.push(u.delete(ve)),G.push(ee.key)}return Ke.waitFor(c).next(()=>G)}function th(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Yt();e=i.noDocument}return JSON.stringify(e).length}Fa.DEFAULT_COLLECTION_PERCENTILE=10,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fa.DEFAULT=new Fa(41943040,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fa.DISABLED=new Fa(-1,0,0);class nh{constructor(e,t,o,u){this.userId=e,this.wt=t,this.indexManager=o,this.referenceDelegate=u,this.gn={}}static se(e,t,o,u){yn(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new nh(c,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return el(e).J({index:"userMutationsIndex",range:o},(u,c,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const c=Ul(e),g=el(e);return g.add({}).next(C=>{yn("number"==typeof C);const V=new Zd(C,t,o,u),G=function(Ye,pt,xt){const Xt=xt.baseMutations.map(jr=>Ru(Ye.ne,jr)),vn=xt.mutations.map(jr=>Ru(Ye.ne,jr));return{userId:pt,batchId:xt.batchId,localWriteTimeMs:xt.localWriteTime.toMillis(),baseMutations:Xt,mutations:vn}}(this.wt,this.userId,V),ee=[];let ve=new Ar((Ye,pt)=>X(Ye.canonicalString(),pt.canonicalString()));for(const Ye of u){const pt=kg(this.userId,Ye.key.path,C);ve=ve.add(Ye.key.path.popLast()),ee.push(g.put(G)),ee.push(c.put(pt,wf))}return ve.forEach(Ye=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Ye))}),e.addOnCommittedListener(()=>{this.gn[C]=V.keys()}),Ke.waitFor(ee).next(()=>V)})}lookupMutationBatch(e,t){return el(e).get(t).next(o=>o?(yn(o.userId===this.userId),Ju(this.wt,o)):null)}yn(e,t){return this.gn[t]?Ke.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.gn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let c=null;return el(e).J({index:"userMutationsIndex",range:u},(g,C,V)=>{C.userId===this.userId&&(yn(C.batchId>=o),c=Ju(this.wt,C)),V.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return el(e).J({index:"userMutationsIndex",range:t,reverse:!0},(u,c,g)=>{o=c.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return el(e).K("userMutationsIndex",t).next(o=>o.map(u=>Ju(this.wt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=qc(this.userId,t.path),u=IDBKeyRange.lowerBound(o),c=[];return Ul(e).J({range:u},(g,C,V)=>{const[G,ee,ve]=g,Ye=va(ee);if(G===this.userId&&t.path.isEqual(Ye))return el(e).get(ve).next(pt=>{if(!pt)throw Yt();yn(pt.userId===this.userId),c.push(Ju(this.wt,pt))});V.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ar(X);const u=[];return t.forEach(c=>{const g=qc(this.userId,c.path),C=IDBKeyRange.lowerBound(g),V=Ul(e).J({range:C},(G,ee,ve)=>{const[Ye,pt,xt]=G,Xt=va(pt);Ye===this.userId&&c.path.isEqual(Xt)?o=o.add(xt):ve.done()});u.push(V)}),Ke.waitFor(u).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,c=qc(this.userId,o),g=IDBKeyRange.lowerBound(c);let C=new Ar(X);return Ul(e).J({range:g},(V,G,ee)=>{const[ve,Ye,pt]=V,xt=va(Ye);ve===this.userId&&o.isPrefixOf(xt)?xt.length===u&&(C=C.add(pt)):ee.done()}).next(()=>this.pn(e,C))}pn(e,t){const o=[],u=[];return t.forEach(c=>{u.push(el(e).get(c).next(g=>{if(null===g)throw Yt();yn(g.userId===this.userId),o.push(Ju(this.wt,g))}))}),Ke.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Rf(e.ee,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Ke.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ke.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ul(e).J({range:o},(c,g,C)=>{if(c[0]===this.userId){const V=va(c[1]);u.push(V)}else C.done()}).next(()=>{yn(0===u.length)})})}containsKey(e,t){return y_(e,this.userId,t)}Tn(e){return Yg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function y_(i,e,t){const o=qc(e,t.path),u=o[1],c=IDBKeyRange.lowerBound(o);let g=!1;return Ul(i).J({range:c,H:!0},(C,V,G)=>{const[ee,ve,Ye]=C;ee===e&&ve===u&&(g=!0),G.done()}).next(()=>g)}function el(i){return wo(i,"mutations")}function Ul(i){return wo(i,"documentMutations")}function Yg(i){return wo(i,"mutationQueues")}class El{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new El(0)}static Rn(){return new El(-1)}}class Qg{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const o=new El(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Rt.fromTimestamp(new St(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.bn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Pn(e,u)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(e,o))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wl(e).delete(t.targetId)).next(()=>this.bn(e)).next(o=>(yn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,t,o){let u=0;const c=[];return wl(e).J((g,C)=>{const V=Xu(C);V.sequenceNumber<=t&&null===o.get(V.targetId)&&(u++,c.push(this.removeTargetData(e,V)))}).next(()=>Ke.waitFor(c)).next(()=>u)}forEachTarget(e,t){return wl(e).J((o,u)=>{const c=Xu(u);t(c)})}bn(e){return __(e).get("targetGlobalKey").next(t=>(yn(null!==t),t))}Pn(e,t){return __(e).put("targetGlobalKey",t)}vn(e,t){return wl(e).put(Hg(this.wt,t))}Vn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=qo(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let c=null;return wl(e).J({range:u,index:"queryTargetsIndex"},(g,C,V)=>{const G=Xu(C);Hi(t,G.target)&&(c=G,V.done())}).next(()=>c)}addMatchingKeys(e,t,o){const u=[],c=Il(e);return t.forEach(g=>{const C=Lo(g.path);u.push(c.put({targetId:o,path:C})),u.push(this.referenceDelegate.addReference(e,o,g))}),Ke.waitFor(u)}removeMatchingKeys(e,t,o){const u=Il(e);return Ke.forEach(t,c=>{const g=Lo(c.path);return Ke.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,c)])})}removeMatchingKeysForTargetId(e,t){const o=Il(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Il(e);let c=yr();return u.J({range:o,H:!0},(g,C,V)=>{const G=va(g[1]),ee=new $t(G);c=c.add(ee)}).next(()=>c)}containsKey(e,t){const o=Lo(t.path),u=IDBKeyRange.bound([o],[lt(o)],!1,!0);let c=0;return Il(e).J({index:"documentTargetsIndex",H:!0,range:u},([g,C],V,G)=>{0!==g&&(c++,G.done())}).next(()=>c>0)}te(e,t){return wl(e).get(t).next(o=>o?Xu(o):null)}}function wl(i){return wo(i,"targets")}function __(i){return wo(i,"targetGlobal")}function Il(i){return wo(i,"targetDocuments")}function rh([i,e],[t,o]){const u=X(i,t);return 0===u?X(e,o):u}class Jg{constructor(e){this.Sn=e,this.buffer=new Ar(rh),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();rh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xg{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;At("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ui(o)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ns(o)}yield t.kn(3e5)}))}}class Bl{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Ke.resolve(xr.ot);const o=new Jg(t);return this.On.forEachTarget(e,u=>o.xn(u.sequenceNumber)).next(()=>this.On.Fn(e,u=>o.xn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.On.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Nf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nf):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let o,u,c,g,C,V,G;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),u=this.params.maximumSequenceNumbersToCollect):u=ve,g=Date.now(),this.nthSequenceNumber(e,u))).next(ve=>(o=ve,C=Date.now(),this.removeTargets(e,o,t))).next(ve=>(c=ve,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(ve=>(G=Date.now(),Es()<=Et.in.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-ee}ms\n\tDetermined least recently used ${u} in `+(C-g)+`ms\n\tRemoved ${c} targets in `+(V-C)+`ms\n\tRemoved ${ve} documents in `+(G-V)+`ms\nTotal Duration: ${G-ee}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:ve})))}}class v_{constructor(e,t){this.db=e,this.garbageCollector=new Bl(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Bn(e){let t=0;return this.Fn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(o,u)=>t(u))}addReference(e,t,o){return cc(e,o)}removeReference(e,t,o){return cc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return cc(e,t)}Un(e,t){return function(o,u){let c=!1;return Yg(o).Y(g=>y_(o,g,u).next(C=>(C&&(c=!0),Ke.resolve(!C)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let c=0;return this.Ln(e,(g,C)=>{if(C<=t){const V=this.Un(e,g).next(G=>{if(!G)return c++,o.getEntry(e,g).next(()=>(o.removeEntry(g,Rt.min()),Il(e).delete([0,Lo(g.path)])))});u.push(V)}}).next(()=>Ke.waitFor(u)).next(()=>o.apply(e)).next(()=>c)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return cc(e,t)}Ln(e,t){const o=Il(e);let u,c=xr.ot;return o.J({index:"documentTargetsIndex"},([g,C],{path:V,sequenceNumber:G})=>{0===g?(c!==xr.ot&&t(new $t(va(u)),c),c=G,u=V):c=xr.ot}).next(()=>{c!==xr.ot&&t(new $t(va(u)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cc(i,e){return Il(i).put((o=i.currentSequenceNumber,{targetId:0,path:Lo(e.path),sequenceNumber:o}));var o}class Of{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ke.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kf{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return tl(e).put(o)}removeEntry(e,t,o){return tl(e).delete(function(u,c){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Zc(c),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.qn(e,o)))}getEntry(e,t){let o=er.newInvalidDocument(t);return tl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(t))},(u,c)=>{o=this.Kn(t,c)}).next(()=>o)}Gn(e,t){let o={size:0,document:er.newInvalidDocument(t)};return tl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(t))},(u,c)=>{o={document:this.Kn(t,c),size:th(c)}}).next(()=>o)}getEntries(e,t){let o=vo();return this.Qn(e,t,(u,c)=>{const g=this.Kn(u,c);o=o.insert(u,g)}).next(()=>o)}jn(e,t){let o=vo(),u=new li($t.comparator);return this.Qn(e,t,(c,g)=>{const C=this.Kn(c,g);o=o.insert(c,C),u=u.insert(c,th(g))}).next(()=>({documents:o,Wn:u}))}Qn(e,t,o){if(t.isEmpty())return Ke.resolve();let u=new Ar(sh);t.forEach(V=>u=u.add(V));const c=IDBKeyRange.bound(ku(u.first()),ku(u.last())),g=u.getIterator();let C=g.getNext();return tl(e).J({index:"documentKeyIndex",range:c},(V,G,ee)=>{const ve=$t.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;C&&sh(C,ve)<0;)o(C,null),C=g.getNext();C&&C.isEqual(ve)&&(o(C,G),C=g.hasNext()?g.getNext():null),C?ee.q(ku(C)):ee.done()}).next(()=>{for(;C;)o(C,null),C=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),Zc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(e).K(IDBKeyRange.bound(u,c,!0)).next(g=>{let C=vo();for(const V of g){const G=this.Kn($t.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);C=C.insert(G.key,G)}return C})}getAllFromCollectionGroup(e,t,o,u){let c=vo();const g=Ff(t,o),C=Ff(t,js.max());return tl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,C,!0)},(V,G,ee)=>{const ve=this.Kn($t.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);c=c.insert(ve.key,ve),c.size===u&&ee.done()}).next(()=>c)}newChangeBuffer(e){return new E_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ih(e).get("remoteDocumentGlobalKey").next(t=>(yn(!!t),t))}qn(e,t){return ih(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const o=function Jd(i,e){let t;if(e.document)t=Pg(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=$t.fromSegments(e.noDocument.path),u=_l(e.noDocument.readTime);t=er.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Yt();{const o=$t.fromSegments(e.unknownDocument.path),u=_l(e.unknownDocument.version);t=er.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new St(o[0],o[1]);return Rt.fromTimestamp(u)}(e.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(Rt.min()))return o}return er.newInvalidDocument(e)}}function td(i){return new kf(i)}class E_ extends Of{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Ol(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Ar((c,g)=>X(c.canonicalString(),g.canonicalString()));return this.changes.forEach((c,g)=>{const C=this.Hn.get(c);if(t.push(this.zn.removeEntry(e,c,C.readTime)),g.isValidDocument()){const V=Kc(this.zn.wt,g);u=u.add(c.path.popLast()),o+=th(V)-C.size,t.push(this.zn.addEntry(e,c,V))}else if(o-=C.size,this.trackRemovals){const V=Kc(this.zn.wt,g.convertToNoDocument(Rt.min()));t.push(this.zn.addEntry(e,c,V))}}),u.forEach(c=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.zn.updateMetadata(e,o)),Ke.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:o,Wn:u})=>(u.forEach((c,g)=>{this.Hn.set(c,{size:g,readTime:o.get(c).readTime})}),o))}}function ih(i){return wo(i,"remoteDocumentGlobal")}function tl(i){return wo(i,"remoteDocumentsV14")}function ku(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ff(i,e){const t=e.documentKey.path.toArray();return[i,Zc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sh(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let c=0;c<t.length-2&&c<o.length-2;++c)if(u=X(t[c],o[c]),u)return u;return u=X(t.length,o.length),u||(u=X(t[t.length-2],o[o.length-2]),u||X(t[t.length-1],o[o.length-1]))}class w_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class em{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&sc(o.mutation,u,Rs.empty(),St.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,yr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=yr()){const u=ka();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(c=>{let g=jc();return c.forEach((C,V)=>{g=g.insert(C,V.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=ka();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,yr()))}populateOverlays(e,t,o){const u=[];return o.forEach(c=>{t.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((g,C)=>{t.set(g,C)})})}computeViews(e,t,o,u){let c=vo();const g=$c(),C=$c();return t.forEach((V,G)=>{const ee=o.get(G.key);u.has(G.key)&&(void 0===ee||ee.mutation instanceof Yu)?c=c.insert(G.key,G):void 0!==ee&&(g.set(G.key,ee.mutation.getFieldMask()),sc(ee.mutation,G,ee.mutation.getFieldMask(),St.now()))}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((G,ee)=>g.set(G,ee)),t.forEach((G,ee)=>{var ve;return C.set(G,new w_(ee,null!==(ve=g.get(G))&&void 0!==ve?ve:null))}),C))}recalculateAndSaveOverlays(e,t){const o=$c();let u=new li((g,C)=>g-C),c=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const C of g)C.keys().forEach(V=>{const G=t.get(V);if(null===G)return;let ee=o.get(V)||Rs.empty();ee=C.applyToLocalView(G,ee),o.set(V,ee);const ve=(u.get(C.batchId)||yr()).add(V);u=u.insert(C.batchId,ve)})}).next(()=>{const g=[],C=u.getReverseIterator();for(;C.hasNext();){const V=C.getNext(),G=V.key,ee=V.value,ve=Dg();ee.forEach(Ye=>{if(!c.has(Ye)){const pt=yg(t.get(Ye),o.get(Ye));null!==pt&&ve.set(Ye,pt),c=c.add(Ye)}}),g.push(this.documentOverlayCache.saveOverlays(e,G,ve))}return Ke.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return $t.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(c=>{const g=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-c.size):Ke.resolve(ka());let C=-1,V=c;return g.next(G=>Ke.forEach(G,(ee,ve)=>(C<ve.largestBatchId&&(C=ve.largestBatchId),c.get(ee)?Ke.resolve():this.getBaseDocument(e,ee,ve).next(Ye=>{V=V.insert(ee,Ye)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,V,G,yr())).next(ee=>({batchId:C,changes:Gd(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $t(t)).next(o=>{let u=jc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let c=jc();return this.indexManager.getCollectionParents(e,u).next(g=>Ke.forEach(g,C=>{const V=(G=t,ee=C.child(u),new $a(ee,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,ee;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(G=>{G.forEach((ee,ve)=>{c=c.insert(ee,ve)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(c=>{c.forEach((C,V)=>{const G=V.getKey();null===u.get(G)&&(u=u.insert(G,er.newInvalidDocument(G)))});let g=jc();return u.forEach((C,V)=>{const G=c.get(C);void 0!==G&&sc(G.mutation,V,Rs.empty(),St.now()),z(t,V)&&(g=g.insert(C,V))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ke.resolve(er.newInvalidDocument(t))}}class tm{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:Eo(o.createTime)}),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(o=t).name,query:Xd(o.bundledQuery),readTime:Eo(o.readTime)}),Ke.resolve();var o}}class dc{constructor(){this.overlays=new li($t.comparator),this.Xn=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const o=ka();return Ke.forEach(t,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,c)=>{this.ie(e,t,c)}),Ke.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.Xn.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.Xn.delete(o)),Ke.resolve()}getOverlaysForCollection(e,t,o){const u=ka(),c=t.length+1,g=new $t(t.child("")),C=this.overlays.getIteratorFrom(g);for(;C.hasNext();){const V=C.getNext().value,G=V.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&V.largestBatchId>o&&u.set(V.getKey(),V)}return Ke.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let c=new li((G,ee)=>G-ee);const g=this.overlays.getIterator();for(;g.hasNext();){const G=g.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>o){let ee=c.get(G.largestBatchId);null===ee&&(ee=ka(),c=c.insert(G.largestBatchId,ee)),ee.set(G.getKey(),G)}}const C=ka(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((G,ee)=>C.set(G,ee)),!(C.size()>=u)););return Ke.resolve(C)}ie(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.Xn.get(u.largestBatchId).delete(o.key);this.Xn.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new Qd(t,o));let c=this.Xn.get(t);void 0===c&&(c=yr(),this.Xn.set(t,c)),this.Xn.set(t,c.add(o.key))}}class Lf{constructor(){this.Zn=new Ar(Io.ts),this.es=new Ar(Io.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const o=new Io(e,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.rs(new Io(e,t))}os(e,t){e.forEach(o=>this.removeReference(o,t))}us(e){const t=new $t(new fn([])),o=new Io(t,e),u=new Io(t,e+1),c=[];return this.es.forEachInRange([o,u],g=>{this.rs(g),c.push(g.key)}),c}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new $t(new fn([])),o=new Io(t,e),u=new Io(t,e+1);let c=yr();return this.es.forEachInRange([o,u],g=>{c=c.add(g.key)}),c}containsKey(e){const t=new Io(e,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Io{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return $t.comparator(e.key,t.key)||X(e.ls,t.ls)}static ns(e,t){return X(e.ls,t.ls)||$t.comparator(e.key,t.key)}}class I_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Ar(Io.ts)}checkEmpty(e){return Ke.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const c=this.fs;this.fs++;const g=new Zd(c,t,o,u);this.mutationQueue.push(g);for(const C of u)this.ds=this.ds.add(new Io(C.key,c)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Ke.resolve(g)}lookupMutationBatch(e,t){return Ke.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ws(t+1),c=u<0?0:u;return Ke.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Io(t,0),u=new Io(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([o,u],g=>{const C=this._s(g.ls);c.push(C)}),Ke.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ar(X);return t.forEach(u=>{const c=new Io(u,0),g=new Io(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,g],C=>{o=o.add(C.ls)})}),Ke.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let c=o;$t.isDocumentKey(c)||(c=c.child(""));const g=new Io(new $t(c),0);let C=new Ar(X);return this.ds.forEachWhile(V=>{const G=V.key.path;return!!o.isPrefixOf(G)&&(G.length===u&&(C=C.add(V.ls)),!0)},g),Ke.resolve(this.gs(C))}gs(e){const t=[];return e.forEach(o=>{const u=this._s(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){yn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Ke.forEach(t.mutations,u=>{const c=new Io(u.key,t.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,t){const o=new Io(t,0),u=this.ds.firstAfterOrEqual(o);return Ke.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Ke.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class D_{constructor(e){this.ps=e,this.docs=new li($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),c=u?u.size:0,g=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ke.resolve(o?o.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let o=vo();return t.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():er.newInvalidDocument(u))}),Ke.resolve(o)}getAllFromCollection(e,t,o){let u=vo();const c=new $t(t.child("")),g=this.docs.getIteratorFrom(c);for(;g.hasNext();){const{key:C,value:{document:V}}=g.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||Gu(yo(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return Ke.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Yt()}Is(e,t){return Ke.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Vf(this)}getSize(e){return Ke.resolve(this.size)}}class Vf extends Of{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.zn.addEntry(e,u)):this.zn.removeEntry(o)}),Ke.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nm{constructor(e){this.persistence=e,this.Ts=new Ol(t=>qo(t),Hi),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Es=0,this.As=new Lf,this.targetCount=0,this.Rs=El.An()}forEachTarget(e,t){return this.Ts.forEach((o,u)=>t(u)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),Ke.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new El(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.vn(t),Ke.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,o){let u=0;const c=[];return this.Ts.forEach((g,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Ts.delete(g),c.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),Ke.waitFor(c).next(()=>u)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const o=this.Ts.get(t)||null;return Ke.resolve(o)}addMatchingKeys(e,t,o){return this.As.ss(t,o),Ke.resolve()}removeMatchingKeys(e,t,o){this.As.os(t,o);const u=this.persistence.referenceDelegate,c=[];return u&&t.forEach(g=>{c.push(u.markPotentiallyOrphaned(e,g))}),Ke.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const o=this.As.hs(t);return Ke.resolve(o)}containsKey(e,t){return Ke.resolve(this.As.containsKey(t))}}class Uf{constructor(e,t){this.bs={},this.overlays={},this.Ps=new xr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nm(this),this.indexManager=new m_,this.remoteDocumentCache=new D_(o=>this.referenceDelegate.Ss(o)),this.wt=new Cf(t),this.Ds=new tm(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.bs[e.toKey()];return o||(o=new I_(t,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,o){At("MemoryPersistence","Starting transaction:",e);const u=new Fu(this.Ps.next());return this.referenceDelegate.Cs(),o(u).next(c=>this.referenceDelegate.xs(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ns(e,t){return Ke.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,t)))}}class Fu extends pa{constructor(e){super(),this.currentSequenceNumber=e}}class oh{constructor(e){this.persistence=e,this.ks=new Lf,this.Os=null}static Ms(e){return new oh(e)}get Fs(){if(this.Os)return this.Os;throw Yt()}addReference(e,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),Ke.resolve()}removeReference(e,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(u=>this.Fs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(c=>this.Fs.add(c.toString()))}).next(()=>o.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Fs,o=>{const u=$t.fromPath(o);return this.$s(e,u).next(c=>{c||t.removeEntry(u,Rt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Ke.or([()=>Ke.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Bf{constructor(e){this.wt=e}O(e,t,o,u){const c=new rs("createOrUpgrade",t);var C;o<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0}),C.createObjectStore("documentMutations"),ah(e),function(C){C.createObjectStore("remoteDocuments")}(e));let g=Ke.resolve();return o<3&&u>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),ah(e)),g=g.next(()=>function(C){const V=C.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",G)}(c))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(C,V){return V.store("mutations").K().next(G=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0});const ee=V.store("mutations"),ve=G.map(Ye=>ee.put(Ye));return Ke.waitFor(ve)})}(e,c))),g=g.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.Bs(c))),o<6&&u>=6&&(g=g.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(c)))),o<7&&u>=7&&(g=g.next(()=>this.Us(c))),o<8&&u>=8&&(g=g.next(()=>this.qs(e,c))),o<9&&u>=9&&(g=g.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.Ks(c))),o<11&&u>=11&&(g=g.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(C){const V=C.createObjectStore("documentOverlays",{keyPath:h_});V.createIndex("collectionPathOverlayIndex",Vg,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",Ug,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(C){const V=C.createObjectStore("remoteDocumentsV14",{keyPath:s_});V.createIndex("documentKeyIndex",o_),V.createIndex("collectionGroupIndex",a_)}(e)).next(()=>this.Gs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.Qs(e,c))),o<15&&u>=15&&(g=g.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:If}).createIndex("sequenceNumberIndex",Lg,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Df}).createIndex("documentKeyIndex",d_,{unique:!1})}(e))),g}Ls(e){let t=0;return e.store("remoteDocuments").J((o,u)=>{t+=th(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.K().next(u=>Ke.forEach(u,c=>{const g=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",g).next(C=>Ke.forEach(C,V=>{yn(V.userId===c.userId);const G=Ju(this.wt,V);return Rf(e,c.userId,G).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const c=[];return o.J((g,C)=>{const V=new fn(g),G=[0,Lo(V)];c.push(t.get(G).next(ee=>ee?Ke.resolve():t.put({targetId:0,path:Lo(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Ke.waitFor(c))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Fg});const o=t.store("collectionParents"),u=new xf,c=g=>{if(u.add(g)){const C=g.lastSegment(),V=g.popLast();return o.put({collectionId:C,parent:Lo(V)})}};return t.store("remoteDocuments").J({H:!0},(g,C)=>{const V=new fn(g);return c(V.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([g,C,V],G)=>{const ee=va(C);return c(ee.popLast())}))}Ks(e){const t=e.store("targets");return t.J((o,u)=>{const c=Xu(u),g=Hg(this.wt,c);return t.put(g)})}Gs(e,t){const o=t.store("remoteDocuments"),u=[];return o.J((c,g)=>{const C=t.store("remoteDocumentsV14"),V=(G=g,G.document?new $t(fn.fromString(G.document.name).popFirst(5)):G.noDocument?$t.fromSegments(G.noDocument.path):G.unknownDocument?$t.fromSegments(G.unknownDocument.path):Yt()).path.toArray();var G;const ee={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(C.put(ee))}).next(()=>Ke.waitFor(u))}Qs(e,t){const o=t.store("mutations"),u=td(this.wt),c=new Uf(oh.Ms,this.wt.ne);return o.K().next(g=>{const C=new Map;return g.forEach(V=>{var G;let ee=null!==(G=C.get(V.userId))&&void 0!==G?G:yr();Ju(this.wt,V).keys().forEach(ve=>ee=ee.add(ve)),C.set(V.userId,ee)}),Ke.forEach(C,(V,G)=>{const ee=new mi(G),ve=Yc.se(this.wt,ee),Ye=c.getIndexManager(ee),pt=nh.se(ee,this.wt,Ye,c.referenceDelegate);return new em(u,pt,ve,Ye).recalculateAndSaveOverlaysForDocumentKeys(new uc(t,xr.ot),V).next()})})}}function ah(i){i.createObjectStore("targetDocuments",{keyPath:l_}).createIndex("documentTargetsIndex",c_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u_,{unique:!0}),i.createObjectStore("targetGlobal")}const jf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rm{constructor(e,t,o,u,c,g,C,V,G,ee,ve=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.js=c,this.window=g,this.document=C,this.Ws=G,this.zs=ee,this.Hs=ve,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Ye=>Promise.resolve(),!rm.V())throw new Ct(tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,u),this.ei=t+"main",this.wt=new Cf(V),this.ni=new xi(this.ei,this.Hs,new Bf(this.wt)),this.Vs=new Qg(this.referenceDelegate,this.wt),this.remoteDocumentCache=td(this.wt),this.Ds=new Sf,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ee&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,jf);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new xr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var o=(0,ce.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,ce.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,ce.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(ui(e))return At("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return uh(e).get("owner").next(t=>Ke.resolve(this.di(t)))}_i(e){return $f(e).delete(this.clientId)}wi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=wo(o,"clientMetadata");return u.K().next(c=>{const g=e.gi(c,18e5),C=c.filter(V=>-1===g.indexOf(V));return Ke.forEach(C,V=>u.delete(V.clientId)).next(()=>C)})}).catch(()=>[]);if(e.si)for(const o of t)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ke.resolve(!0):uh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ct(tt.FAILED_PRECONDITION,jf);return!1}}return!(!this.networkEnabled||!this.inForeground)||$f(e).K().next(o=>void 0===this.gi(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&At("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new uc(t,xr.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>$f(e).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return nh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new or(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Yc.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,o){At("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",c=15===(g=this.Hs)?$g:14===g?jg:13===g?bf:12===g?Bg:11===g?yl:void Yt();var g;let C;return this.ni.runTransaction(e,u,c,V=>(C=new uc(V,this.Ps?this.Ps.next():xr.ot),"readwrite-primary"===t?this.ai(C).next(G=>!!G||this.hi(C)).next(G=>{if(!G)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ct(tt.FAILED_PRECONDITION,$i);return o(C)}).next(G=>this.fi(C).next(()=>G)):this.bi(C).next(()=>o(C)))).then(V=>(C.raiseOnCommittedEvent(),V))}bi(e){return uh(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ct(tt.FAILED_PRECONDITION,jf)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uh(e).put("owner",t)}static V(){return xi.V()}li(e){const t=uh(e);return t.get("owner").next(o=>this.di(o)?(At("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ke.resolve())}mi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Xr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,oe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return At("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Xr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uh(i){return wo(i,"owner")}function $f(i){return wo(i,"clientMetadata")}function Hf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class lh{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Pi=o,this.vi=u}static Vi(e,t){let o=yr(),u=yr();for(const c of t.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new lh(e,t.fromCache,o,u)}}class b_{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ci(e,t).next(c=>c||this.xi(e,t,u,o)).next(c=>c||this.Ni(e,t))}Ci(e,t){return Ke.resolve(null)}xi(e,t,o,u){return function Fo(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||u.isEqual(Rt.min())?this.Ni(e,t):this.Di.getDocuments(e,o).next(c=>{const g=this.ki(t,c);return this.Oi(t,g,o,u)?this.Ni(e,t):(Es()<=Et.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),A(t)),this.Mi(e,g,t,Hu(u,-1)))})}ki(e,t){let o=new Ar(je(e));return t.forEach((u,c)=>{z(e,c)&&(o=o.add(c))}),o}Oi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Ni(e,t){return Es()<=Et.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",A(t)),this.Di.getDocumentsMatchingQuery(e,t,js.min())}Mi(e,t,o,u){return this.Di.getDocumentsMatchingQuery(e,o,u).next(c=>(t.forEach(g=>{c=c.insert(g.key,g)}),c))}}class C_{constructor(e,t,o,u){this.persistence=e,this.Fi=t,this.wt=u,this.$i=new li(X),this.Bi=new Ol(c=>qo(c),Hi),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new em(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function jl(i,e,t,o){return new C_(i,e,t,o)}function im(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,ce.Z)(function*(i,e){const t=Ht(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,t.qi(e),t.mutationQueue.getAllMutationBatches(o))).next(c=>{const g=[],C=[];let V=yr();for(const G of u){g.push(G.batchId);for(const ee of G.mutations)V=V.add(ee.key)}for(const G of c){C.push(G.batchId);for(const ee of G.mutations)V=V.add(ee.key)}return t.localDocuments.getDocuments(o,V).next(G=>({Ki:G,removedBatchIds:g,addedBatchIds:C}))})})}),ch.apply(this,arguments)}function dh(i,e){const t=Ht(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=t.Ui.newChangeBuffer({trackRemovals:!0});return function(g,C,V,G){const ee=V.batch,ve=ee.keys();let Ye=Ke.resolve();return ve.forEach(pt=>{Ye=Ye.next(()=>G.getEntry(C,pt)).next(xt=>{const Xt=V.docVersions.get(pt);yn(null!==Xt),xt.version.compareTo(Xt)<0&&(ee.applyToRemoteDocument(xt,V),xt.isValidDocument()&&(xt.setReadTime(V.commitVersion),G.addEntry(xt)))})}),Ye.next(()=>g.mutationQueue.removeMutationBatch(C,ee))}(t,o,e,c).next(()=>c.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let C=yr();for(let V=0;V<g.mutationResults.length;++V)g.mutationResults[V].transformResults.length>0&&(C=C.add(g.batch.mutations[V].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function sm(i){const e=Ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function om(i,e){const t=Ht(i),o=e.snapshotVersion;let u=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const g=t.Ui.newChangeBuffer({trackRemovals:!0});u=t.$i;const C=[];e.targetChanges.forEach((ee,ve)=>{const Ye=u.get(ve);if(!Ye)return;C.push(t.Vs.removeMatchingKeys(c,ee.removedDocuments,ve).next(()=>t.Vs.addMatchingKeys(c,ee.addedDocuments,ve)));let pt=Ye.withSequenceNumber(c.currentSequenceNumber);var xt,Xt,vn;e.targetMismatches.has(ve)?pt=pt.withResumeToken(ci.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):ee.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(ee.resumeToken,o)),u=u.insert(ve,pt),Xt=pt,vn=ee,(0===(xt=Ye).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-xt.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&C.push(t.Vs.updateTargetData(c,pt))});let V=vo(),G=yr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(c,ee))}),C.push(am(c,g,e.documentUpdates).next(ee=>{V=ee.Gi,G=ee.Qi})),!o.isEqual(Rt.min())){const ee=t.Vs.getLastRemoteSnapshotVersion(c).next(ve=>t.Vs.setTargetsMetadata(c,c.currentSequenceNumber,o));C.push(ee)}return Ke.waitFor(C).next(()=>g.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,G)).next(()=>V)}).then(c=>(t.$i=u,c))}function am(i,e,t){let o=yr(),u=yr();return t.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let g=vo();return t.forEach((C,V)=>{const G=c.get(C);V.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(C)),V.isNoDocument()&&V.version.isEqual(Rt.min())?(e.removeEntry(C,V.readTime),g=g.insert(C,V)):!G.isValidDocument()||V.version.compareTo(G.version)>0||0===V.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(V),g=g.insert(C,V)):At("LocalStore","Ignoring outdated watch update for ",C,". Current version:",G.version," Watch version:",V.version)}),{Gi:g,Qi:u}})}function T_(i,e){const t=Ht(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function hc(i,e){const t=Ht(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Vs.getTargetData(o,e).next(c=>c?(u=c,Ke.resolve(u)):t.Vs.allocateTargetId(o).next(g=>(u=new Ou(e,g,0,o.currentSequenceNumber),t.Vs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.$i.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(e,o.targetId)),o})}function fc(i,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,ce.Z)(function*(i,e,t){const o=Ht(i),u=o.$i.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",c,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ui(g))throw g;At("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.$i=o.$i.remove(e),o.Bi.delete(u.target)}),Gf.apply(this,arguments)}function nd(i,e,t){const o=Ht(i);let u=Rt.min(),c=yr();return o.persistence.runTransaction("Execute query","readonly",g=>function(C,V,G){const ee=Ht(C),ve=ee.Bi.get(G);return void 0!==ve?Ke.resolve(ee.$i.get(ve)):ee.Vs.getTargetData(V,G)}(o,g,Ha(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(g,C.targetId).next(V=>{c=V})}).next(()=>o.Fi.getDocumentsMatchingQuery(g,e,t?u:Rt.min(),t?c:yr())).next(C=>(Wf(o,te(e),C),{documents:C,ji:c})))}function um(i,e){const t=Ht(i),o=Ht(t.Vs),u=t.$i.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",c=>o.te(c,e).next(g=>g?g.target:null))}function zf(i,e){const t=Ht(i),o=t.Li.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ui.getAllFromCollectionGroup(u,e,Hu(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Wf(t,e,u),u))}function Wf(i,e,t){let o=Rt.min();t.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Li.set(e,o)}function lm(){return lm=(0,ce.Z)(function*(i,e,t,o){const u=Ht(i);let c=yr(),g=vo();for(const G of t){const ee=e.Wi(G.metadata.name);G.document&&(c=c.add(ee));const ve=e.zi(G);ve.setReadTime(e.Hi(G.metadata.readTime)),g=g.insert(ee,ve)}const C=u.Ui.newChangeBuffer({trackRemovals:!0}),V=yield hc(u,(G=o,Ha(Zo(fn.fromString(`__bundle__/docs/${G}`)))));var G;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>am(G,C,g).next(ee=>(C.apply(G),ee)).next(ee=>u.Vs.removeMatchingKeysForTargetId(G,V.targetId).next(()=>u.Vs.addMatchingKeys(G,c,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,ee.Gi,ee.Qi)).next(()=>ee.Gi)))}),lm.apply(this,arguments)}function Kf(i,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,ce.Z)(function*(i,e,t=yr()){const o=yield hc(i,Ha(Xd(e.bundledQuery))),u=Ht(i);return u.persistence.runTransaction("Save named query","readwrite",c=>{const g=Eo(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ds.saveNamedQuery(c,e);const C=o.withResumeToken(ci.EMPTY_BYTE_STRING,g);return u.$i=u.$i.insert(C.targetId,C),u.Vs.updateTargetData(c,C).next(()=>u.Vs.removeMatchingKeysForTargetId(c,o.targetId)).next(()=>u.Vs.addMatchingKeys(c,t,o.targetId)).next(()=>u.Ds.saveNamedQuery(c,e))})}),Zf.apply(this,arguments)}function A_(i,e){return`firestore_clients_${i}_${e}`}function $l(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function hh(i,e){return`firestore_targets_${i}_${e}`}class fh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Ji(e,t,o){const u=JSON.parse(o);let c,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(c=new Ct(u.error.code,u.error.message))),g?new fh(e,t,u.state,c):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rd{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let u,c="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return c&&o.error&&(c="string"==typeof o.error.message&&"string"==typeof o.error.code,c&&(u=new Ct(o.error.code,o.error.message))),c?new rd(e,o.state,u):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,c=zd();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=cn(o.activeTargetIds[g]),c=c.add(o.activeTargetIds[g]);return u?new pc(e,c):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cm{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cm(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=zd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class id{constructor(e,t,o,u,c){this.window=e,this.js=t,this.persistenceKey=o,this.tr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new li(X),this.started=!1,this.ir=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.rr=A_(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new dm),this.cr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const t=yield e.syncEngine.Ri();for(const u of t){if(u===e.tr)continue;const c=e.getItem(A_(e.persistenceKey,u));if(c){const g=pc.Ji(u,c);g&&(e.sr=e.sr.insert(g.clientId,g))}}e._r();const o=e.storage.getItem(e.lr);if(o){const u=e.wr(o);u&&e.mr(u)}for(const u of e.ir)e.nr(u);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(hh(this.persistenceKey,e));if(o){const u=rd.Ji(e,o);u&&(t=u.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.pr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return At("SharedClientState","READ",e,t),t}setItem(e,t){At("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){At("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(At("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ce.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const u=t.Rr(o.key);return t.br(u,null)}{const u=t.Pr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const u=t.vr(o.key,o.newValue);if(u)return t.Vr(u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.Sr(o.key,o.newValue);if(u)return t.Dr(u)}}else if(o.key===t.lr){if(null!==o.newValue){const u=t.wr(o.newValue);if(u)return t.mr(u)}}else if(o.key===t.ur){const u=function(c){let g=xr.ot;if(null!=c)try{const C=JSON.parse(c);yn("number"==typeof C),g=C}catch(C){Xr("SharedClientState","Failed to read sequence number from WebStorage",C)}return g}(o.newValue);u!==xr.ot&&t.sequenceNumberHandler(u)}else if(o.key===t.dr){const u=t.Cr(o.newValue);yield Promise.all(u.map(c=>t.syncEngine.Nr(c)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const u=new fh(this.currentUser,e,t,o),c=$l(this.persistenceKey,this.currentUser,e);this.setItem(c,u.Yi())}pr(e){const t=$l(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const u=hh(this.persistenceKey,e),c=new rd(e,t,o);this.setItem(u,c.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return pc.Ji(o,t)}vr(e,t){const o=this.ar.exec(e),u=Number(o[1]);return fh.Ji(new mi(void 0!==o[2]?o[2]:null),u,t)}Sr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return rd.Ji(u,t)}wr(e){return cm.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);At("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),u=this.gr(this.sr),c=this.gr(o),g=[],C=[];return c.forEach(V=>{u.has(V)||g.push(V)}),u.forEach(V=>{c.has(V)||C.push(V)}),this.syncEngine.Mr(g,C).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=zd();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class S_{constructor(){this.Fr=new dm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new dm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w0{Br(e){}shutdown(){}}class M_{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const I0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class D0{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class hm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,u,c){const g=this.oo(e,t);At("RestConnection","Sending: ",g,o);const C={};return this.uo(C,u,c),this.co(e,g,C,o).then(V=>(At("RestConnection","Received: ",V),V),V=>{throw ji("RestConnection",`${e} failed with error: `,V,"url: ",g,"request:",o),V})}ao(e,t,o,u,c,g){return this.ro(e,t,o,u,c)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}oo(e,t){return`${this.so}/v1/${t}:${I0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,u){return new Promise((c,g)=>{const C=new mo;C.listenOnce(xa.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case oo.NO_ERROR:const G=C.getResponseJson();At("Connection","XHR received:",JSON.stringify(G)),c(G);break;case oo.TIMEOUT:At("Connection",'RPC "'+e+'" timed out'),g(new Ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case oo.HTTP_ERROR:const ee=C.getStatus();if(At("Connection",'RPC "'+e+'" failed with status:',ee,"response text:",C.getResponseText()),ee>0){const ve=C.getResponseJson().error;if(ve&&ve.status&&ve.message){const Ye=function(pt){const xt=pt.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(xt)>=0?xt:tt.UNKNOWN}(ve.status);g(new Ct(Ye,ve.message))}else g(new Ct(tt.UNKNOWN,"Server responded with status "+C.getStatus()))}else g(new Ct(tt.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{At("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);C.send(t,"POST",V,o,15)})}ho(e,t,o){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aa(),g=ua(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new la({})),this.uo(C.initMessageHeaders,t,o),(0,oe.uI)()||(0,oe.b$)()||(0,oe.d)()||(0,oe.w1)()||(0,oe.Mn)()||(0,oe.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const V=u.join("");At("Connection","Creating WebChannel: "+V,C);const G=c.createWebChannel(V,C);let ee=!1,ve=!1;const Ye=new D0({jr:xt=>{ve?At("Connection","Not sending because WebChannel is closed:",xt):(ee||(At("Connection","Opening WebChannel transport."),G.open(),ee=!0),At("Connection","WebChannel sending:",xt),G.send(xt))},Wr:()=>G.close()}),pt=(xt,Xt,vn)=>{xt.listen(Xt,jr=>{try{vn(jr)}catch(yi){setTimeout(()=>{throw yi},0)}})};return pt(G,Po.EventType.OPEN,()=>{ve||At("Connection","WebChannel transport opened.")}),pt(G,Po.EventType.CLOSE,()=>{ve||(ve=!0,At("Connection","WebChannel transport closed"),Ye.eo())}),pt(G,Po.EventType.ERROR,xt=>{ve||(ve=!0,ji("Connection","WebChannel transport errored:",xt),Ye.eo(new Ct(tt.UNAVAILABLE,"The operation could not be completed")))}),pt(G,Po.EventType.MESSAGE,xt=>{var Xt;if(!ve){const vn=xt.data[0];yn(!!vn);const jr=vn,yi=jr.error||(null===(Xt=jr[0])||void 0===Xt?void 0:Xt.error);if(yi){At("Connection","WebChannel received error:",yi);const $r=yi.status;let Tr=function(ii){const Ws=Hs[ii];if(void 0!==Ws)return Ig(Ws)}($r),Hr=yi.message;void 0===Tr&&(Tr=tt.INTERNAL,Hr="Unknown error status: "+$r+" with message "+yi.message),ve=!0,Ye.eo(new Ct(Tr,Hr)),G.close()}else At("Connection","WebChannel received:",vn),Ye.no(vn)}}),pt(g,Di.STAT_EVENT,xt=>{xt.stat===zo.PROXY?At("Connection","Detected buffering proxy"):xt.stat===zo.NOPROXY&&At("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ye.Zr()},0),Ye}}function ph(){return typeof window<"u"?window:null}function sd(){return typeof document<"u"?document:null}function od(i){return new hf(i,!0)}class gh{constructor(e,t,o=1e3,u=1.5,c=6e4){this.js=e,this.timerId=t,this.lo=o,this.fo=u,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),u=Math.max(0,t-o);u>0&&At("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Yf{constructor(e,t,o,u,c,g,C,V){this.js=e,this.Ao=o,this.Ro=u,this.bo=c,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=C,this.listener=V,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new gh(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ce.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,ce.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var o=this;return(0,ce.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===tt.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===tt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Po===t&&this.Uo(o,u)},o=>{e(()=>{const u=new Ct(tt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(u)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{o(()=>this.qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,ce.Z)(function*(){e.state=0,e.start()}))}qo(e){return At("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mh extends Yf{constructor(e,t,o,u,c,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.wt=c}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function e_(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Yt(),u=e.targetChange.targetIds||[],c=function(V,G){return V.dt?(yn(void 0===G||"string"==typeof G),ci.fromBase64String(G||"")):(yn(void 0===G||G instanceof Uint8Array),ci.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,C=g&&function(V){const G=void 0===V.code?tt.UNKNOWN:Ig(V.code);return new Ct(G,V.message||"")}(g);t=new Tg(o,u,c,C||null)}else if("documentChange"in e){const o=e.documentChange,u=hu(i,o.document.name),c=Eo(o.document.updateTime),g=new Qn({mapValue:{fields:o.document.fields}}),C=er.newFoundDocument(u,c,g);t=new Wd(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,u=hu(i,o.document),c=o.readTime?Eo(o.readTime):Rt.min(),g=er.newNoDocument(u,c);t=new Wd([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=hu(i,o.document);t=new Wd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Yt();{const o=e.filter,c=new Zy(o.count||0);t=new Cg(o.targetId,c)}}var V;return t}(this.wt,e),o=function(u){if(!("targetChange"in u))return Rt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Eo(c.readTime):Rt.min()}(e);return this.listener.Go(t,o)}Qo(e){const t={};t.database=zc(this.wt),t.addTarget=function(u,c){let g;const C=c.target;return g=Oo(C)?{documents:n_(u,C)}:{query:r_(u,C)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?g.resumeToken=oc(u,c.resumeToken):c.snapshotVersion.compareTo(Rt.min())>0&&(g.readTime=Gs(u,c.snapshotVersion.toTimestamp())),g}(this.wt,e);const o=function E0(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Mo(t)}jo(e){const t={};t.database=zc(this.wt),t.removeTarget=e,this.Mo(t)}}class mu extends Yf{constructor(e,t,o,u,c,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.wt=c,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function t_(i,e){return i&&i.length>0?(yn(void 0!==e),i.map(t=>function(o,u){let c=Eo(o.updateTime?o.updateTime:u);return c.isEqual(Rt.min())&&(c=Eo(u)),new Vd(c,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Eo(e.commitTime);return this.listener.Jo(o,t)}return yn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=zc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ru(this.wt,o))};this.Mo(t)}}class fm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.wt=u,this.Zo=!1}tu(){if(this.Zo)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.bo.ro(e,t,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(tt.UNKNOWN,u.toString())})}ao(e,t,o,u){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.bo.ao(e,t,o,c,g,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(tt.UNKNOWN,c.toString())})}terminate(){this.Zo=!0}}class x_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Xr(t),this.su=!1):At("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Qf{constructor(e,t,o,u,c){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(C=>{o.enqueueAndForget((0,ce.Z)(function*(){var V;Lu(g)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,ce.Z)(function*(G){const ee=Ht(G);ee.lu.add(4),yield Hl(ee),ee._u.set("Unknown"),ee.lu.delete(4),yield za(ee)}),function(G){return V.apply(this,arguments)})(g))}))}),this._u=new x_(o,u)}}function za(i){return ad.apply(this,arguments)}function ad(){return ad=(0,ce.Z)(function*(i){if(Lu(i))for(const e of i.fu)yield e(!0)}),ad.apply(this,arguments)}function Hl(i){return ud.apply(this,arguments)}function ud(){return ud=(0,ce.Z)(function*(i){for(const e of i.fu)yield e(!1)}),ud.apply(this,arguments)}function Jf(i,e){const t=Ht(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),cd(t)?mc(t):Dl(t).Co()&&pm(t,e))}function gc(i,e){const t=Ht(i),o=Dl(t);t.hu.delete(e),o.Co()&&ld(t,e),0===t.hu.size&&(o.Co()?o.ko():Lu(t)&&t._u.set("Unknown"))}function pm(i,e){i.wu.Nt(e.targetId),Dl(i).Qo(e)}function ld(i,e){i.wu.Nt(e),Dl(i).jo(e)}function mc(i){i.wu=new Jy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Dl(i).start(),i._u.iu()}function cd(i){return Lu(i)&&!Dl(i).Do()&&i.hu.size>0}function Lu(i){return 0===Ht(i).lu.size}function yh(i){i.wu=void 0}function b0(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,ce.Z)(function*(i){i.hu.forEach((e,t)=>{pm(i,e)})}),Xf.apply(this,arguments)}function P_(i,e){return ep.apply(this,arguments)}function ep(){return ep=(0,ce.Z)(function*(i,e){yh(i),cd(i)?(i._u.uu(e),mc(i)):i._u.set("Unknown")}),ep.apply(this,arguments)}function N_(i,e,t){return _h.apply(this,arguments)}function _h(){return _h=(0,ce.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof Tg&&2===e.state&&e.cause)try{yield(o=(0,ce.Z)(function*(u,c){const g=c.cause;for(const C of c.targetIds)u.hu.has(C)&&(yield u.remoteSyncer.rejectListen(C,g),u.hu.delete(C),u.wu.removeTarget(C))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){At("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield tp(i,o)}else if(e instanceof Wd?i.wu.Ut(e):e instanceof Cg?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(Rt.min()))try{const o=yield sm(i.localStore);t.compareTo(o)>=0&&(yield function(u,c){const g=u.wu.Yt(c);return g.targetChanges.forEach((C,V)=>{if(C.resumeToken.approximateByteSize()>0){const G=u.hu.get(V);G&&u.hu.set(V,G.withResumeToken(C.resumeToken,c))}}),g.targetMismatches.forEach(C=>{const V=u.hu.get(C);if(!V)return;u.hu.set(C,V.withResumeToken(ci.EMPTY_BYTE_STRING,V.snapshotVersion)),ld(u,C);const G=new Ou(V.target,C,1,V.sequenceNumber);pm(u,G)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){At("RemoteStore","Failed to raise snapshot:",o),yield tp(i,o)}var o}),_h.apply(this,arguments)}function tp(i,e,t){return np.apply(this,arguments)}function np(){return np=(0,ce.Z)(function*(i,e,t){if(!ui(e))throw e;i.lu.add(1),yield Hl(i),i._u.set("Offline"),t||(t=()=>sm(i.localStore)),i.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield za(i)}))}),np.apply(this,arguments)}function R_(i,e){return e().catch(t=>tp(i,t,e))}function Gl(i){return vh.apply(this,arguments)}function vh(){return vh=(0,ce.Z)(function*(i){const e=Ht(i),t=rl(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;O_(e);)try{const u=yield T_(e.localStore,o);if(null===u){0===e.au.length&&t.ko();break}o=u.batchId,rp(e,u)}catch(u){yield tp(e,u)}k_(e)&&F_(e)}),vh.apply(this,arguments)}function O_(i){return Lu(i)&&i.au.length<10}function rp(i,e){i.au.push(e);const t=rl(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function k_(i){return Lu(i)&&!rl(i).Do()&&i.au.length>0}function F_(i){rl(i).start()}function C0(i){return gm.apply(this,arguments)}function gm(){return gm=(0,ce.Z)(function*(i){rl(i).Xo()}),gm.apply(this,arguments)}function T0(i){return mm.apply(this,arguments)}function mm(){return mm=(0,ce.Z)(function*(i){const e=rl(i);for(const t of i.au)e.Ho(t.mutations)}),mm.apply(this,arguments)}function A0(i,e,t){return ym.apply(this,arguments)}function ym(){return ym=(0,ce.Z)(function*(i,e,t){const o=i.au.shift(),u=Yd.from(o,e,t);yield R_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Gl(i)}),ym.apply(this,arguments)}function S0(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,ce.Z)(function*(i,e){var t;e&&rl(i).zo&&(yield(t=(0,ce.Z)(function*(o,u){if(wg(c=u.code)&&c!==tt.ABORTED){const g=o.au.shift();rl(o).No(),yield R_(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Gl(o)}var c}),function(o,u){return t.apply(this,arguments)})(i,e)),k_(i)&&F_(i)}),_m.apply(this,arguments)}function nl(i,e){return dd.apply(this,arguments)}function dd(){return dd=(0,ce.Z)(function*(i,e){const t=Ht(i);t.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const o=Lu(t);t.lu.add(3),yield Hl(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield za(t)}),dd.apply(this,arguments)}function ip(i,e){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ce.Z)(function*(i,e){const t=Ht(i);e?(t.lu.delete(2),yield za(t)):e||(t.lu.add(2),yield Hl(t),t._u.set("Unknown"))}),Eh.apply(this,arguments)}function Dl(i){return i.mu||(i.mu=function(e,t,o){const u=Ht(e);return u.tu(),new mh(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:b0.bind(null,i),Jr:P_.bind(null,i),Go:N_.bind(null,i)}),i.fu.push(function(){var e=(0,ce.Z)(function*(t){t?(i.mu.No(),cd(i)?mc(i):i._u.set("Unknown")):(yield i.mu.stop(),yh(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function rl(i){return i.gu||(i.gu=function(e,t,o){const u=Ht(e);return u.tu(),new mu(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,o)}(i.datastore,i.asyncQueue,{zr:C0.bind(null,i),Jr:S0.bind(null,i),Yo:T0.bind(null,i),Jo:A0.bind(null,i)}),i.fu.push(function(){var e=(0,ce.Z)(function*(t){t?(i.gu.No(),yield Gl(i)):(yield i.gu.stop(),i.au.length>0&&(At("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class hd{constructor(e,t,o,u,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,c){const g=Date.now()+o,C=new hd(e,t,g,u,c);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(i,e){if(Xr("AsyncQueue",`${e}: ${i}`),ui(i))return new Ct(tt.UNAVAILABLE,`${e}: ${i}`);throw i}class Wa{constructor(e){this.comparator=e?(t,o)=>e(t,o)||$t.comparator(t.key,o.key):(t,o)=>$t.comparator(t.key,o.key),this.keyedMap=jc(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new Wa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Wa;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class sp{constructor(){this.yu=new li($t.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Yt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class _c{constructor(e,t,o,u,c,g,C,V){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=g,this.syncStateChanged=C,this.excludesMetadataChanges=V}static fromInitialDocuments(e,t,o,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new _c(e,t,Wa.emptySet(t),c,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class op{constructor(){this.Iu=void 0,this.listeners=[]}}class L_{constructor(){this.queries=new Ol(e=>p(e),h),this.onlineState="Unknown",this.Tu=new Set}}function wh(i,e){return ap.apply(this,arguments)}function ap(){return ap=(0,ce.Z)(function*(i,e){const t=Ht(i),o=e.query;let u=!1,c=t.queries.get(o);if(c||(u=!0,c=new op),u)try{c.Iu=yield t.onListen(o)}catch(g){const C=yc(g,`Initialization of query '${A(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,c),c.listeners.push(e),e.Eu(t.onlineState),c.Iu&&e.Au(c.Iu)&&bl(t)}),ap.apply(this,arguments)}function up(i,e){return zl.apply(this,arguments)}function zl(){return zl=(0,ce.Z)(function*(i,e){const t=Ht(i),o=e.query;let u=!1;const c=t.queries.get(o);if(c){const g=c.listeners.indexOf(e);g>=0&&(c.listeners.splice(g,1),u=0===c.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),zl.apply(this,arguments)}function vc(i,e){const t=Ht(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const C of g.listeners)C.Au(u)&&(o=!0);g.Iu=u}}o&&bl(t)}function lp(i,e,t){const o=Ht(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(t);o.queries.delete(e)}function bl(i){i.Tu.forEach(e=>{e.next()})}class Wl{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new _c(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Ec{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class vm{constructor(e){this.wt=e}Wi(e){return hu(this.wt,e)}zi(e){return e.metadata.exists?Pg(this.wt,e.document,!1):er.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Eo(e)}}class Em{constructor(e,t,o){this.xu=e,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cp(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=fn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new vm(this.wt);for(const u of e)if(u.metadata.queries){const c=o.Wi(u.metadata.name);for(const g of u.metadata.queries){const C=(t.get(g)||yr()).add(c);t.set(g,C)}}return t}complete(){var e=this;return(0,ce.Z)(function*(){const t=yield function qf(i,e,t,o){return lm.apply(this,arguments)}(e.localStore,new vm(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const u of e.queries)yield Kf(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function cp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Ih{constructor(e){this.key=e}}class Dh{constructor(e){this.key=e}}class dp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=yr(),this.mutatedKeys=yr(),this.Lu=je(e),this.Uu=new Wa(this.Lu)}get qu(){return this.Fu}Ku(e,t){const o=t?t.Gu:new sp,u=t?t.Uu:this.Uu;let c=t?t.mutatedKeys:this.mutatedKeys,g=u,C=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,ve)=>{const Ye=u.get(ee),pt=z(this.query,ve)?ve:null,xt=!!Ye&&this.mutatedKeys.has(Ye.key),Xt=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let vn=!1;Ye&&pt?Ye.data.isEqual(pt.data)?xt!==Xt&&(o.track({type:3,doc:pt}),vn=!0):this.Qu(Ye,pt)||(o.track({type:2,doc:pt}),vn=!0,(V&&this.Lu(pt,V)>0||G&&this.Lu(pt,G)<0)&&(C=!0)):!Ye&&pt?(o.track({type:0,doc:pt}),vn=!0):Ye&&!pt&&(o.track({type:1,doc:Ye}),vn=!0,(V||G)&&(C=!0)),vn&&(pt?(g=g.add(pt),c=Xt?c.add(ee):c.delete(ee)):(g=g.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const ee="F"===this.query.limitType?g.last():g.first();g=g.delete(ee.key),c=c.delete(ee.key),o.track({type:1,doc:ee})}return{Uu:g,Gu:o,Oi:C,mutatedKeys:c}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const c=e.Gu.pu();c.sort((G,ee)=>function(ve,Ye){const pt=xt=>{switch(xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return pt(ve)-pt(Ye)}(G.type,ee.type)||this.Lu(G.doc,ee.doc)),this.ju(o);const g=t?this.Wu():[],C=0===this.Bu.size&&this.current?1:0,V=C!==this.$u;return this.$u=C,0!==c.length||V?{snapshot:new _c(this.query,e.Uu,u,c,e.mutatedKeys,0===C,V,!1),zu:g}:{zu:g}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new sp,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=yr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Dh(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new Ih(o))}),t}Ju(e){this.Fu=e.ji,this.Bu=yr();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return _c.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class bh{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class V_{constructor(e){this.key=e,this.Xu=!1}}class wm{constructor(e,t,o,u,c,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=g,this.Zu={},this.tc=new Ol(C=>p(C),h),this.ec=new Map,this.nc=new Set,this.sc=new li($t.comparator),this.ic=new Map,this.rc=new Lf,this.oc={},this.uc=new Map,this.cc=El.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function M0(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,ce.Z)(function*(i,e){const t=bp(i);let o,u;const c=t.tc.get(e);if(c)o=c.targetId,t.sharedClientState.addLocalQueryTarget(o),u=c.view.Yu();else{const g=yield hc(t.localStore,Ha(e));t.isPrimaryClient&&Jf(t.remoteStore,g);const C=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield Th(t,e,o,"current"===C)}return u}),Ch.apply(this,arguments)}function Th(i,e,t,o){return hp.apply(this,arguments)}function hp(){return hp=(0,ce.Z)(function*(i,e,t,o){i.hc=(ee,ve,Ye)=>{return(pt=(0,ce.Z)(function*(xt,Xt,vn,jr){let yi=Xt.view.Ku(vn);yi.Oi&&(yi=yield nd(xt.localStore,Xt.query,!1).then(({documents:Hr})=>Xt.view.Ku(Hr,yi)));const $r=jr&&jr.targetChanges.get(Xt.targetId),Tr=Xt.view.applyChanges(yi,xt.isPrimaryClient,$r);return Sh(xt,Xt.targetId,Tr.zu),Tr.snapshot}),function(xt,Xt,vn,jr){return pt.apply(this,arguments)})(i,ee,ve,Ye);var pt};const u=yield nd(i.localStore,e,!0),c=new dp(e,u.ji),g=c.Ku(u.documents),C=kl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),V=c.applyChanges(g,i.isPrimaryClient,C);Sh(i,t,V.zu);const G=new bh(e,t,c);return i.tc.set(e,G),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),V.snapshot}),hp.apply(this,arguments)}function Im(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,ce.Z)(function*(i,e){const t=Ht(i),o=t.tc.get(e),u=t.ec.get(o.targetId);if(u.length>1)return t.ec.set(o.targetId,u.filter(c=>!h(c,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),gc(t.remoteStore,o.targetId),wc(t,o.targetId)}).catch(Ns))):(wc(t,o.targetId),yield fc(t.localStore,o.targetId,!0))}),fp.apply(this,arguments)}function Ea(){return Ea=(0,ce.Z)(function*(i,e,t){const o=Ph(i);try{const u=yield function(c,g){const C=Ht(c),V=St.now(),G=g.reduce((Ye,pt)=>Ye.add(pt.key),yr());let ee,ve;return C.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let pt=vo(),xt=yr();return C.Ui.getEntries(Ye,G).next(Xt=>{pt=Xt,pt.forEach((vn,jr)=>{jr.isValidDocument()||(xt=xt.add(vn))})}).next(()=>C.localDocuments.getOverlayedDocuments(Ye,pt)).next(Xt=>{ee=Xt;const vn=[];for(const jr of g){const yi=jd(jr,ee.get(jr.key).overlayedDocument);null!=yi&&vn.push(new Yu(jr.key,yi,Br(yi.value.mapValue),zi.exists(!0)))}return C.mutationQueue.addMutationBatch(Ye,V,vn,g)}).next(Xt=>{ve=Xt;const vn=Xt.applyToLocalDocumentSet(ee,xt);return C.documentOverlayCache.saveOverlays(Ye,Xt.batchId,vn)})}).then(()=>({batchId:ve.batchId,changes:Gd(ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,g,C){let V=c.oc[c.currentUser.toKey()];V||(V=new li(X)),V=V.insert(g,C),c.oc[c.currentUser.toKey()]=V}(o,u.batchId,t),yield yu(o,u.changes),yield Gl(o.remoteStore)}catch(u){const c=yc(u,"Failed to persist write");t.reject(c)}}),Ea.apply(this,arguments)}function Dm(i,e){return pp.apply(this,arguments)}function pp(){return pp=(0,ce.Z)(function*(i,e){const t=Ht(i);try{const o=yield om(t.localStore,e);e.targetChanges.forEach((u,c)=>{const g=t.ic.get(c);g&&(yn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.Xu=!0:u.modifiedDocuments.size>0?yn(g.Xu):u.removedDocuments.size>0&&(yn(g.Xu),g.Xu=!1))}),yield yu(t,o,e)}catch(o){yield Ns(o)}}),pp.apply(this,arguments)}function B_(i,e,t){const o=Ht(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.tc.forEach((c,g)=>{const C=g.view.Eu(e);C.snapshot&&u.push(C.snapshot)}),function(c,g){const C=Ht(c);C.onlineState=g;let V=!1;C.queries.forEach((G,ee)=>{for(const ve of ee.listeners)ve.Eu(g)&&(V=!0)}),V&&bl(C)}(o.eventManager,e),u.length&&o.Zu.Go(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function j_(i,e,t){return fd.apply(this,arguments)}function fd(){return fd=(0,ce.Z)(function*(i,e,t){const o=Ht(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ic.get(e),c=u&&u.key;if(c){let g=new li($t.comparator);g=g.insert(c,er.newNoDocument(c,Rt.min()));const C=yr().add(c),V=new Hc(Rt.min(),new Map,new Ar(X),g,C);yield Dm(o,V),o.sc=o.sc.remove(c),o.ic.delete(e),tu(o)}else yield fc(o.localStore,e,!1).then(()=>wc(o,e,t)).catch(Ns)}),fd.apply(this,arguments)}function bm(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ce.Z)(function*(i,e){const t=Ht(i),o=e.batch.batchId;try{const u=yield dh(t.localStore,e);_p(t,o,null),Ah(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield yu(t,u)}catch(u){yield Ns(u)}}),gp.apply(this,arguments)}function $_(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,ce.Z)(function*(i,e,t){const o=Ht(i);try{const u=yield function(c,g){const C=Ht(c);return C.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let G;return C.mutationQueue.lookupMutationBatch(V,g).next(ee=>(yn(null!==ee),G=ee.keys(),C.mutationQueue.removeMutationBatch(V,ee))).next(()=>C.mutationQueue.performConsistencyCheck(V)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(V,G,g)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,G)).next(()=>C.localDocuments.getDocuments(V,G))})}(o.localStore,e);_p(o,e,t),Ah(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield yu(o,u)}catch(u){yield Ns(u)}}),mp.apply(this,arguments)}function yp(){return yp=(0,ce.Z)(function*(i,e){const t=Ht(i);Lu(t.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(c){const g=Ht(c);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>g.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const u=t.uc.get(o)||[];u.push(e),t.uc.set(o,u)}catch(o){const u=yc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),yp.apply(this,arguments)}function Ah(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function _p(i,e,t){const o=Ht(i);let u=o.oc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(t?c.reject(t):c.resolve(),u=u.remove(e)),o.oc[o.currentUser.toKey()]=u}}function wc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),t&&i.Zu.lc(o,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||vp(i,o)})}function vp(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(gc(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),tu(i))}function Sh(i,e,t){for(const o of t)o instanceof Ih?(i.rc.addReference(o.key,e),H_(i,o)):o instanceof Dh?(At("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||vp(i,o.key)):Yt()}function H_(i,e){const t=e.key,o=t.path.canonicalString();i.sc.get(t)||i.nc.has(o)||(At("SyncEngine","New document in limbo: "+t),i.nc.add(o),tu(i))}function tu(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new $t(fn.fromString(e)),o=i.cc.next();i.ic.set(o,new V_(t)),i.sc=i.sc.insert(t,o),Jf(i.remoteStore,new Ou(Ha(Zo(t.path)),o,2,xr.ot))}}function yu(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ce.Z)(function*(i,e,t){const o=Ht(i),u=[],c=[],g=[];var C;o.tc.isEmpty()||(o.tc.forEach((C,V)=>{g.push(o.hc(V,e,t).then(G=>{if(G){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,G.fromCache?"not-current":"current"),u.push(G);const ee=lh.Vi(V.targetId,G);c.push(ee)}}))}),yield Promise.all(g),o.Zu.Go(u),yield(C=(0,ce.Z)(function*(V,G){const ee=Ht(V);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",ve=>Ke.forEach(G,Ye=>Ke.forEach(Ye.Pi,pt=>ee.persistence.referenceDelegate.addReference(ve,Ye.targetId,pt)).next(()=>Ke.forEach(Ye.vi,pt=>ee.persistence.referenceDelegate.removeReference(ve,Ye.targetId,pt)))))}catch(ve){if(!ui(ve))throw ve;At("LocalStore","Failed to update sequence numbers: "+ve)}for(const ve of G){const Ye=ve.targetId;if(!ve.fromCache){const pt=ee.$i.get(Ye),Xt=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);ee.$i=ee.$i.insert(Ye,Xt)}}}),function(V,G){return C.apply(this,arguments)})(o.localStore,c))}),Ep.apply(this,arguments)}function G_(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ce.Z)(function*(i,e){const t=Ht(i);if(!t.currentUser.isEqual(e)){At("SyncEngine","User change. New user:",e.toKey());const o=yield im(t.localStore,e);t.currentUser=e,(u=t).uc.forEach(g=>{g.forEach(C=>{C.reject(new Ct(tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.uc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yu(t,o.Ki)}var u}),Tm.apply(this,arguments)}function Am(i,e){const t=Ht(i),o=t.ic.get(e);if(o&&o.Xu)return yr().add(o.key);{let u=yr();const c=t.ec.get(e);if(!c)return u;for(const g of c){const C=t.tc.get(g);u=u.unionWith(C.view.qu)}return u}}function z_(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,ce.Z)(function*(i,e){const t=Ht(i),o=yield nd(t.localStore,e.query,!0),u=e.view.Ju(o);return t.isPrimaryClient&&Sh(t,e.targetId,u.zu),u}),wp.apply(this,arguments)}function W_(i,e){return pd.apply(this,arguments)}function pd(){return pd=(0,ce.Z)(function*(i,e){const t=Ht(i);return zf(t.localStore,e).then(o=>yu(t,o))}),pd.apply(this,arguments)}function q_(i,e,t,o){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ce.Z)(function*(i,e,t,o){const u=Ht(i),c=yield function(g,C){const V=Ht(g),G=Ht(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",ee=>G.yn(ee,C).next(ve=>ve?V.localDocuments.getDocuments(ee,ve):Ke.resolve(null)))}(u.localStore,e);var C;null!==c?("pending"===t?yield Gl(u.remoteStore):"acknowledged"===t||"rejected"===t?(_p(u,e,o||null),Ah(u,e),C=e,Ht(Ht(u.localStore).mutationQueue).In(C)):Yt(),yield yu(u,c)):At("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ip.apply(this,arguments)}function gd(){return gd=(0,ce.Z)(function*(i,e){const t=Ht(i);if(bp(t),Ph(t),!0===e&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Sm(t,o.toArray());t.ac=!0,yield ip(t.remoteStore,!0);for(const c of u)Jf(t.remoteStore,c)}else if(!1===e&&!1!==t.ac){const o=[];let u=Promise.resolve();t.ec.forEach((c,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(wc(t,g),fc(t.localStore,g,!0))),gc(t.remoteStore,g)}),yield u,yield Sm(t,o),function(c){const g=Ht(c);g.ic.forEach((C,V)=>{gc(g.remoteStore,V)}),g.rc.cs(),g.ic=new Map,g.sc=new li($t.comparator)}(t),t.ac=!1,yield ip(t.remoteStore,!1)}}),gd.apply(this,arguments)}function Sm(i,e,t){return md.apply(this,arguments)}function md(){return md=(0,ce.Z)(function*(i,e,t){const o=Ht(i),u=[],c=[];for(const g of e){let C;const V=o.ec.get(g);if(V&&0!==V.length){C=yield hc(o.localStore,Ha(V[0]));for(const G of V){const ee=o.tc.get(G),ve=yield z_(o,ee);ve.snapshot&&c.push(ve.snapshot)}}else{const G=yield um(o.localStore,g);C=yield hc(o.localStore,G),yield Th(o,xh(G),g,!1)}u.push(C)}return o.Zu.Go(c),u}),md.apply(this,arguments)}function xh(i){return cs(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Mm(i){const e=Ht(i);return Ht(Ht(e.localStore).persistence).Ri()}function x0(i,e,t,o){return xm.apply(this,arguments)}function xm(){return xm=(0,ce.Z)(function*(i,e,t,o){const u=Ht(i);if(u.ac)return void At("SyncEngine","Ignoring unexpected query state notification.");const c=u.ec.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const g=yield zf(u.localStore,te(c[0])),C=Hc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yu(u,g,C);break}case"rejected":yield fc(u.localStore,e,!0),wc(u,e,o);break;default:Yt()}}),xm.apply(this,arguments)}function Dp(i,e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,ce.Z)(function*(i,e,t){const o=bp(i);if(o.ac){for(const u of e){if(o.ec.has(u)){At("SyncEngine","Adding an already active target "+u);continue}const c=yield um(o.localStore,u),g=yield hc(o.localStore,c);yield Th(o,xh(c),g.targetId,!1),Jf(o.remoteStore,g)}for(const u of t)o.ec.has(u)&&(yield fc(o.localStore,u,!1).then(()=>{gc(o.remoteStore,u),wc(o,u)}).catch(Ns))}}),Pm.apply(this,arguments)}function bp(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Am.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j_.bind(null,e),e.Zu.Go=vc.bind(null,e.eventManager),e.Zu.lc=lp.bind(null,e.eventManager),e}function Ph(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$_.bind(null,e),e}class Cp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.wt=od(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return jl(this.persistence,new b_,e.initialUser,this.wt)}_c(e){return new Uf(oh.Ms,this.wt)}dc(e){return new S_}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tp extends Cp{constructor(e,t,o){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ce.Z)(function*(){yield t().call(o,e),yield o.yc.initialize(o,e),yield Ph(o.yc.syncEngine),yield Gl(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return jl(this.persistence,new b_,e.initialUser,this.wt)}mc(e,t){return new Xg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const o=new cl(t,this.persistence);return new Uc(e.asyncQueue,o)}_c(e){const t=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Fa.withCacheSize(this.cacheSizeBytes):Fa.DEFAULT;return new rm(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ph(),sd(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new S_}}class Rm extends Tp{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ce.Z)(function*(){yield t().call(o,e);const u=o.yc.syncEngine;o.sharedClientState instanceof id&&(o.sharedClientState.syncEngine={kr:q_.bind(null,u),Or:x0.bind(null,u),Mr:Dp.bind(null,u),Ri:Mm.bind(null,u),Nr:W_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var c=(0,ce.Z)(function*(g){yield function Mh(i,e){return gd.apply(this,arguments)}(o.yc.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return c.apply(this,arguments)}}())})()}dc(e){const t=ph();if(!id.V(t))throw new Ct(tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new id(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class _u{initialize(e,t){var o=this;return(0,ce.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>B_(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=G_.bind(null,o.syncEngine),yield ip(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L_}createDatastore(e){const t=od(e.databaseInfo.databaseId),o=new hm(e.databaseInfo);return new fm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,c=C=>B_(this.syncEngine,C,0),g=M_.V()?new M_:new w0,new Qf(t,o,u,c,g);var t,o,u,c,g}createSyncEngine(e,t){return function(o,u,c,g,C,V,G){const ee=new wm(o,u,c,g,C,V);return G&&(ee.ac=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(t){const o=Ht(t);At("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Hl(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yd(i,e=10240){let t=0;return{read:()=>(0,ce.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Nh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class K_{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new bi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,ce.Z)(function*(){const t=yield e.bc();if(null===t)return null;const o=e.Ac.decode(t),u=Number(o);isNaN(u)&&e.Pc(`length string (${o}) is not valid number`);const c=yield e.vc(u);return new Ec(JSON.parse(c),t.length+u)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,ce.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class P0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ct(tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ce.Z)(function*(c,g){const C=Ht(c),V=zc(C.wt)+"/documents",G={documents:g.map(pt=>Gc(C.wt,pt))},ee=yield C.ao("BatchGetDocuments",V,G,g.length),ve=new Map;ee.forEach(pt=>{const xt=function Xy(i,e){return"found"in e?function(t,o){yn(!!o.found);const u=hu(t,o.found.name),c=Eo(o.found.updateTime),g=new Qn({mapValue:{fields:o.found.fields}});return er.newFoundDocument(u,c,g)}(i,e):"missing"in e?function(t,o){yn(!!o.missing),yn(!!o.readTime);const u=hu(t,o.missing),c=Eo(o.readTime);return er.newNoDocument(u,c)}(i,e):Yt()}(C.wt,pt);ve.set(xt.key.toString(),xt)});const Ye=[];return g.forEach(pt=>{const xt=ve.get(pt.toString());yn(!!xt),Ye.push(xt)}),Ye}),function(c,g){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ml(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const c=$t.fromPath(u);e.mutations.push(new $d(c,e.precondition(c)))}),yield(o=(0,ce.Z)(function*(u,c){const g=Ht(u),C=zc(g.wt)+"/documents",V={writes:c.map(G=>Ru(g.wt,G))};yield g.ro("Commit",C,V)}),function(u,c){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yt();t=Rt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ct(tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zi.updateTime(t):zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ct(tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zi.updateTime(t)}return zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ap{constructor(e,t,o,u,c){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=c,this.Dc=o.maxAttempts,this.So=new gh(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,ce.Z)(function*(){const t=new P0(e.datastore),o=e.xc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(c=>{e.Nc(c)}))}).catch(u=>{e.Nc(u)})}))}xc(e){try{const t=this.updateFunction(e);return!Bt(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wg(t)}return!1}}class Om{constructor(e,t,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=mi.UNAUTHENTICATED,this.clientId=Y.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,ce.Z)(function*(C){At("FirestoreClient","Received user=",C.uid),yield c.authCredentialListener(C),c.user=C});return function(C){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(At("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=yc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Sp(i,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ce.Z)(function*(c){o.isEqual(c)||(yield im(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Rh.apply(this,arguments)}function Mp(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Pp(i);At("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>nl(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>nl(e.remoteStore,c)),i.onlineComponents=e}),xp.apply(this,arguments)}function Pp(i){return Np.apply(this,arguments)}function Np(){return Np=(0,ce.Z)(function*(i){return i.offlineComponents||(At("FirestoreClient","Using default OfflineComponentProvider"),yield Sp(i,new Cp)),i.offlineComponents}),Np.apply(this,arguments)}function Oh(i){return kh.apply(this,arguments)}function kh(){return kh=(0,ce.Z)(function*(i){return i.onlineComponents||(At("FirestoreClient","Using default OnlineComponentProvider"),yield Mp(i,new _u)),i.onlineComponents}),kh.apply(this,arguments)}function Z_(i){return Pp(i).then(e=>e.persistence)}function Fh(i){return Pp(i).then(e=>e.localStore)}function km(i){return Oh(i).then(e=>e.remoteStore)}function Rp(i){return Oh(i).then(e=>e.syncEngine)}function _d(i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ce.Z)(function*(i){const e=yield Oh(i),t=e.eventManager;return t.onListen=M0.bind(null,e.syncEngine),t.onUnlisten=Im.bind(null,e.syncEngine),t}),Fm.apply(this,arguments)}function Op(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(u,c,g,C,V){const G=new Nh({next:ve=>{c.enqueueAndForget(()=>up(u,ee));const Ye=ve.docs.has(g);!Ye&&ve.fromCache?V.reject(new Ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ye&&ve.fromCache&&C&&"server"===C.source?V.reject(new Ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(ve)},error:ve=>V.reject(ve)}),ee=new Wl(Zo(g.path),G,{includeMetadataChanges:!0,Du:!0});return wh(u,ee)}(yield _d(i),i.asyncQueue,e,t,o)})),o.promise}function nu(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(u,c,g,C,V){const G=new Nh({next:ve=>{c.enqueueAndForget(()=>up(u,ee)),ve.fromCache&&"server"===C.source?V.reject(new Ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(ve)},error:ve=>V.reject(ve)}),ee=new Wl(g,G,{includeMetadataChanges:!0,Du:!0});return wh(u,ee)}(yield _d(i),i.asyncQueue,e,t,o)})),o.promise}const kp=new Map;function Fp(i,e,t){if(!t)throw new Ct(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function J_(i,e,t,o){if(!0===e&&!0===o)throw new Ct(tt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Lp(i){if(!$t.isDocumentKey(i))throw new Ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lh(i){if($t.isDocumentKey(i))throw new Ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Yt()}function Pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vh(i);throw new Ct(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Bm(i,e){if(e<=0)throw new Ct(tt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,J_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jm({}),this._settingsFrozen=!1,e instanceof _t?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _t(u.options.projectId)}(e))}get app(){if(!this._app)throw new Ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $u;switch(t.type){case"gapi":const o=t.client;return yn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new D(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kp.get(e);t&&(At("ComponentProvider","Removing Datastore"),kp.delete(e),t.terminate())}(this),Promise.resolve()}}class Ji{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Jo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class qa extends Jo{constructor(e,t,o){super(e,t,Zo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new $t(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function Cl(i,e,...t){if(i=(0,oe.m9)(i),Fp("collection","path",e),i instanceof vd){const o=fn.fromString(e,...t);return Lh(o),new qa(i,null,o)}{if(!(i instanceof Ji||i instanceof qa))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fn.fromString(e,...t));return Lh(o),new qa(i.firestore,null,o)}}function Tl(i,e,...t){if(i=(0,oe.m9)(i),1===arguments.length&&(e=Y.I()),Fp("doc","path",e),i instanceof vd){const o=fn.fromString(e,...t);return Lp(o),new Ji(i,null,new $t(o))}{if(!(i instanceof Ji||i instanceof qa))throw new Ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(fn.fromString(e,...t));return Lp(o),new Ji(i.firestore,i instanceof qa?i.converter:null,new $t(o))}}function $m(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),(i instanceof Ji||i instanceof qa)&&(e instanceof Ji||e instanceof qa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Hm(i,e){return i=(0,oe.m9)(i),e=(0,oe.m9)(e),i instanceof Jo&&e instanceof Jo&&i.firestore===e.firestore&&h(i._query,e._query)&&i.converter===e.converter}class Vp{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new gh(this,"async_queue_retry"),this.Kc=()=>{const t=sd();t&&At("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=sd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=sd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new bi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!ui(t))throw t;At("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=t,t}enqueueAfterDelay(e,t,o){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const u=hd.createAndSchedule(this,e,t,o,c=>this.Wc(c));return this.$c.push(u),u}Gc(){this.Bc&&Yt()}verifyOperationInProgress(){}zc(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Up(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Vu{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends vd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Vp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Uh(this),this._firestoreClient.terminate()}}function di(i){return i._firestoreClient||Uh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Uh(i){var e;const t=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new rt(i._databaseId,c,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var c,C;i._firestoreClient=new Om(i._authCredentials,i._appCheckCredentials,i._queue,o)}function ql(i,e,t){const o=new bi;return i.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield Sp(i,t),yield Mp(i,e),o.resolve()}catch(u){const c=u;if(!("FirebaseError"===(g=c).name?g.code===tt.FAILED_PRECONDITION||g.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var g})).then(()=>o.promise)}function jp(i){if(i._initialized||i._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(ci.fromBase64String(e))}catch(t){throw new Ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vu(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Al{constructor(e){this._methodName=e}}class Id{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const zm=/^__.*__$/;class Wm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}class qm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $p(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class Bh{constructor(e,t,o,u,c,g){this.settings=e,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=u,void 0===c&&this.Xc(),this.fieldTransforms=c||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.sa(e),u}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:o,na:!1});return u.Xc(),u}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Ad(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if($p(this.Zc)&&zm.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Km{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=o||od(e)}aa(e,t,o,u=!1){return new Bh({Zc:e,methodName:t,ca:o,path:_n.emptyPath(),na:!1,ua:u},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function il(i){const e=i._freezeSettings(),t=od(i._databaseId);return new Km(i._databaseId,!!e.ignoreUndefinedProperties,t)}function xc(i,e,t,o,u,c={}){const g=i.aa(c.merge||c.mergeFields?2:0,e,t,u);Cd("Data must be an object, but it was:",g,o);const C=zp(o,g);let V,G;if(c.merge)V=new Rs(g.fieldMask),G=g.fieldTransforms;else if(c.mergeFields){const ee=[];for(const ve of c.mergeFields){const Ye=Hh(e,ve,t);if(!g.contains(Ye))throw new Ct(tt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);Gh(ee,Ye)||ee.push(Ye)}V=new Rs(ee),G=g.fieldTransforms.filter(ve=>V.covers(ve.field))}else V=null,G=g.fieldTransforms;return new Wm(new Qn(C),V,G)}class Dd extends Al{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function bd(i,e,t){return new Bh({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Pc extends Al{_toFieldTransform(e){return new Nu(e.path,new Pu)}isEqual(e){return e instanceof Pc}}class Hp extends Al{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=bd(this,e,!0),o=this.ha.map(c=>sl(c,t)),u=new eu(o);return new Nu(e.path,u)}isEqual(e){return this===e}}class tv extends Al{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=bd(this,e,!0),o=this.ha.map(c=>sl(c,t)),u=new Zu(o);return new Nu(e.path,u)}isEqual(e){return this===e}}class jh extends Al{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new fl(e.wt,pr(e.wt,this.la));return new Nu(e.path,t)}isEqual(e){return this===e}}function Nc(i,e,t,o){const u=i.aa(1,e,t);Cd("Data must be an object, but it was:",u,o);const c=[],g=Qn.empty();Zi(o,(V,G)=>{const ee=Td(e,V,t);G=(0,oe.m9)(G);const ve=u.ia(ee);if(G instanceof Dd)c.push(ee);else{const Ye=sl(G,ve);null!=Ye&&(c.push(ee),g.set(ee,Ye))}});const C=new Rs(c);return new qm(g,C,u.fieldTransforms)}function $h(i,e,t,o,u,c){const g=i.aa(1,e,t),C=[Hh(e,o,t)],V=[u];if(c.length%2!=0)throw new Ct(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<c.length;Ye+=2)C.push(Hh(e,c[Ye])),V.push(c[Ye+1]);const G=[],ee=Qn.empty();for(let Ye=C.length-1;Ye>=0;--Ye)if(!Gh(G,C[Ye])){const pt=C[Ye];let xt=V[Ye];xt=(0,oe.m9)(xt);const Xt=g.ia(pt);if(xt instanceof Dd)G.push(pt);else{const vn=sl(xt,Xt);null!=vn&&(G.push(pt),ee.set(pt,vn))}}const ve=new Rs(G);return new qm(ee,ve,g.fieldTransforms)}function Gp(i,e,t,o=!1){return sl(t,i.aa(o?4:3,e))}function sl(i,e){if(Wp(i=(0,oe.m9)(i)))return Cd("Unsupported field value:",e,i),zp(i,e);if(i instanceof Al)return function(t,o){if(!$p(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,o){const u=[];let c=0;for(const g of t){let C=sl(g,o.ra(c));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),c++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,oe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pr(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=St.fromDate(t);return{timestampValue:Gs(o.wt,u)}}if(t instanceof St){const u=new St(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gs(o.wt,u)}}if(t instanceof Id)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vu)return{bytesValue:oc(o.wt,t._byteString)};if(t instanceof Ji){const u=o.databaseId,c=t.firestore._databaseId;if(!c.isEqual(u))throw o.oa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pf(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${Vh(t)}`)}(i,e)}function zp(i,e){const t={};return Mu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(i,(o,u)=>{const c=sl(u,e.ea(o));null!=c&&(t[o]=c)}),{mapValue:{fields:t}}}function Wp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Id||i instanceof vu||i instanceof Ji||i instanceof Al)}function Cd(i,e,t){if(!Wp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Vh(t);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Hh(i,e,t){if((e=(0,oe.m9)(e))instanceof Uu)return e._internalPath;if("string"==typeof e)return Td(i,e);throw Ad("Field path arguments must be of type string or ",i,!1,void 0,t)}const nv=new RegExp("[~\\*/\\[\\]]");function Td(i,e,t){if(e.search(nv)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Uu(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ad(i,e,t,o,u){const c=o&&!o.isEmpty(),g=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let V="";return(c||g)&&(V+=" (found",c&&(V+=` in field ${o}`),g&&(V+=` in document ${u}`),V+=")"),new Ct(tt.INVALID_ARGUMENT,C+i+V)}function Gh(i,e){return i.some(t=>t.isEqual(e))}class Rc{constructor(e,t,o,u,c){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rv extends Rc{data(){return super.data()}}function Sd(i,e){return"string"==typeof e?Td(i,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends Rc{constructor(e,t,o,u,c,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Sd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Kl extends Eu{data(e={}){return super.data(e)}}class ol{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Sl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Kl(this._firestore,this._userDataWriter,o.key,o,new Sl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Kl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Sl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const C=new Kl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Sl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,G=-1;return 0!==g.type&&(V=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),1!==g.type&&(c=c.add(g.doc),G=c.indexOf(g.doc.key)),{type:Zm(g.type),doc:C,oldIndex:V,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function qp(i,e){return i instanceof Eu&&e instanceof Eu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ol&&e instanceof ol&&i._firestore===e._firestore&&Hm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Kp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oc{}function al(i,...e){for(const t of e)i=t._apply(i);return i}class Ym extends Oc{constructor(e,t,o){super(),this.fa=e,this.da=t,this._a=o,this.type="where"}_apply(e){const t=il(e.firestore),o=function(u,c,g,C,V,G,ee){let ve;if(V.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Zl(ee,G);const pt=[];for(const xt of ee)pt.push(Yp(C,u,xt));ve={arrayValue:{values:pt}}}else ve=Yp(C,u,ee)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Zl(ee,G),ve=Gp(g,"where",ee,"in"===G||"not-in"===G);const Ye=Gi.create(V,G,ve);return function(pt,xt){if(xt.ht()){const vn=Yo(pt);if(null!==vn&&!vn.isEqual(xt.field))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vn.toString()}' and '${xt.field.toString()}'`);const jr=cu(pt);null!==jr&&ry(0,xt.field,jr)}const Xt=function(vn,jr){for(const yi of vn.filters)if(jr.indexOf(yi.op)>=0)return yi.op;return null}(pt,function(vn){switch(vn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xt.op));if(null!==Xt)throw new Ct(tt.INVALID_ARGUMENT,Xt===xt.op?`Invalid query. You cannot use more than one '${xt.op.toString()}' filter.`:`Invalid query. You cannot use '${xt.op.toString()}' filters with '${Xt.toString()}' filters.`)}(u,Ye),Ye}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Jo(e.firestore,e.converter,function(u,c){const g=u.filters.concat([c]);return new $a(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class F0 extends Oc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(o,u,c){if(null!==o.startAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new ls(u,c);return function(C,V){if(null===cu(C)){const G=Yo(C);null!==G&&ry(0,G,V.field)}}(o,g),g}(e._query,this.fa,this.wa);return new Jo(e.firestore,e.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new $a(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Jm extends Oc{constructor(e,t,o){super(),this.type=e,this.ma=t,this.ga=o}_apply(e){return new Jo(e.firestore,e.converter,I(e._query,this.ma,this.ga))}}class zs extends Oc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Zp(e,this.type,this.ya,this.pa);return new Jo(e.firestore,e.converter,(u=t,new $a((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class ty extends Oc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Zp(e,this.type,this.ya,this.pa);return new Jo(e.firestore,e.converter,(u=t,new $a((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Zp(i,e,t,o){if(t[0]=(0,oe.m9)(t[0]),t[0]instanceof Rc)return function(u,c,g,C,V){if(!C)throw new Ct(tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const G=[];for(const ee of hl(u))if(ee.field.isKeyField())G.push($(c,C.key));else{const ve=C.data.field(ee.field);if(W(ve))throw new Ct(tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ve){const Ye=ee.field.canonicalString();throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ye}' (used as the orderBy) does not exist.`)}G.push(ve)}return new Qi(G,V)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=il(i.firestore);return function(c,g,C,V,G,ee){const ve=c.explicitOrderBy;if(G.length>ve.length)throw new Ct(tt.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ye=[];for(let pt=0;pt<G.length;pt++){const xt=G[pt];if(ve[pt].field.isKeyField()){if("string"!=typeof xt)throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof xt}`);if(!Ku(c)&&-1!==xt.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${xt}' contains a slash.`);const Xt=c.path.child(fn.fromString(xt));if(!$t.isDocumentKey(Xt))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const vn=new $t(Xt);Ye.push($(g,vn))}else{const Xt=Gp(C,V,xt);Ye.push(Xt)}}return new Qi(Ye,ee)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Yp(i,e,t){if("string"==typeof(t=(0,oe.m9)(t))){if(""===t)throw new Ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(fn.fromString(t));if(!$t.isDocumentKey(o))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return $(i,new $t(o))}if(t instanceof Ji)return $(i,t._key);throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(t)}.`)}function Zl(i,e){if(!Array.isArray(i)||0===i.length)throw new Ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ct(tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ry(i,e,t){if(!t.isEqual(e))throw new Ct(tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const uv={maxAttempts:5};class zh{convertValue(e,t="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yt()}}convertObject(e,t){const o={};return Zi(e.fields,(u,c)=>{o[u]=this.convertValue(c,t)}),o}convertGeoPoint(e){return new Id(M(e.latitude),M(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ue(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Fe(e));default:return null}}convertTimestamp(e){const t=$s(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=fn.fromString(e);yn(qd(o));const u=new _t(o.get(1),o.get(3)),c=new $t(o.popFirst(5));return u.isEqual(t)||Xr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Wh(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class iy extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}class lv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=il(e)}set(e,t,o){this._verifyNotCommitted();const u=ul(e,this._firestore),c=Wh(u.converter,t,o),g=xc(this._dataReader,"WriteBatch.set",u._key,c,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,zi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const c=ul(e,this._firestore);let g;return g="string"==typeof(t=(0,oe.m9)(t))||t instanceof Uu?$h(this._dataReader,"WriteBatch.update",c._key,t,o,u):Nc(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(g.toMutation(c._key,zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ul(e,this._firestore);return this._mutations=this._mutations.concat(new ml(t._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ul(i,e){if((i=(0,oe.m9)(i)).firestore!==e)throw new Ct(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Xo extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}function Jp(i,e,t){i=Pr(i,Ji);const o=Pr(i.firestore,Cr),u=Wh(i.converter,e,t);return Ml(o,[xc(il(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,zi.none())])}function Xp(i,e,t,...o){i=Pr(i,Ji);const u=Pr(i.firestore,Cr),c=il(u);let g;return g="string"==typeof(e=(0,oe.m9)(e))||e instanceof Uu?$h(c,"updateDoc",i._key,e,t,o):Nc(c,"updateDoc",i._key,e),Ml(u,[g.toMutation(i._key,zi.exists(!0))])}function sy(i,...e){var t,o,u;i=(0,oe.m9)(i);let c={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Up(e[g])||(c=e[g],g++);const C={includeMetadataChanges:c.includeMetadataChanges};if(Up(e[g])){const ve=e[g];e[g]=null===(t=ve.next)||void 0===t?void 0:t.bind(ve),e[g+1]=null===(o=ve.error)||void 0===o?void 0:o.bind(ve),e[g+2]=null===(u=ve.complete)||void 0===u?void 0:u.bind(ve)}let V,G,ee;if(i instanceof Ji)G=Pr(i.firestore,Cr),ee=Zo(i._key.path),V={next:ve=>{e[g]&&e[g](Yl(G,i,ve))},error:e[g+1],complete:e[g+2]};else{const ve=Pr(i,Jo);G=Pr(ve.firestore,Cr),ee=ve._query;const Ye=new Xo(G);V={next:pt=>{e[g]&&e[g](new ol(G,Ye,ve,pt))},error:e[g+1],complete:e[g+2]},Kp(i._query)}return function(ve,Ye,pt,xt){const Xt=new Nh(xt),vn=new Wl(Ye,Xt,pt);return ve.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return wh(yield _d(ve),vn)})),()=>{Xt.Tc(),ve.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return up(yield _d(ve),vn)}))}}(di(G),ee,C,V)}function Ml(i,e){return function(t,o){const u=new bi;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function U_(i,e,t){return Ea.apply(this,arguments)}(yield Rp(t),o,u)})),u.promise}(di(i),e)}function Yl(i,e,t){const o=t.docs.get(e._key),u=new Xo(i);return new Eu(i,u,e._key,o,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}class gv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=il(e)}get(e){const t=ul(e,this._firestore),o=new iy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Yt();const c=u[0];if(c.isFoundDocument())return new Rc(this._firestore,o,c.key,c,t.converter);if(c.isNoDocument())return new Rc(this._firestore,o,t._key,null,t.converter);throw Yt()})}set(e,t,o){const u=ul(e,this._firestore),c=Wh(u.converter,t,o),g=xc(this._dataReader,"Transaction.set",u._key,c,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,t,o,...u){const c=ul(e,this._firestore);let g;return g="string"==typeof(t=(0,oe.m9)(t))||t instanceof Uu?$h(this._dataReader,"Transaction.update",c._key,t,o,u):Nc(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,g),this}delete(e){const t=ul(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ul(e,this._firestore),o=new Xo(this._firestore);return super.get(e).then(u=>new Eu(this._firestore,o,t._key,u._document,new Sl(!1,!1),t.converter))}}function Yh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function eg(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function tg(){if(!function ya(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Bs=ot.SDK_VERSION,(0,ot._registerComponent)(new Xe.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),c=new Cr(u,new Qa(t.getProvider("auth-internal")),new E(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC")),(0,ot.registerVersion)(Pa,"3.4.11",i),(0,ot.registerVersion)(Pa,"3.4.11","esm2017")}();class kc{constructor(e){this._delegate=e}static fromBase64String(e){return tg(),new kc(vu.fromBase64String(e))}static fromUint8Array(e){return eg(),new kc(vu.fromUint8Array(e))}toBase64(){return tg(),this._delegate.toBase64()}toUint8Array(){return eg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qh(i){return function cy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class dy{enableIndexedDbPersistence(e,t){return function Dc(i,e){jp(i=Pr(i,Cr));const t=di(i),o=i._freezeSettings(),u=new _u;return ql(t,u,new Tp(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function bc(i){jp(i=Pr(i,Cr));const e=di(i),t=i._freezeSettings(),o=new _u;return ql(e,o,new Rm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Cc(i){if(i._initialized&&!i._terminated)throw new Ct(tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(t=(0,ce.Z)(function*(o){if(!xi.V())return Promise.resolve();const u=o+"main";yield xi.delete(u)}),function(o){return t.apply(this,arguments)})(Hf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hy{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof _t||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function X_(i,e,t,o={}){var u;const c=(i=Pr(i,vd))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&ji("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,C;if("string"==typeof o.mockUserToken)g=o.mockUserToken,C=mi.MOCK_USER;else{g=(0,oe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new mi(V)}i._authCredentials=new ou(new ha(g,C))}}(this._delegate,e,t,o)}enableNetwork(){return function Ac(i){return function Y_(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Z_(i),t=yield km(i);return e.setNetworkEnabled(!0),function(o){const u=Ht(o);return u.lu.delete(0),za(u)}(t)}))}(di(i=Pr(i,Cr)))}(this._delegate)}disableNetwork(){return function Sc(i){return function Q_(i){return i.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Z_(i),t=yield km(i);return e.setNetworkEnabled(!1),(o=(0,ce.Z)(function*(u){const c=Ht(u);c.lu.add(0),yield Hl(c),c._u.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(di(i=Pr(i,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,J_("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Tc(i){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function Cm(i,e){return yp.apply(this,arguments)}(yield Rp(e),t)})),t.promise}(di(i=Pr(i,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function pv(i,e){return function R0(i,e){const t=new Nh(e);return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return o=yield _d(i),u=t,Ht(o).Tu.add(u),void u.next();var o,u})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return o=yield _d(i),u=t,void Ht(o).Tu.delete(u);var o,u}))}}(di(i=Pr(i,Cr)),Up(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Fc(this,Cl(this._delegate,e))}catch(t){throw wa(t,"collection()","Firestore.collection()")}}doc(e){try{return new ru(this,Tl(this._delegate,e))}catch(t){throw wa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ia(this,function k0(i,e){if(i=Pr(i,vd),Fp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ct(tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jo(i,null,(t=e,new $a(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function oy(i,e,t){i=Pr(i,Cr);const o=Object.assign(Object.assign({},uv),t);return function(u){if(u.maxAttempts<1)throw new Ct(tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function O0(i,e,t){const o=new bi;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const u=yield(c=i,Oh(c).then(g=>g.datastore));var c;new Ap(i.asyncQueue,u,t,e,o).run()})),o.promise}(di(i),u=>e(new gv(i,u)),o)}(this._delegate,t=>e(new fy(this,t)))}batch(){return di(this._delegate),new py(new lv(this._delegate,e=>Ml(this._delegate,e)))}loadBundle(e){return function Mc(i,e){const t=di(i=Pr(i,Cr)),o=new Vu;return function Vm(i,e,t,o){const u=function(c,g){let C;return C="string"==typeof c?(new TextEncoder).encode(c):c,V=function(V,G){if(V instanceof Uint8Array)return yd(V,G);if(V instanceof ArrayBuffer)return yd(new Uint8Array(V),G);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new K_(V,g);var V}(t,od(e));i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function Nm(i,e,t){const o=Ht(i);var u;(u=(0,ce.Z)(function*(c,g,C){try{const V=yield g.getMetadata();if(yield function(Ye,pt){const xt=Ht(Ye),Xt=Eo(pt.createTime);return xt.persistence.runTransaction("hasNewerBundle","readonly",vn=>xt.Ds.getBundleMetadata(vn,pt.id)).then(vn=>!!vn&&vn.createTime.compareTo(Xt)>=0)}(c.localStore,V))return yield g.close(),C._completeWith({taskState:"Success",documentsLoaded:(Ye=V).totalDocuments,bytesLoaded:Ye.totalBytes,totalDocuments:Ye.totalDocuments,totalBytes:Ye.totalBytes}),Promise.resolve(new Set);C._updateProgress(cp(V));const G=new Em(V,c.localStore,g.wt);let ee=yield g.fc();for(;ee;){const Ye=yield G.Nu(ee);Ye&&C._updateProgress(Ye),ee=yield g.fc()}const ve=yield G.complete();return yield yu(c,ve.Mu,void 0),yield function(Ye,pt){const xt=Ht(Ye);return xt.persistence.runTransaction("Save bundle","readwrite",Xt=>xt.Ds.saveBundleMetadata(Xt,pt))}(c.localStore,V),C._completeWith(ve.progress),Promise.resolve(ve.Ou)}catch(V){return ji("SyncEngine",`Loading bundle failed with ${V}`),C._failWith(V),Promise.resolve(new Set)}var Ye}),function(c,g,C){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Rp(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Gm(i,e){return function Um(i,e){return i.asyncQueue.enqueue((0,ce.Z)(function*(){return function(t,o){const u=Ht(t);return u.persistence.runTransaction("Get named query","readonly",c=>u.Ds.getNamedQuery(c,o))}(yield Fh(i),e)}))}(di(i=Pr(i,Cr)),e).then(t=>t?new Jo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Ia(this,t):null)}}class Jh extends zh{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(new vu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ru.forKey(t,this.firestore,null)}}class fy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}get(e){const t=Jl(e);return this._delegate.get(t).then(o=>new Md(this._firestore,new Eu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Jl(e);return o?(Yh("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Jl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Jl(e);return this._delegate.delete(t),this}}class py{constructor(e){this._delegate=e}set(e,t,o){const u=Jl(e);return o?(Yh("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const c=Jl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,o,...u),this}delete(e){const t=Jl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ql{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Kl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xd(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Ql.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let c=u.get(t);return c||(c=new Ql(e,new Jh(e),t),u.set(t,c)),c}}Ql.INSTANCES=new WeakMap;class ru{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ru(t,new Ji(t._delegate,o,new $t(e)))}static forKey(e,t,o){return new ru(t,new Ji(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Fc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Fc(this.firestore,Cl(this._delegate,e))}catch(t){throw wa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,oe.m9)(e))instanceof Ji&&$m(this._delegate,e)}set(e,t){t=Yh("DocumentReference.set",t);try{return t?Jp(this._delegate,e,t):Jp(this._delegate,e)}catch(o){throw wa(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Xp(this._delegate,e):Xp(this._delegate,e,t,...o)}catch(u){throw wa(u,"updateDoc()","DocumentReference.update()")}}delete(){return function hv(i){return Ml(Pr(i.firestore,Cr),[new ml(i._key,zi.none())])}(this._delegate)}onSnapshot(...e){const t=gy(e),o=my(e,u=>new Md(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return sy(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function cv(i){i=Pr(i,Ji);const e=Pr(i.firestore,Cr),t=di(e),o=new Xo(e);return function Lm(i,e){const t=new bi;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(o=(0,ce.Z)(function*(u,c,g){try{const C=yield function(V,G){const ee=Ht(V);return ee.persistence.runTransaction("read document","readonly",ve=>ee.localDocuments.getDocument(ve,G))}(u,c);C.isFoundDocument()?g.resolve(C):C.isNoDocument()?g.resolve(null):g.reject(new Ct(tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const V=yc(C,`Failed to get document '${c} from cache`);g.reject(V)}}),function(u,c,g){return o.apply(this,arguments)})(yield Fh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Eu(e,o,i._key,u,new Sl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function dv(i){i=Pr(i,Ji);const e=Pr(i.firestore,Cr);return Op(di(e),i._key,{source:"server"}).then(t=>Yl(e,i,t))}(this._delegate):function Qp(i){i=Pr(i,Ji);const e=Pr(i.firestore,Cr);return Op(di(e),i._key).then(t=>Yl(e,i,t))}(this._delegate),t.then(o=>new Md(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ru(this.firestore,this._delegate.withConverter(e?Ql.getInstance(this.firestore,e):null))}}function wa(i,e,t){return i.message=i.message.replace(e,t),i}function gy(i){for(const e of i)if("object"==typeof e&&!Qh(e))return e;return{}}function my(i,e){var t,o;let u;return u=Qh(i[0])?i[0]:Qh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{u.next&&u.next(e(c))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Md{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ru(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qp(this._delegate,e._delegate)}}class xd extends Md{data(e){const t=this._delegate.data(e);return function da(i,e){i||Yt()}(void 0!==t),t}}class Ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jh(e)}where(e,t,o){try{return new Ia(this.firestore,al(this._delegate,function Qm(i,e,t){const o=e,u=Sd("where",i);return new Ym(u,o,t)}(e,t,o)))}catch(u){throw wa(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ia(this.firestore,al(this._delegate,function iv(i,e="asc"){const t=e,o=Sd("orderBy",i);return new F0(o,t)}(e,t)))}catch(o){throw wa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ia(this.firestore,al(this._delegate,function Xm(i){return Bm("limit",i),new Jm("limit",i,"F")}(e)))}catch(t){throw wa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ia(this.firestore,al(this._delegate,function sv(i){return Bm("limitToLast",i),new Jm("limitToLast",i,"L")}(e)))}catch(t){throw wa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ia(this.firestore,al(this._delegate,function ey(...i){return new zs("startAt",i,!0)}(...e)))}catch(t){throw wa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ia(this.firestore,al(this._delegate,function ov(...i){return new zs("startAfter",i,!1)}(...e)))}catch(t){throw wa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ia(this.firestore,al(this._delegate,function ny(...i){return new ty("endBefore",i,!1)}(...e)))}catch(t){throw wa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ia(this.firestore,al(this._delegate,function av(...i){return new ty("endAt",i,!0)}(...e)))}catch(t){throw wa(t,"endAt()","Query.endAt()")}}isEqual(e){return Hm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wu(i){i=Pr(i,Jo);const e=Pr(i.firestore,Cr),t=di(e),o=new Xo(e);return function N0(i,e){const t=new bi;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(o=(0,ce.Z)(function*(u,c,g){try{const C=yield nd(u,c,!0),V=new dp(c,C.ji),G=V.Ku(C.documents),ee=V.applyChanges(G,!1);g.resolve(ee.snapshot)}catch(C){const V=yc(C,`Failed to execute query '${c} against cache`);g.reject(V)}}),function(u,c,g){return o.apply(this,arguments)})(yield Fh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new ol(e,o,i,u))}(this._delegate):"server"===e?.source?function Iu(i){i=Pr(i,Jo);const e=Pr(i.firestore,Cr),t=di(e),o=new Xo(e);return nu(t,i._query,{source:"server"}).then(u=>new ol(e,o,i,u))}(this._delegate):function Bu(i){i=Pr(i,Jo);const e=Pr(i.firestore,Cr),t=di(e),o=new Xo(e);return Kp(i._query),nu(t,i._query).then(u=>new ol(e,o,i,u))}(this._delegate),t.then(o=>new ng(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=gy(e),o=my(e,u=>new ng(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return sy(this._delegate,t,o)}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?Ql.getInstance(this.firestore,e):null))}}class wv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ng{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ia(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new xd(this._firestore,o))})}isEqual(e){return qp(this._delegate,e._delegate)}}class Fc extends Ia{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ru(this.firestore,e):null}doc(e){try{return new ru(this.firestore,void 0===e?Tl(this._delegate):Tl(this._delegate,e))}catch(t){throw wa(t,"doc()","CollectionReference.doc()")}}add(e){return function fv(i,e){const t=Pr(i.firestore,Cr),o=Tl(i),u=Wh(i.converter,e);return Ml(t,[xc(il(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,zi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ru(this.firestore,t))}isEqual(e){return $m(this._delegate,e._delegate)}withConverter(e){return new Fc(this.firestore,this._delegate.withConverter(e?Ql.getInstance(this.firestore,e):null))}}function Jl(i){return Pr(i,Ji)}class rg{constructor(...e){this._delegate=new Uu(...e)}static documentId(){return new rg(_n.keyField().canonicalString())}isEqual(e){return(e=(0,oe.m9)(e))instanceof Uu&&this._delegate._internalPath.isEqual(e._internalPath)}}class xl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ay(){return new Pc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xl(e)}static delete(){const e=function mv(){return new Dd("deleteField")}();return e._methodName="FieldValue.delete",new xl(e)}static arrayUnion(...e){const t=function uy(...i){return new Hp("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new xl(t)}static arrayRemove(...e){const t=function qh(...i){return new tv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new xl(t)}static increment(e){const t=function yv(i){return new jh("increment",i)}(e);return t._methodName="FieldValue.increment",new xl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yy={Firestore:hy,GeoPoint:Id,Timestamp:St,Blob:kc,Transaction:fy,WriteBatch:py,DocumentReference:ru,DocumentSnapshot:Md,Query:Ia,QueryDocumentSnapshot:xd,QuerySnapshot:ng,CollectionReference:Fc,FieldPath:rg,FieldValue:xl,setLogLevel:function Ev(i){!function ca(i){ns.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function vy(i){(function _y(i,e){i.INTERNAL.registerComponent(new Xe.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},yy)))})(i,(e,t)=>new hy(e,t,new dy)),i.registerVersion("@firebase/firestore-compat","0.1.20")}(Lt.Z);var ig=j(7579),Ey=j(6451),Pd=j(5363),ll=j(3900),wy=j(6063);class Iy extends ig.x{constructor(e=1/0,t=1/0,o=wy.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:c,_windowTime:g}=this;t||(o.push(e),!u&&o.push(c.now()+g)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,c=u.slice();for(let g=0;g<c.length&&!e.closed;g+=o?1:2)e.next(c[g]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,c=(u?1:2)*e;if(e<1/0&&c<o.length&&o.splice(0,o.length-c),!u){const g=t.now();let C=0;for(let V=1;V<o.length&&o[V]<=g;V+=2)C=V;C&&o.splice(0,C+1)}}}var Dy=j(3099);function Pl(i,e,t){let o,u=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:e=1/0,refCount:u=!1,scheduler:t}=i):o=i??1/0,(0,Dy.B)({connector:()=>new Iy(o,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var Iv=j(590),Dv=j(576);function Xl(i,e){return(0,Dv.m)(e)?(0,ll.w)(()=>i,e):(0,ll.w)(()=>i)}var by=j(9468),Xh=j(7128),L0=j(127);const sg=new m.OlP("angularfire2.auth.use-emulator"),bv=new m.OlP("angularfire2.auth.settings"),jn=new m.OlP("angularfire2.auth.tenant-id"),Ty=new m.OlP("angularfire2.auth.langugage-code"),Ay=new m.OlP("angularfire2.auth.use-device-language"),Sy=new m.OlP("angularfire.auth.persistence"),ec=(i,e,t,o,u,c,g,C)=>(0,nt.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const V=e.runOutsideAngular(()=>i.auth());if(t&&V.useEmulator(...t),o&&(V.tenantId=o),V.languageCode=u,c&&V.useDeviceLanguage(),g)for(const[G,ee]of Object.entries(g))V.settings[G]=ee;return C&&V.setPersistence(C),V},[t,o,u,c,g,C]);let My=(()=>{class i{constructor(t,o,u,c,g,C,V,G,ee,ve,Ye,pt){const xt=new ig.x,Xt=(0,Ee.of)(void 0).pipe((0,Pd.Q)(g.outsideAngular),(0,ll.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5881)))),(0,Qe.U)(()=>(0,nt.on)(t,c,o)),(0,Qe.U)(vn=>ec(vn,c,C,G,ee,ve,V,Ye)),Pl({bufferSize:1,refCount:!1}));if((0,We.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ee.of)(null);else{Xt.pipe((0,Iv.P)()).subscribe();const jr=Xt.pipe((0,ll.w)(Tr=>Tr.getRedirectResult().then(Hr=>Hr,()=>null)),De.iC,Pl({bufferSize:1,refCount:!1})),yi=Xt.pipe((0,ll.w)(Tr=>new H.y(Hr=>({unsubscribe:c.runOutsideAngular(()=>Tr.onAuthStateChanged(ii=>Hr.next(ii),ii=>Hr.error(ii),()=>Hr.complete()))})))),$r=Xt.pipe((0,ll.w)(Tr=>new H.y(Hr=>({unsubscribe:c.runOutsideAngular(()=>Tr.onIdTokenChanged(ii=>Hr.next(ii),ii=>Hr.error(ii),()=>Hr.complete()))}))));this.authState=jr.pipe(Xl(yi),(0,by.R)(g.outsideAngular),(0,Pd.Q)(g.insideAngular)),this.user=jr.pipe(Xl($r),(0,by.R)(g.outsideAngular),(0,Pd.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,ll.w)(Tr=>Tr?(0,he.D)(Tr.getIdToken()):(0,Ee.of)(null))),this.idTokenResult=this.user.pipe((0,ll.w)(Tr=>Tr?(0,he.D)(Tr.getIdTokenResult()):(0,Ee.of)(null))),this.credential=(0,Ey.T)(jr,xt,this.authState.pipe((0,Ft.h)(Tr=>!Tr))).pipe((0,Qe.U)(Tr=>Tr?.user?Tr:null),(0,by.R)(g.outsideAngular),(0,Pd.Q)(g.insideAngular))}return(0,nt.pX)(this,Xt,c,{spy:{apply:(vn,jr,yi)=>{(vn.startsWith("signIn")||vn.startsWith("createUser"))&&yi.then($r=>xt.next($r))}}})}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(nt.Dh),m.LFG(nt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(De.HU),m.LFG(sg,8),m.LFG(bv,8),m.LFG(jn,8),m.LFG(Ty,8),m.LFG(Ay,8),m.LFG(Sy,8),m.LFG(Xh.nm,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function ds(i,e){return function ef(i,e=v.z){return new H.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function tf(i,e){return ds(i,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function Nd(i,e){return tf(i,e).pipe((0,ht.O)(void 0),xe(),(0,Qe.U)(([t,o])=>{const u=o.payload.docChanges(),c=u.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,C)=>{const V=u.find(ee=>ee.doc.ref.isEqual(g.ref)),G=t?.payload.docs.find(ee=>ee.ref.isEqual(g.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(g.metadata)||!V&&G&&JSON.stringify(G.metadata)===JSON.stringify(g.metadata)||c.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:g}})}),c}))}function xy(i,e,t){return Nd(i,t).pipe((0,Je.R)((o,u)=>function Py(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Ny(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return nf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(c=>c.payload),e),[]),function ne(i,e=de.y){return i=i??ye,(0,ke.e)((t,o)=>{let u,c=!0;t.subscribe((0,Pe.x)(o,g=>{const C=e(g);(c||!i(u,C))&&(c=!1,u=C,o.next(g))}))})}(),(0,Qe.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function nf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function ag(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ry{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Nd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ht.O)(void 0),xe(),(0,Ft.h)(([o,u])=>u.length>0||!o),(0,Qe.U)(([o,u])=>u),De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ag(e);return xy(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),De.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(De.iC)}add(e){return this.ref.add(e)}doc(e){return new Oy(this.ref.doc(e),this.afs)}}class Oy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:c}=Rd(o,t);return new Ry(u,c,this.afs)}snapshotChanges(){return function V0(i,e){return ds(i,e).pipe((0,ht.O)(void 0),xe(),(0,Qe.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,he.D)(this.ref.get(e)).pipe(De.iC)}}class Cv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Nd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ft.h)(t=>t.length>0),De.iC):Nd(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=ag(e);return xy(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),De.iC)}get(e){return(0,he.D)(this.query.get(e)).pipe(De.iC)}}const Lc=new m.OlP("angularfire2.enableFirestorePersistence"),ky=new m.OlP("angularfire2.firestore.persistenceSettings"),Tv=new m.OlP("angularfire2.firestore.settings"),Av=new m.OlP("angularfire2.firestore.use-emulator");function Rd(i,e=(t=>t)){return{query:e(i),ref:i}}let ug=(()=>{class i{constructor(t,o,u,c,g,C,V,G,ee,ve,Ye,pt,xt,Xt,vn,jr,yi){this.schedulers=V;const $r=(0,nt.on)(t,C,o),Tr=ee;ve&&ec($r,C,Ye,xt,Xt,vn,pt,jr),[this.firestore,this.persistenceEnabled$]=(0,nt.cc)(`${$r.name}.firestore`,"AngularFirestore",$r.name,()=>{const Hr=C.runOutsideAngular(()=>$r.firestore());if(c&&Hr.settings(c),Tr&&Hr.useEmulator(...Tr),u&&!(0,We.PM)(g)){const ii=()=>{try{return(0,he.D)(Hr.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(Ws){return typeof console<"u"&&console.warn(Ws),(0,Ee.of)(!1)}};return[Hr,C.runOutsideAngular(ii)]}return[Hr,(0,Ee.of)(!1)]},[c,Tr,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:g}=Rd(u,o),C=this.schedulers.ngZone.run(()=>c);return new Ry(C,g,this)}collectionGroup(t,o){const u=o||(g=>g),c=this.firestore.collectionGroup(t);return new Cv(u(c),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Oy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(nt.Dh),m.LFG(nt.xv,8),m.LFG(Lc,8),m.LFG(Tv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(De.HU),m.LFG(ky,8),m.LFG(Av,8),m.LFG(My,8),m.LFG(sg,8),m.LFG(bv,8),m.LFG(jn,8),m.LFG(Ty,8),m.LFG(Ay,8),m.LFG(Sy,8),m.LFG(Xh.nm,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Fy=(()=>{class i{constructor(){L0.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Lc,useValue:!0},{provide:ky,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[ug]}),i})()},2011:(Gt,ze,j)=>{j.d(ze,{Dh:()=>Pe,GT:()=>De,cc:()=>Qe,hO:()=>ht,on:()=>de,pX:()=>Ee,xv:()=>xe});var m=j(4650),v=j(127),H=j(5813);Gt=j.hmd(Gt);const he=["ngOnDestroy"],Ee=(We,jt,Lt,ce={})=>new Proxy(We,{get:(ot,Xe)=>Lt.runOutsideAngular(()=>{var Et;if(We[Xe])return!(null===(Et=ce?.spy)||void 0===Et)&&Et.get&&ce.spy.get(Xe,We[Xe]),We[Xe];if(he.indexOf(Xe)>-1)return()=>{};const oe=jt.toPromise().then(qe=>{const st=qe&&qe[Xe];return"function"==typeof st?st.bind(qe):st&&st.then?st.then(ie=>Lt.run(()=>ie)):Lt.run(()=>st)});return new Proxy(()=>{},{get:(qe,st)=>oe[st],apply:(qe,st,ie)=>oe.then(Le=>{var be;const Ze=Le&&Le(...ie);return!(null===(be=ce?.spy)||void 0===be)&&be.apply&&ce.spy.apply(Xe,ie,Ze),Ze})})})}),De=(We,jt)=>{jt.forEach(Lt=>{Object.getOwnPropertyNames(Lt.prototype||Lt).forEach(ce=>{Object.defineProperty(We.prototype,ce,Object.getOwnPropertyDescriptor(Lt.prototype||Lt,ce))})})};class ke{constructor(jt){return jt}}const Pe=new m.OlP("angularfire2.app.options"),xe=new m.OlP("angularfire2.app.name");function de(We,jt,Lt){const ot="object"==typeof Lt&&Lt||{};ot.name=ot.name||"string"==typeof Lt&&Lt||"[DEFAULT]";const Et=v.Z.apps.filter(oe=>oe&&oe.name===ot.name)[0]||jt.runOutsideAngular(()=>v.Z.initializeApp(We,ot));try{JSON.stringify(We)!==JSON.stringify(Et.options)&&ne("error",`${Et.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(Et)}const ne=(We,...jt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[We](...jt)},ye={provide:ke,useFactory:de,deps:[Pe,m.R0b,[new m.FiY,xe]]};let ht=(()=>{class We{constructor(Lt){v.Z.registerVersion("angularfire",H.q4.full,"core"),v.Z.registerVersion("angularfire",H.q4.full,"app-compat"),v.Z.registerVersion("angular",m.q4F.full,Lt.toString())}static initializeApp(Lt,ce){return{ngModule:We,providers:[{provide:Pe,useValue:Lt},{provide:xe,useValue:ce}]}}}return We.\u0275fac=function(Lt){return new(Lt||We)(m.LFG(m.Lbi))},We.\u0275mod=m.oAB({type:We}),We.\u0275inj=m.cJS({providers:[ye]}),We})();function Qe(We,jt,Lt,ce,ot){const[,Xe,Et]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===We)||[];if(Xe)return function Je(We,jt){try{return We.toString()===jt.toString()}catch{return We===jt}}(ot,Et)||(nt("error",`${jt} was already initialized on the ${Lt} Firebase App with different settings.${Ft?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:ot,was:Et})),Xe;{const oe=ce();return globalThis.\u0275AngularfireInstanceCache.push([We,oe,ot]),oe}}const Ft=!!Gt.hot,nt=(We,...jt)=>{(0,m.X6Q)()&&typeof console<"u"&&console[We](...jt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Gt,ze,j)=>{j.d(ze,{q4:()=>rs,iC:()=>ya,HU:()=>ja,vb:()=>Su,JM:()=>xr,u3:()=>$s});var m=j(4650),v=j(5867),H=j(5861),he=j(9681),Ee=j(2090),De=j(4859),ke=j(1877),Pe=j(8766);const xe="@firebase/installations",de="0.5.11",ye=`w:${de}`,ht="FIS_v2",jt=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(M){return M instanceof Ee.ZR&&M.code.includes("request-failed")}function ce({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function ot(M){return{token:M.token,requestStatus:2,expiresIn:Le(M.expiresIn),creationTime:Date.now()}}function Xe(M,F){return Et.apply(this,arguments)}function Et(){return(Et=(0,H.Z)(function*(M,F){const ue=(yield F.json()).error;return jt.create("request-failed",{requestName:M,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function oe({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function qe(M,{refreshToken:F}){const W=oe(M);return W.append("Authorization",function be(M){return`${ht} ${M}`}(F)),W}function st(M){return ie.apply(this,arguments)}function ie(){return(ie=(0,H.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function Le(M){return Number(M.replace("s","000"))}function Ze(M,F){return $e.apply(this,arguments)}function $e(){return($e=(0,H.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:W}){const ue=ce(M),Fe=oe(M),rt=F.getImmediate({optional:!0});if(rt){const cn=yield rt.getHeartbeatsHeader();cn&&Fe.append("x-firebase-client",cn)}const Bt={method:"POST",headers:Fe,body:JSON.stringify({fid:W,authVersion:ht,appId:M.appId,sdkVersion:ye})},wn=yield st(()=>fetch(ue,Bt));if(wn.ok){const cn=yield wn.json();return{fid:cn.fid||W,registrationStatus:2,refreshToken:cn.refreshToken,authToken:ot(cn.authToken)}}throw yield Xe("Create Installation",wn)})).apply(this,arguments)}function Dt(M){return new Promise(F=>{setTimeout(F,M)})}const nn=/^[cdef][\w-]{21}$/;function Nt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const W=function Hn(M){return function sn(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return nn.test(W)?W:""}catch{return""}}function In(M){return`${M.appName}!${M.appId}`}const Jn=new Map;function gn(M,F){const W=In(M);Vn(W,F),function ar(M,F){const W=function Ir(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=M=>{Vn(M.data.key,M.data.fid)}),_r}();W&&W.postMessage({key:M,fid:F}),function Nr(){0===Jn.size&&_r&&(_r.close(),_r=null)}()}(W,F)}function Vn(M,F){const W=Jn.get(M);if(W)for(const ue of W)ue(F)}let _r=null;const vr="firebase-installations-store";let ur=null;function Qt(){return ur||(ur=(0,Pe.X3)("firebase-installations-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(vr)}})),ur}function nr(M,F){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,H.Z)(function*(M,F){const W=In(M),Fe=(yield Qt()).transaction(vr,"readwrite"),rt=Fe.objectStore(vr),_t=yield rt.get(W);return yield rt.put(F,W),yield Fe.done,(!_t||_t.fid!==F.fid)&&gn(M,F.fid),F})).apply(this,arguments)}function Dn(M){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,H.Z)(function*(M){const F=In(M),ue=(yield Qt()).transaction(vr,"readwrite");yield ue.objectStore(vr).delete(F),yield ue.done})).apply(this,arguments)}function Jr(M,F){return _i.apply(this,arguments)}function _i(){return(_i=(0,H.Z)(function*(M,F){const W=In(M),Fe=(yield Qt()).transaction(vr,"readwrite"),rt=Fe.objectStore(vr),_t=yield rt.get(W),Bt=F(_t);return void 0===Bt?yield rt.delete(W):yield rt.put(Bt,W),yield Fe.done,Bt&&(!_t||_t.fid!==Bt.fid)&&gn(M,Bt.fid),Bt})).apply(this,arguments)}function Er(M){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,H.Z)(function*(M){let F;const W=yield Jr(M.appConfig,ue=>{const Fe=vi(ue),rt=xn(M,Fe);return F=rt.registrationPromise,rt.installationEntry});return""===W.fid?{installationEntry:yield F}:{installationEntry:W,registrationPromise:F}})).apply(this,arguments)}function vi(M){return Wr(M||{fid:Nt(),registrationStatus:0})}function xn(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(jt.create("app-offline"))};const W={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Ot(M,F){return qt.apply(this,arguments)}(M,W);return{installationEntry:W,registrationPromise:ue}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:hn(M)}:{installationEntry:F}}function qt(){return(qt=(0,H.Z)(function*(M,F){try{const W=yield Ze(M,F);return nr(M.appConfig,W)}catch(W){throw Lt(W)&&409===W.customData.serverCode?yield Dn(M.appConfig):yield nr(M.appConfig,{fid:F.fid,registrationStatus:0}),W}})).apply(this,arguments)}function hn(M){return zr.apply(this,arguments)}function zr(){return(zr=(0,H.Z)(function*(M){let F=yield on(M.appConfig);for(;1===F.registrationStatus;)yield Dt(100),F=yield on(M.appConfig);if(0===F.registrationStatus){const{installationEntry:W,registrationPromise:ue}=yield Er(M);return ue||W}return F})).apply(this,arguments)}function on(M){return Jr(M,F=>{if(!F)throw jt.create("installation-not-found");return Wr(F)})}function Wr(M){return function gr(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function lr(M,F){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,H.Z)(function*({appConfig:M,heartbeatServiceProvider:F},W){const ue=Ae(M,W),Fe=qe(M,W),rt=F.getImmediate({optional:!0});if(rt){const cn=yield rt.getHeartbeatsHeader();cn&&Fe.append("x-firebase-client",cn)}const Bt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:ye,appId:M.appId}})},wn=yield st(()=>fetch(ue,Bt));if(wn.ok)return ot(yield wn.json());throw yield Xe("Generate Auth Token",wn)})).apply(this,arguments)}function Ae(M,{fid:F}){return`${ce(M)}/${F}/authTokens:generate`}function le(M){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,H.Z)(function*(M,F=!1){let W;const ue=yield Jr(M.appConfig,rt=>{if(!mn(rt))throw jt.create("not-registered");const _t=rt.authToken;if(!F&&Fn(_t))return rt;if(1===_t.requestStatus)return W=Re(M,F),rt;{if(!navigator.onLine)throw jt.create("app-offline");const Bt=Nn(rt);return W=vt(M,Bt),Bt}});return W?yield W:ue.authToken})).apply(this,arguments)}function Re(M,F){return ae.apply(this,arguments)}function ae(){return(ae=(0,H.Z)(function*(M,F){let W=yield at(M.appConfig);for(;1===W.authToken.requestStatus;)yield Dt(100),W=yield at(M.appConfig);const ue=W.authToken;return 0===ue.requestStatus?le(M,F):ue})).apply(this,arguments)}function at(M){return Jr(M,F=>{if(!mn(F))throw jt.create("not-registered");return function Ue(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function vt(M,F){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,H.Z)(function*(M,F){try{const W=yield lr(M,F),ue=Object.assign(Object.assign({},F),{authToken:W});return yield nr(M.appConfig,ue),W}catch(W){if(!Lt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ue=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield nr(M.appConfig,ue)}else yield Dn(M.appConfig);throw W}})).apply(this,arguments)}function mn(M){return void 0!==M&&2===M.registrationStatus}function Fn(M){return 2===M.requestStatus&&!function Un(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+36e5}(M)}function Nn(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}function pe(){return(pe=(0,H.Z)(function*(M){const F=M,{installationEntry:W,registrationPromise:ue}=yield Er(F);return ue?ue.catch(console.error):le(F).catch(console.error),W.fid})).apply(this,arguments)}function Tt(){return(Tt=(0,H.Z)(function*(M,F=!1){const W=M;return yield Jt(W),(yield le(W,F)).token})).apply(this,arguments)}function Jt(M){return ct.apply(this,arguments)}function ct(){return(ct=(0,H.Z)(function*(M){const{registrationPromise:F}=yield Er(M);F&&(yield F)})).apply(this,arguments)}function tr(M){return jt.create("missing-app-config-values",{valueName:M})}const tn="installations",rr=M=>{const F=M.getProvider("app").getImmediate(),W=function Rn(M){if(!M||!M.options)throw tr("App Configuration");if(!M.name)throw tr("App Name");const F=["projectId","apiKey","appId"];for(const W of F)if(!M.options[W])throw tr(W);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F);return{app:F,appConfig:W,heartbeatServiceProvider:(0,he._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},qr=M=>{const F=M.getProvider("app").getImmediate(),W=(0,he._getProvider)(F,tn).getImmediate();return{getId:()=>function fe(M){return pe.apply(this,arguments)}(W),getToken:Fe=>function it(M){return Tt.apply(this,arguments)}(W,Fe)}};(function hi(){(0,he._registerComponent)(new De.wA(tn,rr,"PUBLIC")),(0,he._registerComponent)(new De.wA("installations-internal",qr,"PRIVATE"))})(),(0,he.registerVersion)(xe,de),(0,he.registerVersion)(xe,de,"esm2017");const wr="@firebase/remote-config",Ei=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ri{constructor(F,W,ue,Fe){this.client=F,this.storage=W,this.storageCache=ue,this.logger=Fe}isCachedDataFresh(F,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-W,Fe=ue<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Fe}.`),Fe}fetch(F){var W=this;return(0,H.Z)(function*(){const[ue,Fe]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Fe&&W.isCachedDataFresh(F.cacheMaxAgeMillis,ue))return Fe;F.eTag=Fe&&Fe.eTag;const rt=yield W.client.fetch(F),_t=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&_t.push(W.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(_t),rt})()}}function gs(M=navigator){return M.languages&&M.languages[0]||M.language}class Vi{constructor(F,W,ue,Fe,rt,_t){this.firebaseInstallations=F,this.sdkVersion=W,this.namespace=ue,this.projectId=Fe,this.apiKey=rt,this.appId=_t}fetch(F){var W=this;return(0,H.Z)(function*(){var ue,Fe,rt;const[_t,Bt]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},En={sdk_version:W.sdkVersion,app_instance_id:_t,app_instance_id_token:Bt,app_id:W.appId,language_code:gs()},ni={method:"POST",headers:Ln,body:JSON.stringify(En)},Zr=fetch(cn,ni),Wo=new Promise((J,ge)=>{F.signal.addEventListener(()=>{const Ie=new Error("The operation was aborted.");Ie.name="AbortError",ge(Ie)})});let N;try{yield Promise.race([Zr,Wo]),N=yield Zr}catch(J){let ge="fetch-client-network";throw"AbortError"===(null===(ue=J)||void 0===ue?void 0:ue.name)&&(ge="fetch-timeout"),Ei.create(ge,{originalErrorMessage:null===(Fe=J)||void 0===Fe?void 0:Fe.message})}let f=N.status;const y=N.headers.get("ETag")||void 0;let T,$;if(200===N.status){let J;try{J=yield N.json()}catch(ge){throw Ei.create("fetch-client-parse",{originalErrorMessage:null===(rt=ge)||void 0===rt?void 0:rt.message})}T=J.entries,$=J.state}if("INSTANCE_STATE_UNSPECIFIED"===$?f=500:"NO_CHANGE"===$?f=304:("NO_TEMPLATE"===$||"EMPTY_CONFIG"===$)&&(T={}),304!==f&&200!==f)throw Ei.create("fetch-status",{httpStatus:f});return{status:f,eTag:y,config:T}})()}}class Ai{constructor(F,W){this.client=F,this.storage=W}fetch(F){var W=this;return(0,H.Z)(function*(){const ue=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(F,ue)})()}attemptFetch(F,{throttleEndTimeMillis:W,backoffCount:ue}){var Fe=this;return(0,H.Z)(function*(){yield function Oi(M,F){return new Promise((W,ue)=>{const Fe=Math.max(F-Date.now(),0),rt=setTimeout(W,Fe);M.addEventListener(()=>{clearTimeout(rt),ue(Ei.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,W);try{const rt=yield Fe.client.fetch(F);return yield Fe.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function Vo(M){if(!(M instanceof Ee.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(rt))throw rt;const _t={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(ue),backoffCount:ue+1};return yield Fe.storage.setThrottleMetadata(_t),Fe.attemptFetch(F,_t)}})()}}class Ui{constructor(F,W,ue,Fe,rt){this.app=F,this._client=W,this._storageCache=ue,this._storage=Fe,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ds(M,F){var W;const ue=M.target.error||void 0;return Ei.create(F,{originalErrorMessage:ue&&(null===(W=ue)||void 0===W?void 0:W.message)})}const qi="app_namespace_store";class Ao{constructor(F,W,ue,Fe=function ba(){return new Promise((M,F)=>{var W;try{const ue=indexedDB.open("firebase_remote_config",1);ue.onerror=Fe=>{F(Ds(Fe,"storage-open"))},ue.onsuccess=Fe=>{M(Fe.target.result)},ue.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(qi,{keyPath:"compositeKey"})}}catch(ue){F(Ei.create("storage-open",{originalErrorMessage:null===(W=ue)||void 0===W?void 0:W.message}))}})}()){this.appId=F,this.appName=W,this.namespace=ue,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var W=this;return(0,H.Z)(function*(){const ue=yield W.openDbPromise;return new Promise((Fe,rt)=>{var _t;const wn=ue.transaction([qi],"readonly").objectStore(qi),cn=W.createCompositeKey(F);try{const Ln=wn.get(cn);Ln.onerror=En=>{rt(Ds(En,"storage-get"))},Ln.onsuccess=En=>{const ni=En.target.result;Fe(ni?ni.value:void 0)}}catch(Ln){rt(Ei.create("storage-get",{originalErrorMessage:null===(_t=Ln)||void 0===_t?void 0:_t.message}))}})})()}set(F,W){var ue=this;return(0,H.Z)(function*(){const Fe=yield ue.openDbPromise;return new Promise((rt,_t)=>{var Bt;const cn=Fe.transaction([qi],"readwrite").objectStore(qi),Ln=ue.createCompositeKey(F);try{const En=cn.put({compositeKey:Ln,value:W});En.onerror=ni=>{_t(Ds(ni,"storage-set"))},En.onsuccess=()=>{rt()}}catch(En){_t(Ei.create("storage-set",{originalErrorMessage:null===(Bt=En)||void 0===Bt?void 0:Bt.message}))}})})()}delete(F){var W=this;return(0,H.Z)(function*(){const ue=yield W.openDbPromise;return new Promise((Fe,rt)=>{var _t;const wn=ue.transaction([qi],"readwrite").objectStore(qi),cn=W.createCompositeKey(F);try{const Ln=wn.delete(cn);Ln.onerror=En=>{rt(Ds(En,"storage-delete"))},Ln.onsuccess=()=>{Fe()}}catch(Ln){rt(Ei.create("storage-delete",{originalErrorMessage:null===(_t=Ln)||void 0===_t?void 0:_t.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class ki{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,H.Z)(function*(){const W=F.storage.getLastFetchStatus(),ue=F.storage.getLastSuccessfulFetchTimestampMillis(),Fe=F.storage.getActiveConfig(),rt=yield W;rt&&(F.lastFetchStatus=rt);const _t=yield ue;_t&&(F.lastSuccessfulFetchTimestampMillis=_t);const Bt=yield Fe;Bt&&(F.activeConfig=Bt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Uo(){return wi.apply(this,arguments)}function wi(){return(wi=(0,H.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function bs(){(0,he._registerComponent)(new De.wA("remote-config",function M(F,{instanceIdentifier:W}){const ue=F.getProvider("app").getImmediate(),Fe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,Ee.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:rt,apiKey:_t,appId:Bt}=ue.options;if(!rt)throw Ei.create("registration-project-id");if(!_t)throw Ei.create("registration-api-key");if(!Bt)throw Ei.create("registration-app-id");const wn=new Ao(Bt,ue.name,W=W||"firebase"),cn=new ki(wn),Ln=new ke.Yd(wr);Ln.logLevel=ke.in.ERROR;const En=new Vi(Fe,he.SDK_VERSION,W,rt,_t,Bt),ni=new Ai(En,wn),Zr=new Ri(ni,wn,cn,Ln),Wo=new Ui(ue,Zr,cn,wn,Ln);return function Ve(M){const F=(0,Ee.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Wo),Wo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(wr,"0.3.10"),(0,he.registerVersion)(wr,"0.3.10","esm2017")}();const Ii="/firebase-messaging-sw.js",ss="/firebase-cloud-messaging-push-scope",Cs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ms="google.c.a.c_id",Zs="google.c.a.c_l",Ys="google.c.a.ts",ys="google.c.a.e";var _s=(()=>{return(M=_s||(_s={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",_s;var M})();function Sr(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fs(M){const W=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(W),Fe=new Uint8Array(ue.length);for(let rt=0;rt<ue.length;++rt)Fe[rt]=ue.charCodeAt(rt);return Fe}const Qs="fcm_token_details_db",Ts="fcm_token_object_Store";function La(M){return Js.apply(this,arguments)}function Js(){return Js=(0,H.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(Qs))return null;let F=null;return(yield(0,Pe.X3)(Qs,5,{upgrade:(ue=(0,H.Z)(function*(Fe,rt,_t,Bt){var wn;if(rt<2||!Fe.objectStoreNames.contains(Ts))return;const cn=Bt.objectStore(Ts),Ln=yield cn.index("fcmSenderId").get(M);if(yield cn.clear(),Ln)if(2===rt){const En=Ln;if(!En.auth||!En.p256dh||!En.endpoint)return;F={token:En.fcmToken,createTime:null!==(wn=En.createTime)&&void 0!==wn?wn:Date.now(),subscriptionOptions:{auth:En.auth,p256dh:En.p256dh,endpoint:En.endpoint,swScope:En.swScope,vapidKey:"string"==typeof En.vapidKey?En.vapidKey:Sr(En.vapidKey)}}}else if(3===rt){const En=Ln;F={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:Sr(En.auth),p256dh:Sr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:Sr(En.vapidKey)}}}else if(4===rt){const En=Ln;F={token:En.fcmToken,createTime:En.createTime,subscriptionOptions:{auth:Sr(En.auth),p256dh:Sr(En.p256dh),endpoint:En.endpoint,swScope:En.swScope,vapidKey:Sr(En.vapidKey)}}}}),function(rt,_t,Bt,wn){return ue.apply(this,arguments)})})).close(),yield(0,Pe.Lj)(Qs),yield(0,Pe.Lj)("fcm_vapid_details_db"),yield(0,Pe.Lj)("undefined"),Xs(F)?F:null;var ue}),Js.apply(this,arguments)}function Xs(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const Wn="firebase-messaging-store";let Or=null;function Mo(){return Or||(Or=(0,Pe.X3)("firebase-messaging-database",1,{upgrade:(M,F)=>{0===F&&M.createObjectStore(Wn)}})),Or}function dr(M){return O.apply(this,arguments)}function O(){return(O=(0,H.Z)(function*(M){const F=Be(M),ue=yield(yield Mo()).transaction(Wn).objectStore(Wn).get(F);if(ue)return ue;{const Fe=yield La(M.appConfig.senderId);if(Fe)return yield K(M,Fe),Fe}})).apply(this,arguments)}function K(M,F){return k.apply(this,arguments)}function k(){return(k=(0,H.Z)(function*(M,F){const W=Be(M),Fe=(yield Mo()).transaction(Wn,"readwrite");return yield Fe.objectStore(Wn).put(F,W),yield Fe.done,F})).apply(this,arguments)}function Q(M){return we.apply(this,arguments)}function we(){return(we=(0,H.Z)(function*(M){const F=Be(M),ue=(yield Mo()).transaction(Wn,"readwrite");yield ue.objectStore(Wn).delete(F),yield ue.done})).apply(this,arguments)}function Be({appConfig:M}){return M.appId}const kt=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mr(M,F){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,H.Z)(function*(M,F){var W;const ue=yield os(M),Fe=Bi(F),rt={method:"POST",headers:ue,body:JSON.stringify(Fe)};let _t;try{_t=yield(yield fetch(an(M.appConfig),rt)).json()}catch(Bt){throw kt.create("token-subscribe-failed",{errorInfo:null===(W=Bt)||void 0===W?void 0:W.toString()})}if(_t.error)throw kt.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw kt.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function ir(M,F){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,H.Z)(function*(M,F){var W;const ue=yield os(M),Fe=Bi(F.subscriptionOptions),rt={method:"PATCH",headers:ue,body:JSON.stringify(Fe)};let _t;try{_t=yield(yield fetch(`${an(M.appConfig)}/${F.token}`,rt)).json()}catch(Bt){throw kt.create("token-update-failed",{errorInfo:null===(W=Bt)||void 0===W?void 0:W.toString()})}if(_t.error)throw kt.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw kt.create("token-update-no-token");return _t.token})).apply(this,arguments)}function kr(M,F){return $n.apply(this,arguments)}function $n(){return($n=(0,H.Z)(function*(M,F){var W;const Fe={method:"DELETE",headers:yield os(M)};try{const _t=yield(yield fetch(`${an(M.appConfig)}/${F}`,Fe)).json();if(_t.error)throw kt.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(rt){throw kt.create("token-unsubscribe-failed",{errorInfo:null===(W=rt)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function an({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function os(M){return es.apply(this,arguments)}function es(){return(es=(0,H.Z)(function*({appConfig:M,installations:F}){const W=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Bi({p256dh:M,auth:F,endpoint:W,vapidKey:ue}){const Fe={web:{endpoint:W,auth:F,p256dh:M}};return ue!==Cs&&(Fe.web.applicationPubKey=ue),Fe}const hr=6048e5;function co(M){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,H.Z)(function*(M){const F=yield fi(M.swRegistration,M.vapidKey),W={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:Sr(F.getKey("auth")),p256dh:Sr(F.getKey("p256dh"))},ue=yield dr(M.firebaseDependencies);if(ue){if(L(ue.subscriptionOptions,W))return Date.now()>=ue.createTime+hr?mt(M,{token:ue.token,createTime:Date.now(),subscriptionOptions:W}):ue.token;try{yield kr(M.firebaseDependencies,ue.token)}catch(Fe){console.warn(Fe)}return na(M.firebaseDependencies,W)}return na(M.firebaseDependencies,W)})).apply(this,arguments)}function eo(M){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,H.Z)(function*(M){const F=yield dr(M.firebaseDependencies);F&&(yield kr(M.firebaseDependencies,F.token),yield Q(M.firebaseDependencies));const W=yield M.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function mt(M,F){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,H.Z)(function*(M,F){try{const W=yield ir(M.firebaseDependencies,F),ue=Object.assign(Object.assign({},F),{token:W,createTime:Date.now()});return yield K(M.firebaseDependencies,ue),W}catch(W){throw yield eo(M),W}})).apply(this,arguments)}function na(M,F){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,H.Z)(function*(M,F){const ue={token:yield Mr(M,F),createTime:Date.now(),subscriptionOptions:F};return yield K(M,ue),ue.token})).apply(this,arguments)}function fi(M,F){return $o.apply(this,arguments)}function $o(){return($o=(0,H.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fs(F)})})).apply(this,arguments)}function L(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}function R(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function x(M,F){if(!F.notification)return;M.notification={};const W=F.notification.title;W&&(M.notification.title=W);const ue=F.notification.body;ue&&(M.notification.body=ue);const Fe=F.notification.image;Fe&&(M.notification.image=Fe)}(F,M),function Z(M,F){!F.data||(M.data=F.data)}(F,M),function et(M,F){var W,ue,Fe,rt,_t;if(!(F.fcmOptions||null!==(W=F.notification)&&void 0!==W&&W.click_action))return;M.fcmOptions={};const Bt=null!==(Fe=null===(ue=F.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Fe?Fe:null===(rt=F.notification)||void 0===rt?void 0:rt.click_action;Bt&&(M.fcmOptions.link=Bt);const wn=null===(_t=F.fcmOptions)||void 0===_t?void 0:_t.analytics_label;wn&&(M.fcmOptions.analyticsLabel=wn)}(F,M),F}function Zt(M){return"object"==typeof M&&!!M&&ms in M}function br(M,F){const W=[];for(let ue=0;ue<M.length;ue++)W.push(M.charAt(ue)),ue<F.length&&W.push(F.charAt(ue));return W.join("")}function mr(M){return kt.create("missing-app-config-values",{valueName:M})}br("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),br("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pi{constructor(F,W,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function ei(M){if(!M||!M.options)throw mr("App Configuration Object");if(!M.name)throw mr("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:W}=M;for(const ue of F)if(!W[ue])throw mr(ue);return{appName:M.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Fe,installations:W,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function xs(M){return oi.apply(this,arguments)}function oi(){return(oi=(0,H.Z)(function*(M){var F;try{M.swRegistration=yield navigator.serviceWorker.register(Ii,{scope:ss}),M.swRegistration.update().catch(()=>{})}catch(W){throw kt.create("failed-service-worker-registration",{browserErrorMessage:null===(F=W)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function as(M,F){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield xs(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function ra(M,F){return ia.apply(this,arguments)}function ia(){return(ia=(0,H.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=Cs)})).apply(this,arguments)}function ho(){return(ho=(0,H.Z)(function*(M,F){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield ra(M,F?.vapidKey),yield as(M,F?.serviceWorkerRegistration),co(M)})).apply(this,arguments)}function Ca(M,F,W){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,H.Z)(function*(M,F,W){const ue=Ho(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:W[ms],message_name:W[Zs],message_time:W[Ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ho(M){switch(M){case _s.NOTIFICATION_CLICKED:return"notification_open";case _s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sa(){return(sa=(0,H.Z)(function*(M,F){const W=F.data;if(!W.isFirebaseMessaging)return;M.onMessageHandler&&W.messageType===_s.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(R(W)):M.onMessageHandler.next(R(W)));const ue=W.data;Zt(ue)&&"1"===ue[ys]&&(yield Ca(M,W.messageType,ue))})).apply(this,arguments)}const xo="@firebase/messaging",no=M=>{const F=new pi(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function bu(M,F){return sa.apply(this,arguments)}(F,W)),F},Va=M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:ue=>function Fr(M,F){return ho.apply(this,arguments)}(F,ue)}};function Ps(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,H.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fi(){(0,he._registerComponent)(new De.wA("messaging",no,"PUBLIC")),(0,he._registerComponent)(new De.wA("messaging-internal",Va,"PRIVATE")),(0,he.registerVersion)(xo,"0.9.15"),(0,he.registerVersion)(xo,"0.9.15","esm2017")}();const iu="analytics",ju="firebase_id",ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",io="https://www.googletagmanager.com/gtag/js",Mi=new ke.Yd("@firebase/analytics");function su(M){return Promise.all(M.map(F=>F.catch(W=>W)))}function so(M,F){const W=document.createElement("script");W.src=`${io}?l=${M}&id=${F}`,W.async=!0,document.head.appendChild(W)}function Ba(M,F,W,ue,Fe,rt){return po.apply(this,arguments)}function po(){return(po=(0,H.Z)(function*(M,F,W,ue,Fe,rt){const _t=ue[Fe];try{if(_t)yield F[_t];else{const wn=(yield su(W)).find(cn=>cn.measurementId===Fe);wn&&(yield F[wn.appId])}}catch(Bt){Mi.error(Bt)}M("config",Fe,rt)})).apply(this,arguments)}function Us(M,F,W,ue,Fe){return oa.apply(this,arguments)}function oa(){return(oa=(0,H.Z)(function*(M,F,W,ue,Fe){try{let rt=[];if(Fe&&Fe.send_to){let _t=Fe.send_to;Array.isArray(_t)||(_t=[_t]);const Bt=yield su(W);for(const wn of _t){const cn=Bt.find(En=>En.measurementId===wn),Ln=cn&&F[cn.appId];if(!Ln){rt=[];break}rt.push(Ln)}}0===rt.length&&(rt=Object.values(F)),yield Promise.all(rt),M("event",ue,Fe||{})}catch(rt){Mi.error(rt)}})).apply(this,arguments)}function Ma(){const M=window.document.getElementsByTagName("script");for(const F of Object.values(M))if(F.src&&F.src.includes(io))return F;return null}const Li=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ua=new class aa{constructor(F={},W=1e3){this.throttleMetadata=F,this.intervalMillis=W}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,W){this.throttleMetadata[F]=W}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function oo(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function xa(M){return Di.apply(this,arguments)}function Di(){return(Di=(0,H.Z)(function*(M){var F;const{appId:W,apiKey:ue}=M,Fe={method:"GET",headers:oo(ue)},rt=ro.replace("{app-id}",W),_t=yield fetch(rt,Fe);if(200!==_t.status&&304!==_t.status){let Bt="";try{const wn=yield _t.json();null!==(F=wn.error)&&void 0!==F&&F.message&&(Bt=wn.error.message)}catch{}throw Li.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:Bt})}return _t.json()})).apply(this,arguments)}function zo(M){return la.apply(this,arguments)}function la(){return(la=(0,H.Z)(function*(M,F=ua,W){const{appId:ue,apiKey:Fe,measurementId:rt}=M.options;if(!ue)throw Li.create("no-app-id");if(!Fe){if(rt)return{measurementId:rt,appId:ue};throw Li.create("no-api-key")}const _t=F.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new Bs;return setTimeout((0,H.Z)(function*(){Bt.abort()}),void 0!==W?W:6e4),Po({appId:ue,apiKey:Fe,measurementId:rt},_t,Bt,F)})).apply(this,arguments)}function Po(M,F,W){return mo.apply(this,arguments)}function mo(){return(mo=(0,H.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:W},ue,Fe=ua){var rt,_t;const{appId:Bt,measurementId:wn}=M;try{yield Pa(ue,F)}catch(cn){if(wn)return Mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wn} provided in the "measurementId" field in the local Firebase config. [${null===(rt=cn)||void 0===rt?void 0:rt.message}]`),{appId:Bt,measurementId:wn};throw cn}try{const cn=yield xa(M);return Fe.deleteThrottleMetadata(Bt),cn}catch(cn){const Ln=cn;if(!mi(Ln)){if(Fe.deleteThrottleMetadata(Bt),wn)return Mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wn} provided in the "measurementId" field in the local Firebase config. [${Ln?.message}]`),{appId:Bt,measurementId:wn};throw cn}const En=503===Number(null===(_t=Ln?.customData)||void 0===_t?void 0:_t.httpStatus)?(0,Ee.$s)(W,Fe.intervalMillis,30):(0,Ee.$s)(W,Fe.intervalMillis),ni={throttleEndTimeMillis:Date.now()+En,backoffCount:W+1};return Fe.setThrottleMetadata(Bt,ni),Mi.debug(`Calling attemptFetch again in ${En} millis`),Po(M,ni,ue,Fe)}})).apply(this,arguments)}function Pa(M,F){return new Promise((W,ue)=>{const Fe=Math.max(F-Date.now(),0),rt=setTimeout(W,Fe);M.addEventListener(()=>{clearTimeout(rt),ue(Li.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function mi(M){if(!(M instanceof Ee.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Bs{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function ns(){return Es.apply(this,arguments)}function Es(){return(Es=(0,H.Z)(function*(){var M;if(!(0,Ee.hl)())return Mi.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(F){return Mi.warn(Li.create("indexeddb-unavailable",{errorInfo:null===(M=F)||void 0===M?void 0:M.toString()}).message),!1}return!0})).apply(this,arguments)}function At(){return(At=(0,H.Z)(function*(M,F,W,ue,Fe,rt,_t){var Bt;const wn=zo(M);wn.then(Zr=>{W[Zr.measurementId]=Zr.appId,M.options.measurementId&&Zr.measurementId!==M.options.measurementId&&Mi.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zr=>Mi.error(Zr)),F.push(wn);const cn=ns().then(Zr=>{if(Zr)return ue.getId()}),[Ln,En]=yield Promise.all([wn,cn]);Ma()||so(rt,Ln.measurementId),Fe("js",new Date);const ni=null!==(Bt=_t?.config)&&void 0!==Bt?Bt:{};return ni.origin="firebase",ni.update=!0,null!=En&&(ni[ju]=En),Fe("config",Ln.measurementId,ni),Ln.measurementId})).apply(this,arguments)}class Xr{constructor(F){this.app=F}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}}let ji={},No=[];const Yt={};let Ht,tt,yn="dataLayer",Ct=!1;function $u(M,F,W){!function ha(){const M=[];if((0,Ee.ru)()&&M.push("This is a browser extension environment."),(0,Ee.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((ue,Fe)=>`(${Fe+1}) ${ue}`).join(" "),W=Li.create("invalid-analytics-context",{errorInfo:F});Mi.warn(W.message)}}();const ue=M.options.appId;if(!ue)throw Li.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Li.create("no-api-key");Mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ji[ue])throw Li.create("already-exists",{id:ue});if(!Ct){!function Go(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(yn);const{wrappedGtag:rt,gtagCore:_t}=function Au(M,F,W,ue,Fe){let rt=function(..._t){window[ue].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(rt=window[Fe]),window[Fe]=function Tu(M,F,W,ue){function rt(){return(rt=(0,H.Z)(function*(_t,Bt,wn){try{"event"===_t?yield Us(M,F,W,Bt,wn):"config"===_t?yield Ba(M,F,W,ue,Bt,wn):M("set",Bt)}catch(cn){Mi.error(cn)}})).apply(this,arguments)}return function Fe(_t,Bt,wn){return rt.apply(this,arguments)}}(rt,M,F,W),{gtagCore:rt,wrappedGtag:window[Fe]}}(ji,No,Yt,yn,"gtag");tt=rt,Ht=_t,Ct=!0}return ji[ue]=function ca(M,F,W,ue,Fe,rt,_t){return At.apply(this,arguments)}(M,No,Yt,F,Ht,yn,W),new Xr(M)}function Qa(){return(Qa=(0,H.Z)(function*(M,F,W,ue,Fe){if(Fe&&Fe.global)M("event",W,ue);else{const rt=yield F;M("event",W,Object.assign(Object.assign({},ue),{send_to:rt}))}})).apply(this,arguments)}function St(){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,H.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const fa="@firebase/analytics";!function ao(){(0,he._registerComponent)(new De.wA(iu,(F,{options:W})=>$u(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,he._registerComponent)(new De.wA("analytics-internal",function M(F){try{const W=F.getProvider(iu).getImmediate();return{logEvent:(ue,Fe,rt)=>function $t(M,F,W,ue){M=(0,Ee.m9)(M),function ou(M,F,W,ue,Fe){return Qa.apply(this,arguments)}(tt,ji[M.app.options.appId],F,W,ue).catch(Fe=>Mi.error(Fe))}(W,ue,Fe,rt)}}catch(W){throw Li.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,he.registerVersion)(fa,"0.7.11"),(0,he.registerVersion)(fa,"0.7.11","esm2017")}();var au=j(4408),Hu=j(7565);const js=new class yo extends Hu.v{}(class us extends au.o{constructor(F,W){super(F,W),this.scheduler=F,this.work=W}schedule(F,W=0){return W>0?super.schedule(F,W):(this.delay=W,this.state=F,this.scheduler.flush(this),this)}execute(F,W){return W>0||this.closed?super.execute(F,W):this._execute(F,W)}requestAsyncId(F,W,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(F,W,ue):F.flush(this)}});var $i=j(4986),pa=j(9751),Ns=j(8505),uu=j(9468),Ke=j(5363);const rs=new m.GfV("7.4.1"),xi="__angularfire_symbol__analyticsIsSupportedValue",Ro="__angularfire_symbol__analyticsIsSupported",uo="__angularfire_symbol__remoteConfigIsSupportedValue",ui="__angularfire_symbol__remoteConfigIsSupported",ga="__angularfire_symbol__messagingIsSupportedValue",ma="__angularfire_symbol__messagingIsSupported";function xr(M,F,W){if(F){if(1===F.length)return F[0];const rt=F.filter(_t=>_t.app===W);if(1===rt.length)return rt[0]}return W.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ro]||(globalThis[Ro]=St().then(M=>globalThis[xi]=M).catch(()=>globalThis[xi]=!1)),globalThis[ma]||(globalThis[ma]=Ps().then(M=>globalThis[ga]=M).catch(()=>globalThis[ga]=!1)),globalThis[ui]||(globalThis[ui]=Uo().then(M=>globalThis[uo]=M).catch(()=>globalThis[uo]=!1));const Su=(M,F)=>{const W=F?[F]:(0,v.C6)(),ue=[];return W.forEach(Fe=>{Fe.container.getProvider(M).instances.forEach(_t=>{ue.includes(_t)||ue.push(_t)})}),ue};function Zi(){}class Mu{constructor(F,W=js){this.zone=F,this.delegate=W}now(){return this.delegate.now()}schedule(F,W,ue){const Fe=this.zone;return this.delegate.schedule(function(_t){Fe.runGuarded(()=>{F.apply(this,[_t])})},W,ue)}}class li{constructor(F){this.zone=F,this.task=null}call(F,W){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zi,{},Zi,Zi)),W.pipe((0,Ns.b)({next:ue,complete:ue,error:ue})).subscribe(F).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ja=(()=>{class M{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Mu(Zone.current)),this.insideAngular=W.run(()=>new Mu(Zone.current,$i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(W){return new(W||M)(m.LFG(m.R0b))},M.\u0275prov=m.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ci(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Ar(M){return Ci().ngZone.runOutsideAngular(()=>M())}function Ra(M){return Ci().ngZone.run(()=>M())}function ya(M){return Ci(),function ci(M){return function(W){return(W=W.lift(new li(M.ngZone))).pipe((0,uu.R)(M.outsideAngular),(0,Ke.Q)(M.insideAngular))}}(Ci())(M)}const nc=(M,F)=>function(){const ue=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Ra(()=>M.apply(void 0,ue))},$s=(M,F)=>function(){let W;const ue=arguments;for(let rt=0;rt<arguments.length;rt++)"function"==typeof ue[rt]&&(F&&(W||(W=Ra(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zi,{},Zi,Zi)))),ue[rt]=nc(ue[rt],W));const Fe=Ar(()=>M.apply(this,ue));if(!F){if(Fe instanceof pa.y){const rt=Ci();return Fe.pipe((0,uu.R)(rt.outsideAngular),(0,Ke.Q)(rt.insideAngular))}return Ra(()=>Fe)}return Fe instanceof pa.y?Fe.pipe(ya):Fe instanceof Promise?Ra(()=>new Promise((rt,_t)=>Fe.then(Bt=>Ra(()=>rt(Bt)),Bt=>Ra(()=>_t(Bt))))):"function"==typeof Fe&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Fe.apply(this,arguments)}:Ra(()=>Fe)}},3673:(Gt,ze,j)=>{j.d(ze,{$:()=>an,A:()=>ne,B:()=>Qe,G:()=>qr,H:()=>Kr,J:()=>Ai,L:()=>Fn,M:()=>wi,N:()=>Bo,P:()=>xi,Q:()=>ms,R:()=>ao,T:()=>Zs,U:()=>Cs,V:()=>_s,W:()=>Sr,X:()=>La,Y:()=>yt,Z:()=>Mr,_:()=>ir,a:()=>go,a0:()=>co,a1:()=>eo,a2:()=>mt,a3:()=>na,a4:()=>fi,a5:()=>L,a6:()=>x,a7:()=>Z,a8:()=>Zt,a9:()=>br,aA:()=>T,aB:()=>Zr,aC:()=>$s,aD:()=>nc,aE:()=>cr,aI:()=>oo,aL:()=>ys,aa:()=>xs,ab:()=>as,ac:()=>ra,af:()=>Ca,ag:()=>Ho,ah:()=>bu,ak:()=>Wn,al:()=>ti,an:()=>io,ao:()=>po,ap:()=>me,aq:()=>st,ar:()=>Te,as:()=>Jt,at:()=>Lt,au:()=>Qi,av:()=>Ie,aw:()=>ce,ax:()=>oe,ay:()=>Le,az:()=>Un,b:()=>Li,c:()=>cl,d:()=>Mu,e:()=>Su,f:()=>W,g:()=>wn,h:()=>rt,i:()=>$u,j:()=>En,k:()=>qu,l:()=>js,m:()=>Zo,n:()=>Ha,o:()=>Pe,q:()=>Ur,r:()=>$i,s:()=>Hu,u:()=>Ke,v:()=>Ya});var m=j(5861),v=j(2090),H=j(9681),he=j(655),Ee=j(1877),De=j(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ne={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Qe=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ft=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Ee.Yd("@firebase/auth");function jt(I,...h){We.logLevel<=Ee.in.ERROR&&We.error(`Auth (${H.SDK_VERSION}): ${I}`,...h)}function Lt(I,...h){throw Et(I,...h)}function ce(I,...h){return Et(I,...h)}function ot(I,h,p){const A=Object.assign(Object.assign({},Je()),{[h]:p});return new v.LL("auth","Firebase",A).create(h,{appName:I.name})}function Xe(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Lt(I,"argument-error"),ot(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(I,...h){if("string"!=typeof I){const p=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(p,...A)}return Ft.create(I,...h)}function oe(I,h,...p){if(!I)throw Et(h,...p)}function qe(I){const h="INTERNAL ASSERTION FAILED: "+I;throw jt(h),new Error(h)}function st(I,h){I||qe(h)}const ie=new Map;function Le(I){st(I instanceof Function,"Expected a class definition");let h=ie.get(I);return h?(st(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,ie.set(I,h),h)}function $e(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Dt(){return"http:"===sn()||"https:"===sn()}function sn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Nt{constructor(h,p){this.shortDelay=h,this.longDelay=p,st(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hn(I,h){st(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class In{static initialize(h,p,A){this.fetchImpl=h,p&&(this.headersImpl=p),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gn=new Nt(3e4,6e4);function dn(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function kn(I,h,p,A){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*(I,h,p,A,z={}){return ar(I,z,(0,m.Z)(function*(){let te={},je={};A&&("GET"===h?je=A:te={body:JSON.stringify(A)});const bt=(0,v.xO)(Object.assign({key:I.config.apiKey},je)).slice(1),rn=yield I._getAdditionalHeaders();return rn["Content-Type"]="application/json",I.languageCode&&(rn["X-Firebase-Locale"]=I.languageCode),In.fetch()(Qr(I,I.config.apiHost,p,bt),Object.assign({method:h,headers:rn,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function ar(I,h,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,m.Z)(function*(I,h,p){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},Jn),h);try{const z=new Dr(I),te=yield Promise.race([p(),z.promise]);z.clearNetworkTimeout();const je=yield te.json();if("needConfirmation"in je)throw vr(I,"account-exists-with-different-credential",je);if(te.ok&&!("errorMessage"in je))return je;{const bt=te.ok?je.errorMessage:je.error.message,[rn,An]=bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rn)throw vr(I,"credential-already-in-use",je);if("EMAIL_EXISTS"===rn)throw vr(I,"email-already-in-use",je);if("USER_DISABLED"===rn)throw vr(I,"user-disabled",je);const pr=A[rn]||rn.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw ot(I,pr,An);Lt(I,pr)}}catch(z){if(z instanceof v.ZR)throw z;Lt(I,"network-request-failed")}})).apply(this,arguments)}function Ir(I,h,p,A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(I,h,p,A,z={}){const te=yield kn(I,h,p,A,z);return"mfaPendingCredential"in te&&Lt(I,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function Qr(I,h,p,A){const z=`${h}${p}?${A}`;return I.config.emulator?Hn(I.config,z):`${I.config.apiScheme}://${z}`}class Dr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,A)=>{this.timer=setTimeout(()=>A(ce(this.auth,"network-request-failed")),gn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vr(I,h,p){const A={appName:I.name};p.email&&(A.email=p.email),p.phoneNumber&&(A.phoneNumber=p.phoneNumber);const z=ce(I,h,A);return z.customData._tokenResponse=p,z}function Qt(){return(Qt=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function nr(I,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Dn(I,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Jr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Vr(){return(Vr=(0,m.Z)(function*(I,h=!1){const p=(0,v.m9)(I),A=yield p.getIdToken(h),z=xn(A);oe(z&&z.exp&&z.auth_time&&z.iat,p.auth,"internal-error");const te="object"==typeof z.firebase?z.firebase:void 0,je=te?.sign_in_provider;return{claims:z,token:A,authTime:Jr(vi(z.auth_time)),issuedAtTime:Jr(vi(z.iat)),expirationTime:Jr(vi(z.exp)),signInProvider:je||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function vi(I){return 1e3*Number(I)}function xn(I){var h;const[p,A,z]=I.split(".");if(void 0===p||void 0===A||void 0===z)return jt("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,v.tV)(A);return te?JSON.parse(te):(jt("Failed to decode base64 JWT payload"),null)}catch(te){return jt("Caught error parsing JWT payload as JSON",null===(h=te)||void 0===h?void 0:h.toString()),null}}function qt(I,h){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(A){throw A instanceof v.ZR&&zr(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function zr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class on{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const z=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),A)}iteration(){var h=this;return(0,m.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(p=A)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Wr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gr(I){return lr.apply(this,arguments)}function lr(){return(lr=(0,m.Z)(function*(I){var h;const p=I.auth,A=yield I.getIdToken(),z=yield qt(I,Dn(p,{idToken:A}));oe(z?.users.length,p,"internal-error");const te=z.users[0];I._notifyReloadListener(te);const je=null!==(h=te.providerUserInfo)&&void 0!==h&&h.length?Oe(te.providerUserInfo):[],bt=le(I.providerData,je),pr=!!I.isAnonymous&&!(I.email&&te.passwordHash||bt?.length),ri={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:bt,metadata:new Wr(te.createdAt,te.lastLoginAt),isAnonymous:pr};Object.assign(I,ri)})).apply(this,arguments)}function Ae(){return(Ae=(0,m.Z)(function*(I){const h=(0,v.m9)(I);yield gr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function le(I,h){return[...I.filter(A=>!h.some(z=>z.providerId===A.providerId)),...h]}function Oe(I){return I.map(h=>{var{providerId:p}=h,A=(0,he._T)(h,["providerId"]);return{providerId:p,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function ae(){return(ae=(0,m.Z)(function*(I,h){const p=yield ar(I,{},(0,m.Z)(function*(){const A=(0,v.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:z,apiKey:te}=I.config,je=Qr(I,z,"/v1/token",`key=${te}`),bt=yield I._getAdditionalHeaders();return bt["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(je,{method:"POST",headers:bt,body:A})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){oe(h.idToken,"internal-error"),oe(typeof h.idToken<"u","internal-error"),oe(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ot(I){const h=xn(I);return oe(h,"internal-error"),oe(typeof h.exp<"u","internal-error"),oe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var A=this;return(0,m.Z)(function*(){return oe(!A.accessToken||A.refreshToken,h,"user-token-expired"),p||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var A=this;return(0,m.Z)(function*(){const{accessToken:z,refreshToken:te,expiresIn:je}=yield function Re(I,h){return ae.apply(this,arguments)}(h,p);A.updateTokensAndExpiration(z,te,Number(je))})()}updateTokensAndExpiration(h,p,A){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,p){const{refreshToken:A,accessToken:z,expirationTime:te}=p,je=new at;return A&&(oe("string"==typeof A,"internal-error",{appName:h}),je.refreshToken=A),z&&(oe("string"==typeof z,"internal-error",{appName:h}),je.accessToken=z),te&&(oe("number"==typeof te,"internal-error",{appName:h}),je.expirationTime=te),je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return qe("not implemented")}}function vt(I,h){oe("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Mt{constructor(h){var{uid:p,auth:A,stsTokenManager:z}=h,te=(0,he._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new on(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=A,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Wr(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const A=yield qt(p,p.stsTokenManager.getToken(p.auth,h));return oe(A,p.auth,"internal-error"),p.accessToken!==A&&(p.accessToken=A,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),A})()}getIdTokenResult(h){return function Er(I){return Vr.apply(this,arguments)}(this,h)}reload(){return function Kn(I){return Ae.apply(this,arguments)}(this)}_assign(h){this!==h&&(oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Mt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var A=this;return(0,m.Z)(function*(){let z=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),z=!0),p&&(yield gr(A)),yield A.auth._persistUserIfCurrent(A),z&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield qt(h,function ur(I,h){return Qt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var A,z,te,je,bt,rn,An,pr;const ri=null!==(A=p.displayName)&&void 0!==A?A:void 0,Ga=null!==(z=p.email)&&void 0!==z?z:void 0,lo=null!==(te=p.phoneNumber)&&void 0!==te?te:void 0,du=null!==(je=p.photoURL)&&void 0!==je?je:void 0,Pu=null!==(bt=p.tenantId)&&void 0!==bt?bt:void 0,eu=null!==(rn=p._redirectEventId)&&void 0!==rn?rn:void 0,ic=null!==(An=p.createdAt)&&void 0!==An?An:void 0,Zu=null!==(pr=p.lastLoginAt)&&void 0!==pr?pr:void 0,{uid:Bc,emailVerified:fl,isAnonymous:Rl,providerData:pl,stsTokenManager:Nu}=p;oe(Bc&&Nu,h,"internal-error");const mg=at.fromJSON(this.name,Nu);oe("string"==typeof Bc,h,"internal-error"),vt(ri,h.name),vt(Ga,h.name),oe("boolean"==typeof fl,h,"internal-error"),oe("boolean"==typeof Rl,h,"internal-error"),vt(lo,h.name),vt(du,h.name),vt(Pu,h.name),vt(eu,h.name),vt(ic,h.name),vt(Zu,h.name);const Vd=new Mt({uid:Bc,auth:h,email:Ga,emailVerified:fl,displayName:ri,isAnonymous:Rl,photoURL:du,phoneNumber:lo,tenantId:Pu,stsTokenManager:mg,createdAt:ic,lastLoginAt:Zu});return pl&&Array.isArray(pl)&&(Vd.providerData=pl.map(zi=>Object.assign({},zi))),eu&&(Vd._redirectEventId=eu),Vd}static _fromIdTokenResponse(h,p,A=!1){return(0,m.Z)(function*(){const z=new at;z.updateFromServerResponse(p);const te=new Mt({uid:p.localId,auth:h,stsTokenManager:z,isAnonymous:A});return yield gr(te),te})()}}const Fn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,A){var z=this;return(0,m.Z)(function*(){z.storage[p]=A})()}_get(p){var A=this;return(0,m.Z)(function*(){const z=A.storage[p];return void 0===z?null:z})()}_remove(p){var A=this;return(0,m.Z)(function*(){delete A.storage[p]})()}_addListener(p,A){}_removeListener(p,A){}}return I.type="NONE",I})();function Un(I,h,p){return`firebase:${I}:${h}:${p}`}class Nn{constructor(h,p,A){this.persistence=h,this.auth=p,this.userKey=A;const{config:z,name:te}=this.auth;this.fullUserKey=Un(this.userKey,z.apiKey,te),this.fullPersistenceKey=Un("persistence",z.apiKey,te),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Mt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const A=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,A?p.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,A="authUser"){return(0,m.Z)(function*(){if(!p.length)return new Nn(Le(Fn),h,A);const z=(yield Promise.all(p.map(function(){var An=(0,m.Z)(function*(pr){if(yield pr._isAvailable())return pr});return function(pr){return An.apply(this,arguments)}}()))).filter(An=>An);let te=z[0]||Le(Fn);const je=Un(A,h.config.apiKey,h.name);let bt=null;for(const An of p)try{const pr=yield An._get(je);if(pr){const ri=Mt._fromJSON(h,pr);An!==te&&(bt=ri),te=An;break}}catch{}const rn=z.filter(An=>An._shouldAllowMigration);return te._shouldAllowMigration&&rn.length?(te=rn[0],bt&&(yield te._set(je,bt.toJSON())),yield Promise.all(p.map(function(){var An=(0,m.Z)(function*(pr){if(pr!==te)try{yield pr._remove(je)}catch{}});return function(pr){return An.apply(this,arguments)}}())),new Nn(te,h,A)):new Nn(te,h,A)})()}}function Ue(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Tt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(fe(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ct(h))return"Blackberry";if(gt(h))return"Webos";if(pe(h))return"Safari";if((h.includes("chrome/")||it(h))&&!h.includes("edge/"))return"Chrome";if(Jt(h))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function fe(I=(0,v.z$)()){return/firefox\//i.test(I)}function pe(I=(0,v.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function it(I=(0,v.z$)()){return/crios\//i.test(I)}function Tt(I=(0,v.z$)()){return/iemobile/i.test(I)}function Jt(I=(0,v.z$)()){return/android/i.test(I)}function ct(I=(0,v.z$)()){return/blackberry/i.test(I)}function gt(I=(0,v.z$)()){return/webos/i.test(I)}function Te(I=(0,v.z$)()){return/iphone|ipad|ipod/i.test(I)}function me(I=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function dt(I=(0,v.z$)()){return Te(I)||Jt(I)||gt(I)||ct(I)||/windows phone/i.test(I)||Tt(I)}function Rn(I,h=[]){let p;switch(I){case"Browser":p=Ue((0,v.z$)());break;case"Worker":p=`${Ue((0,v.z$)())}-${I}`;break;default:p=I}const A=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${H.SDK_VERSION}/${A}`}class tr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const A=te=>new Promise((je,bt)=>{try{je(h(te))}catch(rn){bt(rn)}});A.onAbort=p,this.queue.push(A);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){var A;if(p.auth.currentUser===h)return;const z=[];try{for(const te of p.queue)yield te(h),te.onAbort&&z.push(te.onAbort)}catch(te){z.reverse();for(const je of z)try{je()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=te)||void 0===A?void 0:A.message})}})()}}class tn{constructor(h,p,A){this.app=h,this.heartbeatServiceProvider=p,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(h,p){var A=this;return p&&(this._popupRedirectResolver=Le(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var z,te;if(!A._deleted&&(A.persistenceManager=yield Nn.create(A,h),!A._deleted)){if(null!==(z=A._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(p),A.lastNotifiedUid=(null===(te=A.currentUser)||void 0===te?void 0:te.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var A;const z=yield p.assertedPersistence.getCurrentUser();let te=z,je=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const bt=null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId,rn=te?._redirectEventId,An=yield p.tryRedirectSignIn(h);(!bt||bt===rn)&&An?.user&&(te=An.user,je=!0)}if(!te)return p.directlySetCurrentUser(null);if(!te._redirectEventId){if(je)try{yield p.beforeStateQueue.runMiddleware(te)}catch(bt){te=z,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(bt))}return te?p.reloadAndSetCurrentUserOrClear(te):p.directlySetCurrentUser(null)}return oe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===te._redirectEventId?p.directlySetCurrentUser(te):p.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let A=null;try{A=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){var A;try{yield gr(h)}catch(z){if("auth/network-request-failed"!==(null===(A=z)||void 0===A?void 0:A.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Pn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const A=h?(0,v.m9)(h):null;return A&&oe(A.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(A&&A._clone(p))})()}_updateCurrentUser(h,p=!1){var A=this;return(0,m.Z)(function*(){if(!A._deleted)return h&&oe(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),p||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,m.Z)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(Le(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new v.LL("auth","Firebase",h())}onAuthStateChanged(h,p,A){return this.registerStateListener(this.authStateSubscription,h,p,A)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,A){return this.registerStateListener(this.idTokenSubscription,h,p,A)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var A=this;return(0,m.Z)(function*(){const z=yield A.getOrInitRedirectPersistenceManager(p);return null===h?z.removeCurrentUser():z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const A=h&&Le(h)||p._popupRedirectResolver;oe(A,p,"argument-error"),p.redirectPersistenceManager=yield Nn.create(p,[Le(A._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var A,z;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(A=p._currentUser)||void 0===A?void 0:A._redirectEventId)===h?p._currentUser:(null===(z=p.redirectUser)||void 0===z?void 0:z._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,A,z){if(this._deleted)return()=>{};const te="function"==typeof p?p:p.next.bind(p),je=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(je,this,"internal-error"),je.then(()=>te(this.currentUser)),"function"==typeof p?h.addObserver(p,A,z):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const z=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return z&&(A["X-Firebase-Client"]=z),A})()}}function cr(I){return(0,v.m9)(I)}class rr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,v.ne)(p=>this.observer=p)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qr(I,h,p){const A=cr(I);oe(A._canInitEmulator,A,"emulator-config-failed"),oe(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const z=!!p?.disableWarnings,te=hi(h),{host:je,port:bt}=function wr(I){const h=hi(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const A=p[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(A);if(z){const te=z[1];return{host:te,port:fs(A.substr(te.length+1))}}{const[te,je]=A.split(":");return{host:te,port:fs(je)}}}(h);A.config.emulator={url:`${te}//${je}${null===bt?"":`:${bt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:je,port:bt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Wi(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function hi(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function fs(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class Kr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return qe("not implemented")}_getIdTokenResponse(h){return qe("not implemented")}_linkToIdToken(h,p){return qe("not implemented")}_getReauthenticationResolver(h){return qe("not implemented")}}function Pi(I,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:resetPassword",dn(I,h))})).apply(this,arguments)}function sr(I,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function bo(I,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:update",dn(I,h))})).apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithPassword",dn(I,h))})).apply(this,arguments)}function is(I,h){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:sendOobCode",dn(I,h))})).apply(this,arguments)}function Ce(I,h){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,m.Z)(function*(I,h){return is(I,h)})).apply(this,arguments)}function ut(I,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,m.Z)(function*(I,h){return is(I,h)})).apply(this,arguments)}function zt(I,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,m.Z)(function*(I,h){return is(I,h)})).apply(this,arguments)}function Rr(I,h){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,m.Z)(function*(I,h){return is(I,h)})).apply(this,arguments)}function ps(){return(ps=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,h))})).apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithEmailLink",dn(I,h))})).apply(this,arguments)}class gs extends Kr{constructor(h,p,A,z=null){super("password",A),this._email=h,this._password=p,this._tenantId=z}static _fromEmailAndPassword(h,p){return new gs(h,p,"password")}static _fromEmailAndCode(h,p,A=null){return new gs(h,p,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return function qs(I,h){return Xi.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Ni(I,h){return ps.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Lt(h,"internal-error")}})()}_linkToIdToken(h,p){var A=this;return(0,m.Z)(function*(){switch(A.signInMethod){case"password":return sr(h,{idToken:p,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ks(I,h){return Ri.apply(this,arguments)}(h,{idToken:p,email:A._email,oobCode:A._password});default:Lt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Vi(I,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithIdp",dn(I,h))})).apply(this,arguments)}class Ai extends Kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ai(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Lt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z}=p,te=(0,he._T)(p,["providerId","signInMethod"]);if(!A||!z)return null;const je=new Ai(A,z);return je.idToken=te.idToken||void 0,je.accessToken=te.accessToken||void 0,je.secret=te.secret,je.nonce=te.nonce,je.pendingToken=te.pendingToken||null,je}_getIdTokenResponse(h){return Vi(h,this.buildRequest())}_linkToIdToken(h,p){const A=this.buildRequest();return A.idToken=p,Vi(h,A)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Vi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,v.xO)(p)}return h}}function Co(I,h){return ea.apply(this,arguments)}function ea(){return(ea=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:sendVerificationCode",dn(I,h))})).apply(this,arguments)}function Ds(){return(Ds=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,h))})).apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(I,h){const p=yield Ir(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,h));if(p.temporaryProof)throw vr(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Da={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithPhoneNumber",dn(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Da)})).apply(this,arguments)}class ki extends Kr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new ki({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new ki({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Ui(I,h){return Ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function qi(I,h){return To.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ba(I,h){return Ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:A,verificationCode:z}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:A,code:z}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:A,phoneNumber:z,temporaryProof:te}=h;return A||p||z||te?new ki({verificationId:p,verificationCode:A,phoneNumber:z,temporaryProof:te}):null}}class Ks{constructor(h){var p,A,z,te,je,bt;const rn=(0,v.zd)((0,v.pd)(h)),An=null!==(p=rn.apiKey)&&void 0!==p?p:null,pr=null!==(A=rn.oobCode)&&void 0!==A?A:null,ri=function bs(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=rn.mode)&&void 0!==z?z:null);oe(An&&pr&&ri,"argument-error"),this.apiKey=An,this.operation=ri,this.code=pr,this.continueUrl=null!==(te=rn.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(je=rn.languageCode)&&void 0!==je?je:null,this.tenantId=null!==(bt=rn.tenantId)&&void 0!==bt?bt:null}static parseLink(h){const p=function So(I){const h=(0,v.zd)((0,v.pd)(I)).link,p=h?(0,v.zd)((0,v.pd)(h)).deep_link_id:null,A=(0,v.zd)((0,v.pd)(I)).deep_link_id;return(A?(0,v.zd)((0,v.pd)(A)).link:null)||A||p||h||I}(h);try{return new Ks(p)}catch{return null}}}let wi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,A){return gs._fromEmailAndPassword(p,A)}static credentialWithLink(p,A){const z=Ks.parseLink(A);return oe(z,"argument-error"),gs._fromEmailAndCode(p,z.code,z.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ii{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ss extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Cs extends ss{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return oe("providerId"in p&&"signInMethod"in p,"argument-error"),Ai._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return oe(h.idToken||h.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Cs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Cs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:A,oauthTokenSecret:z,pendingToken:te,nonce:je,providerId:bt}=h;if(!A&&!z&&!p&&!te||!bt)return null;try{return new Cs(bt)._credential({idToken:p,accessToken:A,nonce:je,pendingToken:te})}catch{return null}}}let Bo=(()=>{class I extends ss{constructor(){super("facebook.com")}static credential(p){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ms=(()=>{class I extends ss{constructor(){super("google.com"),this.addScope("profile")}static credential(p,A){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:A})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:A,oauthAccessToken:z}=p;if(!A&&!z)return null;try{return I.credential(A,z)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Zs=(()=>{class I extends ss{constructor(){super("github.com")}static credential(p){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ys extends Kr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Vi(h,this.buildRequest())}_linkToIdToken(h,p){const A=this.buildRequest();return A.idToken=p,Vi(h,A)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Vi(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:z,pendingToken:te}=p;return A&&z&&te&&A===z?new ys(A,te):null}static _create(h,p){return new ys(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _s extends Ii{constructor(h){oe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return _s.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return _s.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=ys.fromJSON(h);return oe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:A}=h;if(!p||!A)return null;try{return ys._create(A,p)}catch{return null}}}let Sr=(()=>{class I extends ss{constructor(){super("twitter.com")}static credential(p,A){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:A})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:A,oauthTokenSecret:z}=p;if(!A||!z)return null;try{return I.credential(A,z)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Fs(I,h){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signUp",dn(I,h))})).apply(this,arguments)}class Si{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,A,z=!1){return(0,m.Z)(function*(){const te=yield Mt._fromIdTokenResponse(h,A,z),je=Ts(A);return new Si({user:te,providerId:je,_tokenResponse:A,operationType:p})})()}static _forOperation(h,p,A){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(A,!0);const z=Ts(A);return new Si({user:h,providerId:z,_tokenResponse:A,operationType:p})})()}}function Ts(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function La(I){return Js.apply(this,arguments)}function Js(){return(Js=(0,m.Z)(function*(I){var h;const p=cr(I);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Si({user:p.currentUser,providerId:null,operationType:"signIn"});const A=yield Fs(p,{returnSecureToken:!0}),z=yield Si._fromIdTokenResponse(p,"signIn",A,!0);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}class Xs extends v.ZR{constructor(h,p,A,z){var te;super(p.code,p.message),this.operationType=A,this.user=z,Object.setPrototypeOf(this,Xs.prototype),this.customData={appName:h.name,tenantId:null!==(te=h.tenantId)&&void 0!==te?te:void 0,_serverResponse:p.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,p,A,z){return new Xs(h,p,A,z)}}function As(I,h,p,A){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Xs._fromErrorAndOperation(I,te,h,A):te})}function jo(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function Wn(I,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,m.Z)(function*(I,h){const p=(0,v.m9)(I);yield O(!0,p,h);const{providerUserInfo:A}=yield nr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),z=jo(A||[]);return p.providerData=p.providerData.filter(te=>z.has(te.providerId)),z.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Mo(I,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(I,h,p=!1){const A=yield qt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Si._forOperation(I,"link",A)})).apply(this,arguments)}function O(I,h,p){return K.apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(I,h,p){yield gr(h);const z=!1===I?"provider-already-linked":"no-such-provider";oe(jo(h.providerData).has(p)===I,h.auth,z)})).apply(this,arguments)}function k(I,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,m.Z)(function*(I,h,p=!1){var A;const{auth:z}=I,te="reauthenticate";try{const je=yield qt(I,As(z,te,h,I),p);oe(je.idToken,z,"internal-error");const bt=xn(je.idToken);oe(bt,z,"internal-error");const{sub:rn}=bt;return oe(I.uid===rn,z,"user-mismatch"),Si._forOperation(I,te,je)}catch(je){throw"auth/user-not-found"===(null===(A=je)||void 0===A?void 0:A.code)&&Lt(z,"user-mismatch"),je}})).apply(this,arguments)}function we(I,h){return Be.apply(this,arguments)}function Be(){return(Be=(0,m.Z)(function*(I,h,p=!1){const A="signIn",z=yield As(I,A,h),te=yield Si._fromIdTokenResponse(I,A,z);return p||(yield I._updateCurrentUser(te.user)),te})).apply(this,arguments)}function yt(I,h){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(I,h){return we(cr(I),h)})).apply(this,arguments)}function Mr(I,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(I,h){const p=(0,v.m9)(I);return yield O(!1,p,h.providerId),Mo(p,h)})).apply(this,arguments)}function ir(I,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,m.Z)(function*(I,h){return k((0,v.m9)(I),h)})).apply(this,arguments)}function kr(I,h){return $n.apply(this,arguments)}function $n(){return($n=(0,m.Z)(function*(I,h){return Ir(I,"POST","/v1/accounts:signInWithCustomToken",dn(I,h))})).apply(this,arguments)}function an(I,h){return os.apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(I,h){const p=cr(I),A=yield kr(p,{token:h,returnSecureToken:!0}),z=yield Si._fromIdTokenResponse(p,"signIn",A);return yield p._updateCurrentUser(z.user),z})).apply(this,arguments)}class es{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Bi._fromServerResponse(h,p):Lt(h,"internal-error")}}class Bi extends es{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Bi(p)}}function hr(I,h,p){var A;oe((null===(A=p.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),oe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(oe(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(oe(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function co(I,h,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I),z={requestType:"PASSWORD_RESET",email:h};p&&hr(A,z,p),yield ut(A,z)})).apply(this,arguments)}function eo(I,h,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,m.Z)(function*(I,h,p){yield Pi((0,v.m9)(I),{oobCode:h,newPassword:p})})).apply(this,arguments)}function mt(I,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(I,h){yield bo((0,v.m9)(I),{oobCode:h})})).apply(this,arguments)}function na(I,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,m.Z)(function*(I,h){const p=(0,v.m9)(I),A=yield Pi(p,{oobCode:h}),z=A.requestType;switch(oe(z,p,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(A.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(A.mfaInfo,p,"internal-error");default:oe(A.email,p,"internal-error")}let te=null;return A.mfaInfo&&(te=es._fromServerResponse(cr(p),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:te},operation:z}})).apply(this,arguments)}function fi(I,h){return $o.apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(I,h){const{data:p}=yield na((0,v.m9)(I),h);return p.email})).apply(this,arguments)}function L(I,h,p){return R.apply(this,arguments)}function R(){return(R=(0,m.Z)(function*(I,h,p){const A=cr(I),z=yield Fs(A,{returnSecureToken:!0,email:h,password:p}),te=yield Si._fromIdTokenResponse(A,"signIn",z);return yield A._updateCurrentUser(te.user),te})).apply(this,arguments)}function x(I,h,p){return yt((0,v.m9)(I),wi.credential(h,p))}function Z(I,h,p){return et.apply(this,arguments)}function et(){return(et=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I),z={requestType:"EMAIL_SIGNIN",email:h};oe(p.handleCodeInApp,A,"argument-error"),p&&hr(A,z,p),yield zt(A,z)})).apply(this,arguments)}function Zt(I,h){return"EMAIL_SIGNIN"===Ks.parseLink(h)?.operation}function br(I,h,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I),z=wi.credentialWithLink(h,p||$e());return oe(z._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),yt(A,z)})).apply(this,arguments)}function mr(I,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:createAuthUri",dn(I,h))})).apply(this,arguments)}function xs(I,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,m.Z)(function*(I,h){const A={identifier:h,continueUri:Dt()?$e():"http://localhost"},{signinMethods:z}=yield mr((0,v.m9)(I),A);return z||[]})).apply(this,arguments)}function as(I,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,m.Z)(function*(I,h){const p=(0,v.m9)(I),z={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&hr(p.auth,z,h);const{email:te}=yield Ce(p.auth,z);te!==I.email&&(yield I.reload())})).apply(this,arguments)}function ra(I,h,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};p&&hr(A.auth,te,p);const{email:je}=yield Rr(A.auth,te);je!==I.email&&(yield I.reload())})).apply(this,arguments)}function Fr(I,h){return ho.apply(this,arguments)}function ho(){return(ho=(0,m.Z)(function*(I,h){return kn(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ca(I,h){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,m.Z)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const A=(0,v.m9)(I),te={idToken:yield A.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},je=yield qt(A,Fr(A.auth,te));A.displayName=je.displayName||null,A.photoURL=je.photoUrl||null;const bt=A.providerData.find(({providerId:rn})=>"password"===rn);bt&&(bt.displayName=A.displayName,bt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(je)})).apply(this,arguments)}function Ho(I,h){return sa((0,v.m9)(I),h,null)}function bu(I,h){return sa((0,v.m9)(I),null,h)}function sa(I,h,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(I,h,p){const{auth:A}=I,te={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(te.email=h),p&&(te.password=p);const je=yield qt(I,sr(A,te));yield I._updateTokensIfNecessary(je,!0)})).apply(this,arguments)}class no{constructor(h,p,A={}){this.isNewUser=h,this.providerId=p,this.profile=A}}class Va extends no{constructor(h,p,A,z){super(h,p,A),this.username=z}}class Fi extends no{constructor(h,p){super(h,"facebook.com",p)}}class Ps extends Va{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Aa extends no{constructor(h,p){super(h,"google.com",p)}}class Za extends Va{constructor(h,p,A){super(h,"twitter.com",p,A)}}function ti(I){const{user:h,_tokenResponse:p}=I;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function to(I){var h,p;if(!I)return null;const{providerId:A}=I,z=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},te=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&I?.idToken){const je=null===(p=null===(h=xn(I.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(je)return new no(te,"anonymous"!==je&&"custom"!==je?je:null)}if(!A)return null;switch(A){case"facebook.com":return new Fi(te,z);case"github.com":return new Ps(te,z);case"google.com":return new Aa(te,z);case"twitter.com":return new Za(te,z,I.screenName||null);case"custom":case"anonymous":return new no(te,null);default:return new no(te,A,z)}}(p)}function Ur(I,h,p,A){return(0,v.m9)(I).onIdTokenChanged(h,p,A)}function Ya(I,h,p,A){return(0,v.m9)(I).onAuthStateChanged(h,p,A)}class Vs{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Vs("enroll",h)}static _fromMfaPendingCredential(h){return new Vs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,A;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Vs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return Vs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ro{constructor(h,p,A){this.session=h,this.hints=p,this.signInResolver=A}static _fromError(h,p){const A=cr(h),z=p.customData._serverResponse,te=(z.mfaInfo||[]).map(bt=>es._fromServerResponse(A,bt));oe(z.mfaPendingCredential,A,"internal-error");const je=Vs._fromMfaPendingCredential(z.mfaPendingCredential);return new ro(je,te,function(){var bt=(0,m.Z)(function*(rn){const An=yield rn._process(A,je);delete z.mfaInfo,delete z.mfaPendingCredential;const pr=Object.assign(Object.assign({},z),{idToken:An.idToken,refreshToken:An.refreshToken});switch(p.operationType){case"signIn":const ri=yield Si._fromIdTokenResponse(A,p.operationType,pr);return yield A._updateCurrentUser(ri.user),ri;case"reauthenticate":return oe(p.user,A,"internal-error"),Si._forOperation(p.user,p.operationType,pr);default:Lt(A,"internal-error")}});return function(rn){return bt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,m.Z)(function*(){return p.signInResolver(h)})()}}function io(I,h){var p;const A=(0,v.m9)(I),z=h;return oe(h.customData.operationType,A,"argument-error"),oe(null===(p=z.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,A,"argument-error"),ro._fromError(A,z)}function Mi(I,h){return kn(I,"POST","/v2/accounts/mfaEnrollment:start",dn(I,h))}class Go{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(A=>es._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new Go(h)}getSession(){var h=this;return(0,m.Z)(function*(){return Vs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var A=this;return(0,m.Z)(function*(){const z=h,te=yield A.getSession(),je=yield qt(A.user,z._process(A.user.auth,te,p));return yield A.user._updateTokensIfNecessary(je),A.user.reload()})()}unenroll(h){var p=this;return(0,m.Z)(function*(){var A;const z="string"==typeof h?h:h.uid,te=yield p.user.getIdToken(),je=yield qt(p.user,function so(I,h){return kn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(I,h))}(p.user.auth,{idToken:te,mfaEnrollmentId:z}));p.enrolledFactors=p.enrolledFactors.filter(({uid:bt})=>bt!==z),yield p.user._updateTokensIfNecessary(je);try{yield p.user.reload()}catch(bt){if("auth/user-token-expired"!==(null===(A=bt)||void 0===A?void 0:A.code))throw bt}})()}}const Ba=new WeakMap;function po(I){const h=(0,v.m9)(I);return Ba.has(h)||Ba.set(h,Go._fromUser(h)),Ba.get(h)}const Us="__sak";class oa{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Us,"1"),this.storage.removeItem(Us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Li=(()=>{class I extends oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,A)=>this.onStorageEvent(p,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tu(){const I=(0,v.z$)();return pe(I)||Te(I)}()&&function Ut(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const A of Object.keys(this.listeners)){const z=this.storage.getItem(A),te=this.localCache[A];z!==te&&p(A,te,z)}}onStorageEvent(p,A=!1){if(!p.key)return void this.forAllChangedKeys((bt,rn,An)=>{this.notifyListeners(bt,An)});const z=p.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const bt=this.storage.getItem(z);if(p.newValue!==bt)null!==p.newValue?this.storage.setItem(z,p.newValue):this.storage.removeItem(z);else if(this.localCache[z]===p.newValue&&!A)return}const te=()=>{const bt=this.storage.getItem(z);!A&&this.localCache[z]===bt||this.notifyListeners(z,bt)},je=this.storage.getItem(z);!function Me(){return(0,v.w1)()&&10===document.documentMode}()||je===p.newValue||p.newValue===p.oldValue?te():setTimeout(te,10)}notifyListeners(p,A){this.localCache[p]=A;const z=this.listeners[p];if(z)for(const te of Array.from(z))te(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,A,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:A,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,A){var z=()=>super._set,te=this;return(0,m.Z)(function*(){yield z().call(te,p,A),te.localCache[p]=JSON.stringify(A)})()}_get(p){var A=()=>super._get,z=this;return(0,m.Z)(function*(){const te=yield A().call(z,p);return z.localCache[p]=JSON.stringify(te),te})()}_remove(p){var A=()=>super._remove,z=this;return(0,m.Z)(function*(){yield A().call(z,p),delete z.localCache[p]})()}}return I.type="LOCAL",I})(),go=(()=>{class I extends oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,A){}_removeListener(p,A){}}return I.type="SESSION",I})();let ua=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const A=this.receivers.find(te=>te.isListeningto(p));if(A)return A;const z=new I(p);return this.receivers.push(z),z}isListeningto(p){return this.eventTarget===p}handleEvent(p){var A=this;return(0,m.Z)(function*(){const z=p,{eventId:te,eventType:je,data:bt}=z.data,rn=A.handlersMap[je];if(!rn?.size)return;z.ports[0].postMessage({status:"ack",eventId:te,eventType:je});const An=Array.from(rn).map(function(){var ri=(0,m.Z)(function*(Ga){return Ga(z.origin,bt)});return function(Ga){return ri.apply(this,arguments)}}()),pr=yield function aa(I){return Promise.all(I.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(A){return{fulfilled:!1,reason:A}}});return function(p){return h.apply(this,arguments)}}()))}(An);z.ports[0].postMessage({status:"done",eventId:te,eventType:je,response:pr})})()}_subscribe(p,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(A)}_unsubscribe(p,A){this.handlersMap[p]&&A&&this.handlersMap[p].delete(A),(!A||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function oo(I="",h=10){let p="";for(let A=0;A<h;A++)p+=Math.floor(10*Math.random());return I+p}class xa{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,A=50){var z=this;return(0,m.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let je,bt;return new Promise((rn,An)=>{const pr=oo("",20);te.port1.start();const ri=setTimeout(()=>{An(new Error("unsupported_event"))},A);bt={messageChannel:te,onMessage(Ga){const lo=Ga;if(lo.data.eventId===pr)switch(lo.data.status){case"ack":clearTimeout(ri),je=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(je),rn(lo.data.response);break;default:clearTimeout(ri),clearTimeout(je),An(new Error("invalid_response"))}}},z.handlers.add(bt),te.port1.addEventListener("message",bt.onMessage),z.target.postMessage({eventType:h,eventId:pr,data:p},[te.port2])}).finally(()=>{bt&&z.removeMessageHandler(bt)})})()}}function Di(){return window}function la(){return typeof Di().WorkerGlobalScope<"u"&&"function"==typeof Di().importScripts}function mo(){return(mo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bs="firebaseLocalStorageDb",Es="firebaseLocalStorage",ca="fbase_key";class At{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Xr(I,h){return I.transaction([Es],h?"readwrite":"readonly").objectStore(Es)}function No(){const I=indexedDB.open(Bs,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(Es,{keyPath:ca})}catch(z){p(z)}}),I.addEventListener("success",(0,m.Z)(function*(){const A=I.result;A.objectStoreNames.contains(Es)?h(A):(A.close(),yield function ji(){const I=indexedDB.deleteDatabase(Bs);return new At(I).toPromise()}(),h(yield No()))}))})}function Yt(I,h,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,m.Z)(function*(I,h,p){const A=Xr(I,!0).put({[ca]:h,value:p});return new At(A).toPromise()})).apply(this,arguments)}function Ht(){return(Ht=(0,m.Z)(function*(I,h){const p=Xr(I,!1).get(h),A=yield new At(p).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function tt(I,h){const p=Xr(I,!0).delete(h);return new At(p).toPromise()}const $u=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield No()),p.db})()}_withRetries(p){var A=this;return(0,m.Z)(function*(){let z=0;for(;;)try{const te=yield A._openDb();return yield p(te)}catch(te){if(z++>3)throw te;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return la()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=ua._getInstance(function mi(){return la()?self:null}()),p.receiver._subscribe("keyChanged",function(){var A=(0,m.Z)(function*(z,te){return{keyProcessed:(yield p._poll()).includes(te.key)}});return function(z,te){return A.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var A=(0,m.Z)(function*(z,te){return["keyChanged"]});return function(z,te){return A.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var A,z;if(p.activeServiceWorker=yield function Po(){return mo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new xa(p.activeServiceWorker);const te=yield p.sender._send("ping",{},800);!te||(null===(A=te[0])||void 0===A?void 0:A.fulfilled)&&(null===(z=te[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var A=this;return(0,m.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Pa(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:p},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield No();return yield Yt(p,Us,"1"),yield tt(p,Us),!0}catch{}return!1})()}_withPendingWrite(p){var A=this;return(0,m.Z)(function*(){A.pendingWrites++;try{yield p()}finally{A.pendingWrites--}})()}_set(p,A){var z=this;return(0,m.Z)(function*(){return z._withPendingWrite((0,m.Z)(function*(){return yield z._withRetries(te=>Yt(te,p,A)),z.localCache[p]=A,z.notifyServiceWorker(p)}))})()}_get(p){var A=this;return(0,m.Z)(function*(){const z=yield A._withRetries(te=>function da(I,h){return Ht.apply(this,arguments)}(te,p));return A.localCache[p]=z,z})()}_remove(p){var A=this;return(0,m.Z)(function*(){return A._withPendingWrite((0,m.Z)(function*(){return yield A._withRetries(z=>tt(z,p)),delete A.localCache[p],A.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const A=yield p._withRetries(je=>{const bt=Xr(je,!1).getAll();return new At(bt).toPromise()});if(!A)return[];if(0!==p.pendingWrites)return[];const z=[],te=new Set;for(const{fbase_key:je,value:bt}of A)te.add(je),JSON.stringify(p.localCache[je])!==JSON.stringify(bt)&&(p.notifyListeners(je,bt),z.push(je));for(const je of Object.keys(p.localCache))p.localCache[je]&&!te.has(je)&&(p.notifyListeners(je,null),z.push(je));return z})()}notifyListeners(p,A){this.localCache[p]=A;const z=this.listeners[p];if(z)for(const te of Array.from(z))te(A)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ou(I,h){return kn(I,"POST","/v2/accounts/mfaSignIn:start",dn(I,h))}function D(){return(D=(0,m.Z)(function*(I){return(yield kn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function E(I){return new Promise((h,p)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=h,A.onerror=z=>{const te=ce("internal-error");te.customData=z,p(te)},A.type="text/javascript",A.charset="UTF-8",function w(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(A)})}function P(I){return`__${I}${Math.floor(1e6*Math.random())}`}const X=1e12;class _e{constructor(h){this.auth=h,this.counter=X,this._widgets=new Map}render(h,p){const A=this.counter;return this._widgets.set(A,new lt(h,this.auth.name,p||{})),this.counter++,A}reset(h){var p;const A=h||X;null===(p=this._widgets.get(A))||void 0===p||p.delete(),this._widgets.delete(A)}getResponse(h){var p;return(null===(p=this._widgets.get(h||X))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,m.Z)(function*(){var A;return null===(A=p._widgets.get(h||X))||void 0===A||A.execute(),""})()}}class lt{constructor(h,p,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof h?document.getElementById(h):h;oe(z,"argument-error",{appName:p}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function St(I){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rt=P("rcb"),Wt=new Nt(3e4,6e4);class ai{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Di().grecaptcha}load(h,p=""){return oe(function _n(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Di().grecaptcha):new Promise((A,z)=>{const te=Di().setTimeout(()=>{z(ce(h,"network-request-failed"))},Wt.get());Di()[Rt]=()=>{Di().clearTimeout(te),delete Di()[Rt];const bt=Di().grecaptcha;if(!bt)return void z(ce(h,"internal-error"));const rn=bt.render;bt.render=(An,pr)=>{const ri=rn(An,pr);return this.counter++,ri},this.hostLanguage=p,A(bt)},E(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:Rt,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(te),z(ce(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Di().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $t{load(h){return(0,m.Z)(function*(){return new _e(h)})()}clearedOneInstance(){}}const fa="recaptcha",Ja={theme:"light",type:"image"};class ao{constructor(h,p=Object.assign({},Ja),A){this.parameters=p,this.type=fa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(A),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof h?document.getElementById(h):h;oe(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $t:new ai,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(p)||new Promise(te=>{const je=bt=>{!bt||(h.tokenChangeListeners.delete(je),te(bt))};h.tokenChangeListeners.add(je),h.isInvisible&&A.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(A=>A(p)),"function"==typeof h)h(p);else if("string"==typeof h){const A=Di()[h];"function"==typeof A&&A(p)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const A=document.createElement("div");p.appendChild(A),p=A}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){oe(Dt()&&!la(),h.auth,"internal-error"),yield function au(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Na(I){return D.apply(this,arguments)}(h.auth);oe(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class us{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=ki._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Hu(I,h,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(I,h,p){const A=cr(I),z=yield Ns(A,h,(0,v.m9)(p));return new us(z,te=>yt(A,te))})).apply(this,arguments)}function js(I,h,p){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I);yield O(!1,A,"phone");const z=yield Ns(A.auth,h,(0,v.m9)(p));return new us(z,te=>Mr(A,te))})).apply(this,arguments)}function $i(I,h,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I),z=yield Ns(A.auth,h,(0,v.m9)(p));return new us(z,te=>ir(A,te))})).apply(this,arguments)}function Ns(I,h,p){return uu.apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(I,h,p){var A;const z=yield p.verify();try{let te;if(oe("string"==typeof z,I,"argument-error"),oe(p.type===fa,I,"argument-error"),te="string"==typeof h?{phoneNumber:h}:h,"session"in te){const je=te.session;if("phoneNumber"in te)return oe("enroll"===je.type,I,"internal-error"),(yield Mi(I,{idToken:je.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{oe("signin"===je.type,I,"internal-error");const bt=(null===(A=te.multiFactorHint)||void 0===A?void 0:A.uid)||te.multiFactorUid;return oe(bt,I,"missing-multi-factor-info"),(yield ou(I,{mfaPendingCredential:je.credential,mfaEnrollmentId:bt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:je}=yield Co(I,{phoneNumber:te.phoneNumber,recaptchaToken:z});return je}}finally{p._reset()}})).apply(this,arguments)}function Ke(I,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(I,h){yield Mo((0,v.m9)(I),h)})).apply(this,arguments)}let xi=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=cr(p)}verifyPhoneNumber(p,A){return Ns(this.auth,p,(0,v.m9)(A))}static credential(p,A){return ki._fromVerification(p,A)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:A,temporaryProof:z}=p;return A&&z?ki._fromTokenResponse(A,z):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ro(I,h){return h?Le(h):(oe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class uo extends Kr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Vi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Vi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Vi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function ui(I){return we(I.auth,new uo(I),I.bypassAuthState)}function ga(I){const{auth:h,user:p}=I;return oe(p,h,"internal-error"),k(p,new uo(I),I.bypassAuthState)}function ma(I){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,m.Z)(function*(I){const{auth:h,user:p}=I;return oe(p,h,"internal-error"),Mo(p,new uo(I),I.bypassAuthState)})).apply(this,arguments)}class zu{constructor(h,p,A,z,te=!1){this.auth=h,this.resolver=A,this.user=z,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(A,z){h.pendingPromise={resolve:A,reject:z};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(te){h.reject(te)}});return function(A,z){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:A,sessionId:z,postBody:te,tenantId:je,error:bt,type:rn}=h;if(bt)return void p.reject(bt);const An={auth:p.auth,requestUri:A,sessionId:z,tenantId:je||void 0,postBody:te||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(rn)(An))}catch(pr){p.reject(pr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ui;case"linkViaPopup":case"linkViaRedirect":return ma;case"reauthViaPopup":case"reauthViaRedirect":return ga;default:Lt(this.auth,"internal-error")}}resolve(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uc=new Nt(2e3,1e4);function cl(I,h,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,m.Z)(function*(I,h,p){const A=cr(I);Xe(I,h,Ii);const z=Ro(A,p);return new ja(A,"signInViaPopup",h,z).executeNotNull()})).apply(this,arguments)}function Su(I,h,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I);Xe(A.auth,h,Ii);const z=Ro(A.auth,p);return new ja(A.auth,"reauthViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}function Mu(I,h,p){return li.apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I);Xe(A.auth,h,Ii);const z=Ro(A.auth,p);return new ja(A.auth,"linkViaPopup",h,z,A).executeNotNull()})).apply(this,arguments)}let ja=(()=>{class I extends zu{constructor(p,A,z,te,je){super(p,A,te,je),this.provider=z,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const A=yield p.execute();return oe(A,p.auth,"internal-error"),A})()}onExecution(){var p=this;return(0,m.Z)(function*(){st(1===p.filter.length,"Popup operations only handle one event");const A=oo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],A),p.authWindow.associatedEvent=A,p.resolver._originValidation(p.auth).catch(z=>{p.reject(z)}),p.resolver._isIframeWebStorageSupported(p.auth,z=>{z||p.reject(ce(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var A,z;this.pollId=null!==(z=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Uc.get())};p()}}return I.currentPopupAction=null,I})();const Ar=new Map;class Ra extends zu{constructor(h,p,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let A=Ar.get(p.auth._key());if(!A){try{const te=(yield function lu(I,h){return Rs.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;A=()=>Promise.resolve(te)}catch(z){A=()=>Promise.reject(z)}Ar.set(p.auth._key(),A)}return p.bypassAuthState||Ar.set(p.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,A=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(A,h);if("unknown"!==h.type){if(h.eventId){const z=yield A.auth._redirectUserForId(h.eventId);if(z)return A.user=z,p().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Rs(){return(Rs=(0,m.Z)(function*(I,h){const p=F(h),A=M(I);if(!(yield A._isAvailable()))return!1;const z="true"===(yield A._get(p));return yield A._remove(p),z})).apply(this,arguments)}function ya(I,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(I,h){return M(I)._set(F(h),"true")})).apply(this,arguments)}function nc(){Ar.clear()}function $s(I,h){Ar.set(I._key(),h)}function M(I){return Le(I._redirectPersistence)}function F(I){return Un("pendingRedirect",I.config.apiKey,I.name)}function W(I,h,p){return function ue(I,h,p){return Fe.apply(this,arguments)}(I,h,p)}function Fe(){return(Fe=(0,m.Z)(function*(I,h,p){const A=cr(I);Xe(I,h,Ii);const z=Ro(A,p);return yield ya(z,A),z._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function rt(I,h,p){return function _t(I,h,p){return Bt.apply(this,arguments)}(I,h,p)}function Bt(){return(Bt=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I);Xe(A.auth,h,Ii);const z=Ro(A.auth,p);yield ya(z,A.auth);const te=yield N(A);return z._openRedirect(A.auth,h,"reauthViaRedirect",te)})).apply(this,arguments)}function wn(I,h,p){return function cn(I,h,p){return Ln.apply(this,arguments)}(I,h,p)}function Ln(){return(Ln=(0,m.Z)(function*(I,h,p){const A=(0,v.m9)(I);Xe(A.auth,h,Ii);const z=Ro(A.auth,p);yield O(!1,A,h.providerId),yield ya(z,A.auth);const te=yield N(A);return z._openRedirect(A.auth,h,"linkViaRedirect",te)})).apply(this,arguments)}function En(I,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(I,h){return yield cr(I)._initializationPromise,Zr(I,h,!1)})).apply(this,arguments)}function Zr(I,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,m.Z)(function*(I,h,p=!1){const A=cr(I),z=Ro(A,h),je=yield new Ra(A,z,p).execute();return je&&!p&&(delete je.user._redirectEventId,yield A._persistUserIfCurrent(je.user),yield A._setRedirectUser(null,h)),je})).apply(this,arguments)}function N(I){return f.apply(this,arguments)}function f(){return(f=(0,m.Z)(function*(I){const h=oo(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class T{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(p=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ge(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var A;if(h.error&&!J(h)){const z=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";p.onError(ce(this.auth,z))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const A=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($(h))}saveEventToCache(h){this.cachedEventUids.add($(h)),this.lastProcessedEventTime=Date.now()}}function $(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function J({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Ie(I){return He.apply(this,arguments)}function He(){return(He=(0,m.Z)(function*(I,h={}){return kn(I,"GET","/v1/projects",h)})).apply(this,arguments)}const ft=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kt=/^https?/;function fr(){return(fr=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Ie(I);for(const p of h)try{if(Yn(p))return}catch{}Lt(I,"unauthorized-domain")})).apply(this,arguments)}function Yn(I){const h=$e(),{protocol:p,hostname:A}=new URL(h);if(I.startsWith("chrome-extension://")){const je=new URL(I);return""===je.hostname&&""===A?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&je.hostname===A}if(!Kt.test(p))return!1;if(ft.test(I))return A===I;const z=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(A)}const bn=new Nt(3e4,6e4);function zn(){const I=Di().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Br=null;function er(I){return Br=Br||function Qn(I){return new Promise((h,p)=>{var A,z,te;function je(){zn(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{zn(),p(ce(I,"network-request-failed"))},timeout:bn.get()})}if(null!==(z=null===(A=Di().gapi)||void 0===A?void 0:A.iframes)&&void 0!==z&&z.Iframe)h(gapi.iframes.getContext());else{if(null===(te=Di().gapi)||void 0===te||!te.load){const bt=P("iframefcb");return Di()[bt]=()=>{gapi.load?je():p(ce(I,"network-request-failed"))},E(`https://apis.google.com/js/api.js?onload=${bt}`).catch(rn=>p(rn))}je()}}).catch(h=>{throw Br=null,h})}(I),Br}const _o=new Nt(5e3,15e3),Oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oo(I){const h=I.config;oe(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?Hn(h,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:h.apiKey,appName:I.name,v:H.SDK_VERSION},z=Hi.get(I.config.apiHost);z&&(A.eid=z);const te=I._getFrameworks();return te.length&&(A.fw=te.join(",")),`${p}?${(0,v.xO)(A).slice(1)}`}function ko(){return ko=(0,m.Z)(function*(I){const h=yield er(I),p=Di().gapi;return oe(p,I,"internal-error"),h.open({where:document.body,url:Oo(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oa,dontclear:!0},A=>new Promise(function(){var z=(0,m.Z)(function*(te,je){yield A.restyle({setHideOnLeave:!1});const bt=ce(I,"network-request-failed"),rn=Di().setTimeout(()=>{je(bt)},_o.get());function An(){Di().clearTimeout(rn),te(A)}A.ping(An).then(An,()=>{je(bt)})});return function(te,je){return z.apply(this,arguments)}}()))}),ko.apply(this,arguments)}const rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qi(I,h,p,A,z,te){oe(I.config.authDomain,I,"auth-domain-config-required"),oe(I.config.apiKey,I,"invalid-api-key");const je={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:A,v:H.SDK_VERSION,eventId:z};if(h instanceof Ii){h.setDefaultLanguage(I.languageCode),je.providerId=h.providerId||"",(0,v.xb)(h.getCustomParameters())||(je.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rn,An]of Object.entries(te||{}))je[rn]=An}if(h instanceof ss){const rn=h.getScopes().filter(An=>""!==An);rn.length>0&&(je.scopes=rn.join(","))}I.tenantId&&(je.tid=I.tenantId);const bt=je;for(const rn of Object.keys(bt))void 0===bt[rn]&&delete bt[rn];return`${function ls({config:I}){return I.emulator?Hn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,v.xO)(bt).slice(1)}`}const _a="webStorageSupport",qu=class Ti{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=go,this._completeRedirectFn=Zr,this._overrideRedirectResult=$s}_openPopup(h,p,A,z){var te=this;return(0,m.Z)(function*(){var je;st(null===(je=te.eventManagers[h._key()])||void 0===je?void 0:je.manager,"_initialize() not called before _openPopup()");const bt=Qi(h,p,A,$e(),z);return function Mn(I,h,p,A=500,z=600){const te=Math.max((window.screen.availHeight-z)/2,0).toString(),je=Math.max((window.screen.availWidth-A)/2,0).toString();let bt="";const rn=Object.assign(Object.assign({},rc),{width:A.toString(),height:z.toString(),top:te,left:je}),An=(0,v.z$)().toLowerCase();p&&(bt=it(An)?"_blank":p),fe(An)&&(h=h||"http://localhost",rn.scrollbars="yes");const pr=Object.entries(rn).reduce((Ga,[lo,du])=>`${Ga}${lo}=${du},`,"");if(function se(I=(0,v.z$)()){var h;return Te(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(An)&&"_self"!==bt)return function Bn(I,h){const p=document.createElement("a");p.href=I,p.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(A)}(h||"",bt),new un(null);const ri=window.open(h||"",bt,pr);oe(ri,I,"popup-blocked");try{ri.focus()}catch{}return new un(ri)}(h,bt,oo())})()}_openRedirect(h,p,A,z){var te=this;return(0,m.Z)(function*(){return yield te._originValidation(h),function zo(I){Di().location.href=I}(Qi(h,p,A,$e(),z)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:z,promise:te}=this.eventManagers[p];return z?Promise.resolve(z):(st(te,"If manager is not set, promise should be"),te)}const A=this.initAndGetManager(h);return this.eventManagers[p]={promise:A},A.catch(()=>{delete this.eventManagers[p]}),A}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const A=yield function Ko(I){return ko.apply(this,arguments)}(h),z=new T(h);return A.register("authEvent",te=>(oe(te?.authEvent,h,"invalid-auth-event"),{status:z.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:z},p.iframes[h._key()]=A,z})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(_a,{type:_a},z=>{var te;const je=null===(te=z?.[0])||void 0===te?void 0:te[_a];void 0!==je&&p(!!je),Lt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ln(I){return fr.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return dt()||pe()||Te()}};class cs extends class $a{constructor(h){this.factorId=h}_process(h,p,A){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,A);case"signin":return this._finalizeSignIn(h,p.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new cs(h)}_finalizeEnroll(h,p,A){return function su(I,h){return kn(I,"POST","/v2/accounts/mfaEnrollment:finalize",dn(I,h))}(h,{idToken:p,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Qa(I,h){return kn(I,"POST","/v2/accounts/mfaSignIn:finalize",dn(I,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zo=(()=>{class I{constructor(){}static assertion(p){return cs._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var Fo="@firebase/auth";class Yo{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(A=>{var z;h((null===(z=A)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ha(I=(0,H.getApp)()){const h=(0,H._getProvider)(I,"auth");return h.isInitialized()?h.getImmediate():function be(I,h){const p=(0,H._getProvider)(I,"auth");if(p.isInitialized()){const z=p.getImmediate(),te=p.getOptions();if((0,v.vZ)(te,h??{}))return z;Lt(z,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:qu,persistence:[$u,Li,go]})}!function hl(I){(0,H._registerComponent)(new De.wA("auth",(h,{options:p})=>{const A=h.getProvider("app").getImmediate(),z=h.getProvider("heartbeat"),{apiKey:te,authDomain:je}=A.options;return((bt,rn)=>{oe(te&&!te.includes(":"),"invalid-api-key",{appName:bt.name}),oe(!je?.includes(":"),"argument-error",{appName:bt.name});const An={apiKey:te,authDomain:je,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rn(I)},pr=new tn(bt,rn,An);return function Ze(I,h){const p=h?.persistence||[],A=(Array.isArray(p)?p:[p]).map(Le);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(A,h?.popupRedirectResolver)}(pr,p),pr})(A,z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,A)=>{h.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new De.wA("auth-internal",h=>{const p=cr(h.getProvider("auth").getImmediate());return new Yo(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(Fo,"0.20.4",function Ku(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,H.registerVersion)(Fo,"0.20.4","esm2017")}("Browser")},2090:(Gt,ze,j)=>{j.d(ze,{$s:()=>Wr,BH:()=>ht,G6:()=>oe,L:()=>Pe,LL:()=>$e,Mn:()=>Xe,Sg:()=>Qe,UG:()=>nt,US:()=>De,ZB:()=>ne,ZR:()=>Ze,b$:()=>Lt,d:()=>ce,eu:()=>st,hl:()=>qe,jU:()=>We,m9:()=>Kn,ne:()=>ur,pd:()=>Dr,r3:()=>dn,ru:()=>jt,tV:()=>xe,uI:()=>Ft,vZ:()=>_r,w1:()=>ot,xO:()=>Nr,xb:()=>Vn,z$:()=>Je,zI:()=>ie,zd:()=>Qr});const he=function(Ae){const le=[];let Oe=0;for(let Re=0;Re<Ae.length;Re++){let ae=Ae.charCodeAt(Re);ae<128?le[Oe++]=ae:ae<2048?(le[Oe++]=ae>>6|192,le[Oe++]=63&ae|128):55296==(64512&ae)&&Re+1<Ae.length&&56320==(64512&Ae.charCodeAt(Re+1))?(ae=65536+((1023&ae)<<10)+(1023&Ae.charCodeAt(++Re)),le[Oe++]=ae>>18|240,le[Oe++]=ae>>12&63|128,le[Oe++]=ae>>6&63|128,le[Oe++]=63&ae|128):(le[Oe++]=ae>>12|224,le[Oe++]=ae>>6&63|128,le[Oe++]=63&ae|128)}return le},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,le){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let ae=0;ae<Ae.length;ae+=3){const at=Ae[ae],vt=ae+1<Ae.length,Mt=vt?Ae[ae+1]:0,mn=ae+2<Ae.length,Fn=mn?Ae[ae+2]:0;let Ue=(15&Mt)<<2|Fn>>6,fe=63&Fn;mn||(fe=64,vt||(Ue=64)),Re.push(Oe[at>>2],Oe[(3&at)<<4|Mt>>4],Oe[Ue],Oe[fe])}return Re.join("")},encodeString(Ae,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(Ae):this.encodeByteArray(he(Ae),le)},decodeString(Ae,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(Ae):function(Ae){const le=[];let Oe=0,Re=0;for(;Oe<Ae.length;){const ae=Ae[Oe++];if(ae<128)le[Re++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const at=Ae[Oe++];le[Re++]=String.fromCharCode((31&ae)<<6|63&at)}else if(ae>239&&ae<365){const mn=((7&ae)<<18|(63&Ae[Oe++])<<12|(63&Ae[Oe++])<<6|63&Ae[Oe++])-65536;le[Re++]=String.fromCharCode(55296+(mn>>10)),le[Re++]=String.fromCharCode(56320+(1023&mn))}else{const at=Ae[Oe++],vt=Ae[Oe++];le[Re++]=String.fromCharCode((15&ae)<<12|(63&at)<<6|63&vt)}}return le.join("")}(this.decodeStringToByteArray(Ae,le))},decodeStringToByteArray(Ae,le){this.init_();const Oe=le?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let ae=0;ae<Ae.length;){const at=Oe[Ae.charAt(ae++)],Mt=ae<Ae.length?Oe[Ae.charAt(ae)]:0;++ae;const Fn=ae<Ae.length?Oe[Ae.charAt(ae)]:64;++ae;const Nn=ae<Ae.length?Oe[Ae.charAt(ae)]:64;if(++ae,null==at||null==Mt||null==Fn||null==Nn)throw Error();Re.push(at<<2|Mt>>4),64!==Fn&&(Re.push(Mt<<4&240|Fn>>2),64!==Nn&&Re.push(Fn<<6&192|Nn))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}},Pe=function(Ae){return function(Ae){const le=he(Ae);return De.encodeByteArray(le,!0)}(Ae).replace(/\./g,"")},xe=function(Ae){try{return De.decodeString(Ae,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function ne(Ae,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return le}for(const Oe in le)!le.hasOwnProperty(Oe)||!ye(Oe)||(Ae[Oe]=ne(Ae[Oe],le[Oe]));return Ae}function ye(Ae){return"__proto__"!==Ae}class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,Oe)=>{this.resolve=le,this.reject=Oe})}wrapCallback(le){return(Oe,Re)=>{Oe?this.reject(Oe):this.resolve(Re),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(Oe):le(Oe,Re))}}}function Qe(Ae,le){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=le||"demo-project",ae=Ae.iat||0,at=Ae.sub||Ae.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:ae,exp:ae+3600,auth_time:ae,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(vt)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function nt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function jt(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ce(){return Je().indexOf("Electron/")>=0}function ot(){const Ae=Je();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function Xe(){return Je().indexOf("MSAppHost/")>=0}function oe(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function st(){return new Promise((Ae,le)=>{try{let Oe=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Re);ae.onsuccess=()=>{ae.result.close(),Oe||self.indexedDB.deleteDatabase(Re),Ae(!0)},ae.onupgradeneeded=()=>{Oe=!1},ae.onerror=()=>{var at;le((null===(at=ae.error)||void 0===at?void 0:at.message)||"")}}catch(Oe){le(Oe)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ze extends Error{constructor(le,Oe,Re){super(Oe),this.code=le,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(le,Oe,Re){this.service=le,this.serviceName=Oe,this.errors=Re}create(le,...Oe){const Re=Oe[0]||{},ae=`${this.service}/${le}`,at=this.errors[le],vt=at?function Dt(Ae,le){return Ae.replace(sn,(Oe,Re)=>{const ae=le[Re];return null!=ae?String(ae):`<${Re}?>`})}(at,Re):"Error";return new Ze(ae,`${this.serviceName}: ${vt} (${ae}).`,Re)}}const sn=/\{\$([^}]+)}/g;function dn(Ae,le){return Object.prototype.hasOwnProperty.call(Ae,le)}function Vn(Ae){for(const le in Ae)if(Object.prototype.hasOwnProperty.call(Ae,le))return!1;return!0}function _r(Ae,le){if(Ae===le)return!0;const Oe=Object.keys(Ae),Re=Object.keys(le);for(const ae of Oe){if(!Re.includes(ae))return!1;const at=Ae[ae],vt=le[ae];if(Ir(at)&&Ir(vt)){if(!_r(at,vt))return!1}else if(at!==vt)return!1}for(const ae of Re)if(!Oe.includes(ae))return!1;return!0}function Ir(Ae){return null!==Ae&&"object"==typeof Ae}function Nr(Ae){const le=[];for(const[Oe,Re]of Object.entries(Ae))Array.isArray(Re)?Re.forEach(ae=>{le.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ae))}):le.push(encodeURIComponent(Oe)+"="+encodeURIComponent(Re));return le.length?"&"+le.join("&"):""}function Qr(Ae){const le={};return Ae.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[ae,at]=Re.split("=");le[decodeURIComponent(ae)]=decodeURIComponent(at)}}),le}function Dr(Ae){const le=Ae.indexOf("?");if(!le)return"";const Oe=Ae.indexOf("#",le);return Ae.substring(le,Oe>0?Oe:void 0)}function ur(Ae,le){const Oe=new Qt(Ae,le);return Oe.subscribe.bind(Oe)}class Qt{constructor(le,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{le(this)}).catch(Re=>{this.error(Re)})}next(le){this.forEachObserver(Oe=>{Oe.next(le)})}error(le){this.forEachObserver(Oe=>{Oe.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,Oe,Re){let ae;if(void 0===le&&void 0===Oe&&void 0===Re)throw new Error("Missing Observer.");ae=function Cn(Ae,le){if("object"!=typeof Ae||null===Ae)return!1;for(const Oe of le)if(Oe in Ae&&"function"==typeof Ae[Oe])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:Oe,complete:Re},void 0===ae.next&&(ae.next=Dn),void 0===ae.error&&(ae.error=Dn),void 0===ae.complete&&(ae.complete=Dn);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),at}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,le)}sendOne(le,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{Oe(this.observers[le])}catch(Re){typeof console<"u"&&console.error&&console.error(Re)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function Wr(Ae,le=1e3,Oe=2){const Re=le*Math.pow(Oe,Ae),ae=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+ae)}function Kn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},9531:(Gt,ze,j)=>{j.d(ze,{s:()=>H});var m=j(4650),v=j(9541);let H=(()=>{class he{constructor(De){this.fireservice=De}getProducts(){return this.fireservice.collection("products").snapshotChanges()}getProduct(De){return this.fireservice.collection("products").doc(De).valueChanges()}addProduct(De){return this.fireservice.collection("products").add(De)}updateProduct(De,ke){return this.fireservice.collection("products").doc(ke).update(De)}deleteProduct(De){this.fireservice.doc("products/"+De).delete()}}return he.\u0275fac=function(De){return new(De||he)(m.LFG(v.ST))},he.\u0275prov=m.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},2340:(Gt,ze,j)=>{j.d(ze,{N:()=>m});const m={production:!0,firebaseConfig:{apiKey:"AIzaSyAaNXTF36Ut0l5jovyXXMLHItbQJe-g9-Q",authDomain:"my-first-app-fc9f2.firebaseapp.com",databaseURL:"https://my-first-app-fc9f2-default-rtdb.firebaseio.com",projectId:"my-first-app-fc9f2",storageBucket:"my-first-app-fc9f2.appspot.com",messagingSenderId:"952086685665",appId:"1:952086685665:web:61da93d5a66f59a78e94a0",measurementId:"G-518ZJ04DXW"}}},171:(Gt,ze,j)=>{var m=j(1481),v=j(4650),H=j(433),he=j(5072),Ee=j(9531),De=j(8768);let ke=(()=>{class N{constructor(y,T,$,J,ge){this.productService=y,this.formBuilder=T,this.route=$,this.router=J,this.toast=ge,this.editForm=this.formBuilder.group({title:[""],image:[""],description:[""],quantity:[0],price:[0]})}ngOnInit(){const y=this.route.snapshot.paramMap.get("id");this.productService.getProduct(y).subscribe(T=>{this.productRef=history.state.data.item,this.editForm=this.formBuilder.group({title:[this.productRef.title],description:[this.productRef.description],image:[this.productRef.image],price:[this.productRef.price],quantity:[this.productRef.quantity]})})}onSubmit(){const y=this.route.snapshot.paramMap.get("id");this.productService.updateProduct(this.editForm.value,y),this.router.navigate(["/admin/products"]),this.toast.success({detail:"Product Updated",summary:"You updated the product successfully !!!",duration:5e3})}goBack(){this.router.navigate(["/admin/products"]),this.toast.error({detail:"Warning product isn't updated",summary:"You went back to admin/product page !",duration:5e3})}}return N.\u0275fac=function(y){return new(y||N)(v.Y36(Ee.s),v.Y36(H.qu),v.Y36(he.gz),v.Y36(he.F0),v.Y36(De.s))},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-edit-product"]],decls:25,vars:1,consts:[[1,"container"],[1,"form",3,"formGroup"],[1,"form-group"],["for","title",1,"form-groupLabel"],["type","text","placeholder","Enter Product Title ...","name","title","formControlName","title","required","",1,"form-groupInput"],["for","image",1,"form-groupLabel"],["type","text","placeholder","Enter Product Image ...","name","image","formControlName","image","required","",1,"form-groupInput"],["name","title","id","title","cols","30","rows","10","placeholder","Enter Product Description ...","name","description","formControlName","description"],["type","text","placeholder","Enter Product Price ...","name","price","formControlName","price","required","",1,"form-groupInput"],["type","text","placeholder","Enter Product Quantity ...","name","quantity","formControlName","quantity","required","",1,"form-groupInput"],[1,"button-group"],["type","submit",3,"click"],["type","button",3,"click"]],template:function(y,T){1&y&&(v.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),v._uU(4,"Title:"),v.qZA(),v._UZ(5,"input",4),v.qZA(),v.TgZ(6,"div",2)(7,"label",5),v._uU(8,"Image Link:"),v.qZA(),v._UZ(9,"input",6),v.qZA(),v.TgZ(10,"div",2),v._UZ(11,"textarea",7),v.qZA(),v.TgZ(12,"div",2)(13,"label",3),v._uU(14,"Price:"),v.qZA(),v._UZ(15,"input",8),v.qZA(),v.TgZ(16,"div",2)(17,"label",3),v._uU(18,"Quantity:"),v.qZA(),v._UZ(19,"input",9),v.qZA(),v.TgZ(20,"div",10)(21,"button",11),v.NdJ("click",function(){return T.onSubmit()}),v._uU(22,"Update"),v.qZA(),v.TgZ(23,"button",12),v.NdJ("click",function(){return T.goBack()}),v._uU(24,"Go Back"),v.qZA()()()()),2&y&&(v.xp6(1),v.Q6J("formGroup",T.editForm))},dependencies:[H._Y,H.Fj,H.JJ,H.JL,H.Q7,H.sg,H.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:1px solid black;border-radius:5px;padding:1rem}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;margin-right:2rem;padding:1rem 1.5rem;outline:none;border:none;background-color:#90ee90;color:green;border-radius:5px;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-of-type(1){padding-top:1rem}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80%;padding-bottom:1rem}.container[_ngcontent-%COMP%]   .form-groupLabel[_ngcontent-%COMP%]{font-size:2rem;margin:.5rem}.container[_ngcontent-%COMP%]   .form-groupInput[_ngcontent-%COMP%]{width:60%;outline:none;padding:.5rem;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:60%;padding:.5rem;display:flex;align-items:center;justify-content:center;margin:1rem;cursor:pointer}"]}),N})(),Pe=(()=>{class N{constructor(){}patternValidator(){return y=>y.value?new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$").test(y.value)?null:{invalidPassword:!0}:null}userNameValidator(y){return new Promise(T=>{setTimeout(()=>{this.validateUserName(y.value)?T({userNameNotAvailable:!0}):T(null)},1e3)})}validateUserName(y){return["ankit","admin","user","superuser"].indexOf(y)>-1}passwordsMatchValidator(){return y=>{const T=y.get("password")?.value,$=y.get("confirmPassword")?.value;return T&&$&&T!==$?{passwordsDontMatch:!0}:null}}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();var xe=j(5813),de=j(3692),ne=j(5867),ye=j(7128),ht=j(3673),We=(j(2090),j(9681),j(1877),j(4859),j(9751));function jt(N){return new We.y(function(f){return{unsubscribe:(0,ht.v)(N,f.next.bind(f),f.error.bind(f),f.complete.bind(f))}})}function Lt(N){return new We.y(function(f){return{unsubscribe:(0,ht.q)(N,f.next.bind(f),f.error.bind(f),f.complete.bind(f))}})}class Xe{constructor(f){return f}}const qe=new v.OlP("angularfire2.auth-instances");function ie(N){return(f,y)=>{const T=f.runOutsideAngular(()=>N(y));return new Xe(T)}}const Le={provide:class Et{constructor(){return(0,xe.vb)("auth")}},deps:[[new v.FiY,qe]]},be={provide:Xe,useFactory:function st(N,f){const y=(0,xe.JM)("auth",N,f);return y&&new Xe(y)},deps:[[new v.FiY,qe],de.Ot]};let Ze=(()=>{class N{constructor(){(0,ne.KN)("angularfire",xe.q4.full,"auth")}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=v.oAB({type:N}),N.\u0275inj=v.cJS({providers:[be,Le]}),N})();function $e(N,...f){return{ngModule:Ze,providers:[{provide:qe,useFactory:ie(N),multi:!0,deps:[v.R0b,v.zs3,xe.HU,de.z6,[new v.FiY,ye.nm],...f]}]}}const Dt=(0,xe.u3)(jt,!0),sn=(0,xe.u3)(Lt,!0),gn=(0,xe.u3)(ht.a5,!0),Kn=(0,xe.u3)(ht.a6,!0);var pe=j(8996);let it=(()=>{class N{constructor(y){this.auth=y,this.currentUser$=Dt(this.auth)}signUp(y,T){return(0,pe.D)(gn(this.auth,y,T))}login(y,T){return(0,pe.D)(Kn(this.auth,y,T))}logout(){return(0,pe.D)(this.auth.signOut())}}return N.\u0275fac=function(y){return new(y||N)(v.LFG(Xe))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();var Tt=j(6895);function Jt(N,f){1&N&&(v.TgZ(0,"div",12),v._uU(1," Please enter a valid email address "),v.qZA())}function ct(N,f){1&N&&(v.TgZ(0,"div",12),v._uU(1," Email address is required "),v.qZA())}function gt(N,f){1&N&&(v.TgZ(0,"div",12),v._uU(1," Password is required "),v.qZA())}function Te(N,f){1&N&&(v.TgZ(0,"div",12),v._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),v.qZA())}let me=(()=>{class N{constructor(y,T,$,J,ge){this.router=y,this.fb=T,this.toast=$,this.customValidator=J,this.auth=ge,this.submitted=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[H.kI.required,H.kI.email]],password:["",H.kI.compose([H.kI.required,this.customValidator.patternValidator()])]})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){if(!this.loginForm.valid)return void this.toast.error({detail:"Login Failed",summary:"Something went wrong !",duration:5e3});this.submitted=!0;const{email:y,password:T}=this.loginForm.value;this.auth.login(y,T).subscribe(()=>{this.router.navigate(["/products"])}),this.toast.success({detail:"Log In",summary:"You are successfully logged in",duration:5e3})}}return N.\u0275fac=function(y){return new(y||N)(v.Y36(he.F0),v.Y36(H.qu),v.Y36(De.s),v.Y36(Pe),v.Y36(it))},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-login"]],decls:24,vars:5,consts:[[1,"container"],[1,"form-container"],[1,"form-containerTitle"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name",1,"form-groupLabel"],["type","text","name","name","id","name","placeholder","Enter Your Email...","formControlName","email",1,"form-groupInput"],["class","danger",4,"ngIf"],["type","password","name","password","id","password","placeholder","Enter Your Password...","formControlName","password",1,"form-groupInput"],[1,"button-group"],["type","submit",1,"button-groupBtn"],["routerLink","/register"],[1,"danger"]],template:function(y,T){1&y&&(v.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),v._uU(3,"Login"),v.qZA(),v.TgZ(4,"form",3),v.NdJ("ngSubmit",function(){return T.submit()}),v.TgZ(5,"div",4)(6,"label",5),v._uU(7,"Email :"),v.qZA(),v._UZ(8,"input",6),v.YNc(9,Jt,2,0,"div",7),v.YNc(10,ct,2,0,"div",7),v.qZA(),v.TgZ(11,"div",4)(12,"label",5),v._uU(13,"Password :"),v.qZA(),v._UZ(14,"input",8),v.YNc(15,gt,2,0,"div",7),v.YNc(16,Te,2,0,"div",7),v.qZA(),v.TgZ(17,"div",9)(18,"button",10),v._uU(19,"Login"),v.qZA(),v.TgZ(20,"span"),v._uU(21,"Don't have an account ? "),v.TgZ(22,"a",11),v._uU(23,"Sign up!"),v.qZA()()()()()()),2&y&&(v.xp6(4),v.Q6J("formGroup",T.loginForm),v.xp6(5),v.Q6J("ngIf",(null==T.email||null==T.email.errors?null:T.email.errors.email)&&(null==T.email?null:T.email.touched)),v.xp6(1),v.Q6J("ngIf",(null==T.email||null==T.email.errors?null:T.email.errors.required)&&((null==T.email?null:T.email.touched)||T.submitted)),v.xp6(5),v.Q6J("ngIf",(null==T.password||null==T.password.errors?null:T.password.errors.required)&&((null==T.password?null:T.password.touched)||T.submitted)),v.xp6(1),v.Q6J("ngIf",(null==T.password?null:T.password.touched)&&(null==T.password||null==T.password.errors?null:T.password.errors.invalidPassword)))},dependencies:[Tt.O5,he.yS,H._Y,H.Fj,H.JJ,H.JL,H.sg,H.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:90vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.form-container[_ngcontent-%COMP%]{background-color:#f5f5f5;box-shadow:0 12px 12px #0000001a,0 8px 16px #0000001a;display:flex;flex-direction:column;align-items:center;width:20rem;padding:2rem;border:1px solid black;border-radius:5px}.form-containerTitle[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.form[_ngcontent-%COMP%]{padding:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-groupLabel[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-bottom:.75rem}.form-groupInput[_ngcontent-%COMP%]{outline:none;border:1px solid black;height:2rem;border-radius:5px;padding:.25rem;cursor:pointer}.form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]   .button-groupBtn[_ngcontent-%COMP%]{margin:.75rem 0rem;cursor:pointer;border:none;border-radius:6px;font-size:1.5rem;line-height:2.5rem;padding:0 1rem;width:10rem;background-color:#1877f2;color:#fff}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),N})(),se=(()=>{class N{constructor(y,T,$){this.fireservice=y,this.router=T,this.toast=$}ngOnInit(){}addProduct(){this.product={id:Math.floor(1e6*Math.random()+1),title:this.productTitle,price:+this.productPrice,description:this.productDescription,quantity:+this.productQuantity,image:this.productImage},this.fireservice.addProduct(this.product).then(y=>{this.productTitle="",this.productDescription="",this.productImage="",this.productPrice="",this.productQuantity="",this.router.navigate(["/admin/products"]),this.toast.success({detail:"Product Added",summary:"You successfully added a new product !",duration:5e3})}).catch(y=>{this.toast.error({detail:"Product isn't added",summary:y.message,duration:5e3})})}}return N.\u0275fac=function(y){return new(y||N)(v.Y36(Ee.s),v.Y36(he.F0),v.Y36(De.s))},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-product"]],decls:22,vars:5,consts:[[1,"container"],[1,"form"],[1,"form-group"],["for","title",1,"form-groupLabel"],["type","text","placeholder","Enter Product Title ...","name","productTitle",1,"form-groupInput",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Product Image ...","name","productImage",1,"form-groupInput",3,"ngModel","ngModelChange"],["name","title","id","title","cols","30","rows","10","placeholder","Enter Product Description ...","name","productDescription",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Product Price ...","name","productPrice",1,"form-groupInput",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Product Quantity ...","name","productQuantity",1,"form-groupInput",3,"ngModel","ngModelChange"],["type","submit",3,"click"]],template:function(y,T){1&y&&(v.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),v._uU(4,"Title:"),v.qZA(),v.TgZ(5,"input",4),v.NdJ("ngModelChange",function(J){return T.productTitle=J}),v.qZA()(),v.TgZ(6,"div",2)(7,"label",3),v._uU(8,"Image Link:"),v.qZA(),v.TgZ(9,"input",5),v.NdJ("ngModelChange",function(J){return T.productImage=J}),v.qZA()(),v.TgZ(10,"div",2)(11,"textarea",6),v.NdJ("ngModelChange",function(J){return T.productDescription=J}),v.qZA()(),v.TgZ(12,"div",2)(13,"label",3),v._uU(14,"Price:"),v.qZA(),v.TgZ(15,"input",7),v.NdJ("ngModelChange",function(J){return T.productPrice=J}),v.qZA()(),v.TgZ(16,"div",2)(17,"label",3),v._uU(18,"Quantity:"),v.qZA(),v.TgZ(19,"input",8),v.NdJ("ngModelChange",function(J){return T.productQuantity=J}),v.qZA()(),v.TgZ(20,"button",9),v.NdJ("click",function(){return T.addProduct()}),v._uU(21,"Add Product"),v.qZA()()()),2&y&&(v.xp6(5),v.Q6J("ngModel",T.productTitle),v.xp6(4),v.Q6J("ngModel",T.productImage),v.xp6(2),v.Q6J("ngModel",T.productDescription),v.xp6(4),v.Q6J("ngModel",T.productPrice),v.xp6(4),v.Q6J("ngModel",T.productQuantity))},dependencies:[H._Y,H.Fj,H.JJ,H.JL,H.On,H.F],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:1px solid black;border-radius:5px;padding:1rem}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem 1.5rem;outline:none;border:none;background-color:#90ee90;color:green;border-radius:5px;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-of-type(1){padding-top:1rem}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80%;padding-bottom:1rem}.container[_ngcontent-%COMP%]   .form-groupLabel[_ngcontent-%COMP%]{font-size:2rem;margin:.5rem}.container[_ngcontent-%COMP%]   .form-groupInput[_ngcontent-%COMP%]{width:60%;outline:none;padding:.5rem;cursor:pointer}.container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:60%;padding:.5rem;display:flex;align-items:center;justify-content:center;margin:1rem;cursor:pointer}"]}),N})();function Me(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," First Name is required "),v.qZA())}function dt(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Last Name is required "),v.qZA())}function Ut(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Please enter a valid email address "),v.qZA())}function Rn(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Email address is required "),v.qZA())}function tr(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Password is required "),v.qZA())}function tn(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase letter and 1 number "),v.qZA())}function cr(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Confirm Password is required "),v.qZA())}function rr(N,f){1&N&&(v.TgZ(0,"div",21),v._uU(1," Passwords should match "),v.qZA())}let qr=(()=>{class N{constructor(y,T,$,J,ge){this.fb=y,this.customValidator=T,this.authService=$,this.toast=J,this.router=ge,this.submitted=!1}ngOnInit(){this.signupForm=this.fb.group({firstName:new H.NI("",H.kI.required),lastName:new H.NI("",H.kI.required),email:new H.NI("",[H.kI.required,H.kI.email]),password:new H.NI("",[H.kI.required,this.customValidator.patternValidator()]),confirmPassword:new H.NI("",H.kI.required)},{validator:this.customValidator.passwordsMatchValidator()})}get firstName(){return this.signupForm.get("firstName")}get lastName(){return this.signupForm.get("lastName")}get email(){return this.signupForm.get("email")}get password(){return this.signupForm.get("password")}get confirmPassword(){return this.signupForm.get("confirmPassword")}submit(){if(!this.signupForm.valid)return void this.toast.error({detail:"Sign In Failed",summary:"Something went wrong try again!",duration:5e3});this.submitted=!0;const{email:T,password:$}=this.signupForm.value;this.authService.signUp(T,$).subscribe(()=>{this.router.navigate(["/products"])}),this.toast.success({detail:"Sign In",summary:"You successfully created profile",duration:5e3})}}return N.\u0275fac=function(y){return new(y||N)(v.Y36(H.qu),v.Y36(Pe),v.Y36(it),v.Y36(De.s),v.Y36(he.F0))},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-register"]],decls:45,vars:9,consts:[[1,"container"],[1,"form-container"],[1,"form-containerTitle"],[1,"form-containerSubtitle"],[1,"form-containerDescription"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-groupFirstName"],["for","firstName",1,"form-groupLabel"],["type","text","name","firstName","id","firstName","placeholder","Enter Your First Name...","formControlName","firstName",1,"form-groupInput"],["class","danger",4,"ngIf"],[1,"form-groupLastName"],["for","lastName",1,"form-groupLabel"],["type","text","name","lastName","id","lastName","placeholder","Enter Your Last Name...","formControlName","lastName",1,"form-groupInput"],["for","name",1,"form-groupLabel"],["type","text","name","name","id","name","placeholder","Enter Your E-mail...","formControlName","email",1,"form-groupInput"],["type","password","name","password","id","password","placeholder","Enter Your Password...","formControlName","password",1,"form-groupInput"],["type","password","name","confirmPassword","id","confirmPassword","placeholder","Confirm password...","formControlName","confirmPassword",1,"form-groupInput"],[1,"button-group"],["type","submit",1,"button-groupBtn"],["routerLink","/login"],[1,"danger"]],template:function(y,T){1&y&&(v.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),v._uU(3,"Register"),v.qZA(),v.TgZ(4,"h5",3),v._uU(5,"Create a new account"),v.qZA(),v.TgZ(6,"p",4),v._uU(7,"it's quick and easy"),v.qZA(),v.TgZ(8,"form",5),v.NdJ("ngSubmit",function(){return T.submit()}),v.TgZ(9,"div",6)(10,"div",7)(11,"label",8),v._uU(12,"First Name:"),v.qZA(),v._UZ(13,"input",9),v.YNc(14,Me,2,0,"div",10),v.qZA(),v.TgZ(15,"div",11)(16,"label",12),v._uU(17,"Last Name:"),v.qZA(),v._UZ(18,"input",13),v.YNc(19,dt,2,0,"div",10),v.qZA()(),v.TgZ(20,"div",6)(21,"label",14),v._uU(22,"Email :"),v.qZA(),v._UZ(23,"input",15),v.YNc(24,Ut,2,0,"div",10),v.YNc(25,Rn,2,0,"div",10),v.qZA(),v.TgZ(26,"div",6)(27,"label",14),v._uU(28,"Password:"),v.qZA(),v._UZ(29,"input",16),v.YNc(30,tr,2,0,"div",10),v.YNc(31,tn,2,0,"div",10),v.qZA(),v.TgZ(32,"div",6)(33,"label",14),v._uU(34,"Confirm Password:"),v.qZA(),v._UZ(35,"input",17),v.YNc(36,cr,2,0,"div",10),v.YNc(37,rr,2,0,"div",10),v.qZA(),v.TgZ(38,"div",18)(39,"button",19),v._uU(40,"Login"),v.qZA(),v.TgZ(41,"span"),v._uU(42,"Already have an account ? "),v.TgZ(43,"a",20),v._uU(44,"Go to Login!"),v.qZA()()()()()()),2&y&&(v.xp6(8),v.Q6J("formGroup",T.signupForm),v.xp6(6),v.Q6J("ngIf",(null==T.firstName||null==T.firstName.errors?null:T.firstName.errors.required)&&((null==T.firstName?null:T.firstName.touched)||T.submitted)),v.xp6(5),v.Q6J("ngIf",(null==T.lastName||null==T.lastName.errors?null:T.lastName.errors.required)&&((null==T.lastName?null:T.lastName.touched)||T.submitted)),v.xp6(5),v.Q6J("ngIf",(null==T.email||null==T.email.errors?null:T.email.errors.email)&&((null==T.email?null:T.email.touched)||T.submitted)),v.xp6(1),v.Q6J("ngIf",(null==T.email||null==T.email.errors?null:T.email.errors.required)&&((null==T.email?null:T.email.touched)||T.submitted)),v.xp6(5),v.Q6J("ngIf",(null==T.password||null==T.password.errors?null:T.password.errors.required)&&((null==T.password?null:T.password.touched)||T.submitted)),v.xp6(1),v.Q6J("ngIf",((null==T.password?null:T.password.touched)||T.submitted)&&(null==T.password||null==T.password.errors?null:T.password.errors.invalidPassword)),v.xp6(5),v.Q6J("ngIf",(null==T.confirmPassword||null==T.confirmPassword.errors?null:T.confirmPassword.errors.required)&&((null==T.confirmPassword?null:T.confirmPassword.touched)||T.submitted)),v.xp6(1),v.Q6J("ngIf",(null==T.signupForm.errors?null:T.signupForm.errors.passwordsDontMatch)&&(null==T.confirmPassword?null:T.confirmPassword.touched)))},dependencies:[Tt.O5,he.yS,H._Y,H.Fj,H.JJ,H.JL,H.sg,H.u],styles:[".container[_ngcontent-%COMP%]{width:80%;min-height:90vh;display:flex;align-items:center;justify-content:center;margin:2rem auto}.form-container[_ngcontent-%COMP%]{background-color:#f5f5f5;box-shadow:0 12px 12px #0000001a,0 8px 16px #0000001a;display:flex;flex-direction:column;align-items:center;width:20rem;padding:2rem;border:1px solid black;border-radius:5px}.form-containerTitle[_ngcontent-%COMP%]{font-size:2rem;font-weight:bolder}.form-containerSubtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.form-containerDescription[_ngcontent-%COMP%]{letter-spacing:2px;font-weight:500}.form[_ngcontent-%COMP%]{padding:1rem}.form-group[_ngcontent-%COMP%]:nth-of-type(1){width:100%;flex-direction:row}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.form-groupFirstName[_ngcontent-%COMP%]{margin-right:1rem}.form-groupLabel[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;margin-bottom:.75rem}.form-groupInput[_ngcontent-%COMP%]{outline:none;border:1px solid black;height:2rem;border-radius:5px;padding:.25rem;cursor:pointer}.form-group[_ngcontent-%COMP%]   .danger[_ngcontent-%COMP%]{color:red}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]   .button-groupBtn[_ngcontent-%COMP%]{margin:.75rem 0rem;cursor:pointer;border:none;border-radius:6px;font-size:1.5rem;line-height:2.5rem;padding:0 1rem;width:10rem;background-color:#1877f2;color:#fff}.form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;cursor:pointer;text-decoration:underline}"]}),N})();var hi=j(9635),wr=j(4004),fs=j(5698);const Wi=(0,wr.U)(N=>!!N);let Kr=(()=>{class N{constructor(y,T){this.router=y,this.auth=T,this.canActivate=($,J)=>{const ge=$.data.authGuardPipe||(()=>Wi);return sn(this.auth).pipe((0,fs.q)(1),ge($,J),(0,wr.U)(Ie=>"boolean"==typeof Ie?Ie:Array.isArray(Ie)?this.router.createUrlTree(Ie):this.router.parseUrl(Ie)))}}}return N.\u0275fac=function(y){return new(y||N)(v.LFG(he.F0),v.LFG(Xe))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac,providedIn:"any"}),N})();const Pi=N=>({canActivate:[Kr],data:{authGuardPipe:N}}),Ne=()=>{return N=["login"],(0,hi.z)(Wi,(0,wr.U)(f=>f||N));var N},Ce=()=>{return N=["products"],(0,hi.z)(Wi,(0,wr.U)(f=>f&&N||!0));var N},Ve=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:me,...Pi(Ce)},{path:"register",component:qr,...Pi(Ce)},{path:"admin",loadChildren:()=>j.e(174).then(j.bind(j,6174)).then(N=>N.AdminModule),...Pi(Ne)},{path:"admin/products",loadChildren:()=>j.e(174).then(j.bind(j,6174)).then(N=>N.AdminModule),...Pi(Ne)},{path:"admin/product",component:se},{path:"admin/product/:id",component:ke,...Pi(Ne)},{path:"products",loadChildren:()=>j.e(591).then(j.bind(j,9591)).then(N=>N.ProductsModule),...Pi(Ne)},{path:"products/list",loadChildren:()=>j.e(591).then(j.bind(j,9591)).then(N=>N.ProductsModule),...Pi(Ne)}];let ut=(()=>{class N{}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=v.oAB({type:N}),N.\u0275inj=v.cJS({imports:[he.Bz.forRoot(Ve),he.Bz]}),N})();function wt(N,f){if(1&N&&(v.TgZ(0,"p",11),v._uU(1),v.qZA()),2&N){const y=f.ngIf;v.xp6(1),v.hij("Welcome ",y.email,"!")}}function zt(N,f){if(1&N){const y=v.EpF();v.ynx(0),v.TgZ(1,"button",12),v.NdJ("click",function(){v.CHM(y);const $=v.oxw();return v.KtG($.logout())}),v._uU(2,"Logout"),v.qZA(),v.BQk()}}function Zn(N,f){1&N&&(v.TgZ(0,"button",13),v._uU(1,"Login"),v.qZA())}let Rr=(()=>{class N{constructor(y,T){this.authService=y,this.router=T,this.user$=this.authService.currentUser$}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""])})}}return N.\u0275fac=function(y){return new(y||N)(v.Y36(it),v.Y36(he.F0))},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-header"]],decls:18,vars:7,consts:[[1,"navbar"],[1,"navbar-container"],["routerLink","/products/list",1,"navbar-logo"],[1,"navbar-button"],[1,"navbar-button-icon"],["class","navbar-name",4,"ngIf"],[1,"navbar-items"],["routerLink","/admin/products",1,"navbar-item","navbar-link","active"],["routerLink","/products",1,"navbar-item","navbar-link"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"navbar-name"],[3,"click"],["routerLink","/login"]],template:function(y,T){if(1&y&&(v.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),v._uU(3,"Navbar"),v.qZA(),v.TgZ(4,"button",3)(5,"span",4),v._uU(6,"My First App"),v.qZA()(),v.YNc(7,wt,2,1,"p",5),v.ALo(8,"async"),v.qZA(),v.TgZ(9,"div",6)(10,"a",7),v._uU(11,"Admin"),v.qZA(),v.TgZ(12,"a",8),v._uU(13,"Products"),v.qZA(),v.YNc(14,zt,3,0,"ng-container",9),v.ALo(15,"async"),v.YNc(16,Zn,2,0,"ng-template",null,10,v.W1O),v.qZA()()),2&y){const $=v.MAs(17);v.xp6(7),v.Q6J("ngIf",v.lcZ(8,3,T.user$)),v.xp6(7),v.Q6J("ngIf",v.lcZ(15,5,T.authService.currentUser$))("ngIfElse",$)}},dependencies:[Tt.O5,he.rH,he.yS,Tt.Ov],styles:[".navbar[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:.5rem;border-bottom:1px solid black}.navbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-logo[_ngcontent-%COMP%]{font-size:2rem;color:#000;cursor:pointer}.navbar-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;outline:none;border:1px solid black;padding:.25rem .5rem;margin-left:1rem;border-radius:5px;cursor:pointer;transition:.8s}.navbar-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;border:1px solid black}.navbar-name[_ngcontent-%COMP%]{color:#000;margin:1rem}.navbar-items[_ngcontent-%COMP%]{padding:0 .5rem}.navbar-item[_ngcontent-%COMP%]{color:#000;cursor:pointer;text-transform:uppercase;margin-left:1rem;transition:.3s}.navbar-item[_ngcontent-%COMP%]:hover{color:gray}.navbar-item[_ngcontent-%COMP%]:nth-of-type(2){margin-right:.5rem}"]}),N})(),Tn=(()=>{class N{constructor(){}ngOnInit(){}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"footer-name"],["routerLink","/products",1,"footer-link"]],template:function(y,T){1&y&&(v.TgZ(0,"footer",0)(1,"div",1),v._uU(2," Ogi\xa9 2022 Copyright: "),v.TgZ(3,"a",2),v._uU(4,"my-first-app.com"),v.qZA()()())},dependencies:[he.yS],styles:[".footer[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;border-top:1px solid black;padding:.5rem}.footer-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.25rem}.footer-link[_ngcontent-%COMP%]{color:#888;cursor:pointer;transition:.3s}.footer-link[_ngcontent-%COMP%]:hover{color:#000}"]}),N})(),Ni=(()=>{class N{}return N.\u0275fac=function(y){return new(y||N)},N.\u0275cmp=v.Xpm({type:N,selectors:[["app-root"]],decls:4,vars:0,template:function(y,T){1&y&&v._UZ(0,"app-header")(1,"router-outlet")(2,"lib-ng-toast")(3,"app-footer")},dependencies:[he.lC,De.V,Rr,Tn]}),N})();class ps{}const Ri="*";function Vo(N,f=null){return{type:2,steps:N,options:f}}function Ai(N){return{type:6,styles:N,offset:null}}function Ao(N){Promise.resolve(null).then(N)}class ki{constructor(f=0,y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ao(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const y="start"==f?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}class bs{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let y=0,T=0,$=0;const J=this.players.length;0==J?Ao(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++y==J&&this._onFinish()}),ge.onDestroy(()=>{++T==J&&this._onDestroy()}),ge.onStart(()=>{++$==J&&this._onStart()})}),this.totalTime=this.players.reduce((ge,Ie)=>Math.max(ge,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const y=f*this.totalTime;this.players.forEach(T=>{const $=T.totalTime?Math.min(1,y/T.totalTime):1;T.setPosition($)})}getPosition(){const f=this.players.reduce((y,T)=>null===y||T.totalTime>y.totalTime?T:y,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const y="start"==f?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}function Uo(N){return new v.vHH(3e3,!1)}function Sn(){return typeof window<"u"&&typeof window.document<"u"}function kr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $n(N){switch(N.length){case 0:return new ki;case 1:return N[0];default:return new bs(N)}}function an(N,f,y,T,$=new Map,J=new Map){const ge=[],Ie=[];let He=-1,ft=null;if(T.forEach(Kt=>{const ln=Kt.get("offset"),fr=ln==He,Yn=fr&&ft||new Map;Kt.forEach((bn,zn)=>{let Qn=zn,Br=bn;if("offset"!==zn)switch(Qn=f.normalizePropertyName(Qn,ge),Br){case"!":Br=$.get(zn);break;case Ri:Br=J.get(zn);break;default:Br=f.normalizeStyleValue(zn,Qn,Br,ge)}Yn.set(Qn,Br)}),fr||Ie.push(Yn),ft=Yn,He=ln}),ge.length)throw function Mo(N){return new v.vHH(3502,!1)}();return Ie}function os(N,f,y,T){switch(f){case"start":N.onStart(()=>T(y&&es(y,"start",N)));break;case"done":N.onDone(()=>T(y&&es(y,"done",N)));break;case"destroy":N.onDestroy(()=>T(y&&es(y,"destroy",N)))}}function es(N,f,y){const J=Bi(N.element,N.triggerName,N.fromState,N.toState,f||N.phaseName,y.totalTime??N.totalTime,!!y.disabled),ge=N._data;return null!=ge&&(J._data=ge),J}function Bi(N,f,y,T,$="",J=0,ge){return{element:N,triggerName:f,fromState:y,toState:T,phaseName:$,totalTime:J,disabled:!!ge}}function hr(N,f,y){let T=N.get(f);return T||N.set(f,T=y),T}function co(N){const f=N.indexOf(":");return[N.substring(1,f),N.slice(f+1)]}let Ki=(N,f)=>!1,eo=(N,f,y)=>[],Ss=null;function mt(N){const f=N.parentNode||N.host;return f===Ss?null:f}(kr()||typeof Element<"u")&&(Sn()?(Ss=(()=>document.documentElement)(),Ki=(N,f)=>{for(;f;){if(f===N)return!0;f=mt(f)}return!1}):Ki=(N,f)=>N.contains(f),eo=(N,f,y)=>{if(y)return Array.from(N.querySelectorAll(f));const T=N.querySelector(f);return T?[T]:[]});let Ms=null,fi=!1;const x=Ki,Z=eo;let Zt=(()=>{class N{validateStyleProperty(y){return function $o(N){Ms||(Ms=function R(){return typeof document<"u"?document.body:null}()||{},fi=!!Ms.style&&"WebkitAppearance"in Ms.style);let f=!0;return Ms.style&&!function na(N){return"ebkit"==N.substring(1,6)}(N)&&(f=N in Ms.style,!f&&fi&&(f="Webkit"+N.charAt(0).toUpperCase()+N.slice(1)in Ms.style)),f}(y)}matchesElement(y,T){return!1}containsElement(y,T){return x(y,T)}getParentElement(y){return mt(y)}query(y,T,$){return Z(y,T,$)}computeStyle(y,T,$){return $||""}animate(y,T,$,J,ge,Ie=[],He){return new ki($,J)}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac}),N})(),br=(()=>{class N{}return N.NOOP=new Zt,N})();const xs="ng-enter",oi="ng-leave",as="ng-trigger",Ls=".ng-trigger",ra="ng-animating",ia=".ng-animating";function Fr(N){if("number"==typeof N)return N;const f=N.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:ho(parseFloat(f[1]),f[2])}function ho(N,f){return"s"===f?1e3*N:N}function Ca(N,f,y){return N.hasOwnProperty("duration")?N:function Ta(N,f,y){let $,J=0,ge="";if("string"==typeof N){const Ie=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return f.push(Uo()),{duration:0,delay:0,easing:""};$=ho(parseFloat(Ie[1]),Ie[2]);const He=Ie[3];null!=He&&(J=ho(parseFloat(He),Ie[4]));const ft=Ie[5];ft&&(ge=ft)}else $=N;if(!y){let Ie=!1,He=f.length;$<0&&(f.push(function wi(){return new v.vHH(3100,!1)}()),Ie=!0),J<0&&(f.push(function Ii(){return new v.vHH(3101,!1)}()),Ie=!0),Ie&&f.splice(He,0,Uo())}return{duration:$,delay:J,easing:ge}}(N,f,y)}function Ho(N,f={}){return Object.keys(N).forEach(y=>{f[y]=N[y]}),f}function bu(N){const f=new Map;return Object.keys(N).forEach(y=>{f.set(y,N[y])}),f}function to(N,f=new Map,y){if(y)for(let[T,$]of y)f.set(T,$);for(let[T,$]of N)f.set(T,$);return f}function no(N,f,y){return y?f+":"+y+";":""}function Va(N){let f="";for(let y=0;y<N.style.length;y++){const T=N.style.item(y);f+=no(0,T,N.style.getPropertyValue(T))}for(const y in N.style)N.style.hasOwnProperty(y)&&!y.startsWith("_")&&(f+=no(0,Cu(y),N.style[y]));N.setAttribute("style",f)}function Fi(N,f,y){N.style&&(f.forEach((T,$)=>{const J=Ua($);y&&!y.has($)&&y.set($,N.style[J]),N.style[J]=T}),kr()&&Va(N))}function Ps(N,f){N.style&&(f.forEach((y,T)=>{const $=Ua(T);N.style[$]=""}),kr()&&Va(N))}function Aa(N){return Array.isArray(N)?1==N.length?N[0]:Vo(N):N}const ti=new RegExp("{{\\s*(.+?)\\s*}}","g");function fo(N){let f=[];if("string"==typeof N){let y;for(;y=ti.exec(N);)f.push(y[1]);ti.lastIndex=0}return f}function Ur(N,f,y){const T=N.toString(),$=T.replace(ti,(J,ge)=>{let Ie=f[ge];return null==Ie&&(y.push(function Cs(N){return new v.vHH(3003,!1)}()),Ie=""),Ie.toString()});return $==T?N:$}function Sa(N){const f=[];let y=N.next();for(;!y.done;)f.push(y.value),y=N.next();return f}const Ya=/-+([a-z0-9])/g;function Ua(N){return N.replace(Ya,(...f)=>f[1].toUpperCase())}function Cu(N){return N.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gi(N,f,y){switch(f.type){case 7:return N.visitTrigger(f,y);case 0:return N.visitState(f,y);case 1:return N.visitTransition(f,y);case 2:return N.visitSequence(f,y);case 3:return N.visitGroup(f,y);case 4:return N.visitAnimate(f,y);case 5:return N.visitKeyframes(f,y);case 6:return N.visitStyle(f,y);case 8:return N.visitReference(f,y);case 9:return N.visitAnimateChild(f,y);case 10:return N.visitAnimateRef(f,y);case 11:return N.visitQuery(f,y);case 12:return N.visitStagger(f,y);default:throw function Bo(N){return new v.vHH(3004,!1)}()}}function Vs(N,f){return window.getComputedStyle(N)[f]}function oa(N,f){const y=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(T=>function Tu(N,f,y){if(":"==N[0]){const He=function Au(N,f){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,T)=>parseFloat(T)>parseFloat(y);case":decrement":return(y,T)=>parseFloat(T)<parseFloat(y);default:return f.push(function As(N){return new v.vHH(3016,!1)}()),"* => *"}}(N,y);if("function"==typeof He)return void f.push(He);N=He}const T=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return y.push(function Xs(N){return new v.vHH(3015,!1)}()),f;const $=T[1],J=T[2],ge=T[3];f.push(Li($,ge));"<"==J[0]&&!("*"==$&&"*"==ge)&&f.push(Li(ge,$))}(T,y,f)):y.push(N),y}const Ma=new Set(["true","1"]),vs=new Set(["false","0"]);function Li(N,f){const y=Ma.has(N)||vs.has(N),T=Ma.has(f)||vs.has(f);return($,J)=>{let ge="*"==N||N==$,Ie="*"==f||f==J;return!ge&&y&&"boolean"==typeof $&&(ge=$?Ma.has(N):vs.has(N)),!Ie&&T&&"boolean"==typeof J&&(Ie=J?Ma.has(f):vs.has(f)),ge&&Ie}}const go=new RegExp("s*:selfs*,?","g");function aa(N,f,y,T){return new oo(N).build(f,y,T)}class oo{constructor(f){this._driver=f}build(f,y,T){const $=new zo(y);return this._resetContextStyleTimingState($),gi(this,Aa(f),$)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,y){let T=y.queryCount=0,$=y.depCount=0;const J=[],ge=[];return"@"==f.name.charAt(0)&&y.errors.push(function Zs(){return new v.vHH(3006,!1)}()),f.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(y),0==Ie.type){const He=Ie,ft=He.name;ft.toString().split(/\s*,\s*/).forEach(Kt=>{He.name=Kt,J.push(this.visitState(He,y))}),He.name=ft}else if(1==Ie.type){const He=this.visitTransition(Ie,y);T+=He.queryCount,$+=He.depCount,ge.push(He)}else y.errors.push(function Ys(){return new v.vHH(3007,!1)}())}),{type:7,name:f.name,states:J,transitions:ge,queryCount:T,depCount:$,options:null}}visitState(f,y){const T=this.visitStyle(f.styles,y),$=f.options&&f.options.params||null;if(T.containsDynamicStyles){const J=new Set,ge=$||{};T.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(He=>{fo(He).forEach(ft=>{ge.hasOwnProperty(ft)||J.add(ft)})})}),J.size&&(Sa(J.values()),y.errors.push(function ys(N,f){return new v.vHH(3008,!1)}()))}return{type:0,name:f.name,style:T,options:$?{params:$}:null}}visitTransition(f,y){y.queryCount=0,y.depCount=0;const T=gi(this,Aa(f.animation),y);return{type:1,matchers:oa(f.expr,y.errors),animation:T,queryCount:y.queryCount,depCount:y.depCount,options:mo(f.options)}}visitSequence(f,y){return{type:2,steps:f.steps.map(T=>gi(this,T,y)),options:mo(f.options)}}visitGroup(f,y){const T=y.currentTime;let $=0;const J=f.steps.map(ge=>{y.currentTime=T;const Ie=gi(this,ge,y);return $=Math.max($,y.currentTime),Ie});return y.currentTime=$,{type:3,steps:J,options:mo(f.options)}}visitAnimate(f,y){const T=function Po(N,f){if(N.hasOwnProperty("duration"))return N;if("number"==typeof N)return Pa(Ca(N,f).duration,0,"");const y=N;if(y.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Pa(0,0,"");return J.dynamic=!0,J.strValue=y,J}const $=Ca(y,f);return Pa($.duration,$.delay,$.easing)}(f.timings,y.errors);y.currentAnimateTimings=T;let $,J=f.styles?f.styles:Ai({});if(5==J.type)$=this.visitKeyframes(J,y);else{let ge=f.styles,Ie=!1;if(!ge){Ie=!0;const ft={};T.easing&&(ft.easing=T.easing),ge=Ai(ft)}y.currentTime+=T.duration+T.delay;const He=this.visitStyle(ge,y);He.isEmptyStep=Ie,$=He}return y.currentAnimateTimings=null,{type:4,timings:T,style:$,options:null}}visitStyle(f,y){const T=this._makeStyleAst(f,y);return this._validateStyleAst(T,y),T}_makeStyleAst(f,y){const T=[],$=Array.isArray(f.styles)?f.styles:[f.styles];for(let Ie of $)"string"==typeof Ie?Ie===Ri?T.push(Ie):y.errors.push(new v.vHH(3002,!1)):T.push(bu(Ie));let J=!1,ge=null;return T.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(ge=Ie.get("easing"),Ie.delete("easing")),!J))for(let He of Ie.values())if(He.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:T,easing:ge,offset:f.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(f,y){const T=y.currentAnimateTimings;let $=y.currentTime,J=y.currentTime;T&&J>0&&(J-=T.duration+T.delay),f.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((Ie,He)=>{const ft=y.collectedStyles.get(y.currentQuerySelector),Kt=ft.get(He);let ln=!0;Kt&&(J!=$&&J>=Kt.startTime&&$<=Kt.endTime&&(y.errors.push(function Sr(N,f,y,T,$){return new v.vHH(3010,!1)}()),ln=!1),J=Kt.startTime),ln&&ft.set(He,{startTime:J,endTime:$}),y.options&&function Za(N,f,y){const T=f.params||{},$=fo(N);$.length&&$.forEach(J=>{T.hasOwnProperty(J)||y.push(function ss(N){return new v.vHH(3001,!1)}())})}(Ie,y.options,y.errors)})})}visitKeyframes(f,y){const T={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function Fs(){return new v.vHH(3011,!1)}()),T;let J=0;const ge=[];let Ie=!1,He=!1,ft=0;const Kt=f.steps.map(Br=>{const er=this._makeStyleAst(Br,y);let _o=null!=er.offset?er.offset:function la(N){if("string"==typeof N)return null;let f=null;if(Array.isArray(N))N.forEach(y=>{if(y instanceof Map&&y.has("offset")){const T=y;f=parseFloat(T.get("offset")),T.delete("offset")}});else if(N instanceof Map&&N.has("offset")){const y=N;f=parseFloat(y.get("offset")),y.delete("offset")}return f}(er.styles),ws=0;return null!=_o&&(J++,ws=er.offset=_o),He=He||ws<0||ws>1,Ie=Ie||ws<ft,ft=ws,ge.push(ws),er});He&&y.errors.push(function Qs(){return new v.vHH(3012,!1)}()),Ie&&y.errors.push(function Si(){return new v.vHH(3200,!1)}());const ln=f.steps.length;let fr=0;J>0&&J<ln?y.errors.push(function Ts(){return new v.vHH(3202,!1)}()):0==J&&(fr=1/(ln-1));const Yn=ln-1,bn=y.currentTime,zn=y.currentAnimateTimings,Qn=zn.duration;return Kt.forEach((Br,er)=>{const _o=fr>0?er==Yn?1:fr*er:ge[er],ws=_o*Qn;y.currentTime=bn+zn.delay+ws,zn.duration=ws,this._validateStyleAst(Br,y),Br.offset=_o,T.styles.push(Br)}),T}visitReference(f,y){return{type:8,animation:gi(this,Aa(f.animation),y),options:mo(f.options)}}visitAnimateChild(f,y){return y.depCount++,{type:9,options:mo(f.options)}}visitAnimateRef(f,y){return{type:10,animation:this.visitReference(f.animation,y),options:mo(f.options)}}visitQuery(f,y){const T=y.currentQuerySelector,$=f.options||{};y.queryCount++,y.currentQuery=f;const[J,ge]=function xa(N){const f=!!N.split(/\s*,\s*/).find(y=>":self"==y);return f&&(N=N.replace(go,"")),N=N.replace(/@\*/g,Ls).replace(/@\w+/g,y=>Ls+"-"+y.slice(1)).replace(/:animating/g,ia),[N,f]}(f.selector);y.currentQuerySelector=T.length?T+" "+J:J,hr(y.collectedStyles,y.currentQuerySelector,new Map);const Ie=gi(this,Aa(f.animation),y);return y.currentQuery=null,y.currentQuerySelector=T,{type:11,selector:J,limit:$.limit||0,optional:!!$.optional,includeSelf:ge,animation:Ie,originalSelector:f.selector,options:mo(f.options)}}visitStagger(f,y){y.currentQuery||y.errors.push(function La(){return new v.vHH(3013,!1)}());const T="full"===f.timings?{duration:0,delay:0,easing:"full"}:Ca(f.timings,y.errors,!0);return{type:12,animation:gi(this,Aa(f.animation),y),timings:T,options:null}}}class zo{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function mo(N){return N?(N=Ho(N)).params&&(N.params=function Di(N){return N?Ho(N):null}(N.params)):N={},N}function Pa(N,f,y){return{duration:N,delay:f,easing:y}}function mi(N,f,y,T,$,J,ge=null,Ie=!1){return{type:1,element:N,keyframes:f,preStyleProps:y,postStyleProps:T,duration:$,delay:J,totalTime:$+J,easing:ge,subTimeline:Ie}}class Bs{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,y){let T=this._map.get(f);T||this._map.set(f,T=[]),T.push(...y)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const ca=new RegExp(":enter","g"),Xr=new RegExp(":leave","g");function ji(N,f,y,T,$,J=new Map,ge=new Map,Ie,He,ft=[]){return(new No).buildKeyframes(N,f,y,T,$,J,ge,Ie,He,ft)}class No{buildKeyframes(f,y,T,$,J,ge,Ie,He,ft,Kt=[]){ft=ft||new Bs;const ln=new yn(f,y,ft,$,J,Kt,[]);ln.options=He;const fr=He.delay?Fr(He.delay):0;ln.currentTimeline.delayNextStep(fr),ln.currentTimeline.setStyles([ge],null,ln.errors,He),gi(this,T,ln);const Yn=ln.timelines.filter(bn=>bn.containsAnimation());if(Yn.length&&Ie.size){let bn;for(let zn=Yn.length-1;zn>=0;zn--){const Qn=Yn[zn];if(Qn.element===y){bn=Qn;break}}bn&&!bn.allowOnlyTimelineStyles()&&bn.setStyles([Ie],null,ln.errors,He)}return Yn.length?Yn.map(bn=>bn.buildKeyframes()):[mi(y,[],[],[],0,fr,"",!1)]}visitTrigger(f,y){}visitState(f,y){}visitTransition(f,y){}visitAnimateChild(f,y){const T=y.subInstructions.get(y.element);if(T){const $=y.createSubContext(f.options),J=y.currentTimeline.currentTime,ge=this._visitSubInstructions(T,$,$.options);J!=ge&&y.transformIntoNewTimeline(ge)}y.previousNode=f}visitAnimateRef(f,y){const T=y.createSubContext(f.options);T.transformIntoNewTimeline(),this.visitReference(f.animation,T),y.transformIntoNewTimeline(T.currentTimeline.currentTime),y.previousNode=f}_visitSubInstructions(f,y,T){let J=y.currentTimeline.currentTime;const ge=null!=T.duration?Fr(T.duration):null,Ie=null!=T.delay?Fr(T.delay):null;return 0!==ge&&f.forEach(He=>{const ft=y.appendInstructionToTimeline(He,ge,Ie);J=Math.max(J,ft.duration+ft.delay)}),J}visitReference(f,y){y.updateOptions(f.options,!0),gi(this,f.animation,y),y.previousNode=f}visitSequence(f,y){const T=y.subContextCount;let $=y;const J=f.options;if(J&&(J.params||J.delay)&&($=y.createSubContext(J),$.transformIntoNewTimeline(),null!=J.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=Yt);const ge=Fr(J.delay);$.delayNextStep(ge)}f.steps.length&&(f.steps.forEach(ge=>gi(this,ge,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>T&&$.transformIntoNewTimeline()),y.previousNode=f}visitGroup(f,y){const T=[];let $=y.currentTimeline.currentTime;const J=f.options&&f.options.delay?Fr(f.options.delay):0;f.steps.forEach(ge=>{const Ie=y.createSubContext(f.options);J&&Ie.delayNextStep(J),gi(this,ge,Ie),$=Math.max($,Ie.currentTimeline.currentTime),T.push(Ie.currentTimeline)}),T.forEach(ge=>y.currentTimeline.mergeTimelineCollectedStyles(ge)),y.transformIntoNewTimeline($),y.previousNode=f}_visitTiming(f,y){if(f.dynamic){const T=f.strValue;return Ca(y.params?Ur(T,y.params,y.errors):T,y.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,y){const T=y.currentAnimateTimings=this._visitTiming(f.timings,y),$=y.currentTimeline;T.delay&&(y.incrementTime(T.delay),$.snapshotCurrentStyles());const J=f.style;5==J.type?this.visitKeyframes(J,y):(y.incrementTime(T.duration),this.visitStyle(J,y),$.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=f}visitStyle(f,y){const T=y.currentTimeline,$=y.currentAnimateTimings;!$&&T.hasCurrentStyleProperties()&&T.forwardFrame();const J=$&&$.easing||f.easing;f.isEmptyStep?T.applyEmptyStep(J):T.setStyles(f.styles,J,y.errors,y.options),y.previousNode=f}visitKeyframes(f,y){const T=y.currentAnimateTimings,$=y.currentTimeline.duration,J=T.duration,Ie=y.createSubContext().currentTimeline;Ie.easing=T.easing,f.styles.forEach(He=>{Ie.forwardTime((He.offset||0)*J),Ie.setStyles(He.styles,He.easing,y.errors,y.options),Ie.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Ie),y.transformIntoNewTimeline($+J),y.previousNode=f}visitQuery(f,y){const T=y.currentTimeline.currentTime,$=f.options||{},J=$.delay?Fr($.delay):0;J&&(6===y.previousNode.type||0==T&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Yt);let ge=T;const Ie=y.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!$.optional,y.errors);y.currentQueryTotal=Ie.length;let He=null;Ie.forEach((ft,Kt)=>{y.currentQueryIndex=Kt;const ln=y.createSubContext(f.options,ft);J&&ln.delayNextStep(J),ft===y.element&&(He=ln.currentTimeline),gi(this,f.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,ln.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ge),He&&(y.currentTimeline.mergeTimelineCollectedStyles(He),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=f}visitStagger(f,y){const T=y.parentContext,$=y.currentTimeline,J=f.timings,ge=Math.abs(J.duration),Ie=ge*(y.currentQueryTotal-1);let He=ge*y.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":He=Ie-He;break;case"full":He=T.currentStaggerTime}const Kt=y.currentTimeline;He&&Kt.delayNextStep(He);const ln=Kt.currentTime;gi(this,f.animation,y),y.previousNode=f,T.currentStaggerTime=$.currentTime-ln+($.startTime-T.currentTimeline.startTime)}}const Yt={};class yn{constructor(f,y,T,$,J,ge,Ie,He){this._driver=f,this.element=y,this.subInstructions=T,this._enterClassName=$,this._leaveClassName=J,this.errors=ge,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new da(this._driver,y,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,y){if(!f)return;const T=f;let $=this.options;null!=T.duration&&($.duration=Fr(T.duration)),null!=T.delay&&($.delay=Fr(T.delay));const J=T.params;if(J){let ge=$.params;ge||(ge=this.options.params={}),Object.keys(J).forEach(Ie=>{(!y||!ge.hasOwnProperty(Ie))&&(ge[Ie]=Ur(J[Ie],ge,this.errors))})}}_copyOptions(){const f={};if(this.options){const y=this.options.params;if(y){const T=f.params={};Object.keys(y).forEach($=>{T[$]=y[$]})}}return f}createSubContext(f=null,y,T){const $=y||this.element,J=new yn(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,T||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(f),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(f){return this.previousNode=Yt,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,y,T){const $={duration:y??f.duration,delay:this.currentTimeline.currentTime+(T??0)+f.delay,easing:""},J=new Ht(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,$,f.stretchStartingKeyframe);return this.timelines.push(J),$}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,y,T,$,J,ge){let Ie=[];if($&&Ie.push(this.element),f.length>0){f=(f=f.replace(ca,"."+this._enterClassName)).replace(Xr,"."+this._leaveClassName);let ft=this._driver.query(this.element,f,1!=T);0!==T&&(ft=T<0?ft.slice(ft.length+T,ft.length):ft.slice(0,T)),Ie.push(...ft)}return!J&&0==Ie.length&&ge.push(function Js(N){return new v.vHH(3014,!1)}()),Ie}}class da{constructor(f,y,T,$){this._driver=f,this.element=y,this.startTime=T,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+f),y&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,y){return this.applyStylesToKeyframe(),new da(this._driver,f,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,y){this._localTimelineStyles.set(f,y),this._globalTimelineStyles.set(f,y),this._styleSummary.set(f,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[y,T]of this._globalTimelineStyles)this._backFill.set(y,T||Ri),this._currentKeyframe.set(y,Ri);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,y,T,$){y&&this._previousKeyframe.set("easing",y);const J=$&&$.params||{},ge=function Ct(N,f){const y=new Map;let T;return N.forEach($=>{if("*"===$){T=T||f.keys();for(let J of T)y.set(J,Ri)}else to($,y)}),y}(f,this._globalTimelineStyles);for(let[Ie,He]of ge){const ft=Ur(He,J,T);this._pendingStyles.set(Ie,ft),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)||Ri),this._updateStyle(Ie,ft)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,y)=>{this._currentKeyframe.set(y,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,f)}))}snapshotCurrentStyles(){for(let[f,y]of this._localTimelineStyles)this._pendingStyles.set(f,y),this._updateStyle(f,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let y in this._currentKeyframe)f.push(y);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((y,T)=>{const $=this._styleSummary.get(T);(!$||y.time>$.time)&&this._updateStyle(T,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,y=new Set,T=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((Ie,He)=>{const ft=to(Ie,new Map,this._backFill);ft.forEach((Kt,ln)=>{"!"===Kt?f.add(ln):Kt===Ri&&y.add(ln)}),T||ft.set("offset",He/this.duration),$.push(ft)});const J=f.size?Sa(f.values()):[],ge=y.size?Sa(y.values()):[];if(T){const Ie=$[0],He=new Map(Ie);Ie.set("offset",0),He.set("offset",1),$=[Ie,He]}return mi(this.element,$,J,ge,this.duration,this.startTime,this.easing,!1)}}class Ht extends da{constructor(f,y,T,$,J,ge,Ie=!1){super(f,y,ge.delay),this.keyframes=T,this.preStyleProps=$,this.postStyleProps=J,this._stretchStartingKeyframe=Ie,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:y,duration:T,easing:$}=this.timings;if(this._stretchStartingKeyframe&&y){const J=[],ge=T+y,Ie=y/ge,He=to(f[0]);He.set("offset",0),J.push(He);const ft=to(f[0]);ft.set("offset",tt(Ie)),J.push(ft);const Kt=f.length-1;for(let ln=1;ln<=Kt;ln++){let fr=to(f[ln]);const Yn=fr.get("offset");fr.set("offset",tt((y+Yn*T)/ge)),J.push(fr)}T=ge,y=0,$="",f=J}return mi(this.element,f,this.preStyleProps,this.postStyleProps,T,y,$,!0)}}function tt(N,f=3){const y=Math.pow(10,f-1);return Math.round(N*y)/y}class ha{}const ou=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Qa extends ha{normalizePropertyName(f,y){return Ua(f)}normalizeStyleValue(f,y,T,$){let J="";const ge=T.toString().trim();if(ou.has(y)&&0!==T&&"0"!==T)if("number"==typeof T)J="px";else{const Ie=T.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&$.push(function ms(N,f){return new v.vHH(3005,!1)}())}return ge+J}}function Na(N,f,y,T,$,J,ge,Ie,He,ft,Kt,ln,fr){return{type:0,element:N,triggerName:f,isRemovalTransition:$,fromState:y,fromStyles:J,toState:T,toStyles:ge,timelines:Ie,queriedElements:He,preStyleProps:ft,postStyleProps:Kt,totalTime:ln,errors:fr}}const D={};class w{constructor(f,y,T){this._triggerName=f,this.ast=y,this._stateStyles=T}match(f,y,T,$){return function E(N,f,y,T,$){return N.some(J=>J(f,y,T,$))}(this.ast.matchers,f,y,T,$)}buildStyles(f,y,T){let $=this._stateStyles.get("*");return void 0!==f&&($=this._stateStyles.get(f?.toString())||$),$?$.buildStyles(y,T):new Map}build(f,y,T,$,J,ge,Ie,He,ft,Kt){const ln=[],fr=this.ast.options&&this.ast.options.params||D,bn=this.buildStyles(T,Ie&&Ie.params||D,ln),zn=He&&He.params||D,Qn=this.buildStyles($,zn,ln),Br=new Set,er=new Map,_o=new Map,ws="void"===$,qo={params:P(zn,fr),delay:this.ast.options?.delay},Oa=Kt?[]:ji(f,y,this.ast.animation,J,ge,bn,Qn,qo,ft,ln);let Hi=0;if(Oa.forEach(Ko=>{Hi=Math.max(Ko.duration+Ko.delay,Hi)}),ln.length)return Na(y,this._triggerName,T,$,ws,bn,Qn,[],[],er,_o,Hi,ln);Oa.forEach(Ko=>{const ko=Ko.element,rc=hr(er,ko,new Set);Ko.preStyleProps.forEach(xu=>rc.add(xu));const Gi=hr(_o,ko,new Set);Ko.postStyleProps.forEach(xu=>Gi.add(xu)),ko!==y&&Br.add(ko)});const Oo=Sa(Br.values());return Na(y,this._triggerName,T,$,ws,bn,Qn,Oa,Oo,er,_o,Hi)}}function P(N,f){const y=Ho(f);for(const T in N)N.hasOwnProperty(T)&&null!=N[T]&&(y[T]=N[T]);return y}class U{constructor(f,y,T){this.styles=f,this.defaultParams=y,this.normalizer=T}buildStyles(f,y){const T=new Map,$=Ho(this.defaultParams);return Object.keys(f).forEach(J=>{const ge=f[J];null!==ge&&($[J]=ge)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((ge,Ie)=>{ge&&(ge=Ur(ge,$,y));const He=this.normalizer.normalizePropertyName(Ie,y);ge=this.normalizer.normalizeStyleValue(Ie,He,ge,y),T.set(He,ge)})}),T}}class X{constructor(f,y,T){this.name=f,this.ast=y,this._normalizer=T,this.transitionFactories=[],this.states=new Map,y.states.forEach($=>{this.states.set($.name,new U($.style,$.options&&$.options.params||{},T))}),lt(this.states,"true","1"),lt(this.states,"false","0"),y.transitions.forEach($=>{this.transitionFactories.push(new w(f,$,this.states))}),this.fallbackTransition=function _e(N,f,y){return new w(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,Ie)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,y,T,$){return this.transitionFactories.find(ge=>ge.match(f,y,T,$))||null}matchStyles(f,y,T){return this.fallbackTransition.buildStyles(f,y,T)}}function lt(N,f,y){N.has(f)?N.has(y)||N.set(y,N.get(f)):N.has(y)&&N.set(f,N.get(y))}const St=new Bs;class Rt{constructor(f,y,T){this.bodyNode=f,this._driver=y,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,y){const T=[],J=aa(this._driver,y,T,[]);if(T.length)throw function dr(N){return new v.vHH(3503,!1)}();this._animations.set(f,J)}_buildPlayer(f,y,T){const $=f.element,J=an(0,this._normalizer,0,f.keyframes,y,T);return this._driver.animate($,J,f.duration,f.delay,f.easing,[],!0)}create(f,y,T={}){const $=[],J=this._animations.get(f);let ge;const Ie=new Map;if(J?(ge=ji(this._driver,y,J,xs,oi,new Map,new Map,T,St,$),ge.forEach(Kt=>{const ln=hr(Ie,Kt.element,new Map);Kt.postStyleProps.forEach(fr=>ln.set(fr,null))})):($.push(function O(){return new v.vHH(3300,!1)}()),ge=[]),$.length)throw function K(N){return new v.vHH(3504,!1)}();Ie.forEach((Kt,ln)=>{Kt.forEach((fr,Yn)=>{Kt.set(Yn,this._driver.computeStyle(ln,Yn,Ri))})});const ft=$n(ge.map(Kt=>{const ln=Ie.get(Kt.element);return this._buildPlayer(Kt,new Map,ln)}));return this._playersById.set(f,ft),ft.onDestroy(()=>this.destroy(f)),this.players.push(ft),ft}destroy(f){const y=this._getPlayer(f);y.destroy(),this._playersById.delete(f);const T=this.players.indexOf(y);T>=0&&this.players.splice(T,1)}_getPlayer(f){const y=this._playersById.get(f);if(!y)throw function k(N){return new v.vHH(3301,!1)}();return y}listen(f,y,T,$){const J=Bi(y,"","","");return os(this._getPlayer(f),T,J,$),()=>{}}command(f,y,T,$){if("register"==T)return void this.register(f,$[0]);if("create"==T)return void this.create(f,y,$[0]||{});const J=this._getPlayer(f);switch(T){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(f)}}}const Wt="ng-animate-queued",ai="ng-animate-disabled",Ja=[],ao={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},au={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},us="__ng_removed";class Hu{constructor(f,y=""){this.namespaceId=y;const T=f&&f.hasOwnProperty("value");if(this.value=function uu(N){return N??null}(T?f.value:f),T){const J=Ho(f);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(f){const y=f.params;if(y){const T=this.options.params;Object.keys(y).forEach($=>{null==T[$]&&(T[$]=y[$])})}}}const yo="void",js=new Hu(yo);class Gu{constructor(f,y,T){this.id=f,this.hostElement=y,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,ui(y,this._hostClassName)}listen(f,y,T,$){if(!this._triggers.has(y))throw function Q(N,f){return new v.vHH(3302,!1)}();if(null==T||0==T.length)throw function we(N){return new v.vHH(3303,!1)}();if(!function rs(N){return"start"==N||"done"==N}(T))throw function Be(N,f){return new v.vHH(3400,!1)}();const J=hr(this._elementListeners,f,[]),ge={name:y,phase:T,callback:$};J.push(ge);const Ie=hr(this._engine.statesByElement,f,new Map);return Ie.has(y)||(ui(f,as),ui(f,as+"-"+y),Ie.set(y,js)),()=>{this._engine.afterFlush(()=>{const He=J.indexOf(ge);He>=0&&J.splice(He,1),this._triggers.has(y)||Ie.delete(y)})}}register(f,y){return!this._triggers.has(f)&&(this._triggers.set(f,y),!0)}_getTrigger(f){const y=this._triggers.get(f);if(!y)throw function yt(N){return new v.vHH(3401,!1)}();return y}trigger(f,y,T,$=!0){const J=this._getTrigger(y),ge=new pa(this.id,y,f);let Ie=this._engine.statesByElement.get(f);Ie||(ui(f,as),ui(f,as+"-"+y),this._engine.statesByElement.set(f,Ie=new Map));let He=Ie.get(y);const ft=new Hu(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&He&&ft.absorbOptions(He.options),Ie.set(y,ft),He||(He=js),ft.value!==yo&&He.value===ft.value){if(!function Uc(N,f){const y=Object.keys(N),T=Object.keys(f);if(y.length!=T.length)return!1;for(let $=0;$<y.length;$++){const J=y[$];if(!f.hasOwnProperty(J)||N[J]!==f[J])return!1}return!0}(He.params,ft.params)){const zn=[],Qn=J.matchStyles(He.value,He.params,zn),Br=J.matchStyles(ft.value,ft.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{Ps(f,Qn),Fi(f,Br)})}return}const fr=hr(this._engine.playersByElement,f,[]);fr.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==y&&zn.queued&&zn.destroy()});let Yn=J.matchTransition(He.value,ft.value,f,ft.params),bn=!1;if(!Yn){if(!$)return;Yn=J.fallbackTransition,bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:y,transition:Yn,fromState:He,toState:ft,player:ge,isFallbackTransition:bn}),bn||(ui(f,Wt),ge.onStart(()=>{ga(f,Wt)})),ge.onDone(()=>{let zn=this.players.indexOf(ge);zn>=0&&this.players.splice(zn,1);const Qn=this._engine.playersByElement.get(f);if(Qn){let Br=Qn.indexOf(ge);Br>=0&&Qn.splice(Br,1)}}),this.players.push(ge),fr.push(ge),ge}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(y=>y.delete(f)),this._elementListeners.forEach((y,T)=>{this._elementListeners.set(T,y.filter($=>$.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const y=this._engine.playersByElement.get(f);y&&(y.forEach(T=>T.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,y){const T=this._engine.driver.query(f,Ls,!0);T.forEach($=>{if($[us])return;const J=this._engine.fetchNamespacesByElement($);J.size?J.forEach(ge=>ge.triggerLeaveAnimation($,y,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>T.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(f,y,T,$){const J=this._engine.statesByElement.get(f),ge=new Map;if(J){const Ie=[];if(J.forEach((He,ft)=>{if(ge.set(ft,He.value),this._triggers.has(ft)){const Kt=this.trigger(f,ft,yo,$);Kt&&Ie.push(Kt)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,f,!0,y,ge),T&&$n(Ie).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const y=this._elementListeners.get(f),T=this._engine.statesByElement.get(f);if(y&&T){const $=new Set;y.forEach(J=>{const ge=J.name;if($.has(ge))return;$.add(ge);const He=this._triggers.get(ge).fallbackTransition,ft=T.get(ge)||js,Kt=new Hu(yo),ln=new pa(this.id,ge,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:ge,transition:He,fromState:ft,toState:Kt,player:ln,isFallbackTransition:!0})})}}removeNode(f,y){const T=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,y),this.triggerLeaveAnimation(f,y,!0))return;let $=!1;if(T.totalAnimations){const J=T.players.length?T.playersByQueriedElement.get(f):[];if(J&&J.length)$=!0;else{let ge=f;for(;ge=ge.parentNode;)if(T.statesByElement.get(ge)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(f),$)T.markElementAsRemoved(this.id,f,!1,y);else{const J=f[us];(!J||J===ao)&&(T.afterFlush(()=>this.clearElementCache(f)),T.destroyInnerAnimations(f),T._onRemovalComplete(f,y))}}insertNode(f,y){ui(f,this._hostClassName)}drainQueuedTransitions(f){const y=[];return this._queue.forEach(T=>{const $=T.player;if($.destroyed)return;const J=T.element,ge=this._elementListeners.get(J);ge&&ge.forEach(Ie=>{if(Ie.name==T.triggerName){const He=Bi(J,T.triggerName,T.fromState.value,T.toState.value);He._data=f,os(T.player,Ie.phase,He,Ie.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):y.push(T)}),this._queue=[],y.sort((T,$)=>{const J=T.transition.ast.depCount,ge=$.transition.ast.depCount;return 0==J||0==ge?J-ge:this._engine.driver.containsElement(T.element,$.element)?1:-1})}destroy(f){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}elementContainsData(f){let y=!1;return this._elementListeners.has(f)&&(y=!0),y=!!this._queue.find(T=>T.element===f)||y,y}}class $i{constructor(f,y,T){this.bodyNode=f,this.driver=y,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,J)=>{}}_onRemovalComplete(f,y){this.onRemovalComplete(f,y)}get queuedPlayers(){const f=[];return this._namespaceList.forEach(y=>{y.players.forEach(T=>{T.queued&&f.push(T)})}),f}createNamespace(f,y){const T=new Gu(f,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(T,y):(this.newHostElements.set(y,T),this.collectEnterElement(y)),this._namespaceLookup[f]=T}_balanceNamespaceList(f,y){const T=this._namespaceList,$=this.namespacesByHostElement;if(T.length-1>=0){let ge=!1,Ie=this.driver.getParentElement(y);for(;Ie;){const He=$.get(Ie);if(He){const ft=T.indexOf(He);T.splice(ft+1,0,f),ge=!0;break}Ie=this.driver.getParentElement(Ie)}ge||T.unshift(f)}else T.push(f);return $.set(y,f),f}register(f,y){let T=this._namespaceLookup[f];return T||(T=this.createNamespace(f,y)),T}registerTrigger(f,y,T){let $=this._namespaceLookup[f];$&&$.register(y,T)&&this.totalAnimations++}destroy(f,y){if(!f)return;const T=this._fetchNamespace(f);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[f];const $=this._namespaceList.indexOf(T);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>T.destroy(y))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const y=new Set,T=this.statesByElement.get(f);if(T)for(let $ of T.values())if($.namespaceId){const J=this._fetchNamespace($.namespaceId);J&&y.add(J)}return y}trigger(f,y,T,$){if(Ke(y)){const J=this._fetchNamespace(f);if(J)return J.trigger(y,T,$),!0}return!1}insertNode(f,y,T,$){if(!Ke(y))return;const J=y[us];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(y);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(f){const ge=this._fetchNamespace(f);ge&&ge.insertNode(y,T)}$&&this.collectEnterElement(y)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,y){y?this.disabledNodes.has(f)||(this.disabledNodes.add(f),ui(f,ai)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),ga(f,ai))}removeNode(f,y,T,$){if(Ke(y)){const J=f?this._fetchNamespace(f):null;if(J?J.removeNode(y,$):this.markElementAsRemoved(f,y,!1,$),T){const ge=this.namespacesByHostElement.get(y);ge&&ge.id!==f&&ge.removeNode(y,$)}}else this._onRemovalComplete(y,$)}markElementAsRemoved(f,y,T,$,J){this.collectedLeaveElements.push(y),y[us]={namespaceId:f,setForRemoval:$,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:J}}listen(f,y,T,$,J){return Ke(y)?this._fetchNamespace(f).listen(y,T,$,J):()=>{}}_buildInstruction(f,y,T,$,J){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,T,$,f.fromState.options,f.toState.options,y,J)}destroyInnerAnimations(f){let y=this.driver.query(f,Ls,!0);y.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(f,ia,!0),y.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(f){const y=this.playersByElement.get(f);y&&y.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(f){const y=this.playersByQueriedElement.get(f);y&&y.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return $n(this.players).onDone(()=>f());f()})}processLeaveNode(f){const y=f[us];if(y&&y.setForRemoval){if(f[us]=ao,y.namespaceId){this.destroyInnerAnimations(f);const T=this._fetchNamespace(y.namespaceId);T&&T.clearElementCache(f)}this._onRemovalComplete(f,y.setForRemoval)}f.classList?.contains(ai)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(f=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,$)=>this._balanceNamespaceList(T,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)ui(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{y=this._flushAnimations(T,f)}finally{for(let $=0;$<T.length;$++)T[$]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],y.length?$n(y).onDone(()=>{T.forEach($=>$())}):T.forEach($=>$())}}reportError(f){throw function kt(N){return new v.vHH(3402,!1)}()}_flushAnimations(f,y){const T=new Bs,$=[],J=new Map,ge=[],Ie=new Map,He=new Map,ft=new Map,Kt=new Set;this.disabledNodes.forEach(un=>{Kt.add(un);const Mn=this.driver.query(un,".ng-animate-queued",!0);for(let Bn=0;Bn<Mn.length;Bn++)Kt.add(Mn[Bn])});const ln=this.bodyNode,fr=Array.from(this.statesByElement.keys()),Yn=uo(fr,this.collectedEnterElements),bn=new Map;let zn=0;Yn.forEach((un,Mn)=>{const Bn=xs+zn++;bn.set(Mn,Bn),un.forEach(Lr=>ui(Lr,Bn))});const Qn=[],Br=new Set,er=new Set;for(let un=0;un<this.collectedLeaveElements.length;un++){const Mn=this.collectedLeaveElements[un],Bn=Mn[us];Bn&&Bn.setForRemoval&&(Qn.push(Mn),Br.add(Mn),Bn.hasAnimation?this.driver.query(Mn,".ng-star-inserted",!0).forEach(Lr=>Br.add(Lr)):er.add(Mn))}const _o=new Map,ws=uo(fr,Array.from(Br));ws.forEach((un,Mn)=>{const Bn=oi+zn++;_o.set(Mn,Bn),un.forEach(Lr=>ui(Lr,Bn))}),f.push(()=>{Yn.forEach((un,Mn)=>{const Bn=bn.get(Mn);un.forEach(Lr=>ga(Lr,Bn))}),ws.forEach((un,Mn)=>{const Bn=_o.get(Mn);un.forEach(Lr=>ga(Lr,Bn))}),Qn.forEach(un=>{this.processLeaveNode(un)})});const qo=[],Oa=[];for(let un=this._namespaceList.length-1;un>=0;un--)this._namespaceList[un].drainQueuedTransitions(y).forEach(Bn=>{const Lr=Bn.player,Yi=Bn.element;if(qo.push(Lr),this.collectedEnterElements.length){const cs=Yi[us];if(cs&&cs.setForMove){if(cs.previousTriggersValues&&cs.previousTriggersValues.has(Bn.triggerName)){const Zo=cs.previousTriggersValues.get(Bn.triggerName),Fo=this.statesByElement.get(Bn.element);if(Fo&&Fo.has(Bn.triggerName)){const cu=Fo.get(Bn.triggerName);cu.value=Zo,Fo.set(Bn.triggerName,cu)}}return void Lr.destroy()}}const Qi=!ln||!this.driver.containsElement(ln,Yi),ls=_o.get(Yi),_a=bn.get(Yi),Ti=this._buildInstruction(Bn,T,_a,ls,Qi);if(Ti.errors&&Ti.errors.length)return void Oa.push(Ti);if(Qi)return Lr.onStart(()=>Ps(Yi,Ti.fromStyles)),Lr.onDestroy(()=>Fi(Yi,Ti.toStyles)),void $.push(Lr);if(Bn.isFallbackTransition)return Lr.onStart(()=>Ps(Yi,Ti.fromStyles)),Lr.onDestroy(()=>Fi(Yi,Ti.toStyles)),void $.push(Lr);const qu=[];Ti.timelines.forEach(cs=>{cs.stretchStartingKeyframe=!0,this.disabledNodes.has(cs.element)||qu.push(cs)}),Ti.timelines=qu,T.append(Yi,Ti.timelines),ge.push({instruction:Ti,player:Lr,element:Yi}),Ti.queriedElements.forEach(cs=>hr(Ie,cs,[]).push(Lr)),Ti.preStyleProps.forEach((cs,Zo)=>{if(cs.size){let Fo=He.get(Zo);Fo||He.set(Zo,Fo=new Set),cs.forEach((cu,Yo)=>Fo.add(Yo))}}),Ti.postStyleProps.forEach((cs,Zo)=>{let Fo=ft.get(Zo);Fo||ft.set(Zo,Fo=new Set),cs.forEach((cu,Yo)=>Fo.add(Yo))})});if(Oa.length){const un=[];Oa.forEach(Mn=>{un.push(function Gn(N,f){return new v.vHH(3505,!1)}())}),qo.forEach(Mn=>Mn.destroy()),this.reportError(un)}const Hi=new Map,Oo=new Map;ge.forEach(un=>{const Mn=un.element;T.has(Mn)&&(Oo.set(Mn,Mn),this._beforeAnimationBuild(un.player.namespaceId,un.instruction,Hi))}),$.forEach(un=>{const Mn=un.element;this._getPreviousPlayers(Mn,!1,un.namespaceId,un.triggerName,null).forEach(Lr=>{hr(Hi,Mn,[]).push(Lr),Lr.destroy()})});const Ko=Qn.filter(un=>cl(un,He,ft)),ko=new Map;Ro(ko,this.driver,er,ft,Ri).forEach(un=>{cl(un,He,ft)&&Ko.push(un)});const Gi=new Map;Yn.forEach((un,Mn)=>{Ro(Gi,this.driver,new Set(un),He,"!")}),Ko.forEach(un=>{const Mn=ko.get(un),Bn=Gi.get(un);ko.set(un,new Map([...Array.from(Mn?.entries()??[]),...Array.from(Bn?.entries()??[])]))});const xu=[],Wu=[],dl={};ge.forEach(un=>{const{element:Mn,player:Bn,instruction:Lr}=un;if(T.has(Mn)){if(Kt.has(Mn))return Bn.onDestroy(()=>Fi(Mn,Lr.toStyles)),Bn.disabled=!0,Bn.overrideTotalTime(Lr.totalTime),void $.push(Bn);let Yi=dl;if(Oo.size>1){let ls=Mn;const _a=[];for(;ls=ls.parentNode;){const Ti=Oo.get(ls);if(Ti){Yi=Ti;break}_a.push(ls)}_a.forEach(Ti=>Oo.set(Ti,Yi))}const Qi=this._buildAnimation(Bn.namespaceId,Lr,Hi,J,Gi,ko);if(Bn.setRealPlayer(Qi),Yi===dl)xu.push(Bn);else{const ls=this.playersByElement.get(Yi);ls&&ls.length&&(Bn.parentPlayer=$n(ls)),$.push(Bn)}}else Ps(Mn,Lr.fromStyles),Bn.onDestroy(()=>Fi(Mn,Lr.toStyles)),Wu.push(Bn),Kt.has(Mn)&&$.push(Bn)}),Wu.forEach(un=>{const Mn=J.get(un.element);if(Mn&&Mn.length){const Bn=$n(Mn);un.setRealPlayer(Bn)}}),$.forEach(un=>{un.parentPlayer?un.syncPlayerEvents(un.parentPlayer):un.destroy()});for(let un=0;un<Qn.length;un++){const Mn=Qn[un],Bn=Mn[us];if(ga(Mn,oi),Bn&&Bn.hasAnimation)continue;let Lr=[];if(Ie.size){let Qi=Ie.get(Mn);Qi&&Qi.length&&Lr.push(...Qi);let ls=this.driver.query(Mn,ia,!0);for(let _a=0;_a<ls.length;_a++){let Ti=Ie.get(ls[_a]);Ti&&Ti.length&&Lr.push(...Ti)}}const Yi=Lr.filter(Qi=>!Qi.destroyed);Yi.length?ma(this,Mn,Yi):this.processLeaveNode(Mn)}return Qn.length=0,xu.forEach(un=>{this.players.push(un),un.onDone(()=>{un.destroy();const Mn=this.players.indexOf(un);this.players.splice(Mn,1)}),un.play()}),xu}elementContainsData(f,y){let T=!1;const $=y[us];return $&&$.setForRemoval&&(T=!0),this.playersByElement.has(y)&&(T=!0),this.playersByQueriedElement.has(y)&&(T=!0),this.statesByElement.has(y)&&(T=!0),this._fetchNamespace(f).elementContainsData(y)||T}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,y,T,$,J){let ge=[];if(y){const Ie=this.playersByQueriedElement.get(f);Ie&&(ge=Ie)}else{const Ie=this.playersByElement.get(f);if(Ie){const He=!J||J==yo;Ie.forEach(ft=>{ft.queued||!He&&ft.triggerName!=$||ge.push(ft)})}}return(T||$)&&(ge=ge.filter(Ie=>!(T&&T!=Ie.namespaceId||$&&$!=Ie.triggerName))),ge}_beforeAnimationBuild(f,y,T){const J=y.element,ge=y.isRemovalTransition?void 0:f,Ie=y.isRemovalTransition?void 0:y.triggerName;for(const He of y.timelines){const ft=He.element,Kt=ft!==J,ln=hr(T,ft,[]);this._getPreviousPlayers(ft,Kt,ge,Ie,y.toState).forEach(Yn=>{const bn=Yn.getRealPlayer();bn.beforeDestroy&&bn.beforeDestroy(),Yn.destroy(),ln.push(Yn)})}Ps(J,y.fromStyles)}_buildAnimation(f,y,T,$,J,ge){const Ie=y.triggerName,He=y.element,ft=[],Kt=new Set,ln=new Set,fr=y.timelines.map(bn=>{const zn=bn.element;Kt.add(zn);const Qn=zn[us];if(Qn&&Qn.removedBeforeQueried)return new ki(bn.duration,bn.delay);const Br=zn!==He,er=function Xa(N){const f=[];return zu(N,f),f}((T.get(zn)||Ja).map(Hi=>Hi.getRealPlayer())).filter(Hi=>!!Hi.element&&Hi.element===zn),_o=J.get(zn),ws=ge.get(zn),qo=an(0,this._normalizer,0,bn.keyframes,_o,ws),Oa=this._buildPlayer(bn,qo,er);if(bn.subTimeline&&$&&ln.add(zn),Br){const Hi=new pa(f,Ie,zn);Hi.setRealPlayer(Oa),ft.push(Hi)}return Oa});ft.forEach(bn=>{hr(this.playersByQueriedElement,bn.element,[]).push(bn),bn.onDone(()=>function Ns(N,f,y){let T=N.get(f);if(T){if(T.length){const $=T.indexOf(y);T.splice($,1)}0==T.length&&N.delete(f)}return T}(this.playersByQueriedElement,bn.element,bn))}),Kt.forEach(bn=>ui(bn,ra));const Yn=$n(fr);return Yn.onDestroy(()=>{Kt.forEach(bn=>ga(bn,ra)),Fi(He,y.toStyles)}),ln.forEach(bn=>{hr($,bn,[]).push(Yn)}),Yn}_buildPlayer(f,y,T){return y.length>0?this.driver.animate(f.element,y,f.duration,f.delay,f.easing,T):new ki(f.duration,f.delay)}}class pa{constructor(f,y,T){this.namespaceId=f,this.triggerName=y,this.element=T,this._player=new ki,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((y,T)=>{y.forEach($=>os(f,T,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const y=this._player;y.triggerCallback&&f.onStart(()=>y.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,y){hr(this._queuedCallbacks,f,[]).push(y)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const y=this._player;y.triggerCallback&&y.triggerCallback(f)}}function Ke(N){return N&&1===N.nodeType}function xi(N,f){const y=N.style.display;return N.style.display=f??"none",y}function Ro(N,f,y,T,$){const J=[];y.forEach(He=>J.push(xi(He)));const ge=[];T.forEach((He,ft)=>{const Kt=new Map;He.forEach(ln=>{const fr=f.computeStyle(ft,ln,$);Kt.set(ln,fr),(!fr||0==fr.length)&&(ft[us]=au,ge.push(ft))}),N.set(ft,Kt)});let Ie=0;return y.forEach(He=>xi(He,J[Ie++])),ge}function uo(N,f){const y=new Map;if(N.forEach(Ie=>y.set(Ie,[])),0==f.length)return y;const $=new Set(f),J=new Map;function ge(Ie){if(!Ie)return 1;let He=J.get(Ie);if(He)return He;const ft=Ie.parentNode;return He=y.has(ft)?ft:$.has(ft)?1:ge(ft),J.set(Ie,He),He}return f.forEach(Ie=>{const He=ge(Ie);1!==He&&y.get(He).push(Ie)}),y}function ui(N,f){N.classList?.add(f)}function ga(N,f){N.classList?.remove(f)}function ma(N,f,y){$n(y).onDone(()=>N.processLeaveNode(f))}function zu(N,f){for(let y=0;y<N.length;y++){const T=N[y];T instanceof bs?zu(T.players,f):f.push(T)}}function cl(N,f,y){const T=y.get(N);if(!T)return!1;let $=f.get(N);return $?T.forEach(J=>$.add(J)):f.set(N,T),y.delete(N),!0}class xr{constructor(f,y,T){this.bodyNode=f,this._driver=y,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=($,J)=>{},this._transitionEngine=new $i(f,y,T),this._timelineEngine=new Rt(f,y,T),this._transitionEngine.onRemovalComplete=($,J)=>this.onRemovalComplete($,J)}registerTrigger(f,y,T,$,J){const ge=f+"-"+$;let Ie=this._triggerCache[ge];if(!Ie){const He=[],Kt=aa(this._driver,J,He,[]);if(He.length)throw function Or(N,f){return new v.vHH(3404,!1)}();Ie=function Y(N,f,y){return new X(N,f,y)}($,Kt,this._normalizer),this._triggerCache[ge]=Ie}this._transitionEngine.registerTrigger(y,$,Ie)}register(f,y){this._transitionEngine.register(f,y)}destroy(f,y){this._transitionEngine.destroy(f,y)}onInsert(f,y,T,$){this._transitionEngine.insertNode(f,y,T,$)}onRemove(f,y,T,$){this._transitionEngine.removeNode(f,y,$||!1,T)}disableAnimations(f,y){this._transitionEngine.markElementAsDisabled(f,y)}process(f,y,T,$){if("@"==T.charAt(0)){const[J,ge]=co(T);this._timelineEngine.command(J,y,ge,$)}else this._transitionEngine.trigger(f,y,T,$)}listen(f,y,T,$,J){if("@"==T.charAt(0)){const[ge,Ie]=co(T);return this._timelineEngine.listen(ge,y,Ie,J)}return this._transitionEngine.listen(f,y,T,$,J)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zi=(()=>{class N{constructor(y,T,$){this._element=y,this._startStyles=T,this._endStyles=$,this._state=0;let J=N.initialStylesByElement.get(y);J||N.initialStylesByElement.set(y,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&Fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fi(this._element,this._initialStyles),this._endStyles&&(Fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(Ps(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ps(this._element,this._endStyles),this._endStyles=null),Fi(this._element,this._initialStyles),this._state=3)}}return N.initialStylesByElement=new WeakMap,N})();function Mu(N){let f=null;return N.forEach((y,T)=>{(function li(N){return"display"===N||"position"===N})(T)&&(f=f||new Map,f.set(T,y))}),f}class ja{constructor(f,y,T,$){this.element=f,this.keyframes=y,this.options=T,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const y=[];return f.forEach(T=>{y.push(Object.fromEntries(T))}),y}_triggerWebAnimation(f,y,T){return f.animate(this._convertKeyframesToObject(y),T)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,$)=>{"offset"!==$&&f.set($,this._finished?T:Vs(this.element,$))}),this.currentSnapshot=f}triggerCallback(f){const y="start"===f?this._onStartFns:this._onDoneFns;y.forEach(T=>T()),y.length=0}}class Ci{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}matchesElement(f,y){return!1}containsElement(f,y){return x(f,y)}getParentElement(f){return mt(f)}query(f,y,T){return Z(f,y,T)}computeStyle(f,y,T){return window.getComputedStyle(f)[y]}animate(f,y,T,$,J,ge=[]){const He={duration:T,delay:$,fill:0==$?"both":"forwards"};J&&(He.easing=J);const ft=new Map,Kt=ge.filter(Yn=>Yn instanceof ja);(function iu(N,f){return 0===N||0===f})(T,$)&&Kt.forEach(Yn=>{Yn.currentSnapshot.forEach((bn,zn)=>ft.set(zn,bn))});let ln=function sa(N){return N.length?N[0]instanceof Map?N:N.map(f=>bu(f)):[]}(y).map(Yn=>to(Yn));ln=function ju(N,f,y){if(y.size&&f.length){let T=f[0],$=[];if(y.forEach((J,ge)=>{T.has(ge)||$.push(ge),T.set(ge,J)}),$.length)for(let J=1;J<f.length;J++){let ge=f[J];$.forEach(Ie=>ge.set(Ie,Vs(N,Ie)))}}return f}(f,ln,ft);const fr=function Su(N,f){let y=null,T=null;return Array.isArray(f)&&f.length?(y=Mu(f[0]),f.length>1&&(T=Mu(f[f.length-1]))):f instanceof Map&&(y=Mu(f)),y||T?new Zi(N,y,T):null}(f,ln);return new ja(f,ln,He,fr)}}let Ar=(()=>{class N extends ps{constructor(y,T){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(T.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(y){const T=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(y)?Vo(y):y;return Rs(this._renderer,null,T,"register",[$]),new Ra(T,this._renderer)}}return N.\u0275fac=function(y){return new(y||N)(v.LFG(v.FYo),v.LFG(Tt.K0))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac}),N})();class Ra extends class ks{}{constructor(f,y){super(),this._id=f,this._renderer=y}create(f,y){return new lu(this._id,f,y||{},this._renderer)}}class lu{constructor(f,y,T,$){this.id=f,this.element=y,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(f,y){return this._renderer.listen(this.element,`@@${this.id}:${f}`,y)}_command(f,...y){return Rs(this._renderer,this.element,this.id,f,y)}onDone(f){this._listen("done",f)}onStart(f){this._listen("start",f)}onDestroy(f){this._listen("destroy",f)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(f){this._command("setPosition",f)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Rs(N,f,y,T,$){return N.setProperty(f,`@@${y}:${T}`,$)}const ci="@.disabled";let nc=(()=>{class N{constructor(y,T,$){this.delegate=y,this.engine=T,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(J,ge)=>{const Ie=ge?.parentNode(J);Ie&&ge.removeChild(Ie,J)}}createRenderer(y,T){const J=this.delegate.createRenderer(y,T);if(!(y&&T&&T.data&&T.data.animation)){let Kt=this._rendererCache.get(J);return Kt||(Kt=new $s("",J,this.engine),this._rendererCache.set(J,Kt)),Kt}const ge=T.id,Ie=T.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,y);const He=Kt=>{Array.isArray(Kt)?Kt.forEach(He):this.engine.registerTrigger(ge,Ie,y,Kt.name,Kt)};return T.data.animation.forEach(He),new M(this,Ie,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,T,$){y>=0&&y<this._microtaskId?this._zone.run(()=>T($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[ge,Ie]=J;ge(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return N.\u0275fac=function(y){return new(y||N)(v.LFG(v.FYo),v.LFG(xr),v.LFG(v.R0b))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac}),N})();class $s{constructor(f,y,T){this.namespaceId=f,this.delegate=y,this.engine=T,this.destroyNode=this.delegate.destroyNode?$=>y.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(f,y){return this.delegate.createElement(f,y)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,y){this.delegate.appendChild(f,y),this.engine.onInsert(this.namespaceId,y,f,!1)}insertBefore(f,y,T,$=!0){this.delegate.insertBefore(f,y,T),this.engine.onInsert(this.namespaceId,y,f,$)}removeChild(f,y,T){this.engine.onRemove(this.namespaceId,y,this.delegate,T)}selectRootElement(f,y){return this.delegate.selectRootElement(f,y)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,y,T,$){this.delegate.setAttribute(f,y,T,$)}removeAttribute(f,y,T){this.delegate.removeAttribute(f,y,T)}addClass(f,y){this.delegate.addClass(f,y)}removeClass(f,y){this.delegate.removeClass(f,y)}setStyle(f,y,T,$){this.delegate.setStyle(f,y,T,$)}removeStyle(f,y,T){this.delegate.removeStyle(f,y,T)}setProperty(f,y,T){"@"==y.charAt(0)&&y==ci?this.disableAnimations(f,!!T):this.delegate.setProperty(f,y,T)}setValue(f,y){this.delegate.setValue(f,y)}listen(f,y,T){return this.delegate.listen(f,y,T)}disableAnimations(f,y){this.engine.disableAnimations(f,y)}}class M extends $s{constructor(f,y,T,$){super(y,T,$),this.factory=f,this.namespaceId=y}setProperty(f,y,T){"@"==y.charAt(0)?"."==y.charAt(1)&&y==ci?this.disableAnimations(f,T=void 0===T||!!T):this.engine.process(this.namespaceId,f,y.slice(1),T):this.delegate.setProperty(f,y,T)}listen(f,y,T){if("@"==y.charAt(0)){const $=function F(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(f);let J=y.slice(1),ge="";return"@"!=J.charAt(0)&&([J,ge]=function W(N){const f=N.indexOf(".");return[N.substring(0,f),N.slice(f+1)]}(J)),this.engine.listen(this.namespaceId,$,J,ge,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,T,Ie)})}return this.delegate.listen(f,y,T)}}const _t=[{provide:ps,useClass:Ar},{provide:ha,useFactory:function Fe(){return new Qa}},{provide:xr,useClass:(()=>{class N extends xr{constructor(y,T,$){super(y.body,T,$)}ngOnDestroy(){this.flush()}}return N.\u0275fac=function(y){return new(y||N)(v.LFG(Tt.K0),v.LFG(br),v.LFG(ha))},N.\u0275prov=v.Yz7({token:N,factory:N.\u0275fac}),N})()},{provide:v.FYo,useFactory:function rt(N,f,y){return new nc(N,f,y)},deps:[m.se,xr,v.R0b]}],Bt=[{provide:br,useFactory:()=>new Ci},{provide:v.QbO,useValue:"BrowserAnimations"},..._t],wn=[{provide:br,useClass:Zt},{provide:v.QbO,useValue:"NoopAnimations"},..._t];let cn=(()=>{class N{static withConfig(y){return{ngModule:N,providers:y.disableAnimations?wn:Bt}}}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=v.oAB({type:N}),N.\u0275inj=v.cJS({providers:Bt,imports:[m.b2]}),N})();var En=j(2340),ni=j(2011),Zr=j(9541);let Wo=(()=>{class N{}return N.\u0275fac=function(y){return new(y||N)},N.\u0275mod=v.oAB({type:N,bootstrap:[Ni]}),N.\u0275inj=v.cJS({providers:[it],imports:[m.b2,ut,cn,ni.hO.initializeApp(En.N.firebaseConfig),(0,de.hX)(()=>(0,de.ZF)(En.N.firebaseConfig)),$e(()=>(0,ht.n)()),Zr.yb,H.UX,H.u5,De.XF]}),N})();En.N.production&&(0,v.G48)(),m.q6().bootstrapModule(Wo).catch(N=>console.error(N))},5867:(Gt,ze,j)=>{j.d(ze,{C6:()=>m.getApps,KN:()=>m.registerVersion,Mq:()=>m.getApp,ZF:()=>m.initializeApp});var m=j(9681);(0,m.registerVersion)("firebase","9.8.4","app")},127:(Gt,ze,j)=>{j.d(ze,{Z:()=>m.Z});var m=j(3942);m.Z.registerVersion("firebase","9.8.4","app-compat")},5881:(Gt,ze,j)=>{j.r(ze);var m=j(5861),v=j(3942),H=j(3673),he=j(2090),ke=(j(9681),j(1877),j(4859));function Pe(){return window}function ne(){return(ne=(0,m.Z)(function*(Ue,fe,pe){var it;const{BuildInfo:Tt}=Pe();(0,H.aq)(fe.sessionId,"AuthEvent did not contain a session ID");const Jt=yield We(fe.sessionId),ct={};return(0,H.ar)()?ct.ibi=Tt.packageName:(0,H.as)()?ct.apn=Tt.packageName:(0,H.at)(Ue,"operation-not-supported-in-this-environment"),Tt.displayName&&(ct.appDisplayName=Tt.displayName),ct.sessionId=Jt,(0,H.au)(Ue,pe,fe.type,void 0,null!==(it=fe.eventId)&&void 0!==it?it:void 0,ct)})).apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(Ue){const{BuildInfo:fe}=Pe(),pe={};(0,H.ar)()?pe.iosBundleId=fe.packageName:(0,H.as)()?pe.androidPackageName=fe.packageName:(0,H.at)(Ue,"operation-not-supported-in-this-environment"),yield(0,H.av)(Ue,pe)})).apply(this,arguments)}function Ft(){return(Ft=(0,m.Z)(function*(Ue,fe,pe){const{cordova:it}=Pe();let Tt=()=>{};try{yield new Promise((Jt,ct)=>{let gt=null;function Te(){var Me;Jt();const dt=null===(Me=it.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof dt&&dt(),"function"==typeof pe?.close&&pe.close()}function me(){gt||(gt=window.setTimeout(()=>{ct((0,H.aw)(Ue,"redirect-cancelled-by-user"))},2e3))}function se(){"visible"===document?.visibilityState&&me()}fe.addPassiveListener(Te),document.addEventListener("resume",me,!1),(0,H.as)()&&document.addEventListener("visibilitychange",se,!1),Tt=()=>{fe.removePassiveListener(Te),document.removeEventListener("resume",me,!1),document.removeEventListener("visibilitychange",se,!1),gt&&window.clearTimeout(gt)}})}finally{Tt()}})).apply(this,arguments)}function We(Ue){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(Ue){const fe=Lt(Ue),pe=yield crypto.subtle.digest("SHA-256",fe);return Array.from(new Uint8Array(pe)).map(Tt=>Tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Lt(Ue){if((0,H.aq)(/[0-9a-zA-Z]+/.test(Ue),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ue);const fe=new ArrayBuffer(Ue.length),pe=new Uint8Array(fe);for(let it=0;it<Ue.length;it++)pe[it]=Ue.charCodeAt(it);return pe}class ot extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(fe=>{this.resolveInialized=fe})}addPassiveListener(fe){this.passiveListeners.add(fe)}removePassiveListener(fe){this.passiveListeners.delete(fe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(fe){return this.resolveInialized(),this.passiveListeners.forEach(pe=>pe(fe)),super.onEvent(fe)}initialized(){var fe=this;return(0,m.Z)(function*(){yield fe.initPromise})()}}function oe(Ue){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(Ue){const fe=yield Le()._get(be(Ue));return fe&&(yield Le()._remove(be(Ue))),fe})).apply(this,arguments)}function ie(){const Ue=[],fe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let pe=0;pe<20;pe++){const it=Math.floor(Math.random()*fe.length);Ue.push(fe.charAt(it))}return Ue.join("")}function Le(){return(0,H.ay)(H.b)}function be(Ue){return(0,H.az)("authEvent",Ue.config.apiKey,Ue.name)}function Dt(Ue){if(!Ue?.includes("?"))return{};const[fe,...pe]=Ue.split("?");return(0,he.zd)(pe.join("?"))}function Nt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function dn(){var Ue;return(null===(Ue=self?.location)||void 0===Ue?void 0:Ue.protocol)||null}function Vn(Ue=(0,he.z$)()){return!("file:"!==dn()&&"ionic:"!==dn()&&"capacitor:"!==dn()||!Ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qr(){try{const Ue=self.localStorage,fe=H.aI();if(Ue)return Ue.setItem(fe,"1"),Ue.removeItem(fe),!function Nr(Ue=(0,he.z$)()){return function _r(){return(0,he.w1)()&&11===document?.documentMode}()||function Ir(Ue=(0,he.z$)()){return/Edge\/\d+/.test(Ue)}(Ue)}()||(0,he.hl)()}catch{return Dr()&&(0,he.hl)()}return!1}function Dr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vr(){return(function kn(){return"http:"===dn()||"https:"===dn()}()||(0,he.ru)()||Vn())&&!function ar(){return(0,he.b$)()||(0,he.UG)()}()&&Qr()&&!Dr()}function ur(){return Vn()&&typeof document<"u"}function nr(){return(nr=(0,m.Z)(function*(){return!!ur()&&new Promise(Ue=>{const fe=setTimeout(()=>{Ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(fe),Ue(!0)})})})).apply(this,arguments)}const Dn={LOCAL:"local",NONE:"none",SESSION:"session"},Gr=H.ax,Jr="persistence";function Er(Ue){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(Ue){yield Ue._initializationPromise;const fe=xn(),pe=H.az(Jr,Ue.config.apiKey,Ue.name);fe&&fe.setItem(pe,Ue._getPersistence())})).apply(this,arguments)}function xn(){var Ue;try{return(null===(Ue=function Cn(){return typeof window<"u"?window:null}())||void 0===Ue?void 0:Ue.sessionStorage)||null}catch{return null}}const Ot=H.ax;class qt{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class nn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(fe){var pe=this;return(0,m.Z)(function*(){const it=fe._key();let Tt=pe.eventManagers.get(it);return Tt||(Tt=new ot(fe),pe.eventManagers.set(it,Tt),pe.attachCallbackListeners(fe,Tt)),Tt})()}_openPopup(fe){(0,H.at)(fe,"operation-not-supported-in-this-environment")}_openRedirect(fe,pe,it,Tt){var Jt=this;return(0,m.Z)(function*(){!function nt(Ue){var fe,pe,it,Tt,Jt,ct,gt,Te,me,se;const Me=Pe();(0,H.ax)("function"==typeof(null===(fe=Me?.universalLinks)||void 0===fe?void 0:fe.subscribe),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(pe=Me?.BuildInfo)||void 0===pe?void 0:pe.packageName)<"u",Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(Jt=null===(Tt=null===(it=Me?.cordova)||void 0===it?void 0:it.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Jt?void 0:Jt.openUrl),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Te=null===(gt=null===(ct=Me?.cordova)||void 0===ct?void 0:ct.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===Te?void 0:Te.isAvailable),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(se=null===(me=Me?.cordova)||void 0===me?void 0:me.InAppBrowser)||void 0===se?void 0:se.open),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(fe);const ct=yield Jt._initialize(fe);yield ct.initialized(),ct.resetRedirect(),(0,H.aD)(),yield Jt._originValidation(fe);const gt=function Xe(Ue,fe,pe=null){return{type:fe,eventId:pe,urlResponse:null,sessionId:ie(),postBody:null,tenantId:Ue.tenantId,error:(0,H.aw)(Ue,"no-auth-event")}}(fe,it,Tt);yield function Et(Ue,fe){return Le()._set(be(Ue),fe)}(fe,gt);const Te=yield function de(Ue,fe,pe){return ne.apply(this,arguments)}(fe,gt,pe),me=yield function Qe(Ue){const{cordova:fe}=Pe();return new Promise(pe=>{fe.plugins.browsertab.isAvailable(it=>{let Tt=null;it?fe.plugins.browsertab.openUrl(Ue):Tt=fe.InAppBrowser.open(Ue,(0,H.ap)()?"_blank":"_system","location=yes"),pe(Tt)})})}(Te);return function Je(Ue,fe,pe){return Ft.apply(this,arguments)}(fe,ct,me)})()}_isIframeWebStorageSupported(fe,pe){throw new Error("Method not implemented.")}_originValidation(fe){const pe=fe._key();return this.originValidationPromises[pe]||(this.originValidationPromises[pe]=function ye(Ue){return ht.apply(this,arguments)}(fe)),this.originValidationPromises[pe]}attachCallbackListeners(fe,pe){const{universalLinks:it,handleOpenURL:Tt,BuildInfo:Jt}=Pe(),ct=setTimeout((0,m.Z)(function*(){yield oe(fe),pe.onEvent(Nt())}),500),gt=function(){var se=(0,m.Z)(function*(Me){clearTimeout(ct);const dt=yield oe(fe);let Ut=null;dt&&Me?.url&&(Ut=function st(Ue,fe){var pe,it;const Tt=function $e(Ue){const fe=Dt(Ue),pe=fe.link?decodeURIComponent(fe.link):void 0,it=Dt(pe).link,Tt=fe.deep_link_id?decodeURIComponent(fe.deep_link_id):void 0;return Dt(Tt).link||Tt||it||pe||Ue}(fe);if(Tt.includes("/__/auth/callback")){const Jt=Dt(Tt),ct=Jt.firebaseError?function Ze(Ue){try{return JSON.parse(Ue)}catch{return null}}(decodeURIComponent(Jt.firebaseError)):null,gt=null===(it=null===(pe=ct?.code)||void 0===pe?void 0:pe.split("auth/"))||void 0===it?void 0:it[1],Te=gt?(0,H.aw)(gt):null;return Te?{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,sessionId:Ue.sessionId,urlResponse:Tt,postBody:null}}return null}(dt,Me.url)),pe.onEvent(Ut||Nt())});return function(dt){return se.apply(this,arguments)}}();typeof it<"u"&&"function"==typeof it.subscribe&&it.subscribe(null,gt);const Te=Tt,me=`${Jt.packageName.toLowerCase()}://`;Pe().handleOpenURL=function(){var se=(0,m.Z)(function*(Me){if(Me.toLowerCase().startsWith(me)&&gt({url:Me}),"function"==typeof Te)try{Te(Me)}catch(dt){console.error(dt)}});return function(Me){return se.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(fe){var pe=this;return(0,m.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._initialize(fe)})()}_openPopup(fe,pe,it,Tt){var Jt=this;return(0,m.Z)(function*(){return yield Jt.selectUnderlyingResolver(),Jt.assertedUnderlyingResolver._openPopup(fe,pe,it,Tt)})()}_openRedirect(fe,pe,it,Tt){var Jt=this;return(0,m.Z)(function*(){return yield Jt.selectUnderlyingResolver(),Jt.assertedUnderlyingResolver._openRedirect(fe,pe,it,Tt)})()}_isIframeWebStorageSupported(fe,pe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(fe,pe)}_originValidation(fe){return this.assertedUnderlyingResolver._originValidation(fe)}get _shouldInitProactively(){return ur()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var fe=this;return(0,m.Z)(function*(){if(fe.underlyingResolver)return;const pe=yield function Qt(){return nr.apply(this,arguments)}();fe.underlyingResolver=pe?fe.cordovaResolver:fe.browserResolver})()}}function hn(Ue){return Ue.unwrap()}function on(Ue){return gr(Ue)}function gr(Ue){const{_tokenResponse:fe}=Ue instanceof he.ZR?Ue.customData:Ue;if(!fe)return null;if(!(Ue instanceof he.ZR)&&"temporaryProof"in fe&&"phoneNumber"in fe)return H.P.credentialFromResult(Ue);const pe=fe.providerId;if(!pe||pe===H.o.PASSWORD)return null;let it;switch(pe){case H.o.GOOGLE:it=H.Q;break;case H.o.FACEBOOK:it=H.N;break;case H.o.GITHUB:it=H.T;break;case H.o.TWITTER:it=H.W;break;default:const{oauthIdToken:Tt,oauthAccessToken:Jt,oauthTokenSecret:ct,pendingToken:gt,nonce:Te}=fe;return Jt||ct||Tt||gt?gt?pe.startsWith("saml.")?H.aL._create(pe,gt):H.J._fromParams({providerId:pe,signInMethod:pe,pendingToken:gt,idToken:Tt,accessToken:Jt}):new H.U(pe).credential({idToken:Tt,accessToken:Jt,rawNonce:Te}):null}return Ue instanceof he.ZR?it.credentialFromError(Ue):it.credentialFromResult(Ue)}function lr(Ue,fe){return fe.catch(pe=>{throw pe instanceof he.ZR&&function Wr(Ue,fe){var pe,it;const Tt=null===(pe=fe.customData)||void 0===pe?void 0:pe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(it=fe)||void 0===it?void 0:it.code))fe.resolver=new le(Ue,H.an(Ue,fe));else if(Tt){const Jt=gr(fe),ct=fe;Jt&&(ct.credential=Jt,ct.tenantId=Tt.tenantId||void 0,ct.email=Tt.email||void 0,ct.phoneNumber=Tt.phoneNumber||void 0)}}(Ue,pe),pe}).then(pe=>{const Tt=pe.user;return{operationType:pe.operationType,credential:on(pe),additionalUserInfo:H.al(pe),user:Oe.getOrCreate(Tt)}})}function Kn(Ue,fe){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,m.Z)(function*(Ue,fe){const pe=yield fe;return{verificationId:pe.verificationId,confirm:it=>lr(Ue,pe.confirm(it))}})).apply(this,arguments)}class le{constructor(fe,pe){this.resolver=pe,this.auth=function zr(Ue){return Ue.wrapped()}(fe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(fe){return lr(hn(this.auth),this.resolver.resolveSignIn(fe))}}class Oe{constructor(fe){this._delegate=fe,this.multiFactor=H.ao(fe)}static getOrCreate(fe){return Oe.USER_MAP.has(fe)||Oe.USER_MAP.set(fe,new Oe(fe)),Oe.USER_MAP.get(fe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(fe){return this._delegate.getIdTokenResult(fe)}getIdToken(fe){return this._delegate.getIdToken(fe)}linkAndRetrieveDataWithCredential(fe){return this.linkWithCredential(fe)}linkWithCredential(fe){var pe=this;return(0,m.Z)(function*(){return lr(pe.auth,H.Z(pe._delegate,fe))})()}linkWithPhoneNumber(fe,pe){var it=this;return(0,m.Z)(function*(){return Kn(it.auth,H.l(it._delegate,fe,pe))})()}linkWithPopup(fe){var pe=this;return(0,m.Z)(function*(){return lr(pe.auth,H.d(pe._delegate,fe,qt))})()}linkWithRedirect(fe){var pe=this;return(0,m.Z)(function*(){return yield Er(H.aE(pe.auth)),H.g(pe._delegate,fe,qt)})()}reauthenticateAndRetrieveDataWithCredential(fe){return this.reauthenticateWithCredential(fe)}reauthenticateWithCredential(fe){var pe=this;return(0,m.Z)(function*(){return lr(pe.auth,H._(pe._delegate,fe))})()}reauthenticateWithPhoneNumber(fe,pe){return Kn(this.auth,H.r(this._delegate,fe,pe))}reauthenticateWithPopup(fe){return lr(this.auth,H.e(this._delegate,fe,qt))}reauthenticateWithRedirect(fe){var pe=this;return(0,m.Z)(function*(){return yield Er(H.aE(pe.auth)),H.h(pe._delegate,fe,qt)})()}sendEmailVerification(fe){return H.ab(this._delegate,fe)}unlink(fe){var pe=this;return(0,m.Z)(function*(){return yield H.ak(pe._delegate,fe),pe})()}updateEmail(fe){return H.ag(this._delegate,fe)}updatePassword(fe){return H.ah(this._delegate,fe)}updatePhoneNumber(fe){return H.u(this._delegate,fe)}updateProfile(fe){return H.af(this._delegate,fe)}verifyBeforeUpdateEmail(fe,pe){return H.ac(this._delegate,fe,pe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oe.USER_MAP=new WeakMap;const Re=H.ax;let ae=(()=>{class Ue{constructor(pe,it){if(this.app=pe,it.isInitialized())return this._delegate=it.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Tt}=pe.options;Re(Tt,"invalid-api-key",{appName:pe.name}),Re(Tt,"invalid-api-key",{appName:pe.name});const Jt=typeof window<"u"?qt:void 0;this._delegate=it.initialize({options:{persistence:vt(Tt,pe.name),popupRedirectResolver:Jt}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(pe){this._delegate.languageCode=pe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(pe){this._delegate.tenantId=pe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(pe,it){H.G(this._delegate,pe,it)}applyActionCode(pe){return H.a2(this._delegate,pe)}checkActionCode(pe){return H.a3(this._delegate,pe)}confirmPasswordReset(pe,it){return H.a1(this._delegate,pe,it)}createUserWithEmailAndPassword(pe,it){var Tt=this;return(0,m.Z)(function*(){return lr(Tt._delegate,H.a5(Tt._delegate,pe,it))})()}fetchProvidersForEmail(pe){return this.fetchSignInMethodsForEmail(pe)}fetchSignInMethodsForEmail(pe){return H.aa(this._delegate,pe)}isSignInWithEmailLink(pe){return H.a8(this._delegate,pe)}getRedirectResult(){var pe=this;return(0,m.Z)(function*(){Re(vr(),pe._delegate,"operation-not-supported-in-this-environment");const it=yield H.j(pe._delegate,qt);return it?lr(pe._delegate,Promise.resolve(it)):{credential:null,user:null}})()}addFrameworkForLogging(pe){!function Hn(Ue,fe){(0,H.aE)(Ue)._logFramework(fe)}(this._delegate,pe)}onAuthStateChanged(pe,it,Tt){const{next:Jt,error:ct,complete:gt}=at(pe,it,Tt);return this._delegate.onAuthStateChanged(Jt,ct,gt)}onIdTokenChanged(pe,it,Tt){const{next:Jt,error:ct,complete:gt}=at(pe,it,Tt);return this._delegate.onIdTokenChanged(Jt,ct,gt)}sendSignInLinkToEmail(pe,it){return H.a7(this._delegate,pe,it)}sendPasswordResetEmail(pe,it){return H.a0(this._delegate,pe,it||void 0)}setPersistence(pe){var it=this;return(0,m.Z)(function*(){let Tt;switch(function _i(Ue,fe){Gr(Object.values(Dn).includes(fe),Ue,"invalid-persistence-type"),(0,he.b$)()?Gr(fe!==Dn.SESSION,Ue,"unsupported-persistence-type"):(0,he.UG)()?Gr(fe===Dn.NONE,Ue,"unsupported-persistence-type"):Dr()?Gr(fe===Dn.NONE||fe===Dn.LOCAL&&(0,he.hl)(),Ue,"unsupported-persistence-type"):Gr(fe===Dn.NONE||Qr(),Ue,"unsupported-persistence-type")}(it._delegate,pe),pe){case Dn.SESSION:Tt=H.a;break;case Dn.LOCAL:Tt=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case Dn.NONE:Tt=H.L;break;default:return H.at("argument-error",{appName:it._delegate.name})}return it._delegate.setPersistence(Tt)})()}signInAndRetrieveDataWithCredential(pe){return this.signInWithCredential(pe)}signInAnonymously(){return lr(this._delegate,H.X(this._delegate))}signInWithCredential(pe){return lr(this._delegate,H.Y(this._delegate,pe))}signInWithCustomToken(pe){return lr(this._delegate,H.$(this._delegate,pe))}signInWithEmailAndPassword(pe,it){return lr(this._delegate,H.a6(this._delegate,pe,it))}signInWithEmailLink(pe,it){return lr(this._delegate,H.a9(this._delegate,pe,it))}signInWithPhoneNumber(pe,it){return Kn(this._delegate,H.s(this._delegate,pe,it))}signInWithPopup(pe){var it=this;return(0,m.Z)(function*(){return Re(vr(),it._delegate,"operation-not-supported-in-this-environment"),lr(it._delegate,H.c(it._delegate,pe,qt))})()}signInWithRedirect(pe){var it=this;return(0,m.Z)(function*(){return Re(vr(),it._delegate,"operation-not-supported-in-this-environment"),yield Er(it._delegate),H.f(it._delegate,pe,qt)})()}updateCurrentUser(pe){return this._delegate.updateCurrentUser(pe)}verifyPasswordResetCode(pe){return H.a4(this._delegate,pe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ue.Persistence=Dn,Ue})();function at(Ue,fe,pe){let it=Ue;"function"!=typeof Ue&&({next:it,error:fe,complete:pe}=Ue);const Tt=it;return{next:ct=>Tt(ct&&Oe.getOrCreate(ct)),error:fe,complete:pe}}function vt(Ue,fe){const pe=function vi(Ue,fe){const pe=xn();if(!pe)return[];const it=H.az(Jr,Ue,fe);switch(pe.getItem(it)){case Dn.NONE:return[H.L];case Dn.LOCAL:return[H.i,H.a];case Dn.SESSION:return[H.a];default:return[]}}(Ue,fe);if(typeof self<"u"&&!pe.includes(H.i)&&pe.push(H.i),typeof window<"u")for(const it of[H.b,H.a])pe.includes(it)||pe.push(it);return pe.includes(H.L)||pe.push(H.L),pe}class Mt{constructor(){this.providerId="phone",this._delegate=new H.P(hn(v.Z.auth()))}static credential(fe,pe){return H.P.credential(fe,pe)}verifyPhoneNumber(fe,pe){return this._delegate.verifyPhoneNumber(fe,pe)}unwrap(){return this._delegate}}Mt.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Mt.PROVIDER_ID=H.P.PROVIDER_ID;const mn=H.ax;class Fn{constructor(fe,pe,it=v.Z.app()){var Tt;mn(null===(Tt=it.options)||void 0===Tt?void 0:Tt.apiKey,"invalid-api-key",{appName:it.name}),this._delegate=new H.R(fe,pe,it.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Nn(Ue){Ue.INTERNAL.registerComponent(new ke.wA("auth-compat",fe=>{const pe=fe.getProvider("app-compat").getImmediate(),it=fe.getProvider("auth");return new ae(pe,it)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:Mt,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:Fn,TwitterAuthProvider:H.W,Auth:ae,AuthCredential:H.H,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ue.registerVersion("@firebase/auth-compat","0.2.17")}(v.Z)},9751:(Gt,ze,j)=>{j.d(ze,{y:()=>Pe});var m=j(2961),v=j(727),H=j(8822),he=j(9635),Ee=j(2416),De=j(576),ke=j(2806);let Pe=(()=>{class ye{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Je=new ye;return Je.source=this,Je.operator=Qe,Je}subscribe(Qe,Je,Ft){const nt=function ne(ye){return ye&&ye instanceof m.Lv||function de(ye){return ye&&(0,De.m)(ye.next)&&(0,De.m)(ye.error)&&(0,De.m)(ye.complete)}(ye)&&(0,v.Nn)(ye)}(Qe)?Qe:new m.Hp(Qe,Je,Ft);return(0,ke.x)(()=>{const{operator:We,source:jt}=this;nt.add(We?We.call(nt,jt):jt?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Je){Qe.error(Je)}}forEach(Qe,Je){return new(Je=xe(Je))((Ft,nt)=>{const We=new m.Hp({next:jt=>{try{Qe(jt)}catch(Lt){nt(Lt),We.unsubscribe()}},error:nt,complete:Ft});this.subscribe(We)})}_subscribe(Qe){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Qe)}[H.L](){return this}pipe(...Qe){return(0,he.U)(Qe)(this)}toPromise(Qe){return new(Qe=xe(Qe))((Je,Ft)=>{let nt;this.subscribe(We=>nt=We,We=>Ft(We),()=>Je(nt))})}}return ye.create=ht=>new ye(ht),ye})();function xe(ye){var ht;return null!==(ht=ye??Ee.v.Promise)&&void 0!==ht?ht:Promise}},7579:(Gt,ze,j)=>{j.d(ze,{x:()=>ke});var m=j(9751),v=j(727);const he=(0,j(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=j(8737),De=j(2806);let ke=(()=>{class xe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ye=new Pe(this,this);return ye.operator=ne,ye}_throwIfClosed(){if(this.closed)throw new he}next(ne){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ne)}})}error(ne){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ne)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ye,isStopped:ht,observers:Qe}=this;return ye||ht?v.Lc:(this.currentObservers=null,Qe.push(ne),new v.w0(()=>{this.currentObservers=null,(0,Ee.P)(Qe,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ye,thrownError:ht,isStopped:Qe}=this;ye?ne.error(ht):Qe&&ne.complete()}asObservable(){const ne=new m.y;return ne.source=this,ne}}return xe.create=(de,ne)=>new Pe(de,ne),xe})();class Pe extends ke{constructor(de,ne){super(),this.destination=de,this.source=ne}next(de){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ye||ye.call(ne,de)}error(de){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ye||ye.call(ne,de)}complete(){var de,ne;null===(ne=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ne||ne.call(de)}_subscribe(de){var ne,ye;return null!==(ye=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(de))&&void 0!==ye?ye:v.Lc}}},2961:(Gt,ze,j)=>{j.d(ze,{Hp:()=>Ft,Lv:()=>ye});var m=j(576),v=j(727),H=j(2416),he=j(7849);function Ee(){}const De=xe("C",void 0,void 0);function xe(ce,ot,Xe){return{kind:ce,value:ot,error:Xe}}var de=j(3410),ne=j(2806);class ye extends v.w0{constructor(ot){super(),this.isStopped=!1,ot?(this.destination=ot,(0,v.Nn)(ot)&&ot.add(this)):this.destination=Lt}static create(ot,Xe,Et){return new Ft(ot,Xe,Et)}next(ot){this.isStopped?jt(function Pe(ce){return xe("N",ce,void 0)}(ot),this):this._next(ot)}error(ot){this.isStopped?jt(function ke(ce){return xe("E",void 0,ce)}(ot),this):(this.isStopped=!0,this._error(ot))}complete(){this.isStopped?jt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ot){this.destination.next(ot)}_error(ot){try{this.destination.error(ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function Qe(ce,ot){return ht.call(ce,ot)}class Je{constructor(ot){this.partialObserver=ot}next(ot){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(ot)}catch(Et){nt(Et)}}error(ot){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(ot)}catch(Et){nt(Et)}else nt(ot)}complete(){const{partialObserver:ot}=this;if(ot.complete)try{ot.complete()}catch(Xe){nt(Xe)}}}class Ft extends ye{constructor(ot,Xe,Et){let oe;if(super(),(0,m.m)(ot)||!ot)oe={next:ot??void 0,error:Xe??void 0,complete:Et??void 0};else{let qe;this&&H.v.useDeprecatedNextContext?(qe=Object.create(ot),qe.unsubscribe=()=>this.unsubscribe(),oe={next:ot.next&&Qe(ot.next,qe),error:ot.error&&Qe(ot.error,qe),complete:ot.complete&&Qe(ot.complete,qe)}):oe=ot}this.destination=new Je(oe)}}function nt(ce){H.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(ce):(0,he.h)(ce)}function jt(ce,ot){const{onStoppedNotification:Xe}=H.v;Xe&&de.z.setTimeout(()=>Xe(ce,ot))}const Lt={closed:!0,next:Ee,error:function We(ce){throw ce},complete:Ee}},727:(Gt,ze,j)=>{j.d(ze,{Lc:()=>De,w0:()=>Ee,Nn:()=>ke});var m=j(576);const H=(0,j(3888).d)(xe=>function(ne){xe(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ye,ht)=>`${ht+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var he=j(8737);class Ee{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Qe of ne)Qe.remove(this);else ne.remove(this);const{initialTeardown:ye}=this;if((0,m.m)(ye))try{ye()}catch(Qe){de=Qe instanceof H?Qe.errors:[Qe]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const Qe of ht)try{Pe(Qe)}catch(Je){de=de??[],Je instanceof H?de=[...de,...Je.errors]:de.push(Je)}}if(de)throw new H(de)}}add(de){var ne;if(de&&de!==this)if(this.closed)Pe(de);else{if(de instanceof Ee){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(de)}}_hasParent(de){const{_parentage:ne}=this;return ne===de||Array.isArray(ne)&&ne.includes(de)}_addParent(de){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(de),ne):ne?[ne,de]:de}_removeParent(de){const{_parentage:ne}=this;ne===de?this._parentage=null:Array.isArray(ne)&&(0,he.P)(ne,de)}remove(de){const{_finalizers:ne}=this;ne&&(0,he.P)(ne,de),de instanceof Ee&&de._removeParent(this)}}Ee.EMPTY=(()=>{const xe=new Ee;return xe.closed=!0,xe})();const De=Ee.EMPTY;function ke(xe){return xe instanceof Ee||xe&&"closed"in xe&&(0,m.m)(xe.remove)&&(0,m.m)(xe.add)&&(0,m.m)(xe.unsubscribe)}function Pe(xe){(0,m.m)(xe)?xe():xe.unsubscribe()}},2416:(Gt,ze,j)=>{j.d(ze,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Gt,ze,j)=>{j.d(ze,{z:()=>Ee});var m=j(8189),H=j(7669),he=j(8996);function Ee(...De){return function v(){return(0,m.J)(1)}()((0,he.D)(De,(0,H.yG)(De)))}},515:(Gt,ze,j)=>{j.d(ze,{E:()=>v});const v=new(j(9751).y)(Ee=>Ee.complete())},8996:(Gt,ze,j)=>{j.d(ze,{D:()=>ot});var m=j(8421),v=j(5363),H=j(9468),De=j(9751),Pe=j(2202),xe=j(576),de=j(9672);function ye(Xe,Et){if(!Xe)throw new Error("Iterable cannot be null");return new De.y(oe=>{(0,de.f)(oe,Et,()=>{const qe=Xe[Symbol.asyncIterator]();(0,de.f)(oe,Et,()=>{qe.next().then(st=>{st.done?oe.complete():oe.next(st.value)})},0,!0)})})}var ht=j(3670),Qe=j(8239),Je=j(1144),Ft=j(6495),nt=j(2206),We=j(4532),jt=j(3260);function ot(Xe,Et){return Et?function ce(Xe,Et){if(null!=Xe){if((0,ht.c)(Xe))return function he(Xe,Et){return(0,m.Xf)(Xe).pipe((0,H.R)(Et),(0,v.Q)(Et))}(Xe,Et);if((0,Je.z)(Xe))return function ke(Xe,Et){return new De.y(oe=>{let qe=0;return Et.schedule(function(){qe===Xe.length?oe.complete():(oe.next(Xe[qe++]),oe.closed||this.schedule())})})}(Xe,Et);if((0,Qe.t)(Xe))return function Ee(Xe,Et){return(0,m.Xf)(Xe).pipe((0,H.R)(Et),(0,v.Q)(Et))}(Xe,Et);if((0,nt.D)(Xe))return ye(Xe,Et);if((0,Ft.T)(Xe))return function ne(Xe,Et){return new De.y(oe=>{let qe;return(0,de.f)(oe,Et,()=>{qe=Xe[Pe.h](),(0,de.f)(oe,Et,()=>{let st,ie;try{({value:st,done:ie}=qe.next())}catch(Le){return void oe.error(Le)}ie?oe.complete():oe.next(st)},0,!0)}),()=>(0,xe.m)(qe?.return)&&qe.return()})}(Xe,Et);if((0,jt.L)(Xe))return function Lt(Xe,Et){return ye((0,jt.Q)(Xe),Et)}(Xe,Et)}throw(0,We.z)(Xe)}(Xe,Et):(0,m.Xf)(Xe)}},8421:(Gt,ze,j)=>{j.d(ze,{Xf:()=>ht});var m=j(655),v=j(1144),H=j(8239),he=j(9751),Ee=j(3670),De=j(2206),ke=j(4532),Pe=j(6495),xe=j(3260),de=j(576),ne=j(7849),ye=j(8822);function ht(ce){if(ce instanceof he.y)return ce;if(null!=ce){if((0,Ee.c)(ce))return function Qe(ce){return new he.y(ot=>{const Xe=ce[ye.L]();if((0,de.m)(Xe.subscribe))return Xe.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,v.z)(ce))return function Je(ce){return new he.y(ot=>{for(let Xe=0;Xe<ce.length&&!ot.closed;Xe++)ot.next(ce[Xe]);ot.complete()})}(ce);if((0,H.t)(ce))return function Ft(ce){return new he.y(ot=>{ce.then(Xe=>{ot.closed||(ot.next(Xe),ot.complete())},Xe=>ot.error(Xe)).then(null,ne.h)})}(ce);if((0,De.D)(ce))return We(ce);if((0,Pe.T)(ce))return function nt(ce){return new he.y(ot=>{for(const Xe of ce)if(ot.next(Xe),ot.closed)return;ot.complete()})}(ce);if((0,xe.L)(ce))return function jt(ce){return We((0,xe.Q)(ce))}(ce)}throw(0,ke.z)(ce)}function We(ce){return new he.y(ot=>{(function Lt(ce,ot){var Xe,Et,oe,qe;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,m.KL)(ce);!(Et=yield Xe.next()).done;)if(ot.next(Et.value),ot.closed)return}catch(st){oe={error:st}}finally{try{Et&&!Et.done&&(qe=Xe.return)&&(yield qe.call(Xe))}finally{if(oe)throw oe.error}}ot.complete()})})(ce,ot).catch(Xe=>ot.error(Xe))})}},6451:(Gt,ze,j)=>{j.d(ze,{T:()=>De});var m=j(8189),v=j(8421),H=j(515),he=j(7669),Ee=j(8996);function De(...ke){const Pe=(0,he.yG)(ke),xe=(0,he._6)(ke,1/0),de=ke;return de.length?1===de.length?(0,v.Xf)(de[0]):(0,m.J)(xe)((0,Ee.D)(de,Pe)):H.E}},9646:(Gt,ze,j)=>{j.d(ze,{of:()=>H});var m=j(7669),v=j(8996);function H(...he){const Ee=(0,m.yG)(he);return(0,v.D)(he,Ee)}},5403:(Gt,ze,j)=>{j.d(ze,{x:()=>v});var m=j(2961);function v(he,Ee,De,ke,Pe){return new H(he,Ee,De,ke,Pe)}class H extends m.Lv{constructor(Ee,De,ke,Pe,xe,de){super(Ee),this.onFinalize=xe,this.shouldUnsubscribe=de,this._next=De?function(ne){try{De(ne)}catch(ye){Ee.error(ye)}}:super._next,this._error=Pe?function(ne){try{Pe(ne)}catch(ye){Ee.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(ne){Ee.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4351:(Gt,ze,j)=>{j.d(ze,{b:()=>H});var m=j(5577),v=j(576);function H(he,Ee){return(0,v.m)(Ee)?(0,m.z)(he,Ee,1):(0,m.z)(he,1)}},6590:(Gt,ze,j)=>{j.d(ze,{d:()=>H});var m=j(4482),v=j(5403);function H(he){return(0,m.e)((Ee,De)=>{let ke=!1;Ee.subscribe((0,v.x)(De,Pe=>{ke=!0,De.next(Pe)},()=>{ke||De.next(he),De.complete()}))})}},9300:(Gt,ze,j)=>{j.d(ze,{h:()=>H});var m=j(4482),v=j(5403);function H(he,Ee){return(0,m.e)((De,ke)=>{let Pe=0;De.subscribe((0,v.x)(ke,xe=>he.call(Ee,xe,Pe++)&&ke.next(xe)))})}},590:(Gt,ze,j)=>{j.d(ze,{P:()=>ke});var m=j(6805),v=j(9300),H=j(5698),he=j(6590),Ee=j(8068),De=j(4671);function ke(Pe,xe){const de=arguments.length>=2;return ne=>ne.pipe(Pe?(0,v.h)((ye,ht)=>Pe(ye,ht,ne)):De.y,(0,H.q)(1),de?(0,he.d)(xe):(0,Ee.T)(()=>new m.K))}},4004:(Gt,ze,j)=>{j.d(ze,{U:()=>H});var m=j(4482),v=j(5403);function H(he,Ee){return(0,m.e)((De,ke)=>{let Pe=0;De.subscribe((0,v.x)(ke,xe=>{ke.next(he.call(Ee,xe,Pe++))}))})}},8189:(Gt,ze,j)=>{j.d(ze,{J:()=>H});var m=j(5577),v=j(4671);function H(he=1/0){return(0,m.z)(v.y,he)}},5577:(Gt,ze,j)=>{j.d(ze,{z:()=>Pe});var m=j(4004),v=j(8421),H=j(4482),he=j(9672),Ee=j(5403),ke=j(576);function Pe(xe,de,ne=1/0){return(0,ke.m)(de)?Pe((ye,ht)=>(0,m.U)((Qe,Je)=>de(ye,Qe,ht,Je))((0,v.Xf)(xe(ye,ht))),ne):("number"==typeof de&&(ne=de),(0,H.e)((ye,ht)=>function De(xe,de,ne,ye,ht,Qe,Je,Ft){const nt=[];let We=0,jt=0,Lt=!1;const ce=()=>{Lt&&!nt.length&&!We&&de.complete()},ot=Et=>We<ye?Xe(Et):nt.push(Et),Xe=Et=>{Qe&&de.next(Et),We++;let oe=!1;(0,v.Xf)(ne(Et,jt++)).subscribe((0,Ee.x)(de,qe=>{ht?.(qe),Qe?ot(qe):de.next(qe)},()=>{oe=!0},void 0,()=>{if(oe)try{for(We--;nt.length&&We<ye;){const qe=nt.shift();Je?(0,he.f)(de,Je,()=>Xe(qe)):Xe(qe)}ce()}catch(qe){de.error(qe)}}))};return xe.subscribe((0,Ee.x)(de,ot,()=>{Lt=!0,ce()})),()=>{Ft?.()}}(ye,ht,xe,ne)))}},5363:(Gt,ze,j)=>{j.d(ze,{Q:()=>he});var m=j(9672),v=j(4482),H=j(5403);function he(Ee,De=0){return(0,v.e)((ke,Pe)=>{ke.subscribe((0,H.x)(Pe,xe=>(0,m.f)(Pe,Ee,()=>Pe.next(xe),De),()=>(0,m.f)(Pe,Ee,()=>Pe.complete(),De),xe=>(0,m.f)(Pe,Ee,()=>Pe.error(xe),De)))})}},5026:(Gt,ze,j)=>{j.d(ze,{R:()=>he});var m=j(4482),v=j(5403);function H(Ee,De,ke,Pe,xe){return(de,ne)=>{let ye=ke,ht=De,Qe=0;de.subscribe((0,v.x)(ne,Je=>{const Ft=Qe++;ht=ye?Ee(ht,Je,Ft):(ye=!0,Je),Pe&&ne.next(ht)},xe&&(()=>{ye&&ne.next(ht),ne.complete()})))}}function he(Ee,De){return(0,m.e)(H(Ee,De,arguments.length>=2,!0))}},3099:(Gt,ze,j)=>{j.d(ze,{B:()=>De});var m=j(8996),v=j(5698),H=j(7579),he=j(2961),Ee=j(4482);function De(Pe={}){const{connector:xe=(()=>new H.x),resetOnError:de=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ye=!0}=Pe;return ht=>{let Qe=null,Je=null,Ft=null,nt=0,We=!1,jt=!1;const Lt=()=>{Je?.unsubscribe(),Je=null},ce=()=>{Lt(),Qe=Ft=null,We=jt=!1},ot=()=>{const Xe=Qe;ce(),Xe?.unsubscribe()};return(0,Ee.e)((Xe,Et)=>{nt++,!jt&&!We&&Lt();const oe=Ft=Ft??xe();Et.add(()=>{nt--,0===nt&&!jt&&!We&&(Je=ke(ot,ye))}),oe.subscribe(Et),Qe||(Qe=new he.Hp({next:qe=>oe.next(qe),error:qe=>{jt=!0,Lt(),Je=ke(ce,de,qe),oe.error(qe)},complete:()=>{We=!0,Lt(),Je=ke(ce,ne),oe.complete()}}),(0,m.D)(Xe).subscribe(Qe))})(ht)}}function ke(Pe,xe,...de){return!0===xe?(Pe(),null):!1===xe?null:xe(...de).pipe((0,v.q)(1)).subscribe(()=>Pe())}},8675:(Gt,ze,j)=>{j.d(ze,{O:()=>he});var m=j(7272),v=j(7669),H=j(4482);function he(...Ee){const De=(0,v.yG)(Ee);return(0,H.e)((ke,Pe)=>{(De?(0,m.z)(Ee,ke,De):(0,m.z)(Ee,ke)).subscribe(Pe)})}},9468:(Gt,ze,j)=>{j.d(ze,{R:()=>v});var m=j(4482);function v(H,he=0){return(0,m.e)((Ee,De)=>{De.add(H.schedule(()=>Ee.subscribe(De),he))})}},3900:(Gt,ze,j)=>{j.d(ze,{w:()=>he});var m=j(8421),v=j(4482),H=j(5403);function he(Ee,De){return(0,v.e)((ke,Pe)=>{let xe=null,de=0,ne=!1;const ye=()=>ne&&!xe&&Pe.complete();ke.subscribe((0,H.x)(Pe,ht=>{xe?.unsubscribe();let Qe=0;const Je=de++;(0,m.Xf)(Ee(ht,Je)).subscribe(xe=(0,H.x)(Pe,Ft=>Pe.next(De?De(ht,Ft,Je,Qe++):Ft),()=>{xe=null,ye()}))},()=>{ne=!0,ye()}))})}},5698:(Gt,ze,j)=>{j.d(ze,{q:()=>he});var m=j(515),v=j(4482),H=j(5403);function he(Ee){return Ee<=0?()=>m.E:(0,v.e)((De,ke)=>{let Pe=0;De.subscribe((0,H.x)(ke,xe=>{++Pe<=Ee&&(ke.next(xe),Ee<=Pe&&ke.complete())}))})}},8505:(Gt,ze,j)=>{j.d(ze,{b:()=>Ee});var m=j(576),v=j(4482),H=j(5403),he=j(4671);function Ee(De,ke,Pe){const xe=(0,m.m)(De)||ke||Pe?{next:De,error:ke,complete:Pe}:De;return xe?(0,v.e)((de,ne)=>{var ye;null===(ye=xe.subscribe)||void 0===ye||ye.call(xe);let ht=!0;de.subscribe((0,H.x)(ne,Qe=>{var Je;null===(Je=xe.next)||void 0===Je||Je.call(xe,Qe),ne.next(Qe)},()=>{var Qe;ht=!1,null===(Qe=xe.complete)||void 0===Qe||Qe.call(xe),ne.complete()},Qe=>{var Je;ht=!1,null===(Je=xe.error)||void 0===Je||Je.call(xe,Qe),ne.error(Qe)},()=>{var Qe,Je;ht&&(null===(Qe=xe.unsubscribe)||void 0===Qe||Qe.call(xe)),null===(Je=xe.finalize)||void 0===Je||Je.call(xe)}))}):he.y}},8068:(Gt,ze,j)=>{j.d(ze,{T:()=>he});var m=j(6805),v=j(4482),H=j(5403);function he(De=Ee){return(0,v.e)((ke,Pe)=>{let xe=!1;ke.subscribe((0,H.x)(Pe,de=>{xe=!0,Pe.next(de)},()=>xe?Pe.complete():Pe.error(De())))})}function Ee(){return new m.K}},4408:(Gt,ze,j)=>{j.d(ze,{o:()=>Ee});var m=j(727);class v extends m.w0{constructor(ke,Pe){super()}schedule(ke,Pe=0){return this}}const H={setInterval(De,ke,...Pe){const{delegate:xe}=H;return xe?.setInterval?xe.setInterval(De,ke,...Pe):setInterval(De,ke,...Pe)},clearInterval(De){const{delegate:ke}=H;return(ke?.clearInterval||clearInterval)(De)},delegate:void 0};var he=j(8737);class Ee extends v{constructor(ke,Pe){super(ke,Pe),this.scheduler=ke,this.work=Pe,this.pending=!1}schedule(ke,Pe=0){if(this.closed)return this;this.state=ke;const xe=this.id,de=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(de,xe,Pe)),this.pending=!0,this.delay=Pe,this.id=this.id||this.requestAsyncId(de,this.id,Pe),this}requestAsyncId(ke,Pe,xe=0){return H.setInterval(ke.flush.bind(ke,this),xe)}recycleAsyncId(ke,Pe,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Pe;H.clearInterval(Pe)}execute(ke,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(ke,Pe);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,Pe){let de,xe=!1;try{this.work(ke)}catch(ne){xe=!0,de=ne||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:ke,scheduler:Pe}=this,{actions:xe}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(xe,this),null!=ke&&(this.id=this.recycleAsyncId(Pe,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(Gt,ze,j)=>{j.d(ze,{v:()=>H});var m=j(6063);class v{constructor(Ee,De=v.now){this.schedulerActionCtor=Ee,this.now=De}schedule(Ee,De=0,ke){return new this.schedulerActionCtor(this,Ee).schedule(ke,De)}}v.now=m.l.now;class H extends v{constructor(Ee,De=v.now){super(Ee,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:De}=this;if(this._active)return void De.push(Ee);let ke;this._active=!0;do{if(ke=Ee.execute(Ee.state,Ee.delay))break}while(Ee=De.shift());if(this._active=!1,ke){for(;Ee=De.shift();)Ee.unsubscribe();throw ke}}}},4986:(Gt,ze,j)=>{j.d(ze,{z:()=>H});var m=j(4408);const H=new(j(7565).v)(m.o)},6063:(Gt,ze,j)=>{j.d(ze,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(Gt,ze,j)=>{j.d(ze,{z:()=>m});const m={setTimeout(v,H,...he){const{delegate:Ee}=m;return Ee?.setTimeout?Ee.setTimeout(v,H,...he):setTimeout(v,H,...he)},clearTimeout(v){const{delegate:H}=m;return(H?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(Gt,ze,j)=>{j.d(ze,{h:()=>v});const v=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Gt,ze,j)=>{j.d(ze,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Gt,ze,j)=>{j.d(ze,{K:()=>v});const v=(0,j(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Gt,ze,j)=>{j.d(ze,{_6:()=>De,jO:()=>he,yG:()=>Ee});var m=j(576);function H(ke){return ke[ke.length-1]}function he(ke){return(0,m.m)(H(ke))?ke.pop():void 0}function Ee(ke){return function v(ke){return ke&&(0,m.m)(ke.schedule)}(H(ke))?ke.pop():void 0}function De(ke,Pe){return"number"==typeof H(ke)?ke.pop():Pe}},4742:(Gt,ze,j)=>{j.d(ze,{D:()=>Ee});const{isArray:m}=Array,{getPrototypeOf:v,prototype:H,keys:he}=Object;function Ee(ke){if(1===ke.length){const Pe=ke[0];if(m(Pe))return{args:Pe,keys:null};if(function De(ke){return ke&&"object"==typeof ke&&v(ke)===H}(Pe)){const xe=he(Pe);return{args:xe.map(de=>Pe[de]),keys:xe}}}return{args:ke,keys:null}}},8737:(Gt,ze,j)=>{function m(v,H){if(v){const he=v.indexOf(H);0<=he&&v.splice(he,1)}}j.d(ze,{P:()=>m})},3888:(Gt,ze,j)=>{function m(v){const he=v(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}j.d(ze,{d:()=>m})},1810:(Gt,ze,j)=>{function m(v,H){return v.reduce((he,Ee,De)=>(he[Ee]=H[De],he),{})}j.d(ze,{n:()=>m})},2806:(Gt,ze,j)=>{j.d(ze,{O:()=>he,x:()=>H});var m=j(2416);let v=null;function H(Ee){if(m.v.useDeprecatedSynchronousErrorHandling){const De=!v;if(De&&(v={errorThrown:!1,error:null}),Ee(),De){const{errorThrown:ke,error:Pe}=v;if(v=null,ke)throw Pe}}else Ee()}function he(Ee){m.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=Ee)}},9672:(Gt,ze,j)=>{function m(v,H,he,Ee=0,De=!1){const ke=H.schedule(function(){he(),De?v.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(v.add(ke),!De)return ke}j.d(ze,{f:()=>m})},4671:(Gt,ze,j)=>{function m(v){return v}j.d(ze,{y:()=>m})},1144:(Gt,ze,j)=>{j.d(ze,{z:()=>m});const m=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Gt,ze,j)=>{j.d(ze,{D:()=>v});var m=j(576);function v(H){return Symbol.asyncIterator&&(0,m.m)(H?.[Symbol.asyncIterator])}},576:(Gt,ze,j)=>{function m(v){return"function"==typeof v}j.d(ze,{m:()=>m})},3670:(Gt,ze,j)=>{j.d(ze,{c:()=>H});var m=j(8822),v=j(576);function H(he){return(0,v.m)(he[m.L])}},6495:(Gt,ze,j)=>{j.d(ze,{T:()=>H});var m=j(2202),v=j(576);function H(he){return(0,v.m)(he?.[m.h])}},8239:(Gt,ze,j)=>{j.d(ze,{t:()=>v});var m=j(576);function v(H){return(0,m.m)(H?.then)}},3260:(Gt,ze,j)=>{j.d(ze,{L:()=>he,Q:()=>H});var m=j(655),v=j(576);function H(Ee){return(0,m.FC)(this,arguments,function*(){const ke=Ee.getReader();try{for(;;){const{value:Pe,done:xe}=yield(0,m.qq)(ke.read());if(xe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Pe)}}finally{ke.releaseLock()}})}function he(Ee){return(0,v.m)(Ee?.getReader)}},4482:(Gt,ze,j)=>{j.d(ze,{A:()=>v,e:()=>H});var m=j(576);function v(he){return(0,m.m)(he?.lift)}function H(he){return Ee=>{if(v(Ee))return Ee.lift(function(De){try{return he(De,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Gt,ze,j)=>{j.d(ze,{Z:()=>he});var m=j(4004);const{isArray:v}=Array;function he(Ee){return(0,m.U)(De=>function H(Ee,De){return v(De)?Ee(...De):Ee(De)}(Ee,De))}},9635:(Gt,ze,j)=>{j.d(ze,{U:()=>H,z:()=>v});var m=j(4671);function v(...he){return H(he)}function H(he){return 0===he.length?m.y:1===he.length?he[0]:function(De){return he.reduce((ke,Pe)=>Pe(ke),De)}}},7849:(Gt,ze,j)=>{j.d(ze,{h:()=>H});var m=j(2416),v=j(3410);function H(he){v.z.setTimeout(()=>{const{onUnhandledError:Ee}=m.v;if(!Ee)throw he;Ee(he)})}},4532:(Gt,ze,j)=>{function m(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ze,{z:()=>m})},655:(Gt,ze,j)=>{function he(ie,Le){var be={};for(var Ze in ie)Object.prototype.hasOwnProperty.call(ie,Ze)&&Le.indexOf(Ze)<0&&(be[Ze]=ie[Ze]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Ze=Object.getOwnPropertySymbols(ie);$e<Ze.length;$e++)Le.indexOf(Ze[$e])<0&&Object.prototype.propertyIsEnumerable.call(ie,Ze[$e])&&(be[Ze[$e]]=ie[Ze[$e]])}return be}function Pe(ie,Le,be,Ze){return new(be||(be=Promise))(function(Dt,sn){function nn(Hn){try{Nt(Ze.next(Hn))}catch(In){sn(In)}}function Pn(Hn){try{Nt(Ze.throw(Hn))}catch(In){sn(In)}}function Nt(Hn){Hn.done?Dt(Hn.value):function $e(Dt){return Dt instanceof be?Dt:new be(function(sn){sn(Dt)})}(Hn.value).then(nn,Pn)}Nt((Ze=Ze.apply(ie,Le||[])).next())})}function nt(ie){return this instanceof nt?(this.v=ie,this):new nt(ie)}function We(ie,Le,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ze=be.apply(ie,Le||[]),Dt=[];return $e={},sn("next"),sn("throw"),sn("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function sn(Jn){Ze[Jn]&&($e[Jn]=function(gn){return new Promise(function(dn,kn){Dt.push([Jn,gn,dn,kn])>1||nn(Jn,gn)})})}function nn(Jn,gn){try{!function Pn(Jn){Jn.value instanceof nt?Promise.resolve(Jn.value.v).then(Nt,Hn):In(Dt[0][2],Jn)}(Ze[Jn](gn))}catch(dn){In(Dt[0][3],dn)}}function Nt(Jn){nn("next",Jn)}function Hn(Jn){nn("throw",Jn)}function In(Jn,gn){Jn(gn),Dt.shift(),Dt.length&&nn(Dt[0][0],Dt[0][1])}}function Lt(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Le=ie[Symbol.asyncIterator];return Le?Le.call(ie):(ie=function ye(ie){var Le="function"==typeof Symbol&&Symbol.iterator,be=Le&&ie[Le],Ze=0;if(be)return be.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Ze>=ie.length&&(ie=void 0),{value:ie&&ie[Ze++],done:!ie}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),be={},Ze("next"),Ze("throw"),Ze("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ze(Dt){be[Dt]=ie[Dt]&&function(sn){return new Promise(function(nn,Pn){!function $e(Dt,sn,nn,Pn){Promise.resolve(Pn).then(function(Nt){Dt({value:Nt,done:nn})},sn)}(nn,Pn,(sn=ie[Dt](sn)).done,sn.value)})}}}j.d(ze,{FC:()=>We,KL:()=>Lt,_T:()=>he,mG:()=>Pe,qq:()=>nt})},6895:(Gt,ze,j)=>{j.d(ze,{Do:()=>ce,EM:()=>As,HT:()=>Ee,JF:()=>dr,K0:()=>ke,Mx:()=>Do,O5:()=>Ve,Ov:()=>Ui,PM:()=>Ts,S$:()=>nt,V_:()=>de,Ye:()=>ot,b0:()=>Lt,bD:()=>_s,ez:()=>ta,lw:()=>Pe,mk:()=>bo,mr:()=>jt,q:()=>H,sg:()=>is,w_:()=>De});var m=j(4650);let v=null;function H(){return v}function Ee(O){v||(v=O)}class De{}const ke=new m.OlP("DocumentToken");let Pe=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return function xe(){return(0,m.LFG)(ne)}()},providedIn:"platform"}),O})();const de=new m.OlP("Location Initialized");let ne=(()=>{class O extends Pe{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(k){const Q=H().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",k,!1),()=>Q.removeEventListener("popstate",k)}onHashChange(k){const Q=H().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",k,!1),()=>Q.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,Q,we){ye()?this._history.pushState(k,Q,we):this.location.hash=we}replaceState(k,Q,we){ye()?this._history.replaceState(k,Q,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(ke))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function ht(){return new ne((0,m.LFG)(ke))}()},providedIn:"platform"}),O})();function ye(){return!!window.history.pushState}function Qe(O,K){if(0==O.length)return K;if(0==K.length)return O;let k=0;return O.endsWith("/")&&k++,K.startsWith("/")&&k++,2==k?O+K.substring(1):1==k?O+K:O+"/"+K}function Je(O){const K=O.match(/#|\?|$/),k=K&&K.index||O.length;return O.slice(0,k-("/"===O[k-1]?1:0))+O.slice(k)}function Ft(O){return O&&"?"!==O[0]?"?"+O:O}let nt=(()=>{class O{historyGo(k){throw new Error("Not implemented")}}return O.\u0275fac=function(k){return new(k||O)},O.\u0275prov=m.Yz7({token:O,factory:function(){return function We(){const O=(0,m.LFG)(ke).location;return new Lt((0,m.LFG)(Pe),O&&O.origin||"")}()},providedIn:"root"}),O})();const jt=new m.OlP("appBaseHref");let Lt=(()=>{class O extends nt{constructor(k,Q){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Qe(this._baseHref,k)}path(k=!1){const Q=this._platformLocation.pathname+Ft(this._platformLocation.search),we=this._platformLocation.hash;return we&&k?`${Q}${we}`:Q}pushState(k,Q,we,Be){const yt=this.prepareExternalUrl(we+Ft(Be));this._platformLocation.pushState(k,Q,yt)}replaceState(k,Q,we,Be){const yt=this.prepareExternalUrl(we+Ft(Be));this._platformLocation.replaceState(k,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(Pe),m.LFG(jt,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})(),ce=(()=>{class O extends nt{constructor(k,Q){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(k){const Q=Qe(this._baseHref,k);return Q.length>0?"#"+Q:Q}pushState(k,Q,we,Be){let yt=this.prepareExternalUrl(we+Ft(Be));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(k,Q,yt)}replaceState(k,Q,we,Be){let yt=this.prepareExternalUrl(we+Ft(Be));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(k,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return O.\u0275fac=function(k){return new(k||O)(m.LFG(Pe),m.LFG(jt,8))},O.\u0275prov=m.Yz7({token:O,factory:O.\u0275fac}),O})(),ot=(()=>{class O{constructor(k){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Q=this._locationStrategy.getBaseHref();this._baseHref=Je(oe(Q)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Q=""){return this.path()==this.normalize(k+Ft(Q))}normalize(k){return O.stripTrailingSlash(function Et(O,K){return O&&K.startsWith(O)?K.substring(O.length):K}(this._baseHref,oe(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Q="",we=null){this._locationStrategy.pushState(we,"",k,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ft(Q)),we)}replaceState(k,Q="",we=null){this._locationStrategy.replaceState(we,"",k,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ft(Q)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Q){this._urlChangeListeners.forEach(we=>we(k,Q))}subscribe(k,Q,we){return this._subject.subscribe({next:k,error:Q,complete:we})}}return O.normalizeQueryParams=Ft,O.joinWithSlash=Qe,O.stripTrailingSlash=Je,O.\u0275fac=function(k){return new(k||O)(m.LFG(nt))},O.\u0275prov=m.Yz7({token:O,factory:function(){return function Xe(){return new ot((0,m.LFG)(nt))}()},providedIn:"root"}),O})();function oe(O){return O.replace(/\/index.html$/,"")}function Do(O,K){K=encodeURIComponent(K);for(const k of O.split(";")){const Q=k.indexOf("="),[we,Be]=-1==Q?[k,""]:[k.slice(0,Q),k.slice(Q+1)];if(we.trim()===K)return decodeURIComponent(Be)}return null}let bo=(()=>{class O{constructor(k,Q,we,Be){this._iterableDiffers=k,this._keyValueDiffers=Q,this._ngEl=we,this._renderer=Be,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),k.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),k.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),k.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(k).forEach(Q=>this._toggleClass(Q,!!k[Q])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(k).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(k,Q){(k=k.trim())&&k.split(/\s+/g).forEach(we=>{Q?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),O})();class Xi{constructor(K,k,Q,we){this.$implicit=K,this.ngForOf=k,this.index=Q,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let is=(()=>{class O{constructor(k,Q,we){this._viewContainer=k,this._template=Q,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Q=this._viewContainer;k.forEachOperation((we,Be,yt)=>{if(null==we.previousIndex)Q.createEmbeddedView(this._template,new Xi(we.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)Q.remove(null===Be?void 0:Be);else if(null!==Be){const kt=Q.get(Be);Q.move(kt,yt),Ne(kt,we)}});for(let we=0,Be=Q.length;we<Be;we++){const kt=Q.get(we).context;kt.index=we,kt.count=Be,kt.ngForOf=this._ngForOf}k.forEachIdentityChange(we=>{Ne(Q.get(we.currentIndex),we)})}static ngTemplateContextGuard(k,Q){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function Ne(O,K){O.context.$implicit=K.item}let Ve=(()=>{class O{constructor(k,Q){this._viewContainer=k,this._context=new ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){wt("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){wt("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Q){return!0}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.s_b),m.Y36(m.Rgc))},O.\u0275dir=m.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class ut{constructor(){this.$implicit=null,this.ngIf=null}}function wt(O,K){if(K&&!K.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,m.AaK)(K)}'.`)}class Vo{createSubscription(K,k){return K.subscribe({next:k,error:Q=>{throw Q}})}dispose(K){K.unsubscribe()}}class Ai{createSubscription(K,k){return K.then(k,Q=>{throw Q})}dispose(K){}}const Co=new Ai,ea=new Vo;let Ui=(()=>{class O{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,Q=>this._updateLatestValue(k,Q))}_selectStrategy(k){if((0,m.QGY)(k))return Co;if((0,m.F4k)(k))return ea;throw function Oi(O,K){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,Q){k===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}}return O.\u0275fac=function(k){return new(k||O)(m.Y36(m.sBO,16))},O.\u0275pipe=m.Yjl({name:"async",type:O,pure:!1}),O})(),ta=(()=>{class O{}return O.\u0275fac=function(k){return new(k||O)},O.\u0275mod=m.oAB({type:O}),O.\u0275inj=m.cJS({}),O})();const _s="browser";function Ts(O){return"server"===O}let As=(()=>{class O{}return O.\u0275prov=(0,m.Yz7)({token:O,providedIn:"root",factory:()=>new jo((0,m.LFG)(ke),window)}),O})();class jo{constructor(K,k){this.document=K,this.window=k,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const k=function Or(O,K){const k=O.getElementById(K)||O.getElementsByName(K)[0];if(k)return k;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const Q=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let we=Q.currentNode;for(;we;){const Be=we.shadowRoot;if(Be){const yt=Be.getElementById(K)||Be.querySelector(`[name="${K}"]`);if(yt)return yt}we=Q.nextNode()}}return null}(this.document,K);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=K)}}scrollToElement(K){const k=K.getBoundingClientRect(),Q=k.left+this.window.pageXOffset,we=k.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(Q-Be[0],we-Be[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Wn(this.window.history)||Wn(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wn(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class dr{}},4650:(Gt,ze,j)=>{j.d(ze,{$8M:()=>Y,$Z:()=>hh,AFp:()=>zE,ALo:()=>dE,AaK:()=>Pe,BQk:()=>Nc,CHM:()=>na,CRH:()=>wE,CZH:()=>$y,CqO:()=>Wp,D6c:()=>eb,EJc:()=>gD,EpF:()=>Gp,F$t:()=>Sd,F4k:()=>zp,FYo:()=>eE,FiY:()=>T,G48:()=>FD,GfV:()=>tE,Gpc:()=>ne,Hsn:()=>Sl,JOm:()=>pu,KtG:()=>Ms,LFG:()=>cn,LSH:()=>ml,Lbi:()=>dD,MAs:()=>Km,MMx:()=>Vv,NdJ:()=>Cd,OlP:()=>_n,Oqu:()=>Kh,PXZ:()=>MD,Q6J:()=>il,QGY:()=>sl,QP$:()=>uf,QbO:()=>hD,Qsj:()=>rI,R0b:()=>Du,RDi:()=>Xs,Rgc:()=>pg,SBq:()=>cg,Sil:()=>yD,Suo:()=>EE,TTD:()=>ss,TgZ:()=>bd,W1O:()=>CE,X6Q:()=>kD,XFs:()=>Qt,Xpm:()=>Re,Y36:()=>$l,YKP:()=>J0,YNc:()=>$p,Yjl:()=>Ue,Yz7:()=>gn,ZZ4:()=>u0,_Bn:()=>Y0,_UZ:()=>Hp,_Vd:()=>lg,_c5:()=>JD,_uU:()=>vv,aQg:()=>l0,c2e:()=>fD,cJS:()=>kn,cg1:()=>Xh,dDg:()=>CD,deG:()=>$t,dqk:()=>Ot,eFA:()=>rw,ekj:()=>Qp,eoX:()=>XE,g9A:()=>qE,h0i:()=>kd,hGG:()=>XD,hM9:()=>hI,hij:()=>Zh,iGM:()=>vE,ifc:()=>xn,ip1:()=>GE,kL8:()=>Cy,l5B:()=>sE,lG2:()=>Nn,lcZ:()=>hE,lqb:()=>ku,lri:()=>QE,n5z:()=>w,oAB:()=>mn,oxw:()=>Rc,q4F:()=>nE,qLn:()=>ka,qOj:()=>Lh,qZA:()=>Pc,rWj:()=>JE,s9C:()=>Eu,sBO:()=>LD,sIi:()=>Tl,s_b:()=>Uy,soG:()=>Hy,tBr:()=>y,tb:()=>KE,tp0:()=>J,uIk:()=>Uh,vHH:()=>Je,vpe:()=>Nl,wAp:()=>jn,xi3:()=>fE,xp6:()=>Pf,ynx:()=>jh,z2F:()=>Gy,zSh:()=>kf,zs3:()=>Fu});var m=j(7579),v=j(727),H=j(9751),he=j(6451),Ee=j(3099);function De(n){for(let r in n)if(n[r]===De)return r;throw Error("Could not find renamed property on target object.")}function ke(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function xe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const de=De({__forward_ref__:De});function ne(n){return n.__forward_ref__=ne,n.toString=function(){return Pe(this())},n}function ye(n){return ht(n)?n():n}function ht(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===ne}class Je extends Error{constructor(r,s){super(function Ft(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function nt(n){return"string"==typeof n?n:null==n?"":String(n)}function ot(n,r){throw new Je(-201,!1)}function Pn(n,r){null==n&&function Nt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function gn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vn(n){return ar(n,Qr)||ar(n,vr)}function ar(n,r){return n.hasOwnProperty(r)?n[r]:null}function Nr(n){return n&&(n.hasOwnProperty(Dr)||n.hasOwnProperty(ur))?n[Dr]:null}const Qr=De({\u0275prov:De}),Dr=De({\u0275inj:De}),vr=De({ngInjectableDef:De}),ur=De({ngInjectorDef:De});var Qt=(()=>((Qt=Qt||{})[Qt.Default=0]="Default",Qt[Qt.Host=1]="Host",Qt[Qt.Self=2]="Self",Qt[Qt.SkipSelf=4]="SkipSelf",Qt[Qt.Optional=8]="Optional",Qt))();let nr;function Dn(n){const r=nr;return nr=n,r}function Gr(n,r,s){const a=Vn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Qt.Optional?null:void 0!==r?r:void ot(Pe(n))}function _i(n){return{toString:n}.toString()}var Er=(()=>((Er=Er||{})[Er.OnPush=0]="OnPush",Er[Er.Default=1]="Default",Er))(),xn=(()=>{return(n=xn||(xn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xn;var n})();const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},on=[],Wr=De({\u0275cmp:De}),gr=De({\u0275dir:De}),lr=De({\u0275pipe:De}),Kn=De({\u0275mod:De}),Ae=De({\u0275fac:De}),le=De({__NG_ELEMENT_ID__:De});let Oe=0;function Re(n){return _i(()=>{const s=!0===n.standalone,a={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Er.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||xn.Emulated,id:"c"+Oe++,styles:n.styles||on,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.dependencies,_=n.features;return l.inputs=Un(n.inputs,a),l.outputs=Un(n.outputs),_&&_.forEach(b=>b(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(at).filter(vt):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(it).filter(vt):null,l})}function at(n){return fe(n)||pe(n)}function vt(n){return null!==n}const Mt={};function mn(n){return _i(()=>{const r={type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Mt[n.id]=n.type),r})}function Un(n,r){if(null==n)return zr;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Nn=Re;function Ue(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function fe(n){return n[Wr]||null}function pe(n){return n[gr]||null}function it(n){return n[lr]||null}function Tt(n,r){const s=n[Kn]||null;if(!s&&!0===r)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return s}function ut(n){return Array.isArray(n)&&"object"==typeof n[1]}function wt(n){return Array.isArray(n)&&!0===n[1]}function zt(n){return 0!=(8&n.flags)}function Zn(n){return 2==(2&n.flags)}function Rr(n){return 1==(1&n.flags)}function Tn(n){return null!==n.template}function Ni(n){return 0!=(256&n[2])}function wi(n,r){return n.hasOwnProperty(Ae)?n[Ae]:null}class Ii{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ss(){return Cs}function Cs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ms),Bo}function Bo(){const n=Ys(this),r=n?.current;if(r){const s=n.previous;if(s===zr)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ms(n,r,s,a){const l=Ys(n)||function ys(n,r){return n[Zs]=r}(n,{previous:zr,current:null}),d=l.current||(l.current={}),_=l.previous,b=this.declaredInputs[s],S=_[b];d[b]=new Ii(S&&S.currentValue,r,_===zr),n[a]=r}ss.ngInherit=!0;const Zs="__ngSimpleChanges__";function Ys(n){return n[Zs]||null}let Js;function Xs(n){Js=n}function Wn(n){return!!n.listen}const Or={createRenderer:(n,r)=>function As(){return void 0!==Js?Js:typeof document<"u"?document:void 0}()};function dr(n){for(;Array.isArray(n);)n=n[0];return n}function k(n,r){return dr(r[n])}function Q(n,r){return dr(r[n.index])}function Be(n,r){return n.data[r]}function yt(n,r){return n[r]}function kt(n,r){const s=r[n];return ut(s)?s:s[0]}function Mr(n){return 4==(4&n[2])}function Gn(n){return 64==(64&n[2])}function Sn(n,r){return null==r?null:n[r]}function kr(n){n[18]=0}function $n(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const an={lFrame:no(null),bindingsEnabled:!0};function Ki(){return an.bindingsEnabled}function mt(){return an.lFrame.lView}function Xn(){return an.lFrame.tView}function na(n){return an.lFrame.contextLView=n,n[8]}function Ms(n){return an.lFrame.contextLView=null,n}function fi(){let n=$o();for(;null!==n&&64===n.type;)n=n.parent;return n}function $o(){return an.lFrame.currentTNode}function R(n,r){const s=an.lFrame;s.currentTNode=n,s.isParent=r}function x(){return an.lFrame.isParent}function Z(){an.lFrame.isParent=!1}function mr(){const n=an.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function oi(){return an.lFrame.bindingIndex++}function ia(n,r){const s=an.lFrame;s.bindingIndex=s.bindingRootIndex=n,ho(r)}function ho(n){an.lFrame.currentDirectiveIndex=n}function Ta(){return an.lFrame.currentQueryIndex}function Ho(n){an.lFrame.currentQueryIndex=n}function bu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function sa(n,r,s){if(s&Qt.SkipSelf){let l=r,d=n;for(;!(l=l.parent,null!==l||s&Qt.Host||(l=bu(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,n=d}const a=an.lFrame=to();return a.currentTNode=r,a.lView=n,!0}function xo(n){const r=to(),s=n[1];an.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function to(){const n=an.lFrame,r=null===n?null:n.child;return null===r?no(n):r}function no(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Va(){const n=an.lFrame;return an.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fi=Va;function Ps(){const n=Va();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ti(){return an.lFrame.selectedIndex}function fo(n){an.lFrame.selectedIndex=n}function Ur(){const n=an.lFrame;return Be(n.tView,n.selectedIndex)}function gi(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:B,ngOnDestroy:q}=d;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),b&&((n.contentHooks||(n.contentHooks=[])).push(s,b),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,b)),S&&(n.viewHooks||(n.viewHooks=[])).push(-s,S),B&&((n.viewHooks||(n.viewHooks=[])).push(s,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,B)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function Vs(n,r,s){Mi(n,r,3,s)}function ro(n,r,s,a){(3&n[2])===s&&Mi(n,r,s,a)}function io(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Mi(n,r,s,a){const d=a??-1,_=r.length-1;let b=0;for(let S=void 0!==a?65535&n[18]:0;S<_;S++)if("number"==typeof r[S+1]){if(b=r[S],null!=a&&b>=a)break}else r[S]<0&&(n[18]+=65536),(b<d||-1==d)&&(su(n,s,r,S),n[18]=(4294901760&n[18])+S+2),S++}function su(n,r,s,a){const l=s[a]<0,d=s[a+1],b=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(b)}finally{}}}else try{d.call(b)}finally{}}class Go{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Li(n,r,s){const a=Wn(n);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const _=s[l++],b=s[l++],S=s[l++];a?n.setAttribute(r,b,S,_):r.setAttributeNS(_,b,S)}else{const _=d,b=s[++l];go(_)?a&&n.setProperty(r,_,b):a?n.setAttribute(r,_,b):r.setAttribute(_,b),l++}}return l}function ts(n){return 3===n||4===n||6===n}function go(n){return 64===n.charCodeAt(0)}function aa(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||ua(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function ua(n,r,s,a,l){let d=0,_=n.length;if(-1===r)_=-1;else for(;d<n.length;){const b=n[d++];if("number"==typeof b){if(b===r){_=-1;break}if(b>r){_=d-1;break}}}for(;d<n.length;){const b=n[d];if("number"==typeof b)break;if(b===s){if(null===a)return void(null!==l&&(n[d+1]=l));if(a===n[d+1])return void(n[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==_&&(n.splice(_,0,r),d=_+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==l&&n.splice(d++,0,l)}function oo(n){return-1!==n}function xa(n){return 32767&n}function zo(n,r){let s=function Di(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let la=!0;function Po(n){const r=la;return la=n,r}let Bs=0;const ns={};function ca(n,r){const s=Xr(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,At(a.data,n),At(r,null),At(a.blueprint,null));const l=ji(n,r),d=n.injectorIndex;if(oo(l)){const _=xa(l),b=zo(l,r),S=b[1].data;for(let B=0;B<8;B++)r[d+B]=b[_+B]|S[_+B]}return r[d+8]=l,d}function At(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Xr(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ji(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=U(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function No(n,r,s){!function Es(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(le)&&(a=s[le]),null==a&&(a=s[le]=Bs++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function yn(n,r,s){if(s&Qt.Optional)return n;ot()}function da(n,r,s,a){if(s&Qt.Optional&&void 0===a&&(a=null),0==(s&(Qt.Self|Qt.Host))){const l=n[9],d=Dn(void 0);try{return l?l.get(r,a,s&Qt.Optional):Gr(r,a,s&Qt.Optional)}finally{Dn(d)}}return yn(a,0,s)}function Ht(n,r,s,a=Qt.Default,l){if(null!==n){if(1024&r[2]){const _=function P(n,r,s,a,l){let d=n,_=r;for(;null!==d&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=tt(d,_,s,a|Qt.Self,ns);if(b!==ns)return b;let S=d.parent;if(!S){const B=_[21];if(B){const q=B.get(s,ns,a);if(q!==ns)return q}S=U(_),_=_[15]}d=S}return l}(n,r,s,a,ns);if(_!==ns)return _}const d=tt(n,r,s,a,ns);if(d!==ns)return d}return da(r,s,a,l)}function tt(n,r,s,a,l){const d=function $u(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(le)?n[le]:void 0;return"number"==typeof r?r>=0?255&r:D:r}(s);if("function"==typeof d){if(!sa(r,n,a))return a&Qt.Host?yn(l,0,a):da(r,s,a,l);try{const _=d(a);if(null!=_||a&Qt.Optional)return _;ot()}finally{Fi()}}else if("number"==typeof d){let _=null,b=Xr(n,r),S=-1,B=a&Qt.Host?r[16][6]:null;for((-1===b||a&Qt.SkipSelf)&&(S=-1===b?ji(n,r):r[b+8],-1!==S&&Qa(a,!1)?(_=r[1],b=xa(S),r=zo(S,r)):b=-1);-1!==b;){const q=r[1];if(ou(d,b,q.data)){const re=Ct(b,r,s,_,a,B);if(re!==ns)return re}S=r[b+8],-1!==S&&Qa(a,r[1].data[b+8]===B)&&ou(d,b,r)?(_=q,b=xa(S),r=zo(S,r)):b=-1}}return l}function Ct(n,r,s,a,l,d){const _=r[1],b=_.data[n+8],q=bi(b,_,s,null==a?Zn(b)&&la:a!=_&&0!=(3&b.type),l&Qt.Host&&d===b);return null!==q?ha(r,_,q,b):ns}function bi(n,r,s,a,l){const d=n.providerIndexes,_=r.data,b=1048575&d,S=n.directiveStart,q=d>>20,Se=l?b+q:n.directiveEnd;for(let Ge=a?b:b+q;Ge<Se;Ge++){const It=_[Ge];if(Ge<S&&s===It||Ge>=S&&It.type===s)return Ge}if(l){const Ge=_[S];if(Ge&&Tn(Ge)&&Ge.type===s)return S}return null}function ha(n,r,s,a){let l=n[s];const d=r.data;if(function Ba(n){return n instanceof Go}(l)){const _=l;_.resolving&&function jt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Je(-200,`Circular dependency in DI detected for ${n}${s}`)}(function We(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():nt(n)}(d[s]));const b=Po(_.canSeeViewProviders);_.resolving=!0;const S=_.injectImpl?Dn(_.injectImpl):null;sa(n,a,Qt.Default);try{l=n[s]=_.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ju(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const _=Cs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==S&&Dn(S),Po(b),_.resolving=!1,Fi()}}return l}function ou(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Qa(n,r){return!(n&Qt.Self||n&Qt.Host&&r)}class Na{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ht(this._tNode,this._lView,r,a,s)}}function D(){return new Na(fi(),mt())}function w(n){return _i(()=>{const r=n.prototype.constructor,s=r[Ae]||E(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const d=l[Ae]||E(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function E(n){return ht(n)?()=>{const r=E(ye(n));return r&&r()}:wi(n)}function U(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Y(n){return function Yt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(ts(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(fi(),n)}const _e="__parameters__";function Wt(n,r,s){return _i(()=>{const a=function Rt(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const _=new l(...d);return b.annotation=_,b;function b(S,B,q){const re=S.hasOwnProperty(_e)?S[_e]:Object.defineProperty(S,_e,{value:[]})[_e];for(;re.length<=q;)re.push(null);return(re[q]=re[q]||[]).push(_),S}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class _n{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=gn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $t=new _n("AnalyzeForEntryComponents");function rs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),rs(a,r)):r!==n&&r.push(a)}return r}function xi(n,r){n.forEach(s=>Array.isArray(s)?xi(s,r):r(s))}function Ro(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function uo(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ui(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function xr(n,r,s){let a=Zi(n,r);return a>=0?n[1|a]=s:(a=~a,function Xa(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Su(n,r){const s=Zi(n,r);if(s>=0)return n[1|s]}function Zi(n,r){return function li(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const d=a+(l-a>>1),_=n[d<<s];if(r===_)return d<<s;_>r?l=d:a=d+1}return~(l<<s)}(n,r,1)}const $s={},M="__NG_DI_FLAG__",F="ngTempTokenPath",ue=/\n/gm,rt="__source";let _t;function Bt(n){const r=_t;return _t=n,r}function wn(n,r=Qt.Default){if(void 0===_t)throw new Je(-203,!1);return null===_t?Gr(n,void 0,r):_t.get(n,r&Qt.Optional?null:void 0,r)}function cn(n,r=Qt.Default){return(function Cn(){return nr}()||wn)(ye(n),r)}function ni(n){const r=[];for(let s=0;s<n.length;s++){const a=ye(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Je(900,!1);let l,d=Qt.Default;for(let _=0;_<a.length;_++){const b=a[_],S=Wo(b);"number"==typeof S?-1===S?l=b.token:d|=S:l=b}r.push(cn(l,d))}else r.push(cn(a))}return r}function Zr(n,r){return n[M]=r,n.prototype[M]=r,n}function Wo(n){return n[M]}const y=Zr(Wt("Inject",n=>({token:n})),-1),T=Zr(Wt("Optional"),8),J=Zr(Wt("SkipSelf"),4);class qu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yo(n){return n instanceof qu?n.changingThisBreaksApplicationSecurity:n}const rn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Os=(()=>((Os=Os||{})[Os.NONE=0]="NONE",Os[Os.HTML=1]="HTML",Os[Os.STYLE=2]="STYLE",Os[Os.SCRIPT=3]="SCRIPT",Os[Os.URL=4]="URL",Os[Os.RESOURCE_URL=5]="RESOURCE_URL",Os))();function ml(n){const r=function vo(){const n=mt();return n&&n[12]}();return r?r.sanitize(Os.URL,n)||"":function Ku(n,r){const s=function hl(n){return n instanceof qu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Yo(n):function ri(n){return(n=String(n)).match(rn)||n.match(pr)?n:"unsafe:"+n}(nt(n))}function Gd(n){return n.ngOriginalError}class ka{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Gd(r);for(;s&&Gd(s);)s=Gd(s);return s||null}}const kl=new Map;let Wd=0;const hf="__ngContext__";function Gs(n,r){ut(r)?(n[hf]=r[20],function Tg(n){kl.set(n[20],n)}(r)):n[hf]=r}function oc(n){const r=n[hf];return"number"==typeof r?function cf(n){return kl.get(n)||null}(r):r||null}function ff(n){const r=oc(n);return r?ut(r)?r:r.lView:null}const xg=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ot))();function fu(n){return n instanceof Function?n():n}var pu=(()=>((pu=pu||{})[pu.Important=1]="Important",pu[pu.DashCase=2]="DashCase",pu))();function Ef(n,r){return undefined(n,r)}function Wc(n){const r=n[3];return wt(r)?r[3]:r}function qd(n){return Og(n[13])}function Lo(n){return Og(n[4])}function Og(n){for(;null!==n&&!wt(n);)n=n[4];return n}function va(n,r,s,a,l){if(null!=a){let d,_=!1;wt(a)?d=a:ut(a)&&(_=!0,a=a[0]);const b=dr(a);0===n&&null!==s?null==l?Bg(r,s,b):yl(r,s,b,l||null,!0):1===n&&null!==s?yl(r,s,b,l||null,!0):2===n?function _l(n,r,s){const a=uc(n,r);a&&function jg(n,r,s,a){Wn(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,b,_):3===n&&r.destroyNode(b),null!=d&&function Tf(n,r,s,a,l){const d=s[7];d!==dr(s)&&va(r,n,a,d,l);for(let b=10;b<s.length;b++){const S=s[b];Xu(S[1],S,n,r,a,d)}}(r,n,d,s,l)}}function wf(n,r,s){if(Wn(n))return n.createElement(r,s);{const a=null!==s?function La(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Fg(n,r){const s=n[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,$n(l,-1)),s.splice(a,1)}function If(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Fg(l,a),r>0&&(n[s-1][4]=a[4]);const d=uo(n,10+r);!function s_(n,r){Xu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=d[19];null!==_&&_.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Lg(n,r){if(!(128&r[2])){const s=r[11];Wn(s)&&s.destroyNode&&Xu(n,r,s,3,null,null),function u_(n){let r=n[13];if(!r)return Df(n[1],n);for(;r;){let s=null;if(ut(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)ut(r)&&Df(r[1],r),r=r[3];null===r&&(r=n),ut(r)&&Df(r[1],r),s=r&&r[4]}r=s}}(r)}}function Df(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function h_(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Go)){const d=s[a+1];if(Array.isArray(d))for(let _=0;_<d.length;_+=2){const b=l[d[_]],S=d[_+1];try{S.call(b)}finally{}}else try{d.call(l)}finally{}}}}(n,r),function d_(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const _=s[d+1],b="function"==typeof _?_(r):dr(r[_]),S=a[l=s[d+2]],B=s[d+3];"boolean"==typeof B?b.removeEventListener(s[d],S,B):B>=0?a[l=B]():a[l=-B].unsubscribe(),d+=2}else{const _=a[l=s[d+1]];s[d].call(_)}if(null!==a){for(let d=l+1;d<a.length;d++)a[d]();r[7]=null}}(n,r),1===r[1].type&&Wn(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&wt(r[3])){s!==r[3]&&Fg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function Jy(n){kl.delete(n[20])}(r)}}function Vg(n,r,s){return function Ug(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===xn.None||l===xn.Emulated)return null}return Q(a,s)}(n,r.parent,s)}function yl(n,r,s,a,l){Wn(n)?n.insertBefore(r,s,a,l):($g(r)?r.content:r).insertBefore(s,a,l)}function Bg(n,r,s){Wn(n)?n.appendChild(r,s):($g(r)?r.content:r).appendChild(s)}function bf(n,r,s,a,l){null!==a?yl(n,r,s,a,l):Bg(n,r,s)}function $g(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function uc(n,r){return Wn(n)?n.parentNode(r):r.parentNode}function Zd(n,r,s){return Qd(n,r,s)}let Qd=function Yd(n,r,s){return 40&n.type?Q(n,s):null};function Jd(n,r,s,a){const l=Vg(n,a,r),d=r[11],b=Zd(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let S=0;S<s.length;S++)bf(d,l,s[S],b,!1);else bf(d,l,s,b,!1)}function Kc(n,r){if(null!==r){const s=r.type;if(3&s)return Q(r,n);if(4&s)return Qu(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Kc(n,a);{const l=n[r.index];return wt(l)?Qu(-1,l):dr(l)}}if(32&s)return Ef(r,n)()||dr(n[r.index]);{const a=Zc(n,r);return null!==a?Array.isArray(a)?a[0]:Kc(Wc(n[16]),a):Kc(n,r.next)}}return null}function Zc(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Qu(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Kc(a,l)}return r[7]}function Ju(n,r,s,a,l,d,_){for(;null!=s;){const b=a[s.index],S=s.type;if(_&&0===r&&(b&&Gs(dr(b),a),s.flags|=4),64!=(64&s.flags))if(8&S)Ju(n,r,s.child,a,l,d,!1),va(r,n,l,b,d);else if(32&S){const B=Ef(s,a);let q;for(;q=B();)va(r,n,l,q,d);va(r,n,l,b,d)}else 16&S?Xd(n,r,a,s,l,d):va(r,n,l,b,d);s=_?s.projectionNext:s.next}}function Xu(n,r,s,a,l,d){Ju(s,a,n.firstChild,r,l,d,!1)}function Xd(n,r,s,a,l,d){const _=s[16],S=_[6].projection[a.projection];if(Array.isArray(S))for(let B=0;B<S.length;B++)va(r,n,l,S[B],d);else Ju(n,r,S,_[3],l,d,!0)}function Af(n,r,s){Wn(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Sf(n,r,s){Wn(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Mf(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||n.charCodeAt(l+d)<=32)return l}s=l+1}}const Yc="ng-template";function Qc(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Mf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function vl(n){return 4===n.type&&n.value!==Yc}function p_(n,r,s){return r===(4!==n.type||s?n.value:Yc)}function zg(n,r,s){let a=4;const l=n.attrs||[],d=function Ll(n){for(let r=0;r<n.length;r++)if(ts(n[r]))return r;return n.length}(l);let _=!1;for(let b=0;b<r.length;b++){const S=r[b];if("number"!=typeof S){if(!_)if(4&a){if(a=2|1&a,""!==S&&!p_(n,S,s)||""===S&&1===r.length){if(gu(a))return!1;_=!0}}else{const B=8&a?S:r[++b];if(8&a&&null!==n.attrs){if(!Qc(n.attrs,B,s)){if(gu(a))return!1;_=!0}continue}const re=g_(8&a?"class":S,l,vl(n),s);if(-1===re){if(gu(a))return!1;_=!0;continue}if(""!==B){let Se;Se=re>d?"":l[re+1].toLowerCase();const Ge=8&a?Se:null;if(Ge&&-1!==Mf(Ge,B,0)||2&a&&B!==Se){if(gu(a))return!1;_=!0}}}}else{if(!_&&!gu(a)&&!gu(S))return!1;if(_&&gu(S))continue;_=!1,a=S|1&a}}return gu(a)||_}function gu(n){return 0==(1&n)}function g_(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)d=!0;else{if(1===_||2===_){let b=r[++l];for(;"string"==typeof b;)b=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=d?1:2}return-1}return function Vl(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Wg(n,r,s=!1){for(let a=0;a<r.length;a++)if(zg(n,r[a],s))return!0;return!1}function qg(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function Kg(n,r){return n?":not("+r.trim()+")":r}function m_(n){let r=n[0],s=1,a=2,l="",d=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const b=n[++s];l+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!gu(_)&&(r+=Kg(d,l),l=""),a=_,d=d||!gu(a);s++}return""!==l&&(r+=Kg(d,l)),r}const or={};function Pf(n){lc(Xn(),mt(),ti()+n,!1)}function lc(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&Vs(r,d,s)}else{const d=n.preOrderHooks;null!==d&&ro(r,d,0,s)}fo(s)}const el=new _n("ENVIRONMENT_INITIALIZER"),Ul=new _n("INJECTOR_DEF_TYPES");function Yg(...n){return{\u0275providers:El(0,n)}}function El(n,...r){const s=[],a=new Set;let l;return xi(r,d=>{const _=d;wl(_,s,[],a)&&(l||(l=[]),l.push(_))}),void 0!==l&&Qg(l,s),s}function Qg(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];xi(l,d=>{r.push(d)})}}function wl(n,r,s,a){if(!(n=ye(n)))return!1;let l=null,d=Nr(n);const _=!d&&fe(n);if(d||_){if(_&&!_.standalone)return!1;l=n}else{const S=n.ngModule;if(d=Nr(S),!d)return!1;l=S}const b=a.has(l);if(_){if(b)return!1;if(a.add(l),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const B of S)wl(B,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!b){let B;a.add(l);try{xi(d.imports,q=>{wl(q,r,s,a)&&(B||(B=[]),B.push(q))})}finally{}void 0!==B&&Qg(B,r)}if(!b){const B=wi(l)||(()=>new l);r.push({provide:l,useFactory:B,deps:on},{provide:Ul,useValue:l,multi:!0},{provide:el,useValue:()=>cn(l),multi:!0})}const S=d.providers;null==S||b||xi(S,q=>{r.push(q)})}}return l!==n&&void 0!==n.providers}const Il=De({provide:String,useValue:De});function rh(n){return null!==n&&"object"==typeof n&&Il in n}function Bl(n){return"function"==typeof n}const cc=new _n("INJECTOR",-1);class Of{get(r,s=$s){if(s===$s){const a=new Error(`NullInjectorError: No provider for ${Pe(r)}!`);throw a.name="NullInjectorError",a}return s}}const kf=new _n("Set Injector scope."),td={},E_={};let ih;function tl(){return void 0===ih&&(ih=new Of),ih}class ku{}class Ff extends ku{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vf(r,_=>this.processProvider(_)),this.records.set(cc,dc(void 0,this)),l.has("environment")&&this.records.set(ku,dc(void 0,this));const d=this.records.get(kf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ul.multi,on,Qt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}get(r,s=$s,a=Qt.Default){this.assertNotDestroyed();const l=Bt(this),d=Dn(void 0);try{if(!(a&Qt.SkipSelf)){let b=this.records.get(r);if(void 0===b){const S=function I_(n){return"function"==typeof n||"object"==typeof n&&n instanceof _n}(r)&&Vn(r);b=S&&this.injectableDefInScope(S)?dc(sh(r),td):null,this.records.set(r,b)}if(null!=b)return this.hydrate(r,b)}return(a&Qt.Self?tl():this.parent).get(r,s=a&Qt.Optional&&s===$s?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[F]=_[F]||[]).unshift(Pe(r)),l)throw _;return function N(n,r,s,a){const l=n[F];throw r[rt]&&l.unshift(r[rt]),n.message=function f(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=Pe(r);if(Array.isArray(r))l=r.map(Pe).join(" -> ");else if("object"==typeof r){let d=[];for(let _ in r)if(r.hasOwnProperty(_)){let b=r[_];d.push(_+":"+("string"==typeof b?JSON.stringify(b):Pe(b)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(ue,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[F]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{Dn(d),Bt(l)}}resolveInjectorInitializers(){const r=Bt(this),s=Dn(void 0);try{const a=this.get(el.multi,on,Qt.Self);for(const l of a)l()}finally{Bt(r),Dn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Pe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(r){let s=Bl(r=ye(r))?r:ye(r&&r.provide);const a=function em(n){return rh(n)?dc(void 0,n.useValue):dc(tm(n),td)}(r);if(Bl(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=dc(void 0,td,!0),l.factory=()=>ni(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===td&&(s.value=E_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Io(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ye(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function sh(n){const r=Vn(n),s=null!==r?r.factory:wi(n);if(null!==s)return s;if(n instanceof _n)throw new Je(204,!1);if(n instanceof Function)return function w_(n){const r=n.length;if(r>0)throw ui(r,"?"),new Je(204,!1);const s=function _r(n){const r=n&&(n[Qr]||n[vr]);if(r){const s=function Ir(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Je(204,!1)}function tm(n,r,s){let a;if(Bl(n)){const l=ye(n);return wi(l)||sh(l)}if(rh(n))a=()=>ye(n.useValue);else if(function Xg(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ni(n.deps||[]));else if(function Jg(n){return!(!n||!n.useExisting)}(n))a=()=>cn(ye(n.useExisting));else{const l=ye(n&&(n.useClass||n.provide));if(!function Lf(n){return!!n.deps}(n))return wi(l)||sh(l);a=()=>new l(...ni(n.deps))}return a}function dc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function D_(n){return!!n.\u0275providers}function Vf(n,r){for(const s of n)Array.isArray(s)?Vf(s,r):D_(s)?Vf(s.\u0275providers,r):r(s)}function nm(n,r=null,s=null,a){const l=Uf(n,r,s,a);return l.resolveInjectorInitializers(),l}function Uf(n,r=null,s=null,a,l=new Set){const d=[s||on,Yg(n)];return a=a||("object"==typeof n?void 0:Pe(n)),new Ff(d,r||tl(),a||null,l)}let Fu=(()=>{class n{static create(s,a){if(Array.isArray(s))return nm({name:""},a,s,"");{const l=s.name??"";return nm({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=$s,n.NULL=new Of,n.\u0275prov=gn({token:n,providedIn:"any",factory:()=>cn(cc)}),n.__NG_ELEMENT_ID__=-1,n})();function $l(n,r=Qt.Default){const s=mt();return null===s?cn(n,r):Ht(fi(),s,ye(n),r)}function hh(){throw new Error("invalid")}function mh(n,r){return n<<17|r<<2}function mu(n){return n>>17&32767}function Qf(n){return 2|n}function za(n){return(131068&n)>>2}function ad(n,r){return-131069&n|r<<2}function ud(n){return 1|n}function wh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const _=n.data[d];Ho(l),_.contentQueries(2,r[d],d)}}}function zl(n,r,s,a,l,d,_,b,S,B,q){const re=r.blueprint.slice();return re[0]=l,re[2]=76|a,(null!==q||n&&1024&n[2])&&(re[2]|=1024),kr(re),re[3]=re[15]=n,re[8]=s,re[10]=_||n&&n[10],re[11]=b||n&&n[11],re[12]=S||n&&n[12]||null,re[9]=B||n&&n[9]||null,re[6]=d,re[20]=function Cg(){return Wd++}(),re[21]=q,re[16]=2==r.type?n[16]:re,re}function vc(n,r,s,a,l){let d=n.data[r];if(null===d)d=function lp(n,r,s,a,l){const d=$o(),_=x(),S=n.data[r]=function hp(n,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?d:d&&d.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=S),null!==d&&(_?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(n,r,s,a,l),function Ls(){return an.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const _=function L(){const n=an.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===_?-1:_.injectorIndex}return R(d,!0),d}function bl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function Wl(n,r,s){xo(r);try{const a=n.viewQuery;null!==a&&Dp(1,a,s);const l=n.template;null!==l&&Em(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wh(n,r),n.staticViewQueries&&Dp(2,n.viewQuery,s);const d=n.components;null!==d&&function up(n,r){for(let s=0;s<r.length;s++)q_(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Ps()}}function Ec(n,r,s,a){const l=r[2];if(128!=(128&l)){xo(r);try{kr(r),function xs(n){return an.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Em(n,r,s,2,a);const _=3==(3&l);if(_){const B=n.preOrderCheckHooks;null!==B&&Vs(r,B,null)}else{const B=n.preOrderHooks;null!==B&&ro(r,B,0,null),io(r,0)}if(function wp(n){for(let r=qd(n);null!==r;r=Lo(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&$n(d,1),l[2]|=512}}}(r),function z_(n){for(let r=qd(n);null!==r;r=Lo(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];Gn(a)&&Ec(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&wh(n,r),_){const B=n.contentCheckHooks;null!==B&&Vs(r,B)}else{const B=n.contentHooks;null!==B&&ro(r,B,1),io(r,1)}!function L_(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)fo(~l);else{const d=l,_=s[++a],b=s[++a];ia(_,d),b(2,r[d])}}}finally{fo(-1)}}(n,r);const b=n.components;null!==b&&function ap(n,r){for(let s=0;s<r.length;s++)W_(n,r[s])}(r,b);const S=n.viewQuery;if(null!==S&&Dp(2,S,a),_){const B=n.viewCheckHooks;null!==B&&Vs(r,B)}else{const B=n.viewHooks;null!==B&&ro(r,B,2),io(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,$n(r[3],-1))}finally{Ps()}}}function vm(n,r,s,a){const l=r[10],_=Mr(r);try{!_&&l.begin&&l.begin(),_&&Wl(n,r,a),Ec(n,r,s,a)}finally{!_&&l.end&&l.end()}}function Em(n,r,s,a,l){const d=ti(),_=2&a;try{fo(-1),_&&r.length>22&&lc(n,r,22,!1),s(a,l)}finally{fo(d)}}function cp(n,r,s){if(zt(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const _=n.data[d];_.contentQueries&&_.contentQueries(1,s[d],d)}}}function Ih(n,r,s){!Ki()||(function $_(n,r,s,a){const l=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||ca(s,r),Gs(a,r);const _=s.initialInputs;for(let b=l;b<d;b++){const S=n.data[b],B=Tn(S);B&&H_(r,s,S);const q=ha(r,n,b,s);Gs(q,r),null!==_&&Ep(0,b-l,q,S,0,_),B&&(kt(s.index,r)[8]=q)}}(n,r,s,Q(s,r)),128==(128&s.flags)&&function mp(n,r,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,_=function Fr(){return an.lFrame.currentDirectiveIndex}();try{fo(d);for(let b=a;b<l;b++){const S=n.data[b],B=r[b];ho(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Cm(S,B)}}finally{fo(-1),ho(_)}}(n,r,s))}function Dh(n,r,s=Q){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const _=a[d+1],b=-1===_?s(r,n):n[_];n[l++]=b}}}function dp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=bh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function bh(n,r,s,a,l,d,_,b,S,B){const q=22+a,re=q+l,Se=function V_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:or);return s}(q,re),Ge="function"==typeof B?B():B;return Se[1]={type:n,blueprint:Se,template:s,queries:null,viewQuery:b,declTNode:r,data:Se.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:Ge,incompleteFirstPass:!1}}function Th(n,r,s,a){const l=Ph(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&Nm(n).push(a,l.length-1))}function Im(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function Ea(n,r,s,a,l,d,_,b){const S=Q(r,s);let q,B=r.inputs;!b&&null!=B&&(q=B[a])?(Rm(n,s,q,a,l),Zn(r)&&function Dm(n,r){const s=kt(r,n);16&s[2]||(s[2]|=32)}(s,r.index)):3&r.type&&(a=function U_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=_?_(l,r.value||"",a):l,Wn(d)?d.setProperty(S,a,l):go(a)||(S.setProperty?S.setProperty(a,l):S[a]=l))}function fd(n,r,s,a){let l=!1;if(Ki()){const d=function yp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const _=a[d];Wg(s,_.selectors,!1)&&(l||(l=[]),No(ca(s,r),n,_.type),Tn(_)?(Ah(n,s),l.unshift(_)):l.push(_))}return l}(n,r,s),_=null===a?null:{"":-1};if(null!==d){l=!0,vp(s,n.data.length,d.length);for(let q=0;q<d.length;q++){const re=d[q];re.providersResolver&&re.providersResolver(re)}let b=!1,S=!1,B=bl(n,r,d.length,null);for(let q=0;q<d.length;q++){const re=d[q];s.mergedAttrs=aa(s.mergedAttrs,re.hostAttrs),Sh(n,s,r,B,re),wc(B,re,_),null!==re.contentQueries&&(s.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=128);const Se=re.type.prototype;!b&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),b=!0),!S&&(Se.ngOnChanges||Se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),B++}!function fp(n,r){const a=r.directiveEnd,l=n.data,d=r.attrs,_=[];let b=null,S=null;for(let B=r.directiveStart;B<a;B++){const q=l[B],re=q.inputs,Se=null===d||vl(r)?null:G_(re,d);_.push(Se),b=Im(re,B,b),S=Im(q.outputs,B,S)}null!==b&&(b.hasOwnProperty("class")&&(r.flags|=16),b.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=b,r.outputs=S}(n,s)}_&&function _p(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new Je(-301,!1);a.push(r[l],d)}}}(s,a,_)}return s.mergedAttrs=aa(s.mergedAttrs,s.attrs),l}function bm(n,r,s,a,l,d){const _=d.hostBindings;if(_){let b=n.hostBindingOpCodes;null===b&&(b=n.hostBindingOpCodes=[]);const S=~r.index;(function gp(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(b)!=S&&b.push(S),b.push(a,l,_)}}function Cm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ah(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wc(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Tn(r)&&(s[""]=n)}}function vp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Sh(n,r,s,a,l){n.data[a]=l;const d=l.factory||(l.factory=wi(l.type)),_=new Go(d,Tn(l),$l);n.blueprint[a]=_,s[a]=_,bm(n,r,0,a,bl(n,s,l.hostVars,or),l)}function H_(n,r,s){const a=Q(r,n),l=dp(s),d=n[10],_=Mh(n,zl(n,l,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));n[r.index]=_}function tu(n,r,s,a,l,d){const _=Q(n,r);!function yu(n,r,s,a,l,d,_){if(null==d)Wn(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const b=null==_?nt(d):_(d,a||"",l);Wn(n)?n.setAttribute(r,l,b,s):s?r.setAttributeNS(s,l,b):r.setAttribute(l,b)}}(r[11],_,d,n.value,s,a,l)}function Ep(n,r,s,a,l,d){const _=d[r];if(null!==_){const b=a.setInput;for(let S=0;S<_.length;){const B=_[S++],q=_[S++],re=_[S++];null!==b?a.setInput(s,re,B,q):s[q]=re}}}function G_(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Am(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function W_(n,r){const s=kt(r,n);if(Gn(s)){const a=s[1];48&s[2]?Ec(a,s,a.template,s[8]):s[5]>0&&pd(s)}}function pd(n){for(let a=qd(n);null!==a;a=Lo(a))for(let l=10;l<a.length;l++){const d=a[l];if(512&d[2]){const _=d[1];Ec(_,d,_.template,d[8])}else d[5]>0&&pd(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=kt(s[a],n);Gn(l)&&l[5]>0&&pd(l)}}function q_(n,r){const s=kt(r,n),a=s[1];(function Ip(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Wl(a,s,s[8])}function Mh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function gd(n){for(;n;){n[2]|=32;const r=Wc(n);if(Ni(n)&&!r)return n;n=r}return null}function Mm(n){!function md(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=ff(s);if(null!==a){const l=a[1];vm(l,a,l.template,s)}}}(n[8])}function Dp(n,r,s){Ho(0),r(n,s)}const bp=(()=>Promise.resolve(null))();function Ph(n){return n[7]||(n[7]=[])}function Nm(n){return n.cleanup||(n.cleanup=[])}function Tp(n,r){const s=n[9],a=s?s.get(ka,null):null;a&&a.handleError(r)}function Rm(n,r,s,a,l){for(let d=0;d<s.length;){const _=s[d++],b=s[d++],S=r[_],B=n.data[_];null!==B.setInput?B.setInput(S,l,a,b):S[b]=l}}function _u(n,r,s){const a=k(r,n);!function qc(n,r,s){Wn(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function yd(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,d=0;if(null!==r)for(let _=0;_<r.length;_++){const b=r[_];"number"==typeof b?d=b:1==d?l=xe(l,b):2==d&&(a=xe(a,b+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function Fp(){const n=fi();gi(mt()[1],n)}function Lh(n){let r=function Lp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Tn(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Je(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const _=n;_.inputs=Pr(n.inputs),_.declaredInputs=Pr(n.declaredInputs),_.outputs=Pr(n.outputs);const b=l.hostBindings;b&&vd(n,b);const S=l.viewQuery,B=l.contentQueries;if(S&&Bm(n,S),B&&jm(n,B),ke(n.inputs,l.inputs),ke(n.declaredInputs,l.declaredInputs),ke(n.outputs,l.outputs),Tn(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let _=0;_<d.length;_++){const b=d[_];b&&b.ngInherit&&b(n),b===Lh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Vh(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=aa(l.hostAttrs,s=aa(s,l.hostAttrs))}}(a)}function Pr(n){return n===zr?{}:n===on?[]:n}function Bm(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function jm(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function vd(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let qa=null;function Cl(){if(!qa){const n=Ot.Symbol;if(n&&n.iterator)qa=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(qa=a)}}}return qa}function Tl(n){return!!Vp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Cl()in n)}function Vp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Vu(n,r,s){return n[r]=s}function Cr(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Ic(n,r,s,a){const l=Cr(n,r,s);return Cr(n,r+1,a)||l}function Uh(n,r,s,a){const l=mt();return Cr(l,oi(),r)&&(Xn(),tu(Ur(),l,n,r,s,a)),Uh}function bc(n,r,s,a){return Cr(n,oi(),s)?r+nt(s)+a:or}function $p(n,r,s,a,l,d,_,b){const S=mt(),B=Xn(),q=n+22,re=B.firstCreatePass?function qm(n,r,s,a,l,d,_,b,S){const B=r.consts,q=vc(r,n,4,_||null,Sn(B,b));fd(r,s,q,Sn(B,S)),gi(r,q);const re=q.tViews=bh(2,q,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,q),re.queries=r.queries.embeddedTView(q)),q}(q,B,S,r,s,a,l,d,_):B.data[q];R(re,!1);const Se=S[11].createComment("");Jd(B,S,Se,re),Gs(Se,S),Mh(S,S[q]=Am(Se,S,Se,re)),Rr(re)&&Ih(B,S,re),null!=_&&Dh(S,re,b)}function Km(n){return yt(function Zt(){return an.lFrame.contextLView}(),22+n)}function il(n,r,s){const a=mt();return Cr(a,oi(),r)&&Ea(Xn(),Ur(),a,n,r,a[11],s,!1),il}function xc(n,r,s,a,l){const _=l?"class":"style";Rm(n,s,r.inputs[_],_,a)}function bd(n,r,s,a){const l=mt(),d=Xn(),_=22+n,b=l[11],S=l[_]=wf(b,r,function iu(){return an.lFrame.currentNamespace}()),B=d.firstCreatePass?function Dd(n,r,s,a,l,d,_){const b=r.consts,B=vc(r,n,2,l,Sn(b,d));return fd(r,s,B,Sn(b,_)),null!==B.attrs&&yd(B,B.attrs,!1),null!==B.mergedAttrs&&yd(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(_,d,l,0,r,s,a):d.data[_];R(B,!0);const q=B.mergedAttrs;null!==q&&Li(b,S,q);const re=B.classes;null!==re&&Sf(b,S,re);const Se=B.styles;return null!==Se&&Af(b,S,Se),64!=(64&B.flags)&&Jd(d,l,S,B),0===function Bi(){return an.lFrame.elementDepthCount}()&&Gs(S,l),function hr(){an.lFrame.elementDepthCount++}(),Rr(B)&&(Ih(d,l,B),cp(d,B,l)),null!==a&&Dh(l,B),bd}function Pc(){let n=fi();x()?Z():(n=n.parent,R(n,!1));const r=n;!function co(){an.lFrame.elementDepthCount--}();const s=Xn();return s.firstCreatePass&&(gi(s,n),zt(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Tu(n){return 0!=(16&n.flags)}(r)&&xc(s,r,mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Au(n){return 0!=(32&n.flags)}(r)&&xc(s,r,mt(),r.stylesWithoutHost,!1),Pc}function Hp(n,r,s,a){return bd(n,r,s,a),Pc(),Hp}function jh(n,r,s){const a=mt(),l=Xn(),d=n+22,_=l.firstCreatePass?function tv(n,r,s,a,l){const d=r.consts,_=Sn(d,a),b=vc(r,n,8,"ng-container",_);return null!==_&&yd(b,_,!0),fd(r,s,b,Sn(d,l)),null!==r.queries&&r.queries.elementStart(r,b),b}(d,l,a,r,s):l.data[d];R(_,!0);const b=a[d]=a[11].createComment("");return Jd(l,a,b,_),Gs(b,a),Rr(_)&&(Ih(l,a,_),cp(l,_,a)),null!=s&&Dh(a,_),jh}function Nc(){let n=fi();const r=Xn();return x()?Z():(n=n.parent,R(n,!1)),r.firstCreatePass&&(gi(r,n),zt(n)&&r.queries.elementEnd(n)),Nc}function Gp(){return mt()}function sl(n){return!!n&&"function"==typeof n.then}function zp(n){return!!n&&"function"==typeof n.subscribe}const Wp=zp;function Cd(n,r,s,a){const l=mt(),d=Xn(),_=fi();return function Td(n,r,s,a,l,d,_,b){const S=Rr(a),q=n.firstCreatePass&&Nm(n),re=r[8],Se=Ph(r);let Ge=!0;if(3&a.type||b){const en=Q(a,r),pn=b?b(en):en,qn=Se.length,Pt=b?On=>b(dr(On[a.index])):a.index;if(Wn(s)){let On=null;if(!b&&S&&(On=function nv(n,r,s,a){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const _=l[d];if(_===s&&l[d+1]===a){const b=r[7],S=l[d+2];return b.length>S?b[S]:null}"string"==typeof _&&(d+=2)}return null}(n,r,l,a.index)),null!==On)(On.__ngLastListenerFn__||On).__ngNextListenerFn__=d,On.__ngLastListenerFn__=d,Ge=!1;else{d=Gh(a,r,re,d,!1);const si=s.listen(pn,l,d);Se.push(d,si),q&&q.push(l,Pt,qn,qn+1)}}else d=Gh(a,r,re,d,!0),pn.addEventListener(l,d,_),Se.push(d),q&&q.push(l,Pt,qn,_)}else d=Gh(a,r,re,d,!1);const It=a.outputs;let Vt;if(Ge&&null!==It&&(Vt=It[l])){const en=Vt.length;if(en)for(let pn=0;pn<en;pn+=2){const hs=r[Vt[pn]][Vt[pn+1]].subscribe(d),Ld=Se.length;Se.push(d,hs),q&&q.push(l,a.index,Ld,-(Ld+1))}}}(d,l,l[11],_,n,r,!!s,a),Cd}function Ad(n,r,s,a){try{return!1!==s(a)}catch(l){return Tp(n,l),!1}}function Gh(n,r,s,a,l){return function d(_){if(_===Function)return a;gd(2&n.flags?kt(n.index,r):r);let S=Ad(r,0,a,_),B=d.__ngNextListenerFn__;for(;B;)S=Ad(r,0,B,_)&&S,B=B.__ngNextListenerFn__;return l&&!1===S&&(_.preventDefault(),_.returnValue=!1),S}}function Rc(n=1){return function Aa(n){return(an.lFrame.contextLView=function Za(n,r){for(;n>0;)r=r[15],n--;return r}(n,an.lFrame.contextLView))[8]}(n)}function rv(n,r){let s=null;const a=function Jc(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===a?Wg(n,d,!0):qg(a,d))return l}else s=l}return s}function Sd(n){const r=mt()[16][6];if(!r.projection){const a=r.projection=ui(n?n.length:1,null),l=a.slice();let d=r.child;for(;null!==d;){const _=n?rv(d,n):0;null!==_&&(l[_]?l[_].projectionNext=d:a[_]=d,l[_]=d),d=d.next}}}function Sl(n,r=0,s){const a=mt(),l=Xn(),d=vc(l,22+n,16,null,s||null);null===d.projection&&(d.projection=r),Z(),64!=(64&d.flags)&&function Hg(n,r,s){Xd(r[11],0,r,s,Vg(n,s,r),Zd(s.parent||r[6],s,r))}(l,a,d)}function Eu(n,r,s){return Kl(n,"",r,"",s),Eu}function Kl(n,r,s,a,l){const d=mt(),_=bc(d,r,s,a);return _!==or&&Ea(Xn(),Ur(),d,n,_,d[11],l,!1),Kl}function Xm(n,r,s,a,l){const d=n[s+1],_=null===r;let b=a?mu(d):za(d),S=!1;for(;0!==b&&(!1===S||_);){const q=n[b+1];sv(n[b],r)&&(S=!0,n[b+1]=a?ud(q):Qf(q)),b=a?mu(q):za(q)}S&&(n[s+1]=a?Qf(d):ud(d))}function sv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Zi(n,r)>=0}function Qp(n,r){return function wu(n,r,s,a){const l=mt(),d=Xn(),_=function as(n){const r=an.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function Xp(n,r,s,a){const l=n.data;if(null===l[s+1]){const d=l[ti()],_=function Jp(n,r){return r>=n.expandoStartIndex}(n,s);(function _v(n,r){return 0!=(n.flags&(r?16:32))})(d,a)&&null===r&&!_&&(r=!1),r=function hv(n,r,s,a){const l=function Ca(n){const r=an.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Yl(s=Ml(null,n,r,s,a),r.attrs,a),d=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=Ml(l,n,r,s,a),null===d){let S=function fv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==za(a))return n[mu(a)]}(n,r,a);void 0!==S&&Array.isArray(S)&&(S=Ml(null,n,r,S[1],a),S=Yl(S,r.attrs,a),function sy(n,r,s,a){n[mu(s?r.classBindings:r.styleBindings)]=a}(n,r,a,S))}else d=function pv(n,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Yl(a,n[d].hostAttrs,s);return Yl(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function iv(n,r,s,a,l,d){let _=d?r.classBindings:r.styleBindings,b=mu(_),S=za(_);n[a]=s;let q,B=!1;if(Array.isArray(s)){const re=s;q=re[1],(null===q||Zi(re,q)>0)&&(B=!0)}else q=s;if(l)if(0!==S){const Se=mu(n[b+1]);n[a+1]=mh(Se,b),0!==Se&&(n[Se+1]=ad(n[Se+1],a)),n[b+1]=function x_(n,r){return 131071&n|r<<17}(n[b+1],a)}else n[a+1]=mh(b,0),0!==b&&(n[b+1]=ad(n[b+1],a)),b=a;else n[a+1]=mh(S,0),0===b?b=a:n[S+1]=ad(n[S+1],a),S=a;B&&(n[a+1]=Qf(n[a+1])),Xm(n,q,a,!0),Xm(n,q,a,!1),function Jm(n,r,s,a,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&Zi(d,r)>=0&&(s[a+1]=ud(s[a+1]))}(r,q,n,a,d),_=mh(b,S),d?r.classBindings=_:r.styleBindings=_}(l,d,r,s,_,a)}}(d,n,_,a),r!==or&&Cr(l,_,r)&&function ay(n,r,s,a,l,d,_,b){if(!(3&r.type))return;const S=n.data,B=S[b+1];qh(function Hl(n){return 1==(1&n)}(B)?uy(S,r,s,l,za(B),_):void 0)||(qh(d)||function fm(n){return 2==(2&n)}(B)&&(d=uy(S,null,s,l,b,_)),function Gg(n,r,s,a,l){const d=Wn(n);if(r)l?d?n.addClass(s,a):s.classList.add(a):d?n.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:pu.DashCase;if(null==l)d?n.removeStyle(s,a,_):s.style.removeProperty(a);else{const b="string"==typeof l&&l.endsWith("!important");b&&(l=l.slice(0,-10),_|=pu.Important),d?n.setStyle(s,a,l,_):s.style.setProperty(a,l,b?"important":"")}}}(a,_,k(ti(),s),l,d))}(d,d.data[ti()],l,l[11],n,l[_+1]=function yv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Pe(Yo(n)))),n}(r,s),a,_)}(n,r,null,!0),Qp}function Ml(n,r,s,a,l){let d=null;const _=s.directiveEnd;let b=s.directiveStylingLast;for(-1===b?b=s.directiveStart:b++;b<_&&(d=r[b],a=Yl(a,d.hostAttrs,l),d!==n);)b++;return null!==n&&(s.directiveStylingLast=b),a}function Yl(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const _=r[d];"number"==typeof _?l=_:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xr(n,_,!!s||r[++d]))}return void 0===n?null:n}function uy(n,r,s,a,l,d){const _=null===r;let b;for(;l>0;){const S=n[l],B=Array.isArray(S),q=B?S[1]:S,re=null===q;let Se=s[l+1];Se===or&&(Se=re?on:void 0);let Ge=re?Su(Se,a):q===a?Se:void 0;if(B&&!qh(Ge)&&(Ge=Su(S,a)),qh(Ge)&&(b=Ge,_))return b;const It=n[l+1];l=_?mu(It):za(It)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(b=Su(S,a))}return b}function qh(n){return void 0!==n}function vv(n,r=""){const s=mt(),a=Xn(),l=n+22,d=a.firstCreatePass?vc(a,l,1,r,null):a.data[l],_=s[l]=function Kd(n,r){return Wn(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Jd(a,s,_,d),R(d,!1)}function Kh(n){return Zh("",n,""),Kh}function Zh(n,r,s){const a=mt(),l=bc(a,n,r,s);return l!==or&&_u(a,ti(),l),Zh}const Pl=void 0;var Dv=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Xl={};function Xh(n){const r=function Ty(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=sg(r);if(s)return s;const a=r.split("-")[0];if(s=sg(a),s)return s;if("en"===a)return Dv;throw new Error(`Missing locale data for the locale "${n}".`)}function Cy(n){return Xh(n)[jn.PluralCase]}function sg(n){return n in Xl||(Xl[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),Xl[n]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const ec="en-US";let tf=ec;function xv(n,r,s,a,l){if(n=ye(n),Array.isArray(n))for(let d=0;d<n.length;d++)xv(n[d],r,s,a,l);else{const d=Xn(),_=mt();let b=Bl(n)?n:ye(n.provide),S=tm(n);const B=fi(),q=1048575&B.providerIndexes,re=B.directiveStart,Se=B.providerIndexes>>20;if(Bl(n)||!n.multi){const Ge=new Go(S,l,$l),It=Nv(b,r,l?q:q+Se,re);-1===It?(No(ca(B,_),d,b),Pv(d,n,r.length),r.push(b),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(Ge),_.push(Ge)):(s[It]=Ge,_[It]=Ge)}else{const Ge=Nv(b,r,q+Se,re),It=Nv(b,r,q,q+Se),Vt=Ge>=0&&s[Ge],en=It>=0&&s[It];if(l&&!en||!l&&!Vt){No(ca(B,_),d,b);const pn=function Qw(n,r,s,a,l){const d=new Go(n,s,$l);return d.multi=[],d.index=r,d.componentProviders=0,Z0(d,l,a&&!s),d}(l?Yw:Zw,s.length,l,a,S);!l&&en&&(s[It].providerFactory=pn),Pv(d,n,r.length,0),r.push(b),B.directiveStart++,B.directiveEnd++,l&&(B.providerIndexes+=1048576),s.push(pn),_.push(pn)}else Pv(d,n,Ge>-1?Ge:It,Z0(s[l?It:Ge],S,!l&&a));!l&&a&&en&&s[It].componentProviders++}}}function Pv(n,r,s,a){const l=Bl(r),d=function v_(n){return!!n.useClass}(r);if(l||d){const S=(d?ye(r.useClass):r).prototype.ngOnDestroy;if(S){const B=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=B.indexOf(s);-1===q?B.push(s,[a,S]):B[q+1].push(a,S)}else B.push(s,S)}}}function Z0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Nv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function Zw(n,r,s,a){return Rv(this.multi,[])}function Yw(n,r,s,a){const l=this.multi;let d;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=ha(s,s[1],this.providerFactory.index,a);d=b.slice(0,_),Rv(l,d);for(let S=_;S<b.length;S++)d.push(b[S])}else d=[],Rv(l,d);return d}function Rv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Y0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function Kw(n,r,s){const a=Xn();if(a.firstCreatePass){const l=Tn(n);xv(s,a.data,a.blueprint,l,!0),xv(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Xw{resolveComponentFactory(r){throw function Jw(n){const r=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let lg=(()=>{class n{}return n.NULL=new Xw,n})();class kd{}class J0{}class X0{}function tI(){return sf(fi(),mt())}function sf(n,r){return new cg(Q(n,r))}let cg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=tI,n})();function nI(n){return n instanceof cg?n.nativeElement:n}class eE{}let rI=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sI(){const n=mt(),s=kt(fi().index,n);return function iI(n){return n[11]}(ut(s)?s:n)}(),n})(),oI=(()=>{class n{}return n.\u0275prov=gn({token:n,providedIn:"root",factory:()=>null}),n})();class tE{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const nE=new tE("14.0.3"),Ov={};function Ly(n,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(dr(d)),wt(d))for(let b=10;b<d.length;b++){const S=d[b],B=S[1].firstChild;null!==B&&Ly(S[1],S,B,a)}const _=s.type;if(8&_)Ly(n,r,s.child,a);else if(32&_){const b=Ef(s,r);let S;for(;S=b();)a.push(S)}else if(16&_){const b=Zc(r,s);if(Array.isArray(b))a.push(...b);else{const S=Wc(r[16]);Ly(S[1],S,b,a,!0)}}s=l?s.projectionNext:s.next}return a}class dg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ly(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(wt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(If(r,a),uo(s,a))}this._attachedToViewContainer=!1}Lg(this._lView[1],this._lView)}onDestroy(r){Th(this._lView[1],this._lView,null,r)}markForCheck(){gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xh(n,r,s){const a=r[10];a.begin&&a.begin();try{Ec(n,r,n.template,s)}catch(l){throw Tp(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a_(n,r){Xu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=r}}class aI extends dg{constructor(r){super(r),this._view=r}detectChanges(){Mm(this._view)}checkNoChanges(){}get context(){return null}}class kv extends lg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=fe(r);return new Fv(s,this.ngModule)}}function rE(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class lI{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,Ov,a);return l!==Ov||s===Ov?l:this.parentInjector.get(r,s,a)}}class Fv extends X0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function xf(n){return n.map(m_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return rE(this.componentDef.inputs)}get outputs(){return rE(this.componentDef.outputs)}create(r,s,a,l){let d=(l=l||this.ngModule)instanceof ku?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const _=d?new lI(r,d):r,b=_.get(eE,Or),S=_.get(oI,null),B=b.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",re=a?function Ch(n,r,s){if(Wn(n))return n.selectRootElement(r,s===xn.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(B,a,this.componentDef.encapsulation):wf(b.createRenderer(null,this.componentDef),q,function uI(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(q)),Se=this.componentDef.onPush?288:272,Ge=function kp(n,r){return{components:[],scheduler:n||xg,clean:bp,playerHandler:r||null,flags:0}}(),It=bh(0,null,null,1,0,null,null,null,null,null),Vt=zl(null,It,Ge,Se,null,null,b,B,S,_,null);let en,pn;xo(Vt);try{const qn=function Vm(n,r,s,a,l,d){const _=s[1];s[22]=n;const S=vc(_,22,2,"#host",null),B=S.mergedAttrs=r.hostAttrs;null!==B&&(yd(S,B,!0),null!==n&&(Li(l,n,B),null!==S.classes&&Sf(l,n,S.classes),null!==S.styles&&Af(l,n,S.styles)));const q=a.createRenderer(n,r),re=zl(s,dp(r),null,r.onPush?32:16,s[22],S,a,q,d||null,null,null);return _.firstCreatePass&&(No(ca(S,s),_,r.type),Ah(_,S),vp(S,s.length,1)),Mh(s,re),s[22]=re}(re,this.componentDef,Vt,b,B);if(re)if(a)Li(B,re,["ng-version",nE.full]);else{const{attrs:Pt,classes:On}=function eh(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===l?""!==d&&r.push(d,n[++a]):8===l&&s.push(d);else{if(!gu(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Pt&&Li(B,re,Pt),On&&On.length>0&&Sf(B,re,On.join(" "))}if(pn=Be(It,22),void 0!==s){const Pt=pn.projection=[];for(let On=0;On<this.ngContentSelectors.length;On++){const si=s[On];Pt.push(null!=si?Array.from(si):null)}}en=function Um(n,r,s,a,l){const d=s[1],_=function j_(n,r,s){const a=fi();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Sh(n,a,r,bl(n,r,1,null),s));const l=ha(r,n,a.directiveStart,a);Gs(l,r);const d=Q(a,r);return d&&Gs(d,r),l}(d,s,r);if(a.components.push(_),n[8]=_,null!==l)for(const S of l)S(_,r);if(r.contentQueries){const S=fi();r.contentQueries(1,_,S.directiveStart)}const b=fi();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(fo(b.index),bm(s[1],b,0,b.directiveStart,b.directiveEnd,r),Cm(r,_)),_}(qn,this.componentDef,Vt,Ge,[Fp]),Wl(It,Vt,null)}finally{Ps()}return new dI(this.componentType,en,sf(pn,Vt),Vt,pn)}}class dI extends class eI{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new aI(l),this.componentType=r}get injector(){return new Na(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function hI(n,r){return new iE(n,r??null)}class iE extends kd{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const a=Tt(r);this._bootstrapComponents=fu(a.bootstrap),this._r3Injector=Uf(r,s,[{provide:kd,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],Pe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(r)}get(r,s=Fu.THROW_IF_NOT_FOUND,a=Qt.Default){return r===Fu||r===kd||r===cc?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Lv extends J0{constructor(r){super(),this.moduleType=r}create(r){return new iE(this.moduleType,r)}}class fI extends kd{constructor(r,s,a){super(),this.componentFactoryResolver=new kv(this),this.instance=null;const l=new Ff([...r,{provide:kd,useValue:this},{provide:lg,useValue:this.componentFactoryResolver}],s||tl(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Vv(n,r=null,s=null){return new fI(n,r,s).injector}function sE(n,r,s,a,l,d,_){return function lE(n,r,s,a,l,d,_,b,S){const B=r+s;return function di(n,r,s,a,l,d){const _=Ic(n,r,s,a);return Ic(n,r+2,l,d)||_}(n,B,l,d,_,b)?Vu(n,B+4,S?a.call(S,l,d,_,b):a(l,d,_,b)):hg(n,B+4)}(mt(),mr(),n,r,s,a,l,d,_)}function hg(n,r){const s=n[r];return s===or?void 0:s}function dE(n,r){const s=Xn();let a;const l=n+22;s.firstCreatePass?(a=function TI(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=wi(a.type)),_=Dn($l);try{const b=Po(!1),S=d();return Po(b),function Bh(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,mt(),l,S),S}finally{Dn(_)}}function hE(n,r,s){const a=n+22,l=mt(),d=yt(l,a);return fg(l,a)?function oE(n,r,s,a,l,d){const _=r+s;return Cr(n,_,l)?Vu(n,_+1,d?a.call(d,l):a(l)):hg(n,_+1)}(l,mr(),r,d.transform,s,d):d.transform(s)}function fE(n,r,s,a){const l=n+22,d=mt(),_=yt(d,l);return fg(d,l)?function aE(n,r,s,a,l,d,_){const b=r+s;return Ic(n,b,l,d)?Vu(n,b+2,_?a.call(_,l,d):a(l,d)):hg(n,b+2)}(d,mr(),r,_.transform,s,a,_):_.transform(s,a)}function fg(n,r){return n[1].data[r].pure}function Uv(n){return r=>{setTimeout(n,void 0,r)}}const Nl=class xI extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,d=s||(()=>null),_=a;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),d=S.error?.bind(S),_=S.complete?.bind(S)}this.__isAsync&&(d=Uv(d),l&&(l=Uv(l)),_&&(_=Uv(_)));const b=super.subscribe({next:l,error:d,complete:_});return r instanceof v.w0&&r.add(b),b}};function PI(){return this._results[Cl()]()}class Bv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Cl(),a=Bv.prototype;a[s]||(a[s]=PI)}get changes(){return this._changes||(this._changes=new Nl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=rs(r);(this._changesDetected=!function Ke(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pg=(()=>{class n{}return n.__NG_ELEMENT_ID__=OI,n})();const NI=pg,RI=class extends NI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=zl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(a)),Wl(a,l,r),new dg(l)}};function OI(){return Vy(fi(),mt())}function Vy(n,r){return 4&n.type?new RI(r,n,sf(n,r)):null}let Uy=(()=>{class n{}return n.__NG_ELEMENT_ID__=kI,n})();function kI(){return mE(fi(),mt())}const FI=Uy,pE=class extends FI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new Na(this._hostTNode,this._hostLView)}get parentInjector(){const r=ji(this._hostTNode,this._hostLView);if(oo(r)){const s=zo(r,this._hostLView),a=xa(r);return new Na(s[1].data[a+8],s)}return new Na(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=gE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const _=r.createEmbeddedView(s||{},d);return this.insert(_,l),_}createComponent(r,s,a,l,d){const _=r&&!function Ns(n){return"function"==typeof n}(r);let b;if(_)b=s;else{const re=s||{};b=re.index,a=re.injector,l=re.projectableNodes,d=re.environmentInjector||re.ngModuleRef}const S=_?r:new Fv(fe(r)),B=a||this.parentInjector;if(!d&&null==S.ngModule){const Se=(_?B:this.parentInjector).get(ku,null);Se&&(d=Se)}const q=S.create(B,l,void 0,d);return this.insert(q.hostView,b),q}insert(r,s){const a=r._lView,l=a[1];if(function ir(n){return wt(n[3])}(a)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const re=a[3],Se=new pE(re,re[6],re[3]);Se.detach(Se.indexOf(r))}}const d=this._adjustIndex(s),_=this._lContainer;!function l_(n,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Ro(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function c_(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const b=r[19];null!==b&&b.insertView(n),r[2]|=64}(l,a,_,d);const b=Qu(d,_),S=a[11],B=uc(S,_[7]);return null!==B&&function o_(n,r,s,a,l,d){a[0]=l,a[6]=r,Xu(n,a,s,1,l,d)}(l,_[6],S,a,B,b),r.attachToViewContainerRef(),Ro(jv(_),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=gE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=If(this._lContainer,s);a&&(uo(jv(this._lContainer),s),Lg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=If(this._lContainer,s);return a&&null!=uo(jv(this._lContainer),s)?new dg(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function gE(n){return n[8]}function jv(n){return n[8]||(n[8]=[])}function mE(n,r){let s;const a=r[n.index];if(wt(a))s=a;else{let l;if(8&n.type)l=dr(a);else{const d=r[11];l=d.createComment("");const _=Q(n,r);yl(d,uc(d,_),l,function wo(n,r){return Wn(n)?n.nextSibling(r):r.nextSibling}(d,_),!1)}r[n.index]=s=Am(a,r,l,n),Mh(r,s)}return new pE(s,n,r)}class $v{constructor(r){this.queryList=r,this.matches=null}clone(){return new $v(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const _=s.getByIndex(d);l.push(this.queries[_.indexInDeclarationView].clone())}return new Hv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==bE(r,s).matches&&this.queries[s].setDirty()}}class yE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Gv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Gv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class zv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new zv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,UI(s,d)),this.matchTNodeWithReadOption(r,s,bi(s,r,d,!1,!1))}else a===pg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,bi(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===cg||l===Uy||l===pg&&4&s.type)this.addMatch(s.index,-2);else{const d=bi(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function UI(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function jI(n,r,s,a){return-1===s?function BI(n,r){return 11&n.type?sf(n,r):4&n.type?Vy(n,r):null}(r,n):-2===s?function $I(n,r,s){return s===cg?sf(r,n):s===pg?Vy(r,n):s===Uy?mE(r,n):void 0}(n,r,a):ha(n,n[1],s,r)}function _E(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=n.data,_=s.matches,b=[];for(let S=0;S<_.length;S+=2){const B=_[S];b.push(B<0?null:jI(r,d[B],_[S+1],s.metadata.read))}l.matches=b}return l.matches}function Wv(n,r,s,a){const l=n.queries.getByIndex(s),d=l.matches;if(null!==d){const _=_E(n,r,l,s);for(let b=0;b<d.length;b+=2){const S=d[b];if(S>0)a.push(_[b/2]);else{const B=d[b+1],q=r[-S];for(let re=10;re<q.length;re++){const Se=q[re];Se[17]===Se[3]&&Wv(Se[1],Se,B,a)}if(null!==q[9]){const re=q[9];for(let Se=0;Se<re.length;Se++){const Ge=re[Se];Wv(Ge[1],Ge,B,a)}}}}}return a}function vE(n){const r=mt(),s=Xn(),a=Ta();Ho(a+1);const l=bE(s,a);if(n.dirty&&Mr(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?Wv(s,r,a,[]):_E(s,r,l,a);n.reset(d,nI),n.notifyOnChanges()}return!0}return!1}function EE(n,r,s,a){const l=Xn();if(l.firstCreatePass){const d=fi();(function DE(n,r,s){null===n.queries&&(n.queries=new Gv),n.queries.track(new zv(r,s))})(l,new yE(r,s,a),d.index),function zI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function IE(n,r,s){const a=new Bv(4==(4&s));Th(n,r,a,a.destroy),null===r[19]&&(r[19]=new Hv),r[19].queries.push(new $v(a))}(l,mt(),s)}function wE(){return function GI(n,r){return n[19].queries[r].queryList}(mt(),Ta())}function bE(n,r){return n.queries.getByIndex(r)}function CE(n,r){return Vy(n,r)}function uf(n){const r=fe(n)||pe(n)||it(n);return null!==r&&r.standalone}function jy(...n){}const GE=new _n("Application Initializer");let $y=(()=>{class n{constructor(s){this.appInits=s,this.resolve=jy,this.reject=jy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(sl(d))s.push(d);else if(Wp(d)){const _=new Promise((b,S)=>{d.subscribe({complete:b,error:S})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(cn(GE,8))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zE=new _n("AppId",{providedIn:"root",factory:function WE(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qE=new _n("Platform Initializer"),dD=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KE=new _n("appBootstrapListener"),hD=new _n("AnimationModuleType");let fD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hy=new _n("LocaleId",{providedIn:"root",factory:()=>function En(n,r=Qt.Default){return cn(n,r)}(Hy,Qt.Optional|Qt.SkipSelf)||function pD(){return typeof $localize<"u"&&$localize.locale||ec}()}),gD=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let yD=(()=>{class n{compileModuleSync(s){return new Lv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=fu(Tt(s).declarations).reduce((_,b)=>{const S=fe(b);return S&&_.push(new Fv(S)),_},[]);return new mD(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vD=(()=>Promise.resolve(0))();function Jv(n){typeof Zone>"u"?vD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Du{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nl(!1),this.onMicrotaskEmpty=new Nl(!1),this.onStable=new Nl(!1),this.onError=new Nl(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ED(){let n=Ot.requestAnimationFrame,r=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function DD(n){const r=()=>{!function ID(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,Xv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,_,b)=>{try{return ZE(n),s.invokeTask(l,d,_,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),YE(n)}},onInvoke:(s,a,l,d,_,b,S)=>{try{return ZE(n),s.invoke(l,d,_,b,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),YE(n)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,e0(n),Xv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,_=d.scheduleEventTask("NgZoneEvent: "+l,r,wD,jy,jy);try{return d.runTask(_,s,a)}finally{d.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const wD={};function Xv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YE(n){n._nesting--,Xv(n)}class bD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nl,this.onMicrotaskEmpty=new Nl,this.onStable=new Nl,this.onError=new Nl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const QE=new _n(""),JE=new _n("");let t0,CD=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function TD(n){t0=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Du.assertNotInAngularZone(),Jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(cn(Du),cn(XE),cn(JE))},n.\u0275prov=gn({token:n,factory:n.\u0275fac}),n})(),XE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return t0?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vc=null;const ew=new _n("AllowMultipleToken"),tw=new _n("PlatformOnDestroy");class MD{constructor(r,s){this.name=r,this.token=s}}function rw(n,r,s=[]){const a=`Platform: ${r}`,l=new _n(a);return(d=[])=>{let _=n0();if(!_||_.injector.get(ew,!1)){const b=[...s,...d,{provide:l,useValue:!0}];n?n(b):function xD(n){if(Vc&&!Vc.get(ew,!1))throw new Je(400,!1);Vc=n;const r=n.get(sw);(function nw(n){const r=n.get(qE,null);r&&r.forEach(s=>s())})(n)}(function iw(n=[],r){return Fu.create({name:r,providers:[{provide:kf,useValue:"platform"},{provide:tw,useValue:()=>Vc=null},...n]})}(b,a))}return function ND(n){const r=n0();if(!r)throw new Je(401,!1);return r}()}}function n0(){return Vc?.get(sw)??null}let sw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function RD(n,r){let s;return s="noop"===n?new bD:("zone.js"===n?void 0:n)||new Du(r),s}(a?.ngZone,function ow(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:Du,useValue:l}];return l.run(()=>{const _=Fu.create({providers:d,parent:this.injector,name:s.moduleType.name}),b=s.create(_),S=b.injector.get(ka,null);if(!S)throw new Je(402,!1);return l.runOutsideAngular(()=>{const B=l.onError.subscribe({next:q=>{S.handleError(q)}});b.onDestroy(()=>{zy(this._modules,b),B.unsubscribe()})}),function aw(n,r,s){try{const a=s();return sl(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(S,l,()=>{const B=b.injector.get($y);return B.runInitializers(),B.donePromise.then(()=>(function Nd(n){Pn(n,"Expected localeId to be defined"),"string"==typeof n&&(tf=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Hy,ec)||ec),this._moduleDoBootstrap(b),b))})})}bootstrapModule(s,a=[]){const l=uw({},a);return function AD(n,r,s){const a=new Lv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Gy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Je(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._injector.get(tw,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(cn(Fu))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function uw(n,r){return Array.isArray(r)?r.reduce(uw,n):{...n,...r}}let Gy=(()=>{class n{constructor(s,a,l,d){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),b=new H.y(S=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Du.assertNotInAngularZone(),Jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{Du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{B.unsubscribe(),q.unsubscribe()}});this.isStable=(0,he.T)(_,b.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof X0;if(!this._initStatus.done)throw!l&&uf(s),new Je(405,false);let d;d=l?s:this._injector.get(lg).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const _=function SD(n){return n.isBoundToModule}(d)?void 0:this._injector.get(kd),S=d.create(Fu.NULL,[],a||d.selector,_),B=S.location.nativeElement,q=S.injector.get(QE,null);return q?.registerApplication(B),S.onDestroy(()=>{this.detachView(S.hostView),zy(this.components,S),q?.unregisterApplication(B)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;zy(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(KE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>zy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Je(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(cn(Du),cn(Fu),cn(ka),cn($y))},n.\u0275prov=gn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let cw=!0,dw=!1;function kD(){return dw=!0,cw}function FD(){if(dw)throw new Error("Cannot enable prod mode after platform setup.");cw=!1}let LD=(()=>{class n{}return n.__NG_ELEMENT_ID__=VD,n})();function VD(n){return function UD(n,r,s){if(Zn(n)&&!s){const a=kt(n.index,r);return new dg(a,a)}return 47&n.type?new dg(r[16],r):null}(fi(),mt(),16==(16&n))}class gw{constructor(){}supports(r){return Tl(r)}create(r){return new zD(r)}}const GD=(n,r)=>r;class zD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||GD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const _=!a||s&&s.currentIndex<yw(a,l,d)?s:a,b=yw(_,l,d),S=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{d||(d=[]);const B=b-l,q=S-l;if(B!=q){for(let Se=0;Se<B;Se++){const Ge=Se<d.length?d[Se]:d[Se]=0,It=Ge+Se;q<=It&&It<B&&(d[Se]=Ge+1)}d[_.previousIndex]=q-B}}b!==S&&r(_,b,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Tl(r))throw new Je(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let b=0;b<this.length;b++)d=r[b],_=this._trackByFn(b,d),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,d,_,b)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,_,b),a=!0),s=s._next}else l=0,function Hm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Cl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,b=>{_=this._trackByFn(l,b),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,b,_,l)),Object.is(s.item,b)||this._addIdentityChange(s,b)):(s=this._mismatch(s,b,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new WD(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new mw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class WD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class mw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new qD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class _w{constructor(){}supports(r){return r instanceof Map||Vp(r)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Vp(r)))throw new Je(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,_=l._next;return d&&(d._next=_),_&&(_._prev=d),l._next=null,l._prev=null,l}const a=new ZD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class ZD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vw(){return new u0([new gw])}let u0=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||vw()),deps:[[n,new J,new T]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Je(901,!1)}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:vw}),n})();function Ew(){return new l0([new _w])}let l0=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ew()),deps:[[n,new J,new T]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Je(901,!1)}}return n.\u0275prov=gn({token:n,providedIn:"root",factory:Ew}),n})();const JD=rw(null,"core",[]);let XD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(cn(Gy))},n.\u0275mod=mn({type:n}),n.\u0275inj=kn({}),n})();function eb(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Gt,ze,j)=>{j.d(ze,{Fj:()=>ce,qu:()=>na,NI:()=>Zn,u:()=>ys,sg:()=>Ii,u5:()=>hr,JJ:()=>Er,JL:()=>Vr,F:()=>ut,On:()=>Co,UX:()=>co,Q7:()=>we,kI:()=>st,_Y:()=>ea});var m=j(4650),v=j(6895),H=j(9751),he=j(4742),Ee=j(8421),De=j(7669),ke=j(5403),Pe=j(3268),xe=j(1810),ne=j(8996),ye=j(4004);let ht=(()=>{class L{constructor(x,Z){this._renderer=x,this._elementRef=Z,this.onChange=et=>{},this.onTouched=()=>{}}setProperty(x,Z){this._renderer.setProperty(this._elementRef.nativeElement,x,Z)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(m.Qsj),m.Y36(m.SBq))},L.\u0275dir=m.lG2({type:L}),L})(),Qe=(()=>{class L extends ht{}return L.\u0275fac=function(){let R;return function(Z){return(R||(R=m.n5z(L)))(Z||L)}}(),L.\u0275dir=m.lG2({type:L,features:[m.qOj]}),L})();const Je=new m.OlP("NgValueAccessor"),We={provide:Je,useExisting:(0,m.Gpc)(()=>ce),multi:!0},Lt=new m.OlP("CompositionEventMode");let ce=(()=>{class L extends ht{constructor(x,Z,et){super(x,Z),this._compositionMode=et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jt(){const L=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Lt,8))},L.\u0275dir=m.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,Z){1&x&&m.NdJ("input",function(Zt){return Z._handleInput(Zt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(Zt){return Z._compositionEnd(Zt.target.value)})},features:[m._Bn([We]),m.qOj]}),L})();function ot(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Xe(L){return null!=L&&"number"==typeof L.length}const Et=new m.OlP("NgValidators"),oe=new m.OlP("NgAsyncValidators"),qe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(R){return function ie(L){return R=>{if(ot(R.value)||ot(L))return null;const x=parseFloat(R.value);return!isNaN(x)&&x<L?{min:{min:L,actual:R.value}}:null}}(R)}static max(R){return function Le(L){return R=>{if(ot(R.value)||ot(L))return null;const x=parseFloat(R.value);return!isNaN(x)&&x>L?{max:{max:L,actual:R.value}}:null}}(R)}static required(R){return be(R)}static requiredTrue(R){return function Ze(L){return!0===L.value?null:{required:!0}}(R)}static email(R){return function $e(L){return ot(L.value)||qe.test(L.value)?null:{email:!0}}(R)}static minLength(R){return function Dt(L){return R=>ot(R.value)||!Xe(R.value)?null:R.value.length<L?{minlength:{requiredLength:L,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function sn(L){return R=>Xe(R.value)&&R.value.length>L?{maxlength:{requiredLength:L,actualLength:R.value.length}}:null}(R)}static pattern(R){return function nn(L){if(!L)return Pn;let R,x;return"string"==typeof L?(x="","^"!==L.charAt(0)&&(x+="^"),x+=L,"$"!==L.charAt(L.length-1)&&(x+="$"),R=new RegExp(x)):(x=L.toString(),R=L),Z=>{if(ot(Z.value))return null;const et=Z.value;return R.test(et)?null:{pattern:{requiredPattern:x,actualValue:et}}}}(R)}static nullValidator(R){return null}static compose(R){return kn(R)}static composeAsync(R){return ar(R)}}function be(L){return ot(L.value)?{required:!0}:null}function Pn(L){return null}function Nt(L){return null!=L}function Hn(L){const R=(0,m.QGY)(L)?(0,ne.D)(L):L;return(0,m.CqO)(R),R}function In(L){let R={};return L.forEach(x=>{R=null!=x?{...R,...x}:R}),0===Object.keys(R).length?null:R}function Jn(L,R){return R.map(x=>x(L))}function dn(L){return L.map(R=>function gn(L){return!L.validate}(R)?R:x=>R.validate(x))}function kn(L){if(!L)return null;const R=L.filter(Nt);return 0==R.length?null:function(x){return In(Jn(x,R))}}function Vn(L){return null!=L?kn(dn(L)):null}function ar(L){if(!L)return null;const R=L.filter(Nt);return 0==R.length?null:function(x){return function de(...L){const R=(0,De.jO)(L),{args:x,keys:Z}=(0,he.D)(L),et=new H.y(Zt=>{const{length:br}=x;if(!br)return void Zt.complete();const ei=new Array(br);let mr=br,pi=br;for(let xs=0;xs<br;xs++){let oi=!1;(0,Ee.Xf)(x[xs]).subscribe((0,ke.x)(Zt,as=>{oi||(oi=!0,pi--),ei[xs]=as},()=>mr--,void 0,()=>{(!mr||!oi)&&(pi||Zt.next(Z?(0,xe.n)(Z,ei):ei),Zt.complete())}))}});return R?et.pipe((0,Pe.Z)(R)):et}(Jn(x,R).map(Hn)).pipe((0,ye.U)(In))}}function _r(L){return null!=L?ar(dn(L)):null}function Ir(L,R){return null===L?[R]:Array.isArray(L)?[...L,R]:[L,R]}function Nr(L){return L._rawValidators}function Qr(L){return L._rawAsyncValidators}function Dr(L){return L?Array.isArray(L)?L:[L]:[]}function vr(L,R){return Array.isArray(L)?L.includes(R):L===R}function ur(L,R){const x=Dr(R);return Dr(L).forEach(et=>{vr(x,et)||x.push(et)}),x}function Qt(L,R){return Dr(R).filter(x=>!vr(L,x))}class nr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=Vn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=_r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,x){return!!this.control&&this.control.hasError(R,x)}getError(R,x){return this.control?this.control.getError(R,x):null}}class Cn extends nr{get formDirective(){return null}get path(){return null}}class Dn extends nr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gr{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Er=(()=>{class L extends Gr{constructor(x){super(x)}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(Dn,2))},L.\u0275dir=m.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,Z){2&x&&m.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[m.qOj]}),L})(),Vr=(()=>{class L extends Gr{constructor(x){super(x)}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(Cn,10))},L.\u0275dir=m.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,Z){2&x&&m.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[m.qOj]}),L})();const Mt="VALID",mn="INVALID",Fn="PENDING",Un="DISABLED";function Nn(L){return(it(L)?L.validators:L)||null}function Ue(L){return Array.isArray(L)?Vn(L):L||null}function fe(L,R){return(it(R)?R.asyncValidators:L)||null}function pe(L){return Array.isArray(L)?_r(L):L||null}function it(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function Tt(L,R,x){const Z=L.controls;if(!(R?Object.keys(Z):Z).length)throw new m.vHH(1e3,"");if(!Z[x])throw new m.vHH(1001,"")}function Jt(L,R,x){L._forEachChild((Z,et)=>{if(void 0===x[et])throw new m.vHH(1002,"")})}class ct{constructor(R,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=x,this._composedValidatorFn=Ue(this._rawValidators),this._composedAsyncValidatorFn=pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Mt}get invalid(){return this.status===mn}get pending(){return this.status==Fn}get disabled(){return this.status===Un}get enabled(){return this.status!==Un}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=Ue(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=pe(R)}addValidators(R){this.setValidators(ur(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(ur(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Qt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Qt(R,this._rawAsyncValidators))}hasValidator(R){return vr(this._rawValidators,R)}hasAsyncValidator(R){return vr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Fn,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=Un,this.errors=null,this._forEachChild(Z=>{Z.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:x}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(R={}){const x=this._parentMarkedDirty(R.onlySelf);this.status=Mt,this._forEachChild(Z=>{Z.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:x}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mt||this.status===Fn)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Un:Mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const x=Hn(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,x={}){this.errors=R,this._updateControlsErrors(!1!==x.emitEvent)}get(R){let x=R;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((Z,et)=>Z&&Z._find(et),this)}getError(R,x){const Z=x?this.get(x):this;return Z&&Z.errors?Z.errors[R]:null}hasError(R,x){return!!this.getError(R,x)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Un:this.errors?mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(mn)?mn:Mt}_anyControlsHaveStatus(R){return this._anyControls(x=>x.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){it(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}class gt extends ct{constructor(R,x,Z){super(Nn(x),fe(Z,x)),this.controls=R,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,x){return this.controls[R]?this.controls[R]:(this.controls[R]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(R,x,Z={}){this.registerControl(R,x),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(R,x={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(R,x,Z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],x&&this.registerControl(R,x),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,x={}){Jt(this,0,R),Object.keys(R).forEach(Z=>{Tt(this,!0,Z),this.controls[Z].setValue(R[Z],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(R,x={}){null!=R&&(Object.keys(R).forEach(Z=>{const et=this.controls[Z];et&&et.patchValue(R[Z],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(R={},x={}){this._forEachChild((Z,et)=>{Z.reset(R[et],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(R,x,Z)=>(R[Z]=x.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(x,Z)=>!!Z._syncPendingControls()||x);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(x=>{const Z=this.controls[x];Z&&R(Z,x)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[x,Z]of Object.entries(this.controls))if(this.contains(x)&&R(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,Z,et)=>((Z.enabled||this.disabled)&&(x[et]=Z.value),x))}_reduceChildren(R,x){let Z=R;return this._forEachChild((et,Zt)=>{Z=x(Z,et,Zt)}),Z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}function dt(L,R){return[...R.path,L]}function Ut(L,R){cr(L,R),R.valueAccessor.writeValue(L.value),L.disabled&&R.valueAccessor.setDisabledState?.(!0),function qr(L,R){R.valueAccessor.registerOnChange(x=>{L._pendingValue=x,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&wr(L,R)})}(L,R),function fs(L,R){const x=(Z,et)=>{R.valueAccessor.writeValue(Z),et&&R.viewToModelUpdate(Z)};L.registerOnChange(x),R._registerOnDestroy(()=>{L._unregisterOnChange(x)})}(L,R),function hi(L,R){R.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&wr(L,R),"submit"!==L.updateOn&&L.markAsTouched()})}(L,R),function tn(L,R){if(R.valueAccessor.setDisabledState){const x=Z=>{R.valueAccessor.setDisabledState(Z)};L.registerOnDisabledChange(x),R._registerOnDestroy(()=>{L._unregisterOnDisabledChange(x)})}}(L,R)}function Rn(L,R,x=!0){const Z=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(Z),R.valueAccessor.registerOnTouched(Z)),rr(L,R),L&&(R._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function tr(L,R){L.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(R)})}function cr(L,R){const x=Nr(L);null!==R.validator?L.setValidators(Ir(x,R.validator)):"function"==typeof x&&L.setValidators([x]);const Z=Qr(L);null!==R.asyncValidator?L.setAsyncValidators(Ir(Z,R.asyncValidator)):"function"==typeof Z&&L.setAsyncValidators([Z]);const et=()=>L.updateValueAndValidity();tr(R._rawValidators,et),tr(R._rawAsyncValidators,et)}function rr(L,R){let x=!1;if(null!==L){if(null!==R.validator){const et=Nr(L);if(Array.isArray(et)&&et.length>0){const Zt=et.filter(br=>br!==R.validator);Zt.length!==et.length&&(x=!0,L.setValidators(Zt))}}if(null!==R.asyncValidator){const et=Qr(L);if(Array.isArray(et)&&et.length>0){const Zt=et.filter(br=>br!==R.asyncValidator);Zt.length!==et.length&&(x=!0,L.setAsyncValidators(Zt))}}}const Z=()=>{};return tr(R._rawValidators,Z),tr(R._rawAsyncValidators,Z),x}function wr(L,R){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Wi(L,R){cr(L,R)}function bo(L,R){if(!L.hasOwnProperty("model"))return!1;const x=L.model;return!!x.isFirstChange()||!Object.is(R,x.currentValue)}function qs(L,R){L._syncPendingControls(),R.forEach(x=>{const Z=x.control;"submit"===Z.updateOn&&Z._pendingChange&&(x.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}function Xi(L,R){if(!R)return null;let x,Z,et;return Array.isArray(R),R.forEach(Zt=>{Zt.constructor===ce?x=Zt:function Is(L){return Object.getPrototypeOf(L.constructor)===Qe}(Zt)?Z=Zt:et=Zt}),et||Z||x||null}const Ce={provide:Cn,useExisting:(0,m.Gpc)(()=>ut)},Ve=(()=>Promise.resolve(null))();let ut=(()=>{class L extends Cn{constructor(x,Z){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new gt({},Vn(x),_r(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){Ve.then(()=>{const Z=this._findContainer(x.path);x.control=Z.registerControl(x.name,x.control),Ut(x.control,x),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){Ve.then(()=>{const Z=this._findContainer(x.path);Z&&Z.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){Ve.then(()=>{const Z=this._findContainer(x.path),et=new gt({});Wi(et,x),Z.registerControl(x.name,et),et.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){Ve.then(()=>{const Z=this._findContainer(x.path);Z&&Z.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,Z){Ve.then(()=>{this.form.get(x.path).setValue(Z)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,qs(this.form,this._directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(Et,10),m.Y36(oe,10))},L.\u0275dir=m.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,Z){1&x&&m.NdJ("submit",function(Zt){return Z.onSubmit(Zt)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ce]),m.qOj]}),L})();function wt(L,R){const x=L.indexOf(R);x>-1&&L.splice(x,1)}function zt(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Zn=class extends ct{constructor(R=null,x,Z){super(Nn(x),fe(Z,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),it(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=zt(R)?R.value:R)}setValue(R,x={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(R,x={}){this.setValue(R,x)}reset(R=this.defaultValue,x={}){this._applyFormState(R),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){wt(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){wt(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){zt(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},Vo={provide:Dn,useExisting:(0,m.Gpc)(()=>Co)},Ai=(()=>Promise.resolve(null))();let Co=(()=>{class L extends Dn{constructor(x,Z,et,Zt,br){super(),this._changeDetectorRef=br,this.control=new Zn,this._registered=!1,this.update=new m.vpe,this._parent=x,this._setValidators(Z),this._setAsyncValidators(et),this.valueAccessor=Xi(0,Zt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const Z=x.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),bo(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ut(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Ai.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const Z=x.isDisabled.currentValue,et=0!==Z&&(0,m.D6c)(Z);Ai.then(()=>{et&&!this.control.disabled?this.control.disable():!et&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?dt(x,this._parent):[x]}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(Cn,9),m.Y36(Et,10),m.Y36(oe,10),m.Y36(Je,10),m.Y36(m.sBO,8))},L.\u0275dir=m.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Vo]),m.qOj,m.TTD]}),L})(),ea=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275dir=m.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),Da=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=m.oAB({type:L}),L.\u0275inj=m.cJS({}),L})();const So=new m.OlP("NgModelWithFormControlWarning"),wi={provide:Cn,useExisting:(0,m.Gpc)(()=>Ii)};let Ii=(()=>{class L extends Cn{constructor(x,Z){super(),this.validators=x,this.asyncValidators=Z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(x),this._setAsyncValidators(Z)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const Z=this.form.get(x.path);return Ut(Z,x),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),Z}getControl(x){return this.form.get(x.path)}removeControl(x){Rn(x.control||null,x,!1),function is(L,R){const x=L.indexOf(R);x>-1&&L.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,Z){this.form.get(x.path).setValue(Z)}onSubmit(x){return this.submitted=!0,qs(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const Z=x.control,et=this.form.get(x.path);Z!==et&&(Rn(Z||null,x),(L=>L instanceof Zn)(et)&&(Ut(et,x),x.control=et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const Z=this.form.get(x.path);Wi(Z,x),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const Z=this.form.get(x.path);Z&&function Kr(L,R){return rr(L,R)}(Z,x)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cr(this.form,this),this._oldForm&&rr(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(x){return new(x||L)(m.Y36(Et,10),m.Y36(oe,10))},L.\u0275dir=m.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(x,Z){1&x&&m.NdJ("submit",function(Zt){return Z.onSubmit(Zt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([wi]),m.qOj,m.TTD]}),L})();const Ys={provide:Dn,useExisting:(0,m.Gpc)(()=>ys)};let ys=(()=>{class L extends Dn{constructor(x,Z,et,Zt,br){super(),this._ngModelWarningConfig=br,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(Z),this._setAsyncValidators(et),this.valueAccessor=Xi(0,Zt)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),bo(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(x){return new(x||L)(m.Y36(Cn,13),m.Y36(Et,10),m.Y36(oe,10),m.Y36(Je,10),m.Y36(So,8))},L.\u0275dir=m.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Ys]),m.qOj,m.TTD]}),L})(),Or=(()=>{class L{constructor(){this._validator=Pn}ngOnChanges(x){if(this.inputName in x){const Z=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):Pn,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275dir=m.lG2({type:L,features:[m.TTD]}),L})();const k={provide:Et,useExisting:(0,m.Gpc)(()=>we),multi:!0};let we=(()=>{class L extends Or{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=x=>be}enabled(x){return x}}return L.\u0275fac=function(){let R;return function(Z){return(R||(R=m.n5z(L)))(Z||L)}}(),L.\u0275dir=m.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,Z){2&x&&m.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([k]),m.qOj]}),L})(),Bi=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=m.oAB({type:L}),L.\u0275inj=m.cJS({imports:[Da]}),L})(),hr=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=m.oAB({type:L}),L.\u0275inj=m.cJS({imports:[Bi]}),L})(),co=(()=>{class L{static withConfig(x){return{ngModule:L,providers:[{provide:So,useValue:x.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=m.oAB({type:L}),L.\u0275inj=m.cJS({imports:[Bi]}),L})();class Ki extends ct{constructor(R,x,Z){super(Nn(x),fe(Z,x)),this.controls=R,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,x={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(R,x,Z={}){this.controls.splice(R,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(R,x={}){let Z=this._adjustIndex(R);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(R,x,Z={}){let et=this._adjustIndex(R);et<0&&(et=0),this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),this.controls.splice(et,1),x&&(this.controls.splice(et,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,x={}){Jt(this,0,R),R.forEach((Z,et)=>{Tt(this,!1,et),this.at(et).setValue(Z,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(R,x={}){null!=R&&(R.forEach((Z,et)=>{this.at(et)&&this.at(et).patchValue(Z,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(R=[],x={}){this._forEachChild((Z,et)=>{Z.reset(R[et],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((x,Z)=>!!Z._syncPendingControls()||x,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((x,Z)=>{R(x,Z)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(x=>x.enabled&&R(x))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function mt(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let na=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new L;return x.useNonNullable=!0,x}group(x,Z=null){const et=this._reduceControls(x);let ei,Zt=null,br=null;return null!==Z&&(mt(Z)?(Zt=null!=Z.validators?Z.validators:null,br=null!=Z.asyncValidators?Z.asyncValidators:null,ei=null!=Z.updateOn?Z.updateOn:void 0):(Zt=null!=Z.validator?Z.validator:null,br=null!=Z.asyncValidator?Z.asyncValidator:null)),new gt(et,{asyncValidators:br,updateOn:ei,validators:Zt})}control(x,Z,et){let Zt={};return this.useNonNullable?(mt(Z)?Zt=Z:(Zt.validators=Z,Zt.asyncValidators=et),new Zn(x,{...Zt,nonNullable:!0})):new Zn(x,Z,et)}array(x,Z,et){const Zt=x.map(br=>this._createControl(br));return new Ki(Zt,Z,et)}_reduceControls(x){const Z={};return Object.keys(x).forEach(et=>{Z[et]=this._createControl(x[et])}),Z}_createControl(x){return x instanceof Zn||x instanceof ct?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275prov=m.Yz7({token:L,factory:L.\u0275fac,providedIn:co}),L})()},1481:(Gt,ze,j)=>{j.d(ze,{Dx:()=>vi,b2:()=>Gr,q6:()=>Qt,se:()=>Ze});var m=j(6895),v=j(4650);class H extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends H{static makeCurrent(){(0,m.HT)(new he)}onAndCancel(me,se,Me){return me.addEventListener(se,Me,!1),()=>{me.removeEventListener(se,Me,!1)}}dispatchEvent(me,se){me.dispatchEvent(se)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,se){return(se=se||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,se){return"window"===se?window:"document"===se?me:"body"===se?me.body:null}getBaseHref(me){const se=function De(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==se?null:function Pe(Te){ke=ke||document.createElement("a"),ke.setAttribute("href",Te);const me=ke.pathname;return"/"===me.charAt(0)?me:`/${me}`}(se)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,m.Mx)(document.cookie,me)}}let ke,Ee=null;const xe=new v.OlP("TRANSITION_ID"),ne=[{provide:v.ip1,useFactory:function de(Te,me,se){return()=>{se.get(v.CZH).donePromise.then(()=>{const Me=(0,m.q)(),dt=me.querySelectorAll(`style[ng-transition="${Te}"]`);for(let Ut=0;Ut<dt.length;Ut++)Me.remove(dt[Ut])})}},deps:[xe,m.K0,v.zs3],multi:!0}];let ht=(()=>{class Te{build(){return new XMLHttpRequest}}return Te.\u0275fac=function(se){return new(se||Te)},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Qe=new v.OlP("EventManagerPlugins");let Je=(()=>{class Te{constructor(se,Me){this._zone=Me,this._eventNameToPlugin=new Map,se.forEach(dt=>dt.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Me,dt){return this._findPluginFor(Me).addEventListener(se,Me,dt)}addGlobalEventListener(se,Me,dt){return this._findPluginFor(Me).addGlobalEventListener(se,Me,dt)}getZone(){return this._zone}_findPluginFor(se){const Me=this._eventNameToPlugin.get(se);if(Me)return Me;const dt=this._plugins;for(let Ut=0;Ut<dt.length;Ut++){const Rn=dt[Ut];if(Rn.supports(se))return this._eventNameToPlugin.set(se,Rn),Rn}throw new Error(`No event manager plugin found for event ${se}`)}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(Qe),v.LFG(v.R0b))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class Ft{constructor(me){this._doc=me}addGlobalEventListener(me,se,Me){const dt=(0,m.q)().getGlobalEventTarget(this._doc,me);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${se}`);return this.addEventListener(dt,se,Me)}}let nt=(()=>{class Te{constructor(){this._stylesSet=new Set}addStyles(se){const Me=new Set;se.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),Me.add(dt))}),this.onStylesAdded(Me)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return Te.\u0275fac=function(se){return new(se||Te)},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})(),We=(()=>{class Te extends nt{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Me,dt){se.forEach(Ut=>{const Rn=this._doc.createElement("style");Rn.textContent=Ut,dt.push(Me.appendChild(Rn))})}addHost(se){const Me=[];this._addStylesToHost(this._stylesSet,se,Me),this._hostNodes.set(se,Me)}removeHost(se){const Me=this._hostNodes.get(se);Me&&Me.forEach(jt),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Me,dt)=>{this._addStylesToHost(se,dt,Me)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(jt))}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(m.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function jt(Te){(0,m.q)().remove(Te)}const Lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ce=/%COMP%/g;function ie(Te,me,se){for(let Me=0;Me<me.length;Me++){let dt=me[Me];Array.isArray(dt)?ie(Te,dt,se):(dt=dt.replace(ce,Te),se.push(dt))}return se}function Le(Te){return me=>{if("__ngUnwrap__"===me)return Te;!1===Te(me)&&(me.preventDefault(),me.returnValue=!1)}}let Ze=(()=>{class Te{constructor(se,Me,dt){this.eventManager=se,this.sharedStylesHost=Me,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new $e(se)}createRenderer(se,Me){if(!se||!Me)return this.defaultRenderer;switch(Me.encapsulation){case v.ifc.Emulated:{let dt=this.rendererByCompId.get(Me.id);return dt||(dt=new Pn(this.eventManager,this.sharedStylesHost,Me,this.appId),this.rendererByCompId.set(Me.id,dt)),dt.applyToHost(se),dt}case 1:case v.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,se,Me);default:if(!this.rendererByCompId.has(Me.id)){const dt=ie(Me.id,Me.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(Me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(Je),v.LFG(We),v.LFG(v.AFp))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();class $e{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,se){return se?document.createElementNS(Lt[se]||se,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,se){(nn(me)?me.content:me).appendChild(se)}insertBefore(me,se,Me){me&&(nn(me)?me.content:me).insertBefore(se,Me)}removeChild(me,se){me&&me.removeChild(se)}selectRootElement(me,se){let Me="string"==typeof me?document.querySelector(me):me;if(!Me)throw new Error(`The selector "${me}" did not match any elements`);return se||(Me.textContent=""),Me}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,se,Me,dt){if(dt){se=dt+":"+se;const Ut=Lt[dt];Ut?me.setAttributeNS(Ut,se,Me):me.setAttribute(se,Me)}else me.setAttribute(se,Me)}removeAttribute(me,se,Me){if(Me){const dt=Lt[Me];dt?me.removeAttributeNS(dt,se):me.removeAttribute(`${Me}:${se}`)}else me.removeAttribute(se)}addClass(me,se){me.classList.add(se)}removeClass(me,se){me.classList.remove(se)}setStyle(me,se,Me,dt){dt&(v.JOm.DashCase|v.JOm.Important)?me.style.setProperty(se,Me,dt&v.JOm.Important?"important":""):me.style[se]=Me}removeStyle(me,se,Me){Me&v.JOm.DashCase?me.style.removeProperty(se):me.style[se]=""}setProperty(me,se,Me){me[se]=Me}setValue(me,se){me.nodeValue=se}listen(me,se,Me){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,se,Le(Me)):this.eventManager.addEventListener(me,se,Le(Me))}}function nn(Te){return"TEMPLATE"===Te.tagName&&void 0!==Te.content}class Pn extends $e{constructor(me,se,Me,dt){super(me),this.component=Me;const Ut=ie(dt+"-"+Me.id,Me.styles,[]);se.addStyles(Ut),this.contentAttr=function qe(Te){return"_ngcontent-%COMP%".replace(ce,Te)}(dt+"-"+Me.id),this.hostAttr=function st(Te){return"_nghost-%COMP%".replace(ce,Te)}(dt+"-"+Me.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,se){const Me=super.createElement(me,se);return super.setAttribute(Me,this.contentAttr,""),Me}}class Nt extends $e{constructor(me,se,Me,dt){super(me),this.sharedStylesHost=se,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=ie(dt.id,dt.styles,[]);for(let Rn=0;Rn<Ut.length;Rn++){const tr=document.createElement("style");tr.textContent=Ut[Rn],this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,se){return super.appendChild(this.nodeOrShadowRoot(me),se)}insertBefore(me,se,Me){return super.insertBefore(this.nodeOrShadowRoot(me),se,Me)}removeChild(me,se){return super.removeChild(this.nodeOrShadowRoot(me),se)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let Hn=(()=>{class Te extends Ft{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Me,dt){return se.addEventListener(Me,dt,!1),()=>this.removeEventListener(se,Me,dt)}removeEventListener(se,Me,dt){return se.removeEventListener(Me,dt)}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(m.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const In=["alt","control","meta","shift"],gn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kn={alt:Te=>Te.altKey,control:Te=>Te.ctrlKey,meta:Te=>Te.metaKey,shift:Te=>Te.shiftKey};let Vn=(()=>{class Te extends Ft{constructor(se){super(se)}supports(se){return null!=Te.parseEventName(se)}addEventListener(se,Me,dt){const Ut=Te.parseEventName(Me),Rn=Te.eventCallback(Ut.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(se,Ut.domEventName,Rn))}static parseEventName(se){const Me=se.toLowerCase().split("."),dt=Me.shift();if(0===Me.length||"keydown"!==dt&&"keyup"!==dt)return null;const Ut=Te._normalizeKey(Me.pop());let Rn="";if(In.forEach(tn=>{const cr=Me.indexOf(tn);cr>-1&&(Me.splice(cr,1),Rn+=tn+".")}),Rn+=Ut,0!=Me.length||0===Ut.length)return null;const tr={};return tr.domEventName=dt,tr.fullKey=Rn,tr}static getEventFullKey(se){let Me="",dt=function ar(Te){let me=Te.key;if(null==me){if(me=Te.keyIdentifier,null==me)return"Unidentified";me.startsWith("U+")&&(me=String.fromCharCode(parseInt(me.substring(2),16)),3===Te.location&&dn.hasOwnProperty(me)&&(me=dn[me]))}return gn[me]||me}(se);return dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),In.forEach(Ut=>{Ut!=dt&&kn[Ut](se)&&(Me+=Ut+".")}),Me+=dt,Me}static eventCallback(se,Me,dt){return Ut=>{Te.getEventFullKey(Ut)===se&&dt.runGuarded(()=>Me(Ut))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(m.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const Qt=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:m.bD},{provide:v.g9A,useValue:function Qr(){he.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function vr(){return(0,v.RDi)(document),document},deps:[]}]),nr=new v.OlP(""),Cn=[{provide:v.rWj,useClass:class ye{addToWindow(me){v.dqk.getAngularTestability=(Me,dt=!0)=>{const Ut=me.findTestabilityInTree(Me,dt);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},v.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Me=>{const dt=v.dqk.getAllAngularTestabilities();let Ut=dt.length,Rn=!1;const tr=function(tn){Rn=Rn||tn,Ut--,0==Ut&&Me(Rn)};dt.forEach(function(tn){tn.whenStable(tr)})})}findTestabilityInTree(me,se,Me){return null==se?null:me.getTestability(se)??(Me?(0,m.q)().isShadowRoot(se)?this.findTestabilityInTree(me,se.host,!0):this.findTestabilityInTree(me,se.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Dn=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Dr(){return new v.qLn},deps:[]},{provide:Qe,useClass:Hn,multi:!0,deps:[m.K0,v.R0b,v.Lbi]},{provide:Qe,useClass:Vn,multi:!0,deps:[m.K0]},{provide:Ze,useClass:Ze,deps:[Je,We,v.AFp]},{provide:v.FYo,useExisting:Ze},{provide:nt,useExisting:We},{provide:We,useClass:We,deps:[m.K0]},{provide:Je,useClass:Je,deps:[Qe,v.R0b]},{provide:m.JF,useClass:ht,deps:[]},[]];let Gr=(()=>{class Te{constructor(se){}static withServerTransition(se){return{ngModule:Te,providers:[{provide:v.AFp,useValue:se.appId},{provide:xe,useExisting:v.AFp},ne]}}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(nr,12))},Te.\u0275mod=v.oAB({type:Te}),Te.\u0275inj=v.cJS({providers:[...Dn,...Cn],imports:[m.ez,v.hGG]}),Te})(),vi=(()=>{class Te{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return Te.\u0275fac=function(se){return new(se||Te)(v.LFG(m.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:function(se){let Me=null;return Me=se?new se:function Vr(){return new vi((0,v.LFG)(m.K0))}(),Me},providedIn:"root"}),Te})();typeof window<"u"&&window},5072:(Gt,ze,j)=>{j.d(ze,{gz:()=>Rr,F0:()=>ts,rH:()=>ua,yS:()=>oo,Bz:()=>ji,lC:()=>ys});var m=j(6895),v=j(4650),H=j(7579);class he extends H.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const E=super._subscribe(w);return!E.closed&&w.next(this._value),E}getValue(){const{hasError:w,thrownError:E,_value:P}=this;if(w)throw E;return this._throwIfClosed(),P}next(w){super.next(this._value=w)}}var Ee=j(9751),De=j(4742),ke=j(8996),Pe=j(4671),xe=j(3268),de=j(7669),ne=j(1810),ye=j(5403),ht=j(9672);function Qe(...D){const w=(0,de.yG)(D),E=(0,de.jO)(D),{args:P,keys:U}=(0,De.D)(D);if(0===P.length)return(0,ke.D)([],w);const Y=new Ee.y(function Je(D,w,E=Pe.y){return P=>{Ft(w,()=>{const{length:U}=D,Y=new Array(U);let X=U,_e=U;for(let lt=0;lt<U;lt++)Ft(w,()=>{const St=(0,ke.D)(D[lt],w);let Rt=!1;St.subscribe((0,ye.x)(P,Wt=>{Y[lt]=Wt,Rt||(Rt=!0,_e--),_e||P.next(E(Y.slice()))},()=>{--X||P.complete()}))},P)},P)}}(P,w,U?X=>(0,ne.n)(U,X):Pe.y));return E?Y.pipe((0,xe.Z)(E)):Y}function Ft(D,w,E){D?(0,ht.f)(E,D,w):w()}var nt=j(576);function We(D,w){const E=(0,nt.m)(D)?D:()=>D,P=U=>U.error(E());return new Ee.y(w?U=>w.schedule(P,0,U):P)}var jt=j(8421);function Lt(D){return new Ee.y(w=>{(0,jt.Xf)(D()).subscribe(w)})}var ce=j(727),ot=j(4482);function Xe(){return(0,ot.e)((D,w)=>{let E=null;D._refCount++;const P=(0,ye.x)(w,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const U=D._connection,Y=E;E=null,U&&(!Y||U===Y)&&U.unsubscribe(),w.unsubscribe()});D.subscribe(P),P.closed||(E=D.connect())})}class Et extends Ee.y{constructor(w,E){super(),this.source=w,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,ot.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ce.w0;const E=this.getSubject();w.add(this.source.subscribe((0,ye.x)(E,void 0,()=>{this._teardown(),E.complete()},P=>{this._teardown(),E.error(P)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ce.w0.EMPTY)}return w}refCount(){return Xe()(this)}}var oe=j(9646),qe=j(6805),st=j(7272),ie=j(515);function Le(D){return(0,ot.e)((w,E)=>{let Y,P=null,U=!1;P=w.subscribe((0,ye.x)(E,void 0,void 0,X=>{Y=(0,jt.Xf)(D(X,Le(D)(w))),P?(P.unsubscribe(),P=null,Y.subscribe(E)):U=!0})),U&&(P.unsubscribe(),P=null,Y.subscribe(E))})}var be=j(9300);function Ze(D){return D<=0?()=>ie.E:(0,ot.e)((w,E)=>{let P=[];w.subscribe((0,ye.x)(E,U=>{P.push(U),D<P.length&&P.shift()},()=>{for(const U of P)E.next(U);E.complete()},void 0,()=>{P=null}))})}var $e=j(8068),Dt=j(6590),nn=j(4004);function Nt(D){return(0,ot.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(D)}})}var Hn=j(3900),In=j(5698),Jn=j(8675),gn=j(5026),dn=j(4351),kn=j(590),Vn=j(5577),ar=j(8505),_r=j(8189),Ir=j(1481);class Nr{constructor(w,E){this.id=w,this.url=E}}class Qr extends Nr{constructor(w,E,P="imperative",U=null){super(w,E),this.type=0,this.navigationTrigger=P,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dr extends Nr{constructor(w,E,P){super(w,E),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vr extends Nr{constructor(w,E,P){super(w,E),this.reason=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ur extends Nr{constructor(w,E,P){super(w,E),this.error=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qt extends Nr{constructor(w,E,P,U){super(w,E),this.urlAfterRedirects=P,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends Nr{constructor(w,E,P,U){super(w,E),this.urlAfterRedirects=P,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends Nr{constructor(w,E,P,U,Y){super(w,E),this.urlAfterRedirects=P,this.state=U,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dn extends Nr{constructor(w,E,P,U){super(w,E),this.urlAfterRedirects=P,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends Nr{constructor(w,E,P,U){super(w,E),this.urlAfterRedirects=P,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _i{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Er{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(w,E,P){this.routerEvent=w,this.position=E,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const hn="primary";class zr{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E[0]:E}return null}getAll(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function on(D){return new zr(D)}const Wr="ngNavigationCancelingError";function gr(D){const w=Error("NavigationCancelingError: "+D);return w[Wr]=!0,w}function Kn(D,w,E){const P=E.path.split("/");if(P.length>D.length||"full"===E.pathMatch&&(w.hasChildren()||P.length<D.length))return null;const U={};for(let Y=0;Y<P.length;Y++){const X=P[Y],_e=D[Y];if(X.startsWith(":"))U[X.substring(1)]=_e;else if(X!==_e.path)return null}return{consumed:D.slice(0,P.length),posParams:U}}function le(D,w){const E=D?Object.keys(D):void 0,P=w?Object.keys(w):void 0;if(!E||!P||E.length!=P.length)return!1;let U;for(let Y=0;Y<E.length;Y++)if(U=E[Y],!Oe(D[U],w[U]))return!1;return!0}function Oe(D,w){if(Array.isArray(D)&&Array.isArray(w)){if(D.length!==w.length)return!1;const E=[...D].sort(),P=[...w].sort();return E.every((U,Y)=>P[Y]===U)}return D===w}function Re(D){return Array.prototype.concat.apply([],D)}function ae(D){return D.length>0?D[D.length-1]:null}function vt(D,w){for(const E in D)D.hasOwnProperty(E)&&w(D[E],E)}function Mt(D){return(0,v.CqO)(D)?D:(0,v.QGY)(D)?(0,ke.D)(Promise.resolve(D)):(0,oe.of)(D)}const Fn={exact:function fe(D,w,E){if(!se(D.segments,w.segments)||!Jt(D.segments,w.segments,E)||D.numberOfChildren!==w.numberOfChildren)return!1;for(const P in w.children)if(!D.children[P]||!fe(D.children[P],w.children[P],E))return!1;return!0},subset:it},Un={exact:function Ue(D,w){return le(D,w)},subset:function pe(D,w){return Object.keys(w).length<=Object.keys(D).length&&Object.keys(w).every(E=>Oe(D[E],w[E]))},ignored:()=>!0};function Nn(D,w,E){return Fn[E.paths](D.root,w.root,E.matrixParams)&&Un[E.queryParams](D.queryParams,w.queryParams)&&!("exact"===E.fragment&&D.fragment!==w.fragment)}function it(D,w,E){return Tt(D,w,w.segments,E)}function Tt(D,w,E,P){if(D.segments.length>E.length){const U=D.segments.slice(0,E.length);return!(!se(U,E)||w.hasChildren()||!Jt(U,E,P))}if(D.segments.length===E.length){if(!se(D.segments,E)||!Jt(D.segments,E,P))return!1;for(const U in w.children)if(!D.children[U]||!it(D.children[U],w.children[U],P))return!1;return!0}{const U=E.slice(0,D.segments.length),Y=E.slice(D.segments.length);return!!(se(D.segments,U)&&Jt(D.segments,U,P)&&D.children[hn])&&Tt(D.children[hn],w,Y,P)}}function Jt(D,w,E){return w.every((P,U)=>Un[E](D[U].parameters,P.parameters))}class ct{constructor(w,E,P){this.root=w,this.queryParams=E,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class gt{constructor(w,E){this.segments=w,this.children=E,this.parent=null,vt(E,(P,U)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tr(this)}}class Te{constructor(w,E){this.path=w,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Wi(this)}}function se(D,w){return D.length===w.length&&D.every((E,P)=>E.path===w[P].path)}class dt{}class Ut{parse(w){const E=new Xi(w);return new ct(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(w){const E=`/${tn(w.root,!0)}`,P=function Pi(D){const w=Object.keys(D).map(E=>{const P=D[E];return Array.isArray(P)?P.map(U=>`${rr(E)}=${rr(U)}`).join("&"):`${rr(E)}=${rr(P)}`}).filter(E=>!!E);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${E}${P}${"string"==typeof w.fragment?`#${function qr(D){return encodeURI(D)}(w.fragment)}`:""}`}}const Rn=new Ut;function tr(D){return D.segments.map(w=>Wi(w)).join("/")}function tn(D,w){if(!D.hasChildren())return tr(D);if(w){const E=D.children[hn]?tn(D.children[hn],!1):"",P=[];return vt(D.children,(U,Y)=>{Y!==hn&&P.push(`${Y}:${tn(U,!1)}`)}),P.length>0?`${E}(${P.join("//")})`:E}{const E=function Me(D,w){let E=[];return vt(D.children,(P,U)=>{U===hn&&(E=E.concat(w(P,U)))}),vt(D.children,(P,U)=>{U!==hn&&(E=E.concat(w(P,U)))}),E}(D,(P,U)=>U===hn?[tn(D.children[hn],!1)]:[`${U}:${tn(P,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[hn]?`${tr(D)}/${E[0]}`:`${tr(D)}/(${E.join("//")})`}}function cr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rr(D){return cr(D).replace(/%3B/gi,";")}function hi(D){return cr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wr(D){return decodeURIComponent(D)}function fs(D){return wr(D.replace(/\+/g,"%20"))}function Wi(D){return`${hi(D.path)}${function Kr(D){return Object.keys(D).map(w=>`;${hi(w)}=${hi(D[w])}`).join("")}(D.parameters)}`}const Ei=/^[^\/()?;=#]+/;function sr(D){const w=D.match(Ei);return w?w[0]:""}const Do=/^[^=?&#]+/,Is=/^[^&#]+/;class Xi{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(w.length>0||Object.keys(E).length>0)&&(P[hn]=new gt(w,E)),P}parseSegment(){const w=sr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new Te(wr(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const E=sr(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const U=sr(this.remaining);U&&(P=U,this.capture(P))}w[wr(E)]=wr(P)}parseQueryParam(w){const E=function bo(D){const w=D.match(Do);return w?w[0]:""}(this.remaining);if(!E)return;this.capture(E);let P="";if(this.consumeOptional("=")){const X=function qs(D){const w=D.match(Is);return w?w[0]:""}(this.remaining);X&&(P=X,this.capture(P))}const U=fs(E),Y=fs(P);if(w.hasOwnProperty(U)){let X=w[U];Array.isArray(X)||(X=[X],w[U]=X),X.push(Y)}else w[U]=Y}parseParens(w){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=sr(this.remaining),U=this.remaining[P.length];if("/"!==U&&")"!==U&&";"!==U)throw new Error(`Cannot parse url '${this.url}'`);let Y;P.indexOf(":")>-1?(Y=P.slice(0,P.indexOf(":")),this.capture(Y),this.capture(":")):w&&(Y=hn);const X=this.parseChildren();E[Y]=1===Object.keys(X).length?X[hn]:new gt([],X),this.consumeOptional("//")}return E}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class is{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const E=this.pathFromRoot(w);return E.length>1?E[E.length-2]:null}children(w){const E=Ne(w,this._root);return E?E.children.map(P=>P.value):[]}firstChild(w){const E=Ne(w,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(w){const E=Ce(w,this._root);return E.length<2?[]:E[E.length-2].children.map(U=>U.value).filter(U=>U!==w)}pathFromRoot(w){return Ce(w,this._root).map(E=>E.value)}}function Ne(D,w){if(D===w.value)return w;for(const E of w.children){const P=Ne(D,E);if(P)return P}return null}function Ce(D,w){if(D===w.value)return[w];for(const E of w.children){const P=Ce(D,E);if(P.length)return P.unshift(w),P}return[]}class Ve{constructor(w,E){this.value=w,this.children=E}toString(){return`TreeNode(${this.value})`}}function ut(D){const w={};return D&&D.children.forEach(E=>w[E.value.outlet]=E),w}class wt extends is{constructor(w,E){super(w),this.snapshot=E,Ri(this,w)}toString(){return this.snapshot.toString()}}function zt(D,w){const E=function Zn(D,w){const X=new ps([],{},{},"",{},hn,w,null,D.root,-1,{});return new ks("",new Ve(X,[]))}(D,w),P=new he([new Te("",{})]),U=new he({}),Y=new he({}),X=new he({}),_e=new he(""),lt=new Rr(P,U,X,_e,Y,hn,w,E.root);return lt.snapshot=E.root,new wt(new Ve(lt,[]),E)}class Rr{constructor(w,E,P,U,Y,X,_e,lt){this.url=w,this.params=E,this.queryParams=P,this.fragment=U,this.data=Y,this.outlet=X,this.component=_e,this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nn.U)(w=>on(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nn.U)(w=>on(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tn(D,w="emptyOnly"){const E=D.pathFromRoot;let P=0;if("always"!==w)for(P=E.length-1;P>=1;){const U=E[P],Y=E[P-1];if(U.routeConfig&&""===U.routeConfig.path)P--;else{if(Y.component)break;P--}}return function Ni(D){return D.reduce((w,E)=>({params:{...w.params,...E.params},data:{...w.data,...E.data},resolve:{...E.data,...w.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(P))}class ps{constructor(w,E,P,U,Y,X,_e,lt,St,Rt,Wt,fn){this.url=w,this.params=E,this.queryParams=P,this.fragment=U,this.data=Y,this.outlet=X,this.component=_e,this.routeConfig=lt,this._urlSegment=St,this._lastPathIndex=Rt,this._correctedLastPathIndex=fn??Rt,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ks extends is{constructor(w,E){super(E),this.url=w,Ri(this,E)}toString(){return gs(this._root)}}function Ri(D,w){w.value._routerState=D,w.children.forEach(E=>Ri(D,E))}function gs(D){const w=D.children.length>0?` { ${D.children.map(gs).join(", ")} } `:"";return`${D.value}${w}`}function Vi(D){if(D.snapshot){const w=D.snapshot,E=D._futureSnapshot;D.snapshot=E,le(w.queryParams,E.queryParams)||D.queryParams.next(E.queryParams),w.fragment!==E.fragment&&D.fragment.next(E.fragment),le(w.params,E.params)||D.params.next(E.params),function Ae(D,w){if(D.length!==w.length)return!1;for(let E=0;E<D.length;++E)if(!le(D[E],w[E]))return!1;return!0}(w.url,E.url)||D.url.next(E.url),le(w.data,E.data)||D.data.next(E.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Oi(D,w){const E=le(D.params,w.params)&&function me(D,w){return se(D,w)&&D.every((E,P)=>le(E.parameters,w[P].parameters))}(D.url,w.url);return E&&!(!D.parent!=!w.parent)&&(!D.parent||Oi(D.parent,w.parent))}function Ai(D,w,E){if(E&&D.shouldReuseRoute(w.value,E.value.snapshot)){const P=E.value;P._futureSnapshot=w.value;const U=function Co(D,w,E){return w.children.map(P=>{for(const U of E.children)if(D.shouldReuseRoute(P.value,U.value.snapshot))return Ai(D,P,U);return Ai(D,P)})}(D,w,E);return new Ve(P,U)}{if(D.shouldAttach(w.value)){const Y=D.retrieve(w.value);if(null!==Y){const X=Y.route;return X.value._futureSnapshot=w.value,X.children=w.children.map(_e=>Ai(D,_e)),X}}const P=function ea(D){return new Rr(new he(D.url),new he(D.params),new he(D.queryParams),new he(D.fragment),new he(D.data),D.outlet,D.component,D)}(w.value),U=w.children.map(Y=>Ai(D,Y));return new Ve(P,U)}}function Ds(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function qi(D){return"object"==typeof D&&null!=D&&D.outlets}function To(D,w,E,P,U){let Y={};if(P&&vt(P,(_e,lt)=>{Y[lt]=Array.isArray(_e)?_e.map(St=>`${St}`):`${_e}`}),D===w)return new ct(E,Y,U);const X=Da(D,w,E);return new ct(X,Y,U)}function Da(D,w,E){const P={};return vt(D.children,(U,Y)=>{P[Y]=U===w?E:Da(U,w,E)}),new gt(D.segments,P)}class ba{constructor(w,E,P){if(this.isAbsolute=w,this.numberOfDoubleDots=E,this.commands=P,w&&P.length>0&&Ds(P[0]))throw new Error("Root segment cannot have matrix parameters");const U=P.find(qi);if(U&&U!==ae(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(w,E,P){this.segmentGroup=w,this.processChildren=E,this.index=P}}function Uo(D,w,E){if(D||(D=new gt([],{})),0===D.segments.length&&D.hasChildren())return wi(D,w,E);const P=function Ii(D,w,E){let P=0,U=w;const Y={match:!1,pathIndex:0,commandIndex:0};for(;U<D.segments.length;){if(P>=E.length)return Y;const X=D.segments[U],_e=E[P];if(qi(_e))break;const lt=`${_e}`,St=P<E.length-1?E[P+1]:null;if(U>0&&void 0===lt)break;if(lt&&St&&"object"==typeof St&&void 0===St.outlets){if(!ms(lt,St,X))return Y;P+=2}else{if(!ms(lt,{},X))return Y;P++}U++}return{match:!0,pathIndex:U,commandIndex:P}}(D,w,E),U=E.slice(P.commandIndex);if(P.match&&P.pathIndex<D.segments.length){const Y=new gt(D.segments.slice(0,P.pathIndex),{});return Y.children[hn]=new gt(D.segments.slice(P.pathIndex),D.children),wi(Y,0,U)}return P.match&&0===U.length?new gt(D.segments,{}):P.match&&!D.hasChildren()?ss(D,w,E):P.match?wi(D,0,U):ss(D,w,E)}function wi(D,w,E){if(0===E.length)return new gt(D.segments,{});{const P=function Ks(D){return qi(D[0])?D[0].outlets:{[hn]:D}}(E),U={};return vt(P,(Y,X)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(U[X]=Uo(D.children[X],w,Y))}),vt(D.children,(Y,X)=>{void 0===P[X]&&(U[X]=Y)}),new gt(D.segments,U)}}function ss(D,w,E){const P=D.segments.slice(0,w);let U=0;for(;U<E.length;){const Y=E[U];if(qi(Y)){const lt=Cs(Y.outlets);return new gt(P,lt)}if(0===U&&Ds(E[0])){P.push(new Te(D.segments[w].path,Bo(E[0]))),U++;continue}const X=qi(Y)?Y.outlets[hn]:`${Y}`,_e=U<E.length-1?E[U+1]:null;X&&_e&&Ds(_e)?(P.push(new Te(X,Bo(_e))),U+=2):(P.push(new Te(X,{})),U++)}return new gt(P,{})}function Cs(D){const w={};return vt(D,(E,P)=>{"string"==typeof E&&(E=[E]),null!==E&&(w[P]=ss(new gt([],{}),0,E))}),w}function Bo(D){const w={};return vt(D,(E,P)=>w[P]=`${E}`),w}function ms(D,w,E){return D==E.path&&le(w,E.parameters)}class Zs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ys,this.attachRef=null}}class Ys{constructor(){this.contexts=new Map}onChildOutletCreated(w,E){const P=this.getOrCreateContext(w);P.outlet=E,this.contexts.set(w,P)}onChildOutletDestroyed(w){const E=this.getContext(w);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let E=this.getContext(w);return E||(E=new Zs,this.contexts.set(w,E)),E}getContext(w){return this.contexts.get(w)||null}}let ys=(()=>{class D{constructor(E,P,U,Y,X){this.parentContexts=E,this.location=P,this.changeDetector=Y,this.environmentInjector=X,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=U||hn,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,P){this.activated=E,this._activatedRoute=P,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const U=this.location,X=E._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,lt=new ta(E,_e,U.injector);if(P&&function _s(D){return!!D.resolveComponentFactory}(P)){const St=P.resolveComponentFactory(X);this.activated=U.createComponent(St,U.length,lt)}else this.activated=U.createComponent(X,{index:U.length,injector:lt,environmentInjector:P??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(E){return new(E||D)(v.Y36(Ys),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},D.\u0275dir=v.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class ta{constructor(w,E,P){this.route=w,this.childContexts=E,this.parent=P}get(w,E){return w===Rr?this.route:w===Ys?this.childContexts:this.parent.get(w,E)}}let Sr=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275cmp=v.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,P){1&E&&v._UZ(0,"router-outlet")},dependencies:[ys],encapsulation:2}),D})();function Fs(D,w){return D.providers&&!D._injector&&(D._injector=(0,v.MMx)(D.providers,w,`Route: ${D.path}`)),D._injector??w}function Wn(D){const w=D.children&&D.children.map(Wn),E=w?{...D,children:w}:{...D};return!E.component&&!E.loadComponent&&(w||E.loadChildren)&&E.outlet&&E.outlet!==hn&&(E.component=Sr),E}function Or(D){return D.outlet||hn}function Mo(D,w){const E=D.filter(P=>Or(P)===w);return E.push(...D.filter(P=>Or(P)!==w)),E}function dr(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let w=D.parent;w;w=w.parent){const E=w.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class K{constructor(w,E,P,U){this.routeReuseStrategy=w,this.futureState=E,this.currState=P,this.forwardEvent=U}activate(w){const E=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,P,w),Vi(this.futureState.root),this.activateChildRoutes(E,P,w)}deactivateChildRoutes(w,E,P){const U=ut(E);w.children.forEach(Y=>{const X=Y.value.outlet;this.deactivateRoutes(Y,U[X],P),delete U[X]}),vt(U,(Y,X)=>{this.deactivateRouteAndItsChildren(Y,P)})}deactivateRoutes(w,E,P){const U=w.value,Y=E?E.value:null;if(U===Y)if(U.component){const X=P.getContext(U.outlet);X&&this.deactivateChildRoutes(w,E,X.children)}else this.deactivateChildRoutes(w,E,P);else Y&&this.deactivateRouteAndItsChildren(E,P)}deactivateRouteAndItsChildren(w,E){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,E):this.deactivateRouteAndOutlet(w,E)}detachAndStoreRouteSubtree(w,E){const P=E.getContext(w.value.outlet),U=P&&w.value.component?P.children:E,Y=ut(w);for(const X of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[X],U);if(P&&P.outlet){const X=P.outlet.detach(),_e=P.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:X,route:w,contexts:_e})}}deactivateRouteAndOutlet(w,E){const P=E.getContext(w.value.outlet),U=P&&w.value.component?P.children:E,Y=ut(w);for(const X of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[X],U);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(w,E,P){const U=ut(E);w.children.forEach(Y=>{this.activateRoutes(Y,U[Y.value.outlet],P),this.forwardEvent(new xn(Y.value.snapshot))}),w.children.length&&this.forwardEvent(new Vr(w.value.snapshot))}activateRoutes(w,E,P){const U=w.value,Y=E?E.value:null;if(Vi(U),U===Y)if(U.component){const X=P.getOrCreateContext(U.outlet);this.activateChildRoutes(w,E,X.children)}else this.activateChildRoutes(w,E,P);else if(U.component){const X=P.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const _e=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),X.children.onOutletReAttached(_e.contexts),X.attachRef=_e.componentRef,X.route=_e.route.value,X.outlet&&X.outlet.attach(_e.componentRef,_e.route.value),Vi(_e.route.value),this.activateChildRoutes(w,null,X.children)}else{const _e=dr(U.snapshot),lt=_e?.get(v._Vd)??null;X.attachRef=null,X.route=U,X.resolver=lt,X.injector=_e,X.outlet&&X.outlet.activateWith(U,X.injector),this.activateChildRoutes(w,null,X.children)}}else this.activateChildRoutes(w,null,P)}}function k(D){return"function"==typeof D}function we(D){return D instanceof ct}const Gn=Symbol("INITIAL_VALUE");function ir(){return(0,Hn.w)(D=>Qe(D.map(w=>w.pipe((0,In.q)(1),(0,Jn.O)(Gn)))).pipe((0,gn.R)((w,E)=>{let P=!1;return E.reduce((U,Y,X)=>U!==Gn?U:(Y===Gn&&(P=!0),P||!1!==Y&&X!==E.length-1&&!we(Y)?U:Y),w)},Gn),(0,be.h)(w=>w!==Gn),(0,nn.U)(w=>we(w)?w:!0===w),(0,In.q)(1)))}const Sn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kr(D,w,E){if(""===w.path)return"full"===w.pathMatch&&(D.hasChildren()||E.length>0)?{...Sn}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const U=(w.matcher||Kn)(E,D,w);if(!U)return{...Sn};const Y={};vt(U.posParams,(_e,lt)=>{Y[lt]=_e.path});const X=U.consumed.length>0?{...Y,...U.consumed[U.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:U.consumed,remainingSegments:E.slice(U.consumed.length),parameters:X,positionalParamSegments:U.posParams??{}}}function $n(D,w,E,P,U="corrected"){if(E.length>0&&function es(D,w,E){return E.some(P=>hr(D,w,P)&&Or(P)!==hn)}(D,E,P)){const X=new gt(w,function os(D,w,E,P){const U={};U[hn]=P,P._sourceSegment=D,P._segmentIndexShift=w.length;for(const Y of E)if(""===Y.path&&Or(Y)!==hn){const X=new gt([],{});X._sourceSegment=D,X._segmentIndexShift=w.length,U[Or(Y)]=X}return U}(D,w,P,new gt(E,D.children)));return X._sourceSegment=D,X._segmentIndexShift=w.length,{segmentGroup:X,slicedSegments:[]}}if(0===E.length&&function Bi(D,w,E){return E.some(P=>hr(D,w,P))}(D,E,P)){const X=new gt(D.segments,function an(D,w,E,P,U,Y){const X={};for(const _e of P)if(hr(D,E,_e)&&!U[Or(_e)]){const lt=new gt([],{});lt._sourceSegment=D,lt._segmentIndexShift="legacy"===Y?D.segments.length:w.length,X[Or(_e)]=lt}return{...U,...X}}(D,w,E,P,D.children,U));return X._sourceSegment=D,X._segmentIndexShift=w.length,{segmentGroup:X,slicedSegments:E}}const Y=new gt(D.segments,D.children);return Y._sourceSegment=D,Y._segmentIndexShift=w.length,{segmentGroup:Y,slicedSegments:E}}function hr(D,w,E){return(!(D.hasChildren()||w.length>0)||"full"!==E.pathMatch)&&""===E.path}function co(D,w,E,P){return!!(Or(D)===P||P!==hn&&hr(w,E,D))&&("**"===D.path||kr(w,D,E).matched)}function Ki(D,w,E){return 0===w.length&&!D.children[E]}class eo{constructor(w){this.segmentGroup=w||null}}class Ss{constructor(w){this.urlTree=w}}function mt(D){return We(new eo(D))}function Xn(D){return We(new Ss(D))}class $o{constructor(w,E,P,U,Y){this.injector=w,this.configLoader=E,this.urlSerializer=P,this.urlTree=U,this.config=Y,this.allowRedirects=!0}apply(){const w=$n(this.urlTree.root,[],[],this.config).segmentGroup,E=new gt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,E,hn).pipe((0,nn.U)(Y=>this.createUrlTree(R(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Le(Y=>{if(Y instanceof Ss)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof eo?this.noMatchError(Y):Y}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,hn).pipe((0,nn.U)(U=>this.createUrlTree(R(U),w.queryParams,w.fragment))).pipe(Le(U=>{throw U instanceof eo?this.noMatchError(U):U}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,E,P){const U=w.segments.length>0?new gt([],{[hn]:w}):w;return new ct(U,E,P)}expandSegmentGroup(w,E,P,U){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(w,E,P).pipe((0,nn.U)(Y=>new gt([],Y))):this.expandSegment(w,P,E,P.segments,U,!0)}expandChildren(w,E,P){const U=[];for(const Y of Object.keys(P.children))"primary"===Y?U.unshift(Y):U.push(Y);return(0,ke.D)(U).pipe((0,dn.b)(Y=>{const X=P.children[Y],_e=Mo(E,Y);return this.expandSegmentGroup(w,_e,X,Y).pipe((0,nn.U)(lt=>({segment:lt,outlet:Y})))}),(0,gn.R)((Y,X)=>(Y[X.outlet]=X.segment,Y),{}),function sn(D,w){const E=arguments.length>=2;return P=>P.pipe(D?(0,be.h)((U,Y)=>D(U,Y,P)):Pe.y,Ze(1),E?(0,Dt.d)(w):(0,$e.T)(()=>new qe.K))}())}expandSegment(w,E,P,U,Y,X){return(0,ke.D)(P).pipe((0,dn.b)(_e=>this.expandSegmentAgainstRoute(w,E,P,_e,U,Y,X).pipe(Le(St=>{if(St instanceof eo)return(0,oe.of)(null);throw St}))),(0,kn.P)(_e=>!!_e),Le((_e,lt)=>{if(_e instanceof qe.K||"EmptyError"===_e.name)return Ki(E,U,Y)?(0,oe.of)(new gt([],{})):mt(E);throw _e}))}expandSegmentAgainstRoute(w,E,P,U,Y,X,_e){return co(U,E,Y,X)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(w,E,U,Y,X):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,E,P,U,Y,X):mt(E):mt(E)}expandSegmentAgainstRouteUsingRedirect(w,E,P,U,Y,X){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,P,U,X):this.expandRegularSegmentAgainstRouteUsingRedirect(w,E,P,U,Y,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,E,P,U){const Y=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Xn(Y):this.lineralizeSegments(P,Y).pipe((0,Vn.z)(X=>{const _e=new gt(X,{});return this.expandSegment(w,_e,E,X,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,E,P,U,Y,X){const{matched:_e,consumedSegments:lt,remainingSegments:St,positionalParamSegments:Rt}=kr(E,U,Y);if(!_e)return mt(E);const Wt=this.applyRedirectCommands(lt,U.redirectTo,Rt);return U.redirectTo.startsWith("/")?Xn(Wt):this.lineralizeSegments(U,Wt).pipe((0,Vn.z)(fn=>this.expandSegment(w,E,P,fn.concat(St),X,!1)))}matchSegmentAgainstRoute(w,E,P,U,Y){if("**"===P.path)return w=Fs(P,w),P.loadChildren?(P._loadedRoutes?(0,oe.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):this.configLoader.loadChildren(w,P)).pipe((0,nn.U)(Wt=>(P._loadedRoutes=Wt.routes,P._loadedInjector=Wt.injector,new gt(U,{})))):(0,oe.of)(new gt(U,{}));const{matched:X,consumedSegments:_e,remainingSegments:lt}=kr(E,P,U);return X?(w=Fs(P,w),this.getChildConfig(w,P,U).pipe((0,Vn.z)(Rt=>{const Wt=Rt.injector??w,fn=Rt.routes,{segmentGroup:ai,slicedSegments:_n}=$n(E,_e,lt,fn),$t=new gt(ai.segments,ai.children);if(0===_n.length&&$t.hasChildren())return this.expandChildren(Wt,fn,$t).pipe((0,nn.U)(au=>new gt(_e,au)));if(0===fn.length&&0===_n.length)return(0,oe.of)(new gt(_e,{}));const fa=Or(P)===Y;return this.expandSegment(Wt,$t,fn,_n,fa?hn:Y,!0).pipe((0,nn.U)(ao=>new gt(_e.concat(ao.segments),ao.children)))}))):mt(E)}getChildConfig(w,E,P){return E.children?(0,oe.of)({routes:E.children,injector:w}):E.loadChildren?void 0!==E._loadedRoutes?(0,oe.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):this.runCanLoadGuards(w,E,P).pipe((0,Vn.z)(U=>U?this.configLoader.loadChildren(w,E).pipe((0,ar.b)(Y=>{E._loadedRoutes=Y.routes,E._loadedInjector=Y.injector})):function Ms(D){return We(gr(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(E))):(0,oe.of)({routes:[],injector:w})}runCanLoadGuards(w,E,P){const U=E.canLoad;if(!U||0===U.length)return(0,oe.of)(!0);const Y=U.map(X=>{const _e=w.get(X);let lt;if(function Be(D){return D&&k(D.canLoad)}(_e))lt=_e.canLoad(E,P);else{if(!k(_e))throw new Error("Invalid CanLoad guard");lt=_e(E,P)}return Mt(lt)});return(0,oe.of)(Y).pipe(ir(),(0,ar.b)(X=>{if(!we(X))return;const _e=gr(`Redirecting to "${this.urlSerializer.serialize(X)}"`);throw _e.url=X,_e}),(0,nn.U)(X=>!0===X))}lineralizeSegments(w,E){let P=[],U=E.root;for(;;){if(P=P.concat(U.segments),0===U.numberOfChildren)return(0,oe.of)(P);if(U.numberOfChildren>1||!U.children[hn])return We(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));U=U.children[hn]}}applyRedirectCommands(w,E,P){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),w,P)}applyRedirectCreatreUrlTree(w,E,P,U){const Y=this.createSegmentGroup(w,E.root,P,U);return new ct(Y,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(w,E){const P={};return vt(w,(U,Y)=>{if("string"==typeof U&&U.startsWith(":")){const _e=U.substring(1);P[Y]=E[_e]}else P[Y]=U}),P}createSegmentGroup(w,E,P,U){const Y=this.createSegments(w,E.segments,P,U);let X={};return vt(E.children,(_e,lt)=>{X[lt]=this.createSegmentGroup(w,_e,P,U)}),new gt(Y,X)}createSegments(w,E,P,U){return E.map(Y=>Y.path.startsWith(":")?this.findPosParam(w,Y,U):this.findOrReturn(Y,P))}findPosParam(w,E,P){const U=P[E.path.substring(1)];if(!U)throw new Error(`Cannot redirect to '${w}'. Cannot find '${E.path}'.`);return U}findOrReturn(w,E){let P=0;for(const U of E){if(U.path===w.path)return E.splice(P),U;P++}return w}}function R(D){const w={};for(const P of Object.keys(D.children)){const Y=R(D.children[P]);(Y.segments.length>0||Y.hasChildren())&&(w[P]=Y)}return function L(D){if(1===D.numberOfChildren&&D.children[hn]){const w=D.children[hn];return new gt(D.segments.concat(w.segments),w.children)}return D}(new gt(D.segments,w))}class Z{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class et{constructor(w,E){this.component=w,this.route=E}}function Zt(D,w,E){const P=D._root;return mr(P,w?w._root:null,E,[P.value])}function ei(D,w,E){return(dr(w)??E).get(D)}function mr(D,w,E,P,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=ut(w);return D.children.forEach(X=>{(function pi(D,w,E,P,U={canDeactivateChecks:[],canActivateChecks:[]}){const Y=D.value,X=w?w.value:null,_e=E?E.getContext(D.value.outlet):null;if(X&&Y.routeConfig===X.routeConfig){const lt=function xs(D,w,E){if("function"==typeof E)return E(D,w);switch(E){case"pathParamsChange":return!se(D.url,w.url);case"pathParamsOrQueryParamsChange":return!se(D.url,w.url)||!le(D.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oi(D,w)||!le(D.queryParams,w.queryParams);default:return!Oi(D,w)}}(X,Y,Y.routeConfig.runGuardsAndResolvers);lt?U.canActivateChecks.push(new Z(P)):(Y.data=X.data,Y._resolvedData=X._resolvedData),mr(D,w,Y.component?_e?_e.children:null:E,P,U),lt&&_e&&_e.outlet&&_e.outlet.isActivated&&U.canDeactivateChecks.push(new et(_e.outlet.component,X))}else X&&oi(w,_e,U),U.canActivateChecks.push(new Z(P)),mr(D,null,Y.component?_e?_e.children:null:E,P,U)})(X,Y[X.value.outlet],E,P.concat([X.value]),U),delete Y[X.value.outlet]}),vt(Y,(X,_e)=>oi(X,E.getContext(_e),U)),U}function oi(D,w,E){const P=ut(D),U=D.value;vt(P,(Y,X)=>{oi(Y,U.component?w?w.children.getContext(X):null:w,E)}),E.canDeactivateChecks.push(new et(U.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,U))}class bu{}function sa(D){return new Ee.y(w=>w.error(D))}class to{constructor(w,E,P,U,Y,X){this.rootComponentType=w,this.config=E,this.urlTree=P,this.url=U,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=X}recognize(){const w=$n(this.urlTree.root,[],[],this.config.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,w,hn);if(null===E)return null;const P=new ps([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Ve(P,E),Y=new ks(this.url,U);return this.inheritParamsAndData(Y._root),Y}inheritParamsAndData(w){const E=w.value,P=Tn(E,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data),w.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(w,E,P){return 0===E.segments.length&&E.hasChildren()?this.processChildren(w,E):this.processSegment(w,E,E.segments,P)}processChildren(w,E){const P=[];for(const Y of Object.keys(E.children)){const X=E.children[Y],_e=Mo(w,Y),lt=this.processSegmentGroup(_e,X,Y);if(null===lt)return null;P.push(...lt)}const U=Ps(P);return function no(D){D.sort((w,E)=>w.value.outlet===hn?-1:E.value.outlet===hn?1:w.value.outlet.localeCompare(E.value.outlet))}(U),U}processSegment(w,E,P,U){for(const Y of w){const X=this.processSegmentAgainstRoute(Y,E,P,U);if(null!==X)return X}return Ki(E,P,U)?[]:null}processSegmentAgainstRoute(w,E,P,U){if(w.redirectTo||!co(w,E,P,U))return null;let Y,X=[],_e=[];if("**"===w.path){const ai=P.length>0?ae(P).parameters:{},_n=ti(E)+P.length;Y=new ps(P,ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ur(w),Or(w),w.component??w._loadedComponent??null,w,Za(E),_n,Sa(w),_n)}else{const ai=kr(E,w,P);if(!ai.matched)return null;X=ai.consumedSegments,_e=ai.remainingSegments;const _n=ti(E)+X.length;Y=new ps(X,ai.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ur(w),Or(w),w.component??w._loadedComponent??null,w,Za(E),_n,Sa(w),_n)}const lt=function Va(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(w),{segmentGroup:St,slicedSegments:Rt}=$n(E,X,_e,lt.filter(ai=>void 0===ai.redirectTo),this.relativeLinkResolution);if(0===Rt.length&&St.hasChildren()){const ai=this.processChildren(lt,St);return null===ai?null:[new Ve(Y,ai)]}if(0===lt.length&&0===Rt.length)return[new Ve(Y,[])];const Wt=Or(w)===U,fn=this.processSegment(lt,St,Rt,Wt?hn:U);return null===fn?null:[new Ve(Y,fn)]}}function Fi(D){const w=D.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Ps(D){const w=[],E=new Set;for(const P of D){if(!Fi(P)){w.push(P);continue}const U=w.find(Y=>P.value.routeConfig===Y.value.routeConfig);void 0!==U?(U.children.push(...P.children),E.add(U)):w.push(P)}for(const P of E){const U=Ps(P.children);w.push(new Ve(P.value,U))}return w.filter(P=>!E.has(P))}function Za(D){let w=D;for(;w._sourceSegment;)w=w._sourceSegment;return w}function ti(D){let w=D,E=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,E+=w._segmentIndexShift??0;return E-1}function Ur(D){return D.data||{}}function Sa(D){return D.resolve||{}}const Ua=Symbol("RouteTitle");function ro(D){return"string"==typeof D.title||null===D.title}function io(D){return(0,Hn.w)(w=>{const E=D(w);return E?(0,ke.D)(E).pipe((0,nn.U)(()=>w)):(0,oe.of)(w)})}class so extends class su{shouldDetach(w){return!1}store(w,E){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,E){return w.routeConfig===E.routeConfig}}{}const Ba=new v.OlP("ROUTES");let po=(()=>{class D{constructor(E,P){this.injector=E,this.compiler=P,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,oe.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const P=Mt(E.loadComponent()).pipe((0,ar.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Y}),Nt(()=>{this.componentLoaders.delete(E)})),U=new Et(P,()=>new H.x).pipe(Xe());return this.componentLoaders.set(E,U),U}loadChildren(E,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,oe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const Y=this.loadModuleFactoryOrRoutes(P.loadChildren).pipe((0,nn.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(P);let lt,St,Rt=!1;Array.isArray(_e)?St=_e:(lt=_e.create(E).injector,St=Re(lt.get(Ba,[],v.XFs.Self|v.XFs.Optional)));return{routes:St.map(Wn),injector:lt}}),Nt(()=>{this.childrenLoaders.delete(P)})),X=new Et(Y,()=>new H.x).pipe(Xe());return this.childrenLoaders.set(P,X),X}loadModuleFactoryOrRoutes(E){return Mt(E()).pipe((0,Vn.z)(P=>P instanceof v.YKP||Array.isArray(P)?(0,oe.of)(P):(0,ke.D)(this.compiler.compileModuleAsync(P))))}}return D.\u0275fac=function(E){return new(E||D)(v.LFG(v.zs3),v.LFG(v.Sil))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})();class oa{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,E){return w}}function Au(D){throw D}function Ma(D,w,E){return w.parse("/")}const vs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class D{constructor(E,P,U,Y,X,_e,lt){this.rootComponentType=E,this.urlSerializer=P,this.rootContexts=U,this.location=Y,this.config=lt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new H.x,this.errorHandler=Au,this.malformedUriErrorHandler=Ma,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,oe.of)(void 0),this.urlHandlingStrategy=new oa,this.routeReuseStrategy=new so,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=X.get(po),this.configLoader.onLoadEndListener=fn=>this.triggerEvent(new _i(fn)),this.configLoader.onLoadStartListener=fn=>this.triggerEvent(new Jr(fn)),this.ngModule=X.get(v.h0i),this.console=X.get(v.c2e);const Wt=X.get(v.R0b);this.isNgZoneEnabled=Wt instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(lt),this.currentUrlTree=function mn(){return new ct(new gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zt(this.currentUrlTree,this.rootComponentType),this.transitions=new he({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const P=this.events;return E.pipe((0,be.h)(U=>0!==U.id),(0,nn.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,Hn.w)(U=>{let Y=!1,X=!1;return(0,oe.of)(U).pipe((0,ar.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Hn.w)(_e=>{const lt=this.browserUrlTree.toString(),St=!this.navigated||_e.extractedUrl.toString()!==lt||lt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||St)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return aa(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,oe.of)(_e).pipe((0,Hn.w)(Wt=>{const fn=this.transitions.getValue();return P.next(new Qr(Wt.id,this.serializeUrl(Wt.extractedUrl),Wt.source,Wt.restoredState)),fn!==this.transitions.getValue()?ie.E:Promise.resolve(Wt)}),function x(D,w,E,P){return(0,Hn.w)(U=>function fi(D,w,E,P,U){return new $o(D,w,E,P,U).apply()}(D,w,E,U.extractedUrl,P).pipe((0,nn.U)(Y=>({...U,urlAfterRedirects:Y}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(Wt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wt.urlAfterRedirects}}),function Ya(D,w,E,P,U){return(0,Vn.z)(Y=>function xo(D,w,E,P,U="emptyOnly",Y="legacy"){try{const X=new to(D,w,E,P,U,Y).recognize();return null===X?sa(new bu):(0,oe.of)(X)}catch(X){return sa(X)}}(D,w,Y.urlAfterRedirects,E(Y.urlAfterRedirects),P,U).pipe((0,nn.U)(X=>({...Y,targetSnapshot:X}))))}(this.rootComponentType,this.config,Wt=>this.serializeUrl(Wt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(Wt=>{if("eager"===this.urlUpdateStrategy){if(!Wt.extras.skipLocationChange){const ai=this.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl);this.setBrowserUrl(ai,Wt)}this.browserUrlTree=Wt.urlAfterRedirects}const fn=new Qt(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);P.next(fn)}));if(St&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:fn,extractedUrl:ai,source:_n,restoredState:$t,extras:fa}=_e,Ja=new Qr(fn,this.serializeUrl(ai),_n,$t);P.next(Ja);const ao=zt(ai,this.rootComponentType).snapshot;return(0,oe.of)({..._e,targetSnapshot:ao,urlAfterRedirects:ai,extras:{...fa,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),ie.E}),(0,ar.b)(_e=>{const lt=new nr(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(lt)}),(0,nn.U)(_e=>({..._e,guards:Zt(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)})),function as(D,w){return(0,Vn.z)(E=>{const{targetSnapshot:P,currentSnapshot:U,guards:{canActivateChecks:Y,canDeactivateChecks:X}}=E;return 0===X.length&&0===Y.length?(0,oe.of)({...E,guardsResult:!0}):function Ls(D,w,E,P){return(0,ke.D)(D).pipe((0,Vn.z)(U=>function Ta(D,w,E,P,U){const Y=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,oe.of)(!0);const X=Y.map(_e=>{const lt=ei(_e,w,U);let St;if(function Mr(D){return D&&k(D.canDeactivate)}(lt))St=Mt(lt.canDeactivate(D,w,E,P));else{if(!k(lt))throw new Error("Invalid CanDeactivate guard");St=Mt(lt(D,w,E,P))}return St.pipe((0,kn.P)())});return(0,oe.of)(X).pipe(ir())}(U.component,U.route,E,w,P)),(0,kn.P)(U=>!0!==U,!0))}(X,P,U,D).pipe((0,Vn.z)(_e=>_e&&function Q(D){return"boolean"==typeof D}(_e)?function ra(D,w,E,P){return(0,ke.D)(w).pipe((0,dn.b)(U=>(0,st.z)(function Fr(D,w){return null!==D&&w&&w(new Er(D)),(0,oe.of)(!0)}(U.route.parent,P),function ia(D,w){return null!==D&&w&&w(new vi(D)),(0,oe.of)(!0)}(U.route,P),function Ca(D,w,E){const P=w[w.length-1],Y=w.slice(0,w.length-1).reverse().map(X=>function br(D){const w=D.routeConfig?D.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:D,guards:w}:null}(X)).filter(X=>null!==X).map(X=>Lt(()=>{const _e=X.guards.map(lt=>{const St=ei(lt,X.node,E);let Rt;if(function kt(D){return D&&k(D.canActivateChild)}(St))Rt=Mt(St.canActivateChild(P,D));else{if(!k(St))throw new Error("Invalid CanActivateChild guard");Rt=Mt(St(P,D))}return Rt.pipe((0,kn.P)())});return(0,oe.of)(_e).pipe(ir())}));return(0,oe.of)(Y).pipe(ir())}(D,U.path,E),function ho(D,w,E){const P=w.routeConfig?w.routeConfig.canActivate:null;if(!P||0===P.length)return(0,oe.of)(!0);const U=P.map(Y=>Lt(()=>{const X=ei(Y,w,E);let _e;if(function yt(D){return D&&k(D.canActivate)}(X))_e=Mt(X.canActivate(w,D));else{if(!k(X))throw new Error("Invalid CanActivate guard");_e=Mt(X(w,D))}return _e.pipe((0,kn.P)())}));return(0,oe.of)(U).pipe(ir())}(D,U.route,E))),(0,kn.P)(U=>!0!==U,!0))}(P,Y,D,w):(0,oe.of)(_e)),(0,nn.U)(_e=>({...E,guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,ar.b)(_e=>{if(we(_e.guardsResult)){const St=gr(`Redirecting to "${this.serializeUrl(_e.guardsResult)}"`);throw St.url=_e.guardsResult,St}const lt=new Cn(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(lt)}),(0,be.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,""),!1)),io(_e=>{if(_e.guards.canActivateChecks.length)return(0,oe.of)(_e).pipe((0,ar.b)(lt=>{const St=new Dn(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(St)}),(0,Hn.w)(lt=>{let St=!1;return(0,oe.of)(lt).pipe(function Cu(D,w){return(0,Vn.z)(E=>{const{targetSnapshot:P,guards:{canActivateChecks:U}}=E;if(!U.length)return(0,oe.of)(E);let Y=0;return(0,ke.D)(U).pipe((0,dn.b)(X=>function iu(D,w,E,P){const U=D.routeConfig,Y=D._resolve;return void 0!==U?.title&&!ro(U)&&(Y[Ua]=U.title),function ju(D,w,E,P){const U=function gi(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===U.length)return(0,oe.of)({});const Y={};return(0,ke.D)(U).pipe((0,Vn.z)(X=>function Vs(D,w,E,P){const U=ei(D,w,P);return Mt(U.resolve?U.resolve(w,E):U(w,E))}(D[X],w,E,P).pipe((0,kn.P)(),(0,ar.b)(_e=>{Y[X]=_e}))),Ze(1),function Pn(D){return(0,nn.U)(()=>D)}(Y),Le(X=>X instanceof qe.K?ie.E:We(X)))}(Y,D,w,P).pipe((0,nn.U)(X=>(D._resolvedData=X,D.data=Tn(D,E).resolve,U&&ro(U)&&(D.data[Ua]=U.title),null)))}(X.route,P,D,w)),(0,ar.b)(()=>Y++),Ze(1),(0,Vn.z)(X=>Y===U.length?(0,oe.of)(E):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>St=!0,complete:()=>{St||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,"At least one route resolver didn't emit any value."))}}))}),(0,ar.b)(lt=>{const St=new Gr(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(St)}))}),io(()=>this.afterPreactivation()),io(_e=>{const lt=St=>{const Rt=[];St.routeConfig?.loadComponent&&!St.routeConfig._loadedComponent&&Rt.push(this.configLoader.loadComponent(St.routeConfig).pipe((0,ar.b)(Wt=>{St.component=Wt}),(0,nn.U)(()=>{})));for(const Wt of St.children)Rt.push(...lt(Wt));return Rt};return Qe(lt(_e.targetSnapshot.root)).pipe((0,Dt.d)(),(0,In.q)(1))}),(0,nn.U)(_e=>{const lt=function Vo(D,w,E){const P=Ai(D,w._root,E?E._root:void 0);return new wt(P,w)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return{..._e,targetRouterState:lt}}),(0,ar.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((D,w,E)=>(0,nn.U)(P=>(new K(w,P.targetRouterState,P.currentRouterState,E).activate(D),P)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,ar.b)({next(){Y=!0},complete(){Y=!0}}),Nt(()=>{Y||X||this.cancelNavigationTransition(U,`Navigation ID ${U.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),Le(_e=>{if(X=!0,function lr(D){return D&&D[Wr]}(_e)){const lt=we(_e.url);lt||(this.navigated=!0,this.restoreHistory(U,!0));const St=new vr(U.id,this.serializeUrl(U.extractedUrl),_e.message);if(P.next(St),lt){const Rt=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),Wt={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aa(U.source)};this.scheduleNavigation(Rt,"imperative",null,Wt,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const lt=new ur(U.id,this.serializeUrl(U.extractedUrl),_e);P.next(lt);try{U.resolve(this.errorHandler(_e))}catch(St){U.reject(St)}}return ie.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const P="popstate"===E.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{const U={replaceUrl:!0},Y=E.state?.navigationId?E.state:null;if(Y){const _e={...Y};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(U.state=_e)}const X=this.parseUrl(E.url);this.scheduleNavigation(X,P,Y,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Wn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,P={}){const{relativeTo:U,queryParams:Y,fragment:X,queryParamsHandling:_e,preserveFragment:lt}=P,St=U||this.routerState.root,Rt=lt?this.currentUrlTree.fragment:X;let Wt=null;switch(_e){case"merge":Wt={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=Y||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),function Ui(D,w,E,P,U){if(0===E.length)return To(w.root,w.root,w.root,P,U);const Y=function Ao(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new ba(!0,0,D);let w=0,E=!1;const P=D.reduce((U,Y,X)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const _e={};return vt(Y.outlets,(lt,St)=>{_e[St]="string"==typeof lt?lt.split("/"):lt}),[...U,{outlets:_e}]}if(Y.segmentPath)return[...U,Y.segmentPath]}return"string"!=typeof Y?[...U,Y]:0===X?(Y.split("/").forEach((_e,lt)=>{0==lt&&"."===_e||(0==lt&&""===_e?E=!0:".."===_e?w++:""!=_e&&U.push(_e))}),U):[...U,Y]},[]);return new ba(E,w,P)}(E);return Y.toRoot()?To(w.root,w.root,new gt([],{}),P,U):function X(lt){const St=function bs(D,w,E,P){return D.isAbsolute?new ki(w.root,!0,0):-1===P?new ki(E,E===w.root,0):function So(D,w,E){let P=D,U=w,Y=E;for(;Y>U;){if(Y-=U,P=P.parent,!P)throw new Error("Invalid number of '../'");U=P.segments.length}return new ki(P,!1,U-Y)}(E,P+(Ds(D.commands[0])?0:1),D.numberOfDoubleDots)}(Y,w,D.snapshot?._urlSegment,lt),Rt=St.processChildren?wi(St.segmentGroup,St.index,Y.commands):Uo(St.segmentGroup,St.index,Y.commands);return To(w.root,St.segmentGroup,Rt,P,U)}(D.snapshot?._lastPathIndex)}(St,this.currentUrlTree,E,Wt,Rt??null)}navigateByUrl(E,P={skipLocationChange:!1}){const U=we(E)?E:this.parseUrl(E),Y=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(Y,"imperative",null,P)}navigate(E,P={skipLocationChange:!1}){return function go(D){for(let w=0;w<D.length;w++){const E=D[w];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${w}`)}}(E),this.navigateByUrl(this.createUrlTree(E,P),P)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let P;try{P=this.urlSerializer.parse(E)}catch(U){P=this.malformedUriErrorHandler(U,this.urlSerializer,E)}return P}isActive(E,P){let U;if(U=!0===P?{...vs}:!1===P?{...Li}:P,we(E))return Nn(this.currentUrlTree,E,U);const Y=this.parseUrl(E);return Nn(this.currentUrlTree,Y,U)}removeEmptyProps(E){return Object.keys(E).reduce((P,U)=>{const Y=E[U];return null!=Y&&(P[U]=Y),P},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Dr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,P,U,Y,X){if(this.disposed)return Promise.resolve(!1);let _e,lt,St;X?(_e=X.resolve,lt=X.reject,St=X.promise):St=new Promise((fn,ai)=>{_e=fn,lt=ai});const Rt=++this.navigationId;let Wt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),Wt=U&&U.\u0275routerPageId?U.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Wt=0,this.setTransition({id:Rt,targetPageId:Wt,source:P,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Y,resolve:_e,reject:lt,promise:St,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),St.catch(fn=>Promise.reject(fn))}setBrowserUrl(E,P){const U=this.urlSerializer.serialize(E),Y={...P.extras.state,...this.generateNgRouterState(P.id,P.targetPageId)};this.location.isCurrentPathEqualTo(U)||P.extras.replaceUrl?this.location.replaceState(U,"",Y):this.location.go(U,"",Y)}restoreHistory(E,P=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,P){const U=new vr(E.id,this.serializeUrl(E.extractedUrl),P);this.triggerEvent(U),E.resolve(!1)}generateNgRouterState(E,P){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:P}:{navigationId:E}}}return D.\u0275fac=function(E){v.$Z()},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})();function aa(D){return"imperative"!==D}let ua=(()=>{class D{constructor(E,P,U,Y,X){this.router=E,this.route=P,this.tabIndexAttribute=U,this.renderer=Y,this.el=X,this.commands=null,this.onChanges=new H.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const P=this.renderer,U=this.el.nativeElement;null!==E?P.setAttribute(U,"tabindex",E):P.removeAttribute(U,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:(0,v.D6c)(this.skipLocationChange),replaceUrl:(0,v.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,v.D6c)(this.preserveFragment)})}}return D.\u0275fac=function(E){return new(E||D)(v.Y36(ts),v.Y36(Rr),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq))},D.\u0275dir=v.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,P){1&E&&v.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),D})(),oo=(()=>{class D{constructor(E,P,U){this.router=E,this.route=P,this.locationStrategy=U,this.commands=null,this.href=null,this.onChanges=new H.x,this.subscription=E.events.subscribe(Y=>{Y instanceof Dr&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,P,U,Y,X){if(0!==E||P||U||Y||X||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _e={skipLocationChange:(0,v.D6c)(this.skipLocationChange),replaceUrl:(0,v.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_e),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,v.D6c)(this.preserveFragment)})}}return D.\u0275fac=function(E){return new(E||D)(v.Y36(ts),v.Y36(Rr),v.Y36(m.S$))},D.\u0275dir=v.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,P){1&E&&v.NdJ("click",function(Y){return P.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&E&&v.uIk("target",P.target)("href",P.href,v.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[v.TTD]}),D})();class zo{buildTitle(w){let E,P=w.root;for(;void 0!==P;)E=this.getResolvedTitleForRoute(P)??E,P=P.children.find(U=>U.outlet===hn);return E}getResolvedTitleForRoute(w){return w.data[Ua]}}let la=(()=>{class D extends zo{constructor(E){super(),this.title=E}updateTitle(E){const P=this.buildTitle(E);void 0!==P&&this.title.setTitle(P)}}return D.\u0275fac=function(E){return new(E||D)(v.LFG(Ir.Dx))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class Po{}class Pa{preload(w,E){return(0,oe.of)(null)}}let mi=(()=>{class D{constructor(E,P,U,Y,X){this.router=E,this.injector=U,this.preloadingStrategy=Y,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.h)(E=>E instanceof Dr),(0,dn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,P){const U=[];for(const Y of P){Y.providers&&!Y._injector&&(Y._injector=(0,v.MMx)(Y.providers,E,`Route: ${Y.path}`));const X=Y._injector??E,_e=Y._loadedInjector??X;Y.loadChildren&&!Y._loadedRoutes||Y.loadComponent&&!Y._loadedComponent?U.push(this.preloadConfig(X,Y)):(Y.children||Y._loadedRoutes)&&U.push(this.processRoutes(_e,Y.children??Y._loadedRoutes))}return(0,ke.D)(U).pipe((0,_r.J)())}preloadConfig(E,P){return this.preloadingStrategy.preload(P,()=>{let U;U=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(E,P):(0,oe.of)(null);const Y=U.pipe((0,Vn.z)(X=>null===X?(0,oe.of)(void 0):(P._loadedRoutes=X.routes,P._loadedInjector=X.injector,this.processRoutes(X.injector??E,X.routes))));if(P.loadComponent&&!P._loadedComponent){const X=this.loader.loadComponent(P);return(0,ke.D)([Y,X]).pipe((0,_r.J)())}return Y})}}return D.\u0275fac=function(E){return new(E||D)(v.LFG(ts),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Po),v.LFG(po))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})(),Bs=(()=>{class D{constructor(E,P,U={}){this.router=E,this.viewportScroller=P,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Dr&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ot&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,P){this.router.triggerEvent(new Ot(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(E){v.$Z()},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})();const Es=new v.OlP("ROUTER_CONFIGURATION"),ca=new v.OlP("ROUTER_FORROOT_GUARD"),At=[m.Ye,{provide:dt,useClass:Ut},{provide:ts,useFactory:function Ht(D,w,E,P,U,Y,X={},_e,lt,St,Rt){const Wt=new ts(null,D,w,E,P,U,Re(Y));return St&&(Wt.urlHandlingStrategy=St),Rt&&(Wt.routeReuseStrategy=Rt),Wt.titleStrategy=lt??_e,function tt(D,w){D.errorHandler&&(w.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(w.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(w.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(w.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(w.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(w.canceledNavigationResolution=D.canceledNavigationResolution)}(X,Wt),Wt},deps:[dt,Ys,m.Ye,v.zs3,v.Sil,Ba,Es,la,[zo,new v.FiY],[class Us{},new v.FiY],[class Mi{},new v.FiY]]},Ys,{provide:Rr,useFactory:function Ct(D){return D.routerState.root},deps:[ts]},mi,Pa,class mo{preload(w,E){return E().pipe(Le(()=>(0,oe.of)(null)))}},{provide:Es,useValue:{enableTracing:!1}},po];function Xr(){return new v.PXZ("Router",ts)}let ji=(()=>{class D{constructor(E,P){}static forRoot(E,P){return{ngModule:D,providers:[At,da(E),{provide:ca,useFactory:yn,deps:[[ts,new v.FiY,new v.tp0]]},{provide:Es,useValue:P||{}},{provide:m.S$,useFactory:Yt,deps:[m.lw,[new v.tBr(m.mr),new v.FiY],Es]},{provide:Bs,useFactory:No,deps:[ts,m.EM,Es]},{provide:Po,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Pa},{provide:v.PXZ,multi:!0,useFactory:Xr},[bi,{provide:v.ip1,multi:!0,useFactory:ha,deps:[bi]},{provide:ou,useFactory:$u,deps:[bi]},{provide:v.tb,multi:!0,useExisting:ou}]]}}static forChild(E){return{ngModule:D,providers:[da(E)]}}}return D.\u0275fac=function(E){return new(E||D)(v.LFG(ca,8),v.LFG(ts,8))},D.\u0275mod=v.oAB({type:D}),D.\u0275inj=v.cJS({}),D})();function No(D,w,E){return E.scrollOffset&&w.setOffset(E.scrollOffset),new Bs(D,w,E)}function Yt(D,w,E={}){return E.useHash?new m.Do(D,w):new m.b0(D,w)}function yn(D){return"guarded"}function da(D){return[{provide:v.deG,multi:!0,useValue:D},{provide:Ba,multi:!0,useValue:D}]}let bi=(()=>{class D{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new H.x}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const U=new Promise(_e=>P=_e),Y=this.injector.get(ts),X=this.injector.get(Es);return"disabled"===X.initialNavigation?(Y.setUpLocationChangeListener(),P(!0)):"enabledBlocking"===X.initialNavigation?(Y.afterPreactivation=()=>this.initNavigation?(0,oe.of)(void 0):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Y.initialNavigation()):P(!0),U})}bootstrapListener(E){const P=this.injector.get(Es),U=this.injector.get(mi),Y=this.injector.get(Bs),X=this.injector.get(ts),_e=this.injector.get(v.z2F);E===_e.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&X.initialNavigation(),U.setUpPreloading(),Y.init(),X.resetRootComponentType(_e.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(E){return new(E||D)(v.LFG(v.zs3))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})();function ha(D){return D.appInitializer.bind(D)}function $u(D){return D.bootstrapListener.bind(D)}const ou=new v.OlP("Router Initializer")},3942:(Gt,ze,j)=>{j.d(ze,{Z:()=>Je});var m=j(2090),v=j(4859),H=j(9681),he=j(1877);class Ee{constructor(nt,We){this._delegate=nt,this.firebase=We,(0,H._addComponent)(nt,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(nt,We=H._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const Lt=this._delegate.container.getProvider(nt);return!Lt.isInitialized()&&"EXPLICIT"===(null===(jt=Lt.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&Lt.initialize(),Lt.getImmediate({identifier:We})}_removeServiceInstance(nt,We=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(We)}_addComponent(nt){(0,H._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,H._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function xe(){const Ft=function Pe(Ft){const nt={},We={__esModule:!0,initializeApp:function ce(oe,qe={}){const st=H.initializeApp(oe,qe);if((0,m.r3)(nt,st.name))return nt[st.name];const ie=new Ft(st,We);return nt[st.name]=ie,ie},app:Lt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Xe(oe){const qe=oe.name,st=qe.replace("-compat","");if(H._registerComponent(oe)&&"PUBLIC"===oe.type){const ie=(Le=Lt())=>{if("function"!=typeof Le[st])throw ke.create("invalid-app-argument",{appName:qe});return Le[st]()};void 0!==oe.serviceProps&&(0,m.ZB)(ie,oe.serviceProps),We[st]=ie,Ft.prototype[st]=function(...Le){return this._getService.bind(this,qe).apply(this,oe.multipleInstances?Le:[])}}return"PUBLIC"===oe.type?We[st]:null},removeApp:function jt(oe){delete nt[oe]},useAsService:function Et(oe,qe){return"serverAuth"===qe?null:qe},modularAPIs:H}};function Lt(oe){if(!(0,m.r3)(nt,oe=oe||H._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:oe});return nt[oe]}return We.default=We,Object.defineProperty(We,"apps",{get:function ot(){return Object.keys(nt).map(oe=>nt[oe])}}),Lt.App=Ft,We}(Ee);return Ft.INTERNAL=Object.assign(Object.assign({},Ft.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function nt(We){(0,m.ZB)(Ft,We)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),Ft}(),ne=new he.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ft=self.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=de;!function Qe(Ft){(0,H.registerVersion)("@firebase/app-compat","0.1.28",Ft)}()},9681:(Gt,ze,j)=>{j.r(ze),j.d(ze,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>Jn,_addOrOverwriteComponent:()=>gn,_apps:()=>Hn,_clearComponents:()=>ar,_components:()=>In,_getProvider:()=>kn,_registerComponent:()=>dn,_removeServiceInstance:()=>Vn,deleteApp:()=>Qt,getApp:()=>vr,getApps:()=>ur,initializeApp:()=>Dr,onLog:()=>Dn,registerVersion:()=>Cn,setLogLevel:()=>Gr});var m=j(5861),v=j(4859),H=j(1877),he=j(2090),Ee=j(8766);class De{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ke(Re){return"VERSION"===Re.getComponent()?.type}(at)){const vt=at.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(at=>at).join(" ")}}const Pe="@firebase/app",de=new H.Yd("@firebase/app"),Pn="[DEFAULT]",Nt={[Pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hn=new Map,In=new Map;function Jn(Re,ae){try{Re.container.addComponent(ae)}catch(at){de.debug(`Component ${ae.name} failed to register with FirebaseApp ${Re.name}`,at)}}function gn(Re,ae){Re.container.addOrOverwriteComponent(ae)}function dn(Re){const ae=Re.name;if(In.has(ae))return de.debug(`There were multiple attempts to register component ${ae}.`),!1;In.set(ae,Re);for(const at of Hn.values())Jn(at,Re);return!0}function kn(Re,ae){const at=Re.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),Re.container.getProvider(ae)}function Vn(Re,ae,at=Pn){kn(Re,ae).clearInstance(at)}function ar(){In.clear()}const Ir=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Nr{constructor(ae,at,vt){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Qr="9.8.4";function Dr(Re,ae={}){"object"!=typeof ae&&(ae={name:ae});const at=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},ae),vt=at.name;if("string"!=typeof vt||!vt)throw Ir.create("bad-app-name",{appName:String(vt)});const Mt=Hn.get(vt);if(Mt){if((0,he.vZ)(Re,Mt.options)&&(0,he.vZ)(at,Mt.config))return Mt;throw Ir.create("duplicate-app",{appName:vt})}const mn=new v.H0(vt);for(const Un of In.values())mn.addComponent(Un);const Fn=new Nr(Re,at,mn);return Hn.set(vt,Fn),Fn}function vr(Re=Pn){const ae=Hn.get(Re);if(!ae)throw Ir.create("no-app",{appName:Re});return ae}function ur(){return Array.from(Hn.values())}function Qt(Re){return nr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(Re){const ae=Re.name;Hn.has(ae)&&(Hn.delete(ae),yield Promise.all(Re.container.getProviders().map(at=>at.delete())),Re.isDeleted=!0)})).apply(this,arguments)}function Cn(Re,ae,at){var vt;let Mt=null!==(vt=Nt[Re])&&void 0!==vt?vt:Re;at&&(Mt+=`-${at}`);const mn=Mt.match(/\s|\//),Fn=ae.match(/\s|\//);if(mn||Fn){const Un=[`Unable to register library "${Mt}" with version "${ae}":`];return mn&&Un.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),mn&&Fn&&Un.push("and"),Fn&&Un.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void de.warn(Un.join(" "))}dn(new v.wA(`${Mt}-version`,()=>({library:Mt,version:ae}),"VERSION"))}function Dn(Re,ae){if(null!==Re&&"function"!=typeof Re)throw Ir.create("invalid-log-argument");(0,H.Am)(Re,ae)}function Gr(Re){(0,H.Ub)(Re)}const Er="firebase-heartbeat-store";let Vr=null;function vi(){return Vr||(Vr=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(Re,ae)=>{0===ae&&Re.createObjectStore(Er)}}).catch(Re=>{throw Ir.create("storage-open",{originalErrorMessage:Re.message})})),Vr}function Ot(){return(Ot=(0,m.Z)(function*(Re){var ae;try{return(yield vi()).transaction(Er).objectStore(Er).get(zr(Re))}catch(at){throw Ir.create("storage-get",{originalErrorMessage:null===(ae=at)||void 0===ae?void 0:ae.message})}})).apply(this,arguments)}function qt(Re,ae){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(Re,ae){var at;try{const Mt=(yield vi()).transaction(Er,"readwrite");return yield Mt.objectStore(Er).put(ae,zr(Re)),Mt.done}catch(vt){throw Ir.create("storage-set",{originalErrorMessage:null===(at=vt)||void 0===at?void 0:at.message})}})).apply(this,arguments)}function zr(Re){return`${Re.name}!${Re.options.appId}`}class gr{constructor(ae){this.container=ae,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new Ae(at),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var ae=this;return(0,m.Z)(function*(){const vt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=lr();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ae._heartbeatsCache.heartbeats.some(mn=>mn.date===Mt))return ae._heartbeatsCache.heartbeats.push({date:Mt,agent:vt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(mn=>{const Fn=new Date(mn.date).valueOf();return Date.now()-Fn<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,m.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const at=lr(),{heartbeatsToSend:vt,unsentEntries:Mt}=function Kn(Re,ae=1024){const at=[];let vt=Re.slice();for(const Mt of Re){const mn=at.find(Fn=>Fn.agent===Mt.agent);if(mn){if(mn.dates.push(Mt.date),le(at)>ae){mn.dates.pop();break}}else if(at.push({agent:Mt.agent,dates:[Mt.date]}),le(at)>ae){at.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:at,unsentEntries:vt}}(ae._heartbeatsCache.heartbeats),mn=(0,he.L)(JSON.stringify({version:2,heartbeats:vt}));return ae._heartbeatsCache.lastSentHeartbeatDate=at,Mt.length>0?(ae._heartbeatsCache.heartbeats=Mt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),mn})()}}function lr(){return(new Date).toISOString().substring(0,10)}class Ae{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,m.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function xn(Re){return Ot.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var at=this;return(0,m.Z)(function*(){var vt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return qt(at.app,{lastSentHeartbeatDate:null!==(vt=ae.lastSentHeartbeatDate)&&void 0!==vt?vt:mn.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var at=this;return(0,m.Z)(function*(){var vt;if(yield at._canUseIndexedDBPromise){const mn=yield at.read();return qt(at.app,{lastSentHeartbeatDate:null!==(vt=ae.lastSentHeartbeatDate)&&void 0!==vt?vt:mn.lastSentHeartbeatDate,heartbeats:[...mn.heartbeats,...ae.heartbeats]})}})()}}function le(Re){return(0,he.L)(JSON.stringify({version:2,heartbeats:Re})).length}!function Oe(Re){dn(new v.wA("platform-logger",ae=>new De(ae),"PRIVATE")),dn(new v.wA("heartbeat",ae=>new gr(ae),"PRIVATE")),Cn(Pe,"0.7.27",Re),Cn(Pe,"0.7.27","esm2017"),Cn("fire-js","")}("")},4859:(Gt,ze,j)=>{j.d(ze,{H0:()=>Pe,wA:()=>H});var m=j(5861),v=j(2090);class H{constructor(de,ne,ye){this.name=de,this.instanceFactory=ne,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const he="[DEFAULT]";class Ee{constructor(de,ne){this.name=de,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const ne=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(ne)){const ye=new v.BH;if(this.instancesDeferred.set(ne,ye),this.isInitialized(ne)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:ne});ht&&ye.resolve(ht)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(de){var ne;const ye=this.normalizeInstanceIdentifier(de?.identifier),ht=null!==(ne=de?.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Qe){if(ht)return null;throw Qe}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function ke(xe){return"EAGER"===xe.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ne,ye]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(ne);try{const Qe=this.getOrInitializeService({instanceIdentifier:ht});ye.resolve(Qe)}catch{}}}}clearInstance(de=he){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,m.Z)(function*(){const ne=Array.from(de.instances.values());yield Promise.all([...ne.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ne.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=he){return this.instances.has(de)}getOptions(de=he){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:ne={}}=de,ye=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:ye,options:ne});for(const[Qe,Je]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Qe)&&Je.resolve(ht);return ht}onInit(de,ne){var ye;const ht=this.normalizeInstanceIdentifier(ne),Qe=null!==(ye=this.onInitCallbacks.get(ht))&&void 0!==ye?ye:new Set;Qe.add(de),this.onInitCallbacks.set(ht,Qe);const Je=this.instances.get(ht);return Je&&de(Je,ht),()=>{Qe.delete(de)}}invokeOnInitCallbacks(de,ne){const ye=this.onInitCallbacks.get(ne);if(ye)for(const ht of ye)try{ht(de,ne)}catch{}}getOrInitializeService({instanceIdentifier:de,options:ne={}}){let ye=this.instances.get(de);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=de,xe===he?void 0:xe),options:ne}),this.instances.set(de,ye),this.instancesOptions.set(de,ne),this.invokeOnInitCallbacks(ye,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,ye)}catch{}var xe;return ye||null}normalizeInstanceIdentifier(de=he){return this.component?this.component.multipleInstances?de:he:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const ne=this.getProvider(de.name);if(ne.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);ne.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const ne=new Ee(de,this);return this.providers.set(de,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Gt,ze,j)=>{j.d(ze,{Am:()=>xe,Ub:()=>Pe,Yd:()=>ke,in:()=>v});const m=[];var v=(()=>{return(de=v||(v={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",v;var de})();const H={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},he=v.INFO,Ee={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},De=(de,ne,...ye)=>{if(ne<de.logLevel)return;const ht=(new Date).toISOString(),Qe=Ee[ne];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[Qe](`[${ht}]  ${de.name}:`,...ye)};class ke{constructor(ne){this.name=ne,this._logLevel=he,this._logHandler=De,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in v))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?H[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...ne),this._logHandler(this,v.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...ne),this._logHandler(this,v.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,v.INFO,...ne),this._logHandler(this,v.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,v.WARN,...ne),this._logHandler(this,v.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...ne),this._logHandler(this,v.ERROR,...ne)}}function Pe(de){m.forEach(ne=>{ne.setLogLevel(de)})}function xe(de,ne){for(const ye of m){let ht=null;ne&&ne.level&&(ht=H[ne.level]),ye.userLogHandler=null===de?null:(Qe,Je,...Ft)=>{const nt=Ft.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");Je>=(ht??Qe.logLevel)&&de({level:v[Je].toLowerCase(),message:nt,args:Ft,type:Qe.name})}}}},8766:(Gt,ze,j)=>{j.d(ze,{Lj:()=>ce,X3:()=>Lt});var m=j(5861);let H,he;const ke=new WeakMap,Pe=new WeakMap,xe=new WeakMap,de=new WeakMap,ne=new WeakMap;let Qe={get(qe,st,ie){if(qe instanceof IDBTransaction){if("done"===st)return Pe.get(qe);if("objectStoreNames"===st)return qe.objectStoreNames||xe.get(qe);if("store"===st)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return We(qe[st])},set:(qe,st,ie)=>(qe[st]=ie,!0),has:(qe,st)=>qe instanceof IDBTransaction&&("done"===st||"store"===st)||st in qe};function nt(qe){return"function"==typeof qe?function Ft(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...st){return qe.apply(jt(this),st),We(ke.get(this))}:function(...st){return We(qe.apply(jt(this),st))}:function(st,...ie){const Le=qe.call(jt(this),st,...ie);return xe.set(Le,st.sort?st.sort():[st]),We(Le)}}(qe):(qe instanceof IDBTransaction&&function ht(qe){if(Pe.has(qe))return;const st=new Promise((ie,Le)=>{const be=()=>{qe.removeEventListener("complete",Ze),qe.removeEventListener("error",$e),qe.removeEventListener("abort",$e)},Ze=()=>{ie(),be()},$e=()=>{Le(qe.error||new DOMException("AbortError","AbortError")),be()};qe.addEventListener("complete",Ze),qe.addEventListener("error",$e),qe.addEventListener("abort",$e)});Pe.set(qe,st)}(qe),((qe,st)=>st.some(ie=>qe instanceof ie))(qe,function Ee(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,Qe):qe)}function We(qe){if(qe instanceof IDBRequest)return function ye(qe){const st=new Promise((ie,Le)=>{const be=()=>{qe.removeEventListener("success",Ze),qe.removeEventListener("error",$e)},Ze=()=>{ie(We(qe.result)),be()},$e=()=>{Le(qe.error),be()};qe.addEventListener("success",Ze),qe.addEventListener("error",$e)});return st.then(ie=>{ie instanceof IDBCursor&&ke.set(ie,qe)}).catch(()=>{}),ne.set(st,qe),st}(qe);if(de.has(qe))return de.get(qe);const st=nt(qe);return st!==qe&&(de.set(qe,st),ne.set(st,qe)),st}const jt=qe=>ne.get(qe);function Lt(qe,st,{blocked:ie,upgrade:Le,blocking:be,terminated:Ze}={}){const $e=indexedDB.open(qe,st),Dt=We($e);return Le&&$e.addEventListener("upgradeneeded",sn=>{Le(We($e.result),sn.oldVersion,sn.newVersion,We($e.transaction))}),ie&&$e.addEventListener("blocked",()=>ie()),Dt.then(sn=>{Ze&&sn.addEventListener("close",()=>Ze()),be&&sn.addEventListener("versionchange",()=>be())}).catch(()=>{}),Dt}function ce(qe,{blocked:st}={}){const ie=indexedDB.deleteDatabase(qe);return st&&ie.addEventListener("blocked",()=>st()),We(ie).then(()=>{})}const ot=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Et=new Map;function oe(qe,st){if(!(qe instanceof IDBDatabase)||st in qe||"string"!=typeof st)return;if(Et.get(st))return Et.get(st);const ie=st.replace(/FromIndex$/,""),Le=st!==ie,be=Xe.includes(ie);if(!(ie in(Le?IDBIndex:IDBObjectStore).prototype)||!be&&!ot.includes(ie))return;const Ze=function(){var $e=(0,m.Z)(function*(Dt,...sn){const nn=this.transaction(Dt,be?"readwrite":"readonly");let Pn=nn.store;return Le&&(Pn=Pn.index(sn.shift())),(yield Promise.all([Pn[ie](...sn),be&&nn.done]))[0]});return function(sn){return $e.apply(this,arguments)}}();return Et.set(st,Ze),Ze}!function Je(qe){Qe=qe(Qe)}(qe=>({...qe,get:(st,ie,Le)=>oe(st,ie)||qe.get(st,ie,Le),has:(st,ie)=>!!oe(st,ie)||qe.has(st,ie)}))},8768:(Gt,ze,j)=>{j.d(ze,{V:()=>ke,XF:()=>Pe,s:()=>De});var m=j(4650),v=j(7579),H=j(6895);function he(xe,de){if(1&xe){const ne=m.EpF();m.TgZ(0,"button",5),m.NdJ("click",function(){m.CHM(ne);const ht=m.oxw();return m.KtG(ht.closeToast())}),m._uU(1,"\xd7"),m.qZA()}}const Ee=function(xe,de,ne,ye){return{"fa-times-circle":xe,"fa-check-circle":de,"fa-exclamation-circle":ne,"fa-info-circle":ye}};let De=(()=>{class xe{constructor(){this.toastDetails$=new v.x}success(ne){this.toastDetails$.next({type:"success",detail:ne.detail,position:ne.position,summary:ne.summary,duration:ne.duration,sticky:ne.sticky})}error(ne){this.toastDetails$.next({type:"error",detail:ne.detail,position:ne.position,summary:ne.summary,duration:ne.duration,sticky:ne.sticky})}info(ne){this.toastDetails$.next({type:"info",detail:ne.detail,position:ne.position,summary:ne.summary,duration:ne.duration,sticky:ne.sticky})}warning(ne){this.toastDetails$.next({type:"warning",detail:ne.detail,summary:ne.summary,position:ne.position,duration:ne.duration,sticky:ne.sticky})}}return xe.\u0275fac=function(ne){return new(ne||xe)},xe.\u0275prov=m.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),ke=(()=>{class xe{constructor(ne){this.toastService=ne,this.show=!1}ngOnInit(){this.toastService.toastDetails$.subscribe(ne=>{this.show=!0,clearTimeout(this.timeoutRef),this.toastDetails=ne,this.toastDetails.duration&&(this.timeoutRef=setTimeout(()=>{this.show=!1},this.toastDetails.duration)),this.toastDetails.sticky&&(clearTimeout(this.timeoutRef),this.show=!0),!this.toastDetails.duration&&!this.toastDetails.sticky&&(this.timeoutRef=setTimeout(()=>{this.show=!1},5e3))})}closeToast(){clearTimeout(this.timeoutRef),this.show=!1}loadPosition(){let ne="";if(void 0!==this.toastDetails?.position)switch(this.toastDetails.position){case"tr":default:ne="toast-right-top";break;case"tl":ne="toast-left-top";break;case"br":ne="toast-right-bottom";break;case"bl":ne="toast-left-bottom"}else ne="toast-right-top";if(void 0!==this.toastDetails?.type)switch(this.toastDetails.type){case"success":ne+=" success";break;case"error":ne+=" error";break;case"info":ne+=" info";break;case"warning":ne+=" warning";break;default:ne="toast-right-top"}return ne}}return xe.\u0275fac=function(ne){return new(ne||xe)(m.Y36(De))},xe.\u0275cmp=m.Xpm({type:xe,selectors:[["lib-ng-toast"]],decls:9,vars:12,consts:[[3,"ngClass"],[1,"container-1"],[1,"fa",3,"ngClass"],[1,"container-2"],["id","close",3,"click",4,"ngIf"],["id","close",3,"click"]],template:function(ne,ye){1&ne&&(m.TgZ(0,"div",0)(1,"div",1),m._UZ(2,"i",2),m.qZA(),m.TgZ(3,"div",3)(4,"p"),m._uU(5),m.qZA(),m.TgZ(6,"p"),m._uU(7),m.qZA()(),m.YNc(8,he,2,0,"button",4),m.qZA()),2&ne&&(m.ekj("active",ye.show),m.Q6J("ngClass",ye.loadPosition()),m.xp6(2),m.Q6J("ngClass",m.l5B(7,Ee,"error"===(null==ye.toastDetails?null:ye.toastDetails.type),"success"===(null==ye.toastDetails?null:ye.toastDetails.type),"warning"===(null==ye.toastDetails?null:ye.toastDetails.type),"info"===(null==ye.toastDetails?null:ye.toastDetails.type))),m.xp6(3),m.Oqu(null==ye.toastDetails?null:ye.toastDetails.detail),m.xp6(2),m.Oqu(null==ye.toastDetails?null:ye.toastDetails.summary),m.xp6(1),m.Q6J("ngIf",ye.show))},dependencies:[H.mk,H.O5],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;border:none}.show-toast[_ngcontent-%COMP%]{margin:10px;background-color:#101020;color:#fff;padding:20px;border-radius:5px;cursor:pointer}.toast-right-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;top:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-right-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;right:1%;bottom:5%;transform:translate(400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-right-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-right-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-right-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-right-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-right-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-top[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;top:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-top.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-top.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-top.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-top.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-top.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.toast-left-bottom[_ngcontent-%COMP%]{width:380px;height:80px;padding:20px;box-shadow:0 10px 20px #4b32320d;border-radius:7px;position:fixed;left:1%;bottom:5%;transform:translate(-400px);display:grid;grid-template-columns:1.2fr 6fr .5fr;transition:.5s;z-index:9999}.toast-left-bottom.active[_ngcontent-%COMP%]{transform:translate(0)}.toast-left-bottom.error[_ngcontent-%COMP%]{border-left:8px solid #ff355b;background-color:#ffe7e6}.toast-left-bottom.warning[_ngcontent-%COMP%]{border-left:8px solid #ffc021;background-color:#fff2e2}.toast-left-bottom.success[_ngcontent-%COMP%]{border-left:8px solid #47d764;background-color:#e4f8f0}.toast-left-bottom.info[_ngcontent-%COMP%]{border-left:8px solid #2f86eb;background-color:#e9e9ff}.container-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}.fa-times-circle[_ngcontent-%COMP%]{color:#ff355b}.fa-check-circle[_ngcontent-%COMP%]{color:#47d764}.fa-exclamation-circle[_ngcontent-%COMP%]{color:#ffc021}.fa-info-circle[_ngcontent-%COMP%]{color:#2f86eb}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{color:#101020;font-weight:600;font-size:16px;font-family:roboto,sans-serif}.container-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:14px;color:#656565;font-weight:400;font-family:roboto,sans-serif}#close[_ngcontent-%COMP%]{align-self:flex-start;background-color:transparent;font-size:25px;line-height:0;color:#656565;cursor:pointer}"]}),xe})(),Pe=(()=>{class xe{}return xe.\u0275fac=function(ne){return new(ne||xe)},xe.\u0275mod=m.oAB({type:xe}),xe.\u0275inj=m.cJS({imports:[[H.ez]]}),xe})()},5861:(Gt,ze,j)=>{function m(H,he,Ee,De,ke,Pe,xe){try{var de=H[Pe](xe),ne=de.value}catch(ye){return void Ee(ye)}de.done?he(ne):Promise.resolve(ne).then(De,ke)}function v(H){return function(){var he=this,Ee=arguments;return new Promise(function(De,ke){var Pe=H.apply(he,Ee);function xe(ne){m(Pe,De,ke,xe,de,"next",ne)}function de(ne){m(Pe,De,ke,xe,de,"throw",ne)}xe(void 0)})}}j.d(ze,{Z:()=>v})}},Gt=>{Gt(Gt.s=171)}]);